(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[947],{2315:function(o,v,_){"use strict";_.d(v,{T:function(){return x}});let x="semi"},5606:function(o,v,_){"use strict";_.d(v,{UX:function(){return w},j2:function(){return T}});var x=_(2315);let w={PREFIX:`${x.T}-form`},T={LAYOUT:["horizontal","vertical"],LABEL_POS:["left","top","inset"],LABEL_ALIGN:["left","right"],EXTRA_POS:["middle","bottom"],DEFAULT_TRIGGER:"change"}},2133:function(o){var v="function"==typeof Float32Array;function calcBezier(o,v,_){return(((1-3*_+3*v)*o+(3*_-6*v))*o+3*v)*o}function getSlope(o,v,_){return 3*(1-3*_+3*v)*o*o+2*(3*_-6*v)*o+3*v}function binarySubdivide(o,v,_,x,w){var T,L,N=0;do(T=calcBezier(L=v+(_-v)/2,x,w)-o)>0?_=L:v=L;while(Math.abs(T)>1e-7&&++N<10);return L}function newtonRaphsonIterate(o,v,_,x){for(var w=0;w<4;++w){var T=getSlope(v,_,x);if(0===T)break;var L=calcBezier(v,_,x)-o;v-=L/T}return v}function LinearEasing(o){return o}o.exports=function(o,_,x,w){if(!(0<=o&&o<=1&&0<=x&&x<=1))throw Error("bezier x values must be in [0, 1] range");if(o===_&&x===w)return LinearEasing;for(var T=v?new Float32Array(11):Array(11),L=0;L<11;++L)T[L]=calcBezier(.1*L,o,x);function getTForX(v){for(var _=0,w=1;10!==w&&T[w]<=v;++w)_+=.1;var L=_+(v-T[--w])/(T[w+1]-T[w])*.1,N=getSlope(L,o,x);return N>=.001?newtonRaphsonIterate(v,L,o,x):0===N?L:binarySubdivide(v,_,_+.1,o,x)}return function(o){return 0===o?0:1===o?1:calcBezier(getTForX(o),_,w)}}},3303:function(o,v){var _;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var x={}.hasOwnProperty;function classNames(){for(var o=[],v=0;v<arguments.length;v++){var _=arguments[v];if(_){var w=typeof _;if("string"===w||"number"===w)o.push(_);else if(Array.isArray(_)){if(_.length){var T=classNames.apply(null,_);T&&o.push(T)}}else if("object"===w){if(_.toString!==Object.prototype.toString&&!_.toString.toString().includes("[native code]")){o.push(_.toString());continue}for(var L in _)x.call(_,L)&&_[L]&&o.push(L)}}}return o.join(" ")}o.exports?(classNames.default=classNames,o.exports=classNames):void 0!==(_=(function(){return classNames}).apply(v,[]))&&(o.exports=_)}()},8134:function(o){"use strict";let copyTextToClipboard=(o,{target:v=document.body}={})=>{let _=document.createElement("textarea"),x=document.activeElement;_.value=o,_.setAttribute("readonly",""),_.style.contain="strict",_.style.position="absolute",_.style.left="-9999px",_.style.fontSize="12pt";let w=document.getSelection(),T=!1;w.rangeCount>0&&(T=w.getRangeAt(0)),v.append(_),_.select(),_.selectionStart=0,_.selectionEnd=o.length;let L=!1;try{L=document.execCommand("copy")}catch(o){}return _.remove(),T&&(w.removeAllRanges(),w.addRange(T)),x&&x.focus(),L};o.exports=copyTextToClipboard,o.exports.default=copyTextToClipboard},700:function(o,v){"use strict";function addLeadingZeros(o,v){for(var _=Math.abs(o).toString();_.length<v;)_="0"+_;return(o<0?"-":"")+_}Object.defineProperty(v,"__esModule",{value:!0}),v.default=addLeadingZeros,o.exports=v.default},3246:function(o,v){"use strict";function assign(o,v){if(null==o)throw TypeError("assign requires that input parameter not be null or undefined");for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(o[_]=v[_]);return o}Object.defineProperty(v,"__esModule",{value:!0}),v.default=assign,o.exports=v.default},8930:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=cloneObject;var w=x(_(3246));function cloneObject(o){return(0,w.default)({},o)}o.exports=v.default},2520:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var w=x(_(742)).default;v.default=w,o.exports=v.default},1201:function(o,v){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.getDefaultOptions=getDefaultOptions,v.setDefaultOptions=setDefaultOptions;var _={};function getDefaultOptions(){return _}function setDefaultOptions(o){_=o}},8382:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var w=x(_(2930)),T=x(_(5952)),L=x(_(863)),N=x(_(950)),B=x(_(3828)),H=x(_(700)),Y=x(_(3411)),Z={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function formatTimezoneShort(o,v){var _=o>0?"-":"+",x=Math.abs(o),w=Math.floor(x/60),T=x%60;return 0===T?_+String(w):_+String(w)+(v||"")+(0,H.default)(T,2)}function formatTimezoneWithOptionalMinutes(o,v){return o%60==0?(o>0?"-":"+")+(0,H.default)(Math.abs(o)/60,2):formatTimezone(o,v)}function formatTimezone(o,v){var _=o>0?"-":"+",x=Math.abs(o);return _+(0,H.default)(Math.floor(x/60),2)+(v||"")+(0,H.default)(x%60,2)}v.default={G:function(o,v,_){var x=o.getUTCFullYear()>0?1:0;switch(v){case"G":case"GG":case"GGG":return _.era(x,{width:"abbreviated"});case"GGGGG":return _.era(x,{width:"narrow"});default:return _.era(x,{width:"wide"})}},y:function(o,v,_){if("yo"===v){var x=o.getUTCFullYear(),w=x>0?x:1-x;return _.ordinalNumber(w,{unit:"year"})}return Y.default.y(o,v)},Y:function(o,v,_,x){var w=(0,B.default)(o,x),T=w>0?w:1-w;if("YY"===v){var L=T%100;return(0,H.default)(L,2)}return"Yo"===v?_.ordinalNumber(T,{unit:"year"}):(0,H.default)(T,v.length)},R:function(o,v){var _=(0,L.default)(o);return(0,H.default)(_,v.length)},u:function(o,v){var _=o.getUTCFullYear();return(0,H.default)(_,v.length)},Q:function(o,v,_){var x=Math.ceil((o.getUTCMonth()+1)/3);switch(v){case"Q":return String(x);case"QQ":return(0,H.default)(x,2);case"Qo":return _.ordinalNumber(x,{unit:"quarter"});case"QQQ":return _.quarter(x,{width:"abbreviated",context:"formatting"});case"QQQQQ":return _.quarter(x,{width:"narrow",context:"formatting"});default:return _.quarter(x,{width:"wide",context:"formatting"})}},q:function(o,v,_){var x=Math.ceil((o.getUTCMonth()+1)/3);switch(v){case"q":return String(x);case"qq":return(0,H.default)(x,2);case"qo":return _.ordinalNumber(x,{unit:"quarter"});case"qqq":return _.quarter(x,{width:"abbreviated",context:"standalone"});case"qqqqq":return _.quarter(x,{width:"narrow",context:"standalone"});default:return _.quarter(x,{width:"wide",context:"standalone"})}},M:function(o,v,_){var x=o.getUTCMonth();switch(v){case"M":case"MM":return Y.default.M(o,v);case"Mo":return _.ordinalNumber(x+1,{unit:"month"});case"MMM":return _.month(x,{width:"abbreviated",context:"formatting"});case"MMMMM":return _.month(x,{width:"narrow",context:"formatting"});default:return _.month(x,{width:"wide",context:"formatting"})}},L:function(o,v,_){var x=o.getUTCMonth();switch(v){case"L":return String(x+1);case"LL":return(0,H.default)(x+1,2);case"Lo":return _.ordinalNumber(x+1,{unit:"month"});case"LLL":return _.month(x,{width:"abbreviated",context:"standalone"});case"LLLLL":return _.month(x,{width:"narrow",context:"standalone"});default:return _.month(x,{width:"wide",context:"standalone"})}},w:function(o,v,_,x){var w=(0,N.default)(o,x);return"wo"===v?_.ordinalNumber(w,{unit:"week"}):(0,H.default)(w,v.length)},I:function(o,v,_){var x=(0,T.default)(o);return"Io"===v?_.ordinalNumber(x,{unit:"week"}):(0,H.default)(x,v.length)},d:function(o,v,_){return"do"===v?_.ordinalNumber(o.getUTCDate(),{unit:"date"}):Y.default.d(o,v)},D:function(o,v,_){var x=(0,w.default)(o);return"Do"===v?_.ordinalNumber(x,{unit:"dayOfYear"}):(0,H.default)(x,v.length)},E:function(o,v,_){var x=o.getUTCDay();switch(v){case"E":case"EE":case"EEE":return _.day(x,{width:"abbreviated",context:"formatting"});case"EEEEE":return _.day(x,{width:"narrow",context:"formatting"});case"EEEEEE":return _.day(x,{width:"short",context:"formatting"});default:return _.day(x,{width:"wide",context:"formatting"})}},e:function(o,v,_,x){var w=o.getUTCDay(),T=(w-x.weekStartsOn+8)%7||7;switch(v){case"e":return String(T);case"ee":return(0,H.default)(T,2);case"eo":return _.ordinalNumber(T,{unit:"day"});case"eee":return _.day(w,{width:"abbreviated",context:"formatting"});case"eeeee":return _.day(w,{width:"narrow",context:"formatting"});case"eeeeee":return _.day(w,{width:"short",context:"formatting"});default:return _.day(w,{width:"wide",context:"formatting"})}},c:function(o,v,_,x){var w=o.getUTCDay(),T=(w-x.weekStartsOn+8)%7||7;switch(v){case"c":return String(T);case"cc":return(0,H.default)(T,v.length);case"co":return _.ordinalNumber(T,{unit:"day"});case"ccc":return _.day(w,{width:"abbreviated",context:"standalone"});case"ccccc":return _.day(w,{width:"narrow",context:"standalone"});case"cccccc":return _.day(w,{width:"short",context:"standalone"});default:return _.day(w,{width:"wide",context:"standalone"})}},i:function(o,v,_){var x=o.getUTCDay(),w=0===x?7:x;switch(v){case"i":return String(w);case"ii":return(0,H.default)(w,v.length);case"io":return _.ordinalNumber(w,{unit:"day"});case"iii":return _.day(x,{width:"abbreviated",context:"formatting"});case"iiiii":return _.day(x,{width:"narrow",context:"formatting"});case"iiiiii":return _.day(x,{width:"short",context:"formatting"});default:return _.day(x,{width:"wide",context:"formatting"})}},a:function(o,v,_){var x=o.getUTCHours()/12>=1?"pm":"am";switch(v){case"a":case"aa":return _.dayPeriod(x,{width:"abbreviated",context:"formatting"});case"aaa":return _.dayPeriod(x,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return _.dayPeriod(x,{width:"narrow",context:"formatting"});default:return _.dayPeriod(x,{width:"wide",context:"formatting"})}},b:function(o,v,_){var x,w=o.getUTCHours();switch(x=12===w?Z.noon:0===w?Z.midnight:w/12>=1?"pm":"am",v){case"b":case"bb":return _.dayPeriod(x,{width:"abbreviated",context:"formatting"});case"bbb":return _.dayPeriod(x,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return _.dayPeriod(x,{width:"narrow",context:"formatting"});default:return _.dayPeriod(x,{width:"wide",context:"formatting"})}},B:function(o,v,_){var x,w=o.getUTCHours();switch(x=w>=17?Z.evening:w>=12?Z.afternoon:w>=4?Z.morning:Z.night,v){case"B":case"BB":case"BBB":return _.dayPeriod(x,{width:"abbreviated",context:"formatting"});case"BBBBB":return _.dayPeriod(x,{width:"narrow",context:"formatting"});default:return _.dayPeriod(x,{width:"wide",context:"formatting"})}},h:function(o,v,_){if("ho"===v){var x=o.getUTCHours()%12;return 0===x&&(x=12),_.ordinalNumber(x,{unit:"hour"})}return Y.default.h(o,v)},H:function(o,v,_){return"Ho"===v?_.ordinalNumber(o.getUTCHours(),{unit:"hour"}):Y.default.H(o,v)},K:function(o,v,_){var x=o.getUTCHours()%12;return"Ko"===v?_.ordinalNumber(x,{unit:"hour"}):(0,H.default)(x,v.length)},k:function(o,v,_){var x=o.getUTCHours();return(0===x&&(x=24),"ko"===v)?_.ordinalNumber(x,{unit:"hour"}):(0,H.default)(x,v.length)},m:function(o,v,_){return"mo"===v?_.ordinalNumber(o.getUTCMinutes(),{unit:"minute"}):Y.default.m(o,v)},s:function(o,v,_){return"so"===v?_.ordinalNumber(o.getUTCSeconds(),{unit:"second"}):Y.default.s(o,v)},S:function(o,v){return Y.default.S(o,v)},X:function(o,v,_,x){var w=(x._originalDate||o).getTimezoneOffset();if(0===w)return"Z";switch(v){case"X":return formatTimezoneWithOptionalMinutes(w);case"XXXX":case"XX":return formatTimezone(w);default:return formatTimezone(w,":")}},x:function(o,v,_,x){var w=(x._originalDate||o).getTimezoneOffset();switch(v){case"x":return formatTimezoneWithOptionalMinutes(w);case"xxxx":case"xx":return formatTimezone(w);default:return formatTimezone(w,":")}},O:function(o,v,_,x){var w=(x._originalDate||o).getTimezoneOffset();switch(v){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(w,":");default:return"GMT"+formatTimezone(w,":")}},z:function(o,v,_,x){var w=(x._originalDate||o).getTimezoneOffset();switch(v){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(w,":");default:return"GMT"+formatTimezone(w,":")}},t:function(o,v,_,x){var w=Math.floor((x._originalDate||o).getTime()/1e3);return(0,H.default)(w,v.length)},T:function(o,v,_,x){var w=(x._originalDate||o).getTime();return(0,H.default)(w,v.length)}},o.exports=v.default},3411:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var w=x(_(700));v.default={y:function(o,v){var _=o.getUTCFullYear(),x=_>0?_:1-_;return(0,w.default)("yy"===v?x%100:x,v.length)},M:function(o,v){var _=o.getUTCMonth();return"M"===v?String(_+1):(0,w.default)(_+1,2)},d:function(o,v){return(0,w.default)(o.getUTCDate(),v.length)},a:function(o,v){var _=o.getUTCHours()/12>=1?"pm":"am";switch(v){case"a":case"aa":return _.toUpperCase();case"aaa":return _;case"aaaaa":return _[0];default:return"am"===_?"a.m.":"p.m."}},h:function(o,v){return(0,w.default)(o.getUTCHours()%12||12,v.length)},H:function(o,v){return(0,w.default)(o.getUTCHours(),v.length)},m:function(o,v){return(0,w.default)(o.getUTCMinutes(),v.length)},s:function(o,v){return(0,w.default)(o.getUTCSeconds(),v.length)},S:function(o,v){var _=v.length,x=o.getUTCMilliseconds();return(0,w.default)(Math.floor(x*Math.pow(10,_-3)),v.length)}},o.exports=v.default},1208:function(o,v){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var dateLongFormatter=function(o,v){switch(o){case"P":return v.date({width:"short"});case"PP":return v.date({width:"medium"});case"PPP":return v.date({width:"long"});default:return v.date({width:"full"})}},timeLongFormatter=function(o,v){switch(o){case"p":return v.time({width:"short"});case"pp":return v.time({width:"medium"});case"ppp":return v.time({width:"long"});default:return v.time({width:"full"})}};v.default={p:timeLongFormatter,P:function(o,v){var _,x=o.match(/(P+)(p+)?/)||[],w=x[1],T=x[2];if(!T)return dateLongFormatter(o,v);switch(w){case"P":_=v.dateTime({width:"short"});break;case"PP":_=v.dateTime({width:"medium"});break;case"PPP":_=v.dateTime({width:"long"});break;default:_=v.dateTime({width:"full"})}return _.replace("{{date}}",dateLongFormatter(w,v)).replace("{{time}}",timeLongFormatter(T,v))}},o.exports=v.default},6636:function(o,v){"use strict";function getTimezoneOffsetInMilliseconds(o){var v=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return v.setUTCFullYear(o.getFullYear()),o.getTime()-v.getTime()}Object.defineProperty(v,"__esModule",{value:!0}),v.default=getTimezoneOffsetInMilliseconds,o.exports=v.default},2930:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=getUTCDayOfYear;var w=x(_(7276)),T=x(_(1843));function getUTCDayOfYear(o){(0,T.default)(1,arguments);var v=(0,w.default)(o),_=v.getTime();return v.setUTCMonth(0,1),v.setUTCHours(0,0,0,0),Math.floor((_-v.getTime())/864e5)+1}o.exports=v.default},5952:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=getUTCISOWeek;var w=x(_(7276)),T=x(_(6639)),L=x(_(4807)),N=x(_(1843));function getUTCISOWeek(o){(0,N.default)(1,arguments);var v=(0,w.default)(o);return Math.round(((0,T.default)(v).getTime()-(0,L.default)(v).getTime())/6048e5)+1}o.exports=v.default},863:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=getUTCISOWeekYear;var w=x(_(7276)),T=x(_(1843)),L=x(_(6639));function getUTCISOWeekYear(o){(0,T.default)(1,arguments);var v=(0,w.default)(o),_=v.getUTCFullYear(),x=new Date(0);x.setUTCFullYear(_+1,0,4),x.setUTCHours(0,0,0,0);var N=(0,L.default)(x),B=new Date(0);B.setUTCFullYear(_,0,4),B.setUTCHours(0,0,0,0);var H=(0,L.default)(B);return v.getTime()>=N.getTime()?_+1:v.getTime()>=H.getTime()?_:_-1}o.exports=v.default},950:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=getUTCWeek;var w=x(_(7276)),T=x(_(1794)),L=x(_(2113)),N=x(_(1843));function getUTCWeek(o,v){(0,N.default)(1,arguments);var _=(0,w.default)(o);return Math.round(((0,T.default)(_,v).getTime()-(0,L.default)(_,v).getTime())/6048e5)+1}o.exports=v.default},3828:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=getUTCWeekYear;var w=x(_(7276)),T=x(_(1843)),L=x(_(1794)),N=x(_(7479)),B=_(1201);function getUTCWeekYear(o,v){(0,T.default)(1,arguments);var _,x,H,Y,Z,X,et,en,er=(0,w.default)(o),ei=er.getUTCFullYear(),ea=(0,B.getDefaultOptions)(),eo=(0,N.default)(null!==(_=null!==(x=null!==(H=null!==(Y=null==v?void 0:v.firstWeekContainsDate)&&void 0!==Y?Y:null==v?void 0:null===(Z=v.locale)||void 0===Z?void 0:null===(X=Z.options)||void 0===X?void 0:X.firstWeekContainsDate)&&void 0!==H?H:ea.firstWeekContainsDate)&&void 0!==x?x:null===(et=ea.locale)||void 0===et?void 0:null===(en=et.options)||void 0===en?void 0:en.firstWeekContainsDate)&&void 0!==_?_:1);if(!(eo>=1&&eo<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var el=new Date(0);el.setUTCFullYear(ei+1,0,eo),el.setUTCHours(0,0,0,0);var eu=(0,L.default)(el,v),ec=new Date(0);ec.setUTCFullYear(ei,0,eo),ec.setUTCHours(0,0,0,0);var ed=(0,L.default)(ec,v);return er.getTime()>=eu.getTime()?ei+1:er.getTime()>=ed.getTime()?ei:ei-1}o.exports=v.default},3319:function(o,v){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.isProtectedDayOfYearToken=isProtectedDayOfYearToken,v.isProtectedWeekYearToken=isProtectedWeekYearToken,v.throwProtectedError=throwProtectedError;var _=["D","DD"],x=["YY","YYYY"];function isProtectedDayOfYearToken(o){return -1!==_.indexOf(o)}function isProtectedWeekYearToken(o){return -1!==x.indexOf(o)}function throwProtectedError(o,v,_){if("YYYY"===o)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(v,"`) for formatting years to the input `").concat(_,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===o)throw RangeError("Use `yy` instead of `YY` (in `".concat(v,"`) for formatting years to the input `").concat(_,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===o)throw RangeError("Use `d` instead of `D` (in `".concat(v,"`) for formatting days of the month to the input `").concat(_,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===o)throw RangeError("Use `dd` instead of `DD` (in `".concat(v,"`) for formatting days of the month to the input `").concat(_,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}},1843:function(o,v){"use strict";function requiredArgs(o,v){if(v.length<o)throw TypeError(o+" argument"+(o>1?"s":"")+" required, but only "+v.length+" present")}Object.defineProperty(v,"__esModule",{value:!0}),v.default=requiredArgs,o.exports=v.default},6639:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=startOfUTCISOWeek;var w=x(_(7276)),T=x(_(1843));function startOfUTCISOWeek(o){(0,T.default)(1,arguments);var v=(0,w.default)(o),_=v.getUTCDay();return v.setUTCDate(v.getUTCDate()-((_<1?7:0)+_-1)),v.setUTCHours(0,0,0,0),v}o.exports=v.default},4807:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=startOfUTCISOWeekYear;var w=x(_(863)),T=x(_(6639)),L=x(_(1843));function startOfUTCISOWeekYear(o){(0,L.default)(1,arguments);var v=(0,w.default)(o),_=new Date(0);return _.setUTCFullYear(v,0,4),_.setUTCHours(0,0,0,0),(0,T.default)(_)}o.exports=v.default},1794:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=startOfUTCWeek;var w=x(_(7276)),T=x(_(1843)),L=x(_(7479)),N=_(1201);function startOfUTCWeek(o,v){(0,T.default)(1,arguments);var _,x,B,H,Y,Z,X,et,en=(0,N.getDefaultOptions)(),er=(0,L.default)(null!==(_=null!==(x=null!==(B=null!==(H=null==v?void 0:v.weekStartsOn)&&void 0!==H?H:null==v?void 0:null===(Y=v.locale)||void 0===Y?void 0:null===(Z=Y.options)||void 0===Z?void 0:Z.weekStartsOn)&&void 0!==B?B:en.weekStartsOn)&&void 0!==x?x:null===(X=en.locale)||void 0===X?void 0:null===(et=X.options)||void 0===et?void 0:et.weekStartsOn)&&void 0!==_?_:0);if(!(er>=0&&er<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var ei=(0,w.default)(o),ea=ei.getUTCDay();return ei.setUTCDate(ei.getUTCDate()-((ea<er?7:0)+ea-er)),ei.setUTCHours(0,0,0,0),ei}o.exports=v.default},2113:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=startOfUTCWeekYear;var w=x(_(3828)),T=x(_(1843)),L=x(_(1794)),N=x(_(7479)),B=_(1201);function startOfUTCWeekYear(o,v){(0,T.default)(1,arguments);var _,x,H,Y,Z,X,et,en,er=(0,B.getDefaultOptions)(),ei=(0,N.default)(null!==(_=null!==(x=null!==(H=null!==(Y=null==v?void 0:v.firstWeekContainsDate)&&void 0!==Y?Y:null==v?void 0:null===(Z=v.locale)||void 0===Z?void 0:null===(X=Z.options)||void 0===X?void 0:X.firstWeekContainsDate)&&void 0!==H?H:er.firstWeekContainsDate)&&void 0!==x?x:null===(et=er.locale)||void 0===et?void 0:null===(en=et.options)||void 0===en?void 0:en.firstWeekContainsDate)&&void 0!==_?_:1),ea=(0,w.default)(o,v),eo=new Date(0);return eo.setUTCFullYear(ea,0,ei),eo.setUTCHours(0,0,0,0),(0,L.default)(eo,v)}o.exports=v.default},7479:function(o,v){"use strict";function toInteger(o){if(null===o||!0===o||!1===o)return NaN;var v=Number(o);return isNaN(v)?v:v<0?Math.ceil(v):Math.floor(v)}Object.defineProperty(v,"__esModule",{value:!0}),v.default=toInteger,o.exports=v.default},2557:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=addMilliseconds;var w=x(_(7479)),T=x(_(7276)),L=x(_(1843));function addMilliseconds(o,v){return(0,L.default)(2,arguments),new Date((0,T.default)(o).getTime()+(0,w.default)(v))}o.exports=v.default},9389:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=format;var w=x(_(7517)),T=x(_(9925)),L=x(_(7276)),N=x(_(8382)),B=x(_(1208)),H=x(_(6636)),Y=_(3319),Z=x(_(7479)),X=x(_(1843)),et=_(1201),en=x(_(2520)),er=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ei=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ea=/^'([^]*?)'?$/,eo=/''/g,el=/[a-zA-Z]/;function format(o,v,_){(0,X.default)(2,arguments);var x,ea,eo,eu,ec,ed,eh,ep,ef,eg,em,ey,ev,e_,eb,eS,ex,ew,eC=String(v),eT=(0,et.getDefaultOptions)(),eM=null!==(x=null!==(ea=null==_?void 0:_.locale)&&void 0!==ea?ea:eT.locale)&&void 0!==x?x:en.default,eP=(0,Z.default)(null!==(eo=null!==(eu=null!==(ec=null!==(ed=null==_?void 0:_.firstWeekContainsDate)&&void 0!==ed?ed:null==_?void 0:null===(eh=_.locale)||void 0===eh?void 0:null===(ep=eh.options)||void 0===ep?void 0:ep.firstWeekContainsDate)&&void 0!==ec?ec:eT.firstWeekContainsDate)&&void 0!==eu?eu:null===(ef=eT.locale)||void 0===ef?void 0:null===(eg=ef.options)||void 0===eg?void 0:eg.firstWeekContainsDate)&&void 0!==eo?eo:1);if(!(eP>=1&&eP<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var eI=(0,Z.default)(null!==(em=null!==(ey=null!==(ev=null!==(e_=null==_?void 0:_.weekStartsOn)&&void 0!==e_?e_:null==_?void 0:null===(eb=_.locale)||void 0===eb?void 0:null===(eS=eb.options)||void 0===eS?void 0:eS.weekStartsOn)&&void 0!==ev?ev:eT.weekStartsOn)&&void 0!==ey?ey:null===(ex=eT.locale)||void 0===ex?void 0:null===(ew=ex.options)||void 0===ew?void 0:ew.weekStartsOn)&&void 0!==em?em:0);if(!(eI>=0&&eI<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!eM.localize)throw RangeError("locale must contain localize property");if(!eM.formatLong)throw RangeError("locale must contain formatLong property");var eD=(0,L.default)(o);if(!(0,w.default)(eD))throw RangeError("Invalid time value");var eE=(0,H.default)(eD),eO=(0,T.default)(eD,eE),eA={firstWeekContainsDate:eP,weekStartsOn:eI,locale:eM,_originalDate:eD};return eC.match(ei).map(function(o){var v=o[0];return"p"===v||"P"===v?(0,B.default[v])(o,eM.formatLong):o}).join("").match(er).map(function(x){if("''"===x)return"'";var w=x[0];if("'"===w)return cleanEscapedString(x);var T=N.default[w];if(T)return!(null!=_&&_.useAdditionalWeekYearTokens)&&(0,Y.isProtectedWeekYearToken)(x)&&(0,Y.throwProtectedError)(x,v,String(o)),!(null!=_&&_.useAdditionalDayOfYearTokens)&&(0,Y.isProtectedDayOfYearToken)(x)&&(0,Y.throwProtectedError)(x,v,String(o)),T(eO,x,eM.localize,eA);if(w.match(el))throw RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return x}).join("")}function cleanEscapedString(o){var v=o.match(ea);return v?v[1].replace(eo,"'"):o}o.exports=v.default},1929:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=isDate;var w=x(_(7453)),T=x(_(1843));function isDate(o){return(0,T.default)(1,arguments),o instanceof Date||"object"===(0,w.default)(o)&&"[object Date]"===Object.prototype.toString.call(o)}o.exports=v.default},7517:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=isValid;var w=x(_(1929)),T=x(_(7276)),L=x(_(1843));function isValid(o){return(0,L.default)(1,arguments),(!!(0,w.default)(o)||"number"==typeof o)&&!isNaN(Number((0,T.default)(o)))}o.exports=v.default},4710:function(o,v){"use strict";function buildFormatLongFn(o){return function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=v.width?String(v.width):o.defaultWidth;return o.formats[_]||o.formats[o.defaultWidth]}}Object.defineProperty(v,"__esModule",{value:!0}),v.default=buildFormatLongFn,o.exports=v.default},1962:function(o,v){"use strict";function buildLocalizeFn(o){return function(v,_){var x;if("formatting"===(null!=_&&_.context?String(_.context):"standalone")&&o.formattingValues){var w=o.defaultFormattingWidth||o.defaultWidth,T=null!=_&&_.width?String(_.width):w;x=o.formattingValues[T]||o.formattingValues[w]}else{var L=o.defaultWidth,N=null!=_&&_.width?String(_.width):o.defaultWidth;x=o.values[N]||o.values[L]}return x[o.argumentCallback?o.argumentCallback(v):v]}}Object.defineProperty(v,"__esModule",{value:!0}),v.default=buildLocalizeFn,o.exports=v.default},1530:function(o,v){"use strict";function buildMatchFn(o){return function(v){var _,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=x.width,T=w&&o.matchPatterns[w]||o.matchPatterns[o.defaultMatchWidth],L=v.match(T);if(!L)return null;var N=L[0],B=w&&o.parsePatterns[w]||o.parsePatterns[o.defaultParseWidth],H=Array.isArray(B)?findIndex(B,function(o){return o.test(N)}):findKey(B,function(o){return o.test(N)});return _=o.valueCallback?o.valueCallback(H):H,{value:_=x.valueCallback?x.valueCallback(_):_,rest:v.slice(N.length)}}}function findKey(o,v){for(var _ in o)if(o.hasOwnProperty(_)&&v(o[_]))return _}function findIndex(o,v){for(var _=0;_<o.length;_++)if(v(o[_]))return _}Object.defineProperty(v,"__esModule",{value:!0}),v.default=buildMatchFn,o.exports=v.default},1963:function(o,v){"use strict";function buildMatchPatternFn(o){return function(v){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=v.match(o.matchPattern);if(!x)return null;var w=x[0],T=v.match(o.parsePattern);if(!T)return null;var L=o.valueCallback?o.valueCallback(T[0]):T[0];return{value:L=_.valueCallback?_.valueCallback(L):L,rest:v.slice(w.length)}}}Object.defineProperty(v,"__esModule",{value:!0}),v.default=buildMatchPatternFn,o.exports=v.default},7268:function(o,v){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var _={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};v.default=function(o,v,x){var w,T=_[o];return(w="string"==typeof T?T:1===v?T.one:T.other.replace("{{count}}",v.toString()),null!=x&&x.addSuffix)?x.comparison&&x.comparison>0?"in "+w:w+" ago":w},o.exports=v.default},9831:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var w=x(_(4710)),T={date:(0,w.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,w.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,w.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};v.default=T,o.exports=v.default},1059:function(o,v){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var _={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};v.default=function(o,v,x,w){return _[o]},o.exports=v.default},9542:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var w=x(_(1962)),T={ordinalNumber:function(o,v){var _=Number(o),x=_%100;if(x>20||x<10)switch(x%10){case 1:return _+"st";case 2:return _+"nd";case 3:return _+"rd"}return _+"th"},era:(0,w.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,w.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(o){return o-1}}),month:(0,w.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,w.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,w.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};v.default=T,o.exports=v.default},1507:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var w=x(_(1530)),T={ordinalNumber:(0,x(_(1963)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(o){return parseInt(o,10)}}),era:(0,w.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,w.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(o){return o+1}}),month:(0,w.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,w.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,w.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};v.default=T,o.exports=v.default},742:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var w=x(_(7268)),T=x(_(9831)),L=x(_(1059)),N=x(_(9542)),B=x(_(1507)),H={code:"en-US",formatDistance:w.default,formatLong:T.default,formatRelative:L.default,localize:N.default,match:B.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};v.default=H,o.exports=v.default},9925:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=subMilliseconds;var w=x(_(2557)),T=x(_(1843)),L=x(_(7479));function subMilliseconds(o,v){(0,T.default)(2,arguments);var _=(0,L.default)(v);return(0,w.default)(o,-_)}o.exports=v.default},7276:function(o,v,_){"use strict";var x=_(7172).default;Object.defineProperty(v,"__esModule",{value:!0}),v.default=toDate;var w=x(_(7453)),T=x(_(1843));function toDate(o){(0,T.default)(1,arguments);var v=Object.prototype.toString.call(o);return o instanceof Date||"object"===(0,w.default)(o)&&"[object Date]"===v?new Date(o.getTime()):"number"==typeof o||"[object Number]"===v?new Date(o):(("string"==typeof o||"[object String]"===v)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}o.exports=v.default},4300:function(o,v,_){"use strict";_.d(v,{S1:function(){return echarts_init}});var x,w,T,L,N,B,H,Y,Z,X,et,en,er,ei,ea,eo,el,eu,ec,ed,eh,ep,ef,eg,em,ey,ev,e_,eb,eS,ex,ew,eC,eT,eM,eP,eI,eD,eE,eO,eA,ek,eL,eR,eN,eF={};_.r(eF),_.d(eF,{Arc:function(){return a8},BezierCurve:function(){return a6},BoundingRect:function(){return tS},Circle:function(){return aR},CompoundPath:function(){return ot},Ellipse:function(){return aF},Group:function(){return nm},Image:function(){return rC},IncrementalDisplayable:function(){return od},Line:function(){return a3},LinearGradient:function(){return or},OrientedBoundingRect:function(){return ou},Path:function(){return rv},Point:function(){return th},Polygon:function(){return aJ},Polyline:function(){return a1},RadialGradient:function(){return oi},Rect:function(){return rI},Ring:function(){return a$},Sector:function(){return aq},Text:function(){return rR},applyTransform:function(){return graphic_applyTransform},clipPointsByRect:function(){return clipPointsByRect},clipRectByRect:function(){return clipRectByRect},createIcon:function(){return createIcon},extendPath:function(){return extendPath},extendShape:function(){return extendShape},getShapeClass:function(){return getShapeClass},getTransform:function(){return getTransform},groupTransition:function(){return groupTransition},initProps:function(){return initProps},isElementRemoved:function(){return isElementRemoved},lineLineIntersect:function(){return lineLineIntersect},linePolygonIntersect:function(){return linePolygonIntersect},makeImage:function(){return makeImage},makePath:function(){return makePath},mergePath:function(){return om},registerShape:function(){return registerShape},removeElement:function(){return removeElement},removeElementWithFadeOut:function(){return removeElementWithFadeOut},resizePath:function(){return resizePath},setTooltipConfig:function(){return setTooltipConfig},subPixelOptimize:function(){return oy},subPixelOptimizeLine:function(){return graphic_subPixelOptimizeLine},subPixelOptimizeRect:function(){return graphic_subPixelOptimizeRect},transformDirection:function(){return transformDirection},traverseElements:function(){return traverseElements},updateProps:function(){return updateProps}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(o,v){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(o,v){o.__proto__=v}||function(o,v){for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(o[_]=v[_])})(o,v)};function __extends(o,v){if("function"!=typeof v&&null!==v)throw TypeError("Class extends value "+String(v)+" is not a constructor or null");function __(){this.constructor=o}extendStatics(o,v),o.prototype=null===v?Object.create(v):(__.prototype=v.prototype,new __)}var Browser=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},eV=new function(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};function detect(o,v){var _=v.browser,x=o.match(/Firefox\/([\d.]+)/),w=o.match(/MSIE\s([\d.]+)/)||o.match(/Trident\/.+?rv:(([\d.]+))/),T=o.match(/Edge?\/([\d.]+)/),L=/micromessenger/i.test(o);x&&(_.firefox=!0,_.version=x[1]),w&&(_.ie=!0,_.version=w[1]),T&&(_.edge=!0,_.version=T[1],_.newEdge=+T[1].split(".")[0]>18),L&&(_.weChat=!0),v.svgSupported="undefined"!=typeof SVGRect,v.touchEventsSupported="ontouchstart"in window&&!_.ie&&!_.edge,v.pointerEventsSupported="onpointerdown"in window&&(_.edge||_.ie&&+_.version>=11),v.domSupported="undefined"!=typeof document;var N=document.documentElement.style;v.transform3dSupported=(_.ie&&"transition"in N||_.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in N)&&!("OTransition"in N),v.transformSupported=v.transform3dSupported||_.ie&&+_.version>=9}"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(eV.wxa=!0,eV.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?eV.worker=!0:"undefined"==typeof navigator?(eV.node=!0,eV.svgSupported=!0):detect(navigator.userAgent,eV);var eB="sans-serif",ez="12px "+eB,ej=function(o){var v={};if("undefined"==typeof JSON)return v;for(var _=0;_<o.length;_++){var x=String.fromCharCode(_+32),w=(o.charCodeAt(_)-20)/100;v[x]=w}return v}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),eH={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(o,v){if(!T){var _=eH.createCanvas();T=_&&_.getContext("2d")}if(T)return L!==v&&(L=T.font=v||ez),T.measureText(o);o=o||"",v=v||ez;var x=/(\d+)px/.exec(v),w=x&&+x[1]||12,N=0;if(v.indexOf("mono")>=0)N=w*o.length;else for(var B=0;B<o.length;B++){var H=ej[o[B]];N+=null==H?w:H*w}return{width:N}},loadImage:function(o,v,_){var x=new Image;return x.onload=v,x.onerror=_,x.src=o,x}},eG=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(o,v){return o["[object "+v+"]"]=!0,o},{}),eU=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(o,v){return o["[object "+v+"Array]"]=!0,o},{}),eW=Object.prototype.toString,eY=Array.prototype,eK=eY.forEach,eZ=eY.filter,eX=eY.slice,e$=eY.map,eQ=(function(){}).constructor,eJ=eQ?eQ.prototype:null,e0="__proto__",e1=2311;function logError(){for(var o=[],v=0;v<arguments.length;v++)o[v]=arguments[v];"undefined"!=typeof console&&console.error.apply(console,o)}function clone(o){if(null==o||"object"!=typeof o)return o;var v=o,_=eW.call(o);if("[object Array]"===_){if(!o[e5]){v=[];for(var x=0,w=o.length;x<w;x++)v[x]=clone(o[x])}}else if(eU[_]){if(!o[e5]){var T=o.constructor;if(T.from)v=T.from(o);else{v=new T(o.length);for(var x=0,w=o.length;x<w;x++)v[x]=o[x]}}}else if(!eG[_]&&!o[e5]&&!isDom(o))for(var L in v={},o)o.hasOwnProperty(L)&&L!==e0&&(v[L]=clone(o[L]));return v}function merge(o,v,_){if(!util_isObject(v)||!util_isObject(o))return _?clone(v):o;for(var x in v)if(v.hasOwnProperty(x)&&x!==e0){var w=o[x],T=v[x];!(util_isObject(T)&&util_isObject(w))||util_isArray(T)||util_isArray(w)||isDom(T)||isDom(w)||isBuiltInObject(T)||isBuiltInObject(w)||T[e5]||w[e5]?!_&&x in o||(o[x]=clone(v[x])):merge(w,T,_)}return o}function mergeAll(o,v){for(var _=o[0],x=1,w=o.length;x<w;x++)_=merge(_,o[x],v);return _}function extend(o,v){if(Object.assign)Object.assign(o,v);else for(var _ in v)v.hasOwnProperty(_)&&_!==e0&&(o[_]=v[_]);return o}function util_defaults(o,v,_){for(var x=keys(v),w=0;w<x.length;w++){var T=x[w];(_?null!=v[T]:null==o[T])&&(o[T]=v[T])}return o}function indexOf(o,v){if(o){if(o.indexOf)return o.indexOf(v);for(var _=0,x=o.length;_<x;_++)if(o[_]===v)return _}return -1}function inherits(o,v){var _=o.prototype;function F(){}for(var x in F.prototype=v.prototype,o.prototype=new F,_)_.hasOwnProperty(x)&&(o.prototype[x]=_[x]);o.prototype.constructor=o,o.superClass=v}function mixin(o,v,_){if(o="prototype"in o?o.prototype:o,v="prototype"in v?v.prototype:v,Object.getOwnPropertyNames)for(var x=Object.getOwnPropertyNames(v),w=0;w<x.length;w++){var T=x[w];"constructor"!==T&&(_?null!=v[T]:null==o[T])&&(o[T]=v[T])}else util_defaults(o,v,_)}function isArrayLike(o){return!!o&&"string"!=typeof o&&"number"==typeof o.length}function util_each(o,v,_){if(o&&v){if(o.forEach&&o.forEach===eK)o.forEach(v,_);else if(o.length===+o.length)for(var x=0,w=o.length;x<w;x++)v.call(_,o[x],x,o);else for(var T in o)o.hasOwnProperty(T)&&v.call(_,o[T],T,o)}}function map(o,v,_){if(!o)return[];if(!v)return slice(o);if(o.map&&o.map===e$)return o.map(v,_);for(var x=[],w=0,T=o.length;w<T;w++)x.push(v.call(_,o[w],w,o));return x}function reduce(o,v,_,x){if(o&&v){for(var w=0,T=o.length;w<T;w++)_=v.call(x,_,o[w],w,o);return _}}function filter(o,v,_){if(!o)return[];if(!v)return slice(o);if(o.filter&&o.filter===eZ)return o.filter(v,_);for(var x=[],w=0,T=o.length;w<T;w++)v.call(_,o[w],w,o)&&x.push(o[w]);return x}function find(o,v,_){if(o&&v){for(var x=0,w=o.length;x<w;x++)if(v.call(_,o[x],x,o))return o[x]}}function keys(o){if(!o)return[];if(Object.keys)return Object.keys(o);var v=[];for(var _ in o)o.hasOwnProperty(_)&&v.push(_);return v}function bindPolyfill(o,v){for(var _=[],x=2;x<arguments.length;x++)_[x-2]=arguments[x];return function(){return o.apply(v,_.concat(eX.call(arguments)))}}eH.createCanvas;var e2=eJ&&isFunction(eJ.bind)?eJ.call.bind(eJ.bind):bindPolyfill;function curry(o){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];return function(){return o.apply(this,v.concat(eX.call(arguments)))}}function util_isArray(o){return Array.isArray?Array.isArray(o):"[object Array]"===eW.call(o)}function isFunction(o){return"function"==typeof o}function util_isString(o){return"string"==typeof o}function util_isStringSafe(o){return"[object String]"===eW.call(o)}function isNumber(o){return"number"==typeof o}function util_isObject(o){var v=typeof o;return"function"===v||!!o&&"object"===v}function isBuiltInObject(o){return!!eG[eW.call(o)]}function isTypedArray(o){return!!eU[eW.call(o)]}function isDom(o){return"object"==typeof o&&"number"==typeof o.nodeType&&"object"==typeof o.ownerDocument}function isGradientObject(o){return null!=o.colorStops}function isImagePatternObject(o){return null!=o.image}function isRegExp(o){return"[object RegExp]"===eW.call(o)}function retrieve(){for(var o=[],v=0;v<arguments.length;v++)o[v]=arguments[v];for(var _=0,x=o.length;_<x;_++)if(null!=o[_])return o[_]}function retrieve2(o,v){return null!=o?o:v}function retrieve3(o,v,_){return null!=o?o:null!=v?v:_}function slice(o){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];return eX.apply(o,v)}function normalizeCssArray(o){if("number"==typeof o)return[o,o,o,o];var v=o.length;return 2===v?[o[0],o[1],o[0],o[1]]:3===v?[o[0],o[1],o[2],o[1]]:o}function assert(o,v){if(!o)throw Error(v)}function trim(o){return null==o?null:"function"==typeof o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var e5="__ec_primitive__",e3=function(){function MapPolyfill(){this.data={}}return MapPolyfill.prototype.delete=function(o){var v=this.has(o);return v&&delete this.data[o],v},MapPolyfill.prototype.has=function(o){return this.data.hasOwnProperty(o)},MapPolyfill.prototype.get=function(o){return this.data[o]},MapPolyfill.prototype.set=function(o,v){return this.data[o]=v,this},MapPolyfill.prototype.keys=function(){return keys(this.data)},MapPolyfill.prototype.forEach=function(o){var v=this.data;for(var _ in v)v.hasOwnProperty(_)&&o(v[_],_)},MapPolyfill}(),e4="function"==typeof Map;function maybeNativeMap(){return e4?new Map:new e3}var e7=function(){function HashMap(o){var v=util_isArray(o);this.data=maybeNativeMap();var _=this;function visit(o,x){v?_.set(o,x):_.set(x,o)}o instanceof HashMap?o.each(visit):o&&util_each(o,visit)}return HashMap.prototype.hasKey=function(o){return this.data.has(o)},HashMap.prototype.get=function(o){return this.data.get(o)},HashMap.prototype.set=function(o,v){return this.data.set(o,v),v},HashMap.prototype.each=function(o,v){this.data.forEach(function(_,x){o.call(v,_,x)})},HashMap.prototype.keys=function(){var o=this.data.keys();return e4?Array.from(o):o},HashMap.prototype.removeKey=function(o){this.data.delete(o)},HashMap}();function createHashMap(o){return new e7(o)}function concatArray(o,v){for(var _=new o.constructor(o.length+v.length),x=0;x<o.length;x++)_[x]=o[x];for(var w=o.length,x=0;x<v.length;x++)_[x+w]=v[x];return _}function createObject(o,v){var _;if(Object.create)_=Object.create(o);else{var StyleCtor=function(){};StyleCtor.prototype=o,_=new StyleCtor}return v&&extend(_,v),_}function disableUserSelect(o){var v=o.style;v.webkitUserSelect="none",v.userSelect="none",v.webkitTapHighlightColor="rgba(0,0,0,0)",v["-webkit-touch-callout"]="none"}function hasOwn(o,v){return o.hasOwnProperty(v)}function noop(){}var e6=180/Math.PI;function create(o,v){return null==o&&(o=0),null==v&&(v=0),[o,v]}function copy(o,v){return o[0]=v[0],o[1]=v[1],o}function vector_clone(o){return[o[0],o[1]]}function set(o,v,_){return o[0]=v,o[1]=_,o}function add(o,v,_){return o[0]=v[0]+_[0],o[1]=v[1]+_[1],o}function scaleAndAdd(o,v,_,x){return o[0]=v[0]+_[0]*x,o[1]=v[1]+_[1]*x,o}function sub(o,v,_){return o[0]=v[0]-_[0],o[1]=v[1]-_[1],o}function len(o){return Math.sqrt(lenSquare(o))}function lenSquare(o){return o[0]*o[0]+o[1]*o[1]}function scale(o,v,_){return o[0]=v[0]*_,o[1]=v[1]*_,o}function normalize(o,v){var _=len(v);return 0===_?(o[0]=0,o[1]=0):(o[0]=v[0]/_,o[1]=v[1]/_),o}function distance(o,v){return Math.sqrt((o[0]-v[0])*(o[0]-v[0])+(o[1]-v[1])*(o[1]-v[1]))}var e9=distance,distSquare=function(o,v){return(o[0]-v[0])*(o[0]-v[0])+(o[1]-v[1])*(o[1]-v[1])};function lerp(o,v,_,x){return o[0]=v[0]+x*(_[0]-v[0]),o[1]=v[1]+x*(_[1]-v[1]),o}function applyTransform(o,v,_){var x=v[0],w=v[1];return o[0]=_[0]*x+_[2]*w+_[4],o[1]=_[1]*x+_[3]*w+_[5],o}function vector_min(o,v,_){return o[0]=Math.min(v[0],_[0]),o[1]=Math.min(v[1],_[1]),o}function vector_max(o,v,_){return o[0]=Math.max(v[0],_[0]),o[1]=Math.max(v[1],_[1]),o}var Param=function(o,v){this.target=o,this.topTarget=v&&v.topTarget},e8=function(){function Draggable(o){this.handler=o,o.on("mousedown",this._dragStart,this),o.on("mousemove",this._drag,this),o.on("mouseup",this._dragEnd,this)}return Draggable.prototype._dragStart=function(o){for(var v=o.target;v&&!v.draggable;)v=v.parent||v.__hostTarget;v&&(this._draggingTarget=v,v.dragging=!0,this._x=o.offsetX,this._y=o.offsetY,this.handler.dispatchToElement(new Param(v,o),"dragstart",o.event))},Draggable.prototype._drag=function(o){var v=this._draggingTarget;if(v){var _=o.offsetX,x=o.offsetY,w=_-this._x,T=x-this._y;this._x=_,this._y=x,v.drift(w,T,o),this.handler.dispatchToElement(new Param(v,o),"drag",o.event);var L=this.handler.findHover(_,x,v).target,N=this._dropTarget;this._dropTarget=L,v!==L&&(N&&L!==N&&this.handler.dispatchToElement(new Param(N,o),"dragleave",o.event),L&&L!==N&&this.handler.dispatchToElement(new Param(L,o),"dragenter",o.event))}},Draggable.prototype._dragEnd=function(o){var v=this._draggingTarget;v&&(v.dragging=!1),this.handler.dispatchToElement(new Param(v,o),"dragend",o.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,o),"drop",o.event),this._draggingTarget=null,this._dropTarget=null},Draggable}(),te=function(){function Eventful(o){o&&(this._$eventProcessor=o)}return Eventful.prototype.on=function(o,v,_,x){this._$handlers||(this._$handlers={});var w=this._$handlers;if("function"==typeof v&&(x=_,_=v,v=null),!_||!o)return this;var T=this._$eventProcessor;null!=v&&T&&T.normalizeQuery&&(v=T.normalizeQuery(v)),w[o]||(w[o]=[]);for(var L=0;L<w[o].length;L++)if(w[o][L].h===_)return this;var N={h:_,query:v,ctx:x||this,callAtLast:_.zrEventfulCallAtLast},B=w[o].length-1,H=w[o][B];return H&&H.callAtLast?w[o].splice(B,0,N):w[o].push(N),this},Eventful.prototype.isSilent=function(o){var v=this._$handlers;return!v||!v[o]||!v[o].length},Eventful.prototype.off=function(o,v){var _=this._$handlers;if(!_)return this;if(!o)return this._$handlers={},this;if(v){if(_[o]){for(var x=[],w=0,T=_[o].length;w<T;w++)_[o][w].h!==v&&x.push(_[o][w]);_[o]=x}_[o]&&0===_[o].length&&delete _[o]}else delete _[o];return this},Eventful.prototype.trigger=function(o){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];if(!this._$handlers)return this;var x=this._$handlers[o],w=this._$eventProcessor;if(x)for(var T=v.length,L=x.length,N=0;N<L;N++){var B=x[N];if(!w||!w.filter||null==B.query||w.filter(o,B.query))switch(T){case 0:B.h.call(B.ctx);break;case 1:B.h.call(B.ctx,v[0]);break;case 2:B.h.call(B.ctx,v[0],v[1]);break;default:B.h.apply(B.ctx,v)}}return w&&w.afterTrigger&&w.afterTrigger(o),this},Eventful.prototype.triggerWithContext=function(o){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];if(!this._$handlers)return this;var x=this._$handlers[o],w=this._$eventProcessor;if(x)for(var T=v.length,L=v[T-1],N=x.length,B=0;B<N;B++){var H=x[B];if(!w||!w.filter||null==H.query||w.filter(o,H.query))switch(T){case 0:H.h.call(L);break;case 1:H.h.call(L,v[0]);break;case 2:H.h.call(L,v[0],v[1]);break;default:H.h.apply(L,v.slice(1,T-1))}}return w&&w.afterTrigger&&w.afterTrigger(o),this},Eventful}(),tt=Math.log(2);function determinant(o,v,_,x,w,T){var L=x+"-"+w,N=o.length;if(T.hasOwnProperty(L))return T[L];if(1===v){var B=Math.round(Math.log((1<<N)-1&~w)/tt);return o[_][B]}for(var H=x|1<<_,Y=_+1;x&1<<Y;)Y++;for(var Z=0,X=0,et=0;X<N;X++){var en=1<<X;!(en&w)&&(Z+=(et%2?-1:1)*o[_][X]*determinant(o,v-1,Y,H,w|en,T),et++)}return T[L]=Z,Z}function buildTransformer(o,v){var _=[[o[0],o[1],1,0,0,0,-v[0]*o[0],-v[0]*o[1]],[0,0,0,o[0],o[1],1,-v[1]*o[0],-v[1]*o[1]],[o[2],o[3],1,0,0,0,-v[2]*o[2],-v[2]*o[3]],[0,0,0,o[2],o[3],1,-v[3]*o[2],-v[3]*o[3]],[o[4],o[5],1,0,0,0,-v[4]*o[4],-v[4]*o[5]],[0,0,0,o[4],o[5],1,-v[5]*o[4],-v[5]*o[5]],[o[6],o[7],1,0,0,0,-v[6]*o[6],-v[6]*o[7]],[0,0,0,o[6],o[7],1,-v[7]*o[6],-v[7]*o[7]]],x={},w=determinant(_,8,0,0,0,x);if(0!==w){for(var T=[],L=0;L<8;L++)for(var N=0;N<8;N++)null==T[N]&&(T[N]=0),T[N]+=((L+N)%2?-1:1)*determinant(_,7,0===L?1:0,1<<L,1<<N,x)/w*v[L];return function(o,v,_){var x=v*T[6]+_*T[7]+1;o[0]=(v*T[0]+_*T[1]+T[2])/x,o[1]=(v*T[3]+_*T[4]+T[5])/x}}}var tn="___zrEVENTSAVED",ti=[];function transformLocalCoord(o,v,_,x,w){return transformCoordWithViewport(ti,v,x,w,!0)&&transformCoordWithViewport(o,_,ti[0],ti[1])}function transformCoordWithViewport(o,v,_,x,w){if(v.getBoundingClientRect&&eV.domSupported&&!isCanvasEl(v)){var T=v[tn]||(v[tn]={}),L=preparePointerTransformer(prepareCoordMarkers(v,T),T,w);if(L)return L(o,_,x),!0}return!1}function prepareCoordMarkers(o,v){var _=v.markers;if(_)return _;_=v.markers=[];for(var x=["left","right"],w=["top","bottom"],T=0;T<4;T++){var L=document.createElement("div"),N=L.style,B=T%2,H=(T>>1)%2;N.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",x[B]+":0",w[H]+":0",x[1-B]+":auto",w[1-H]+":auto",""].join("!important;"),o.appendChild(L),_.push(L)}return _}function preparePointerTransformer(o,v,_){for(var x=_?"invTrans":"trans",w=v[x],T=v.srcCoords,L=[],N=[],B=!0,H=0;H<4;H++){var Y=o[H].getBoundingClientRect(),Z=2*H,X=Y.left,et=Y.top;L.push(X,et),B=B&&T&&X===T[Z]&&et===T[Z+1],N.push(o[H].offsetLeft,o[H].offsetTop)}return B&&w?w:(v.srcCoords=L,v[x]=_?buildTransformer(N,L):buildTransformer(L,N))}function isCanvasEl(o){return"CANVAS"===o.nodeName.toUpperCase()}var ta=/([&<>"'])/g,to={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(o){return null==o?"":(o+"").replace(ta,function(o,v){return to[v]})}var ts=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,tl=[],tu=eV.browser.firefox&&39>+eV.browser.version.split(".")[0];function clientToLocal(o,v,_,x){return _=_||{},x?calculateZrXY(o,v,_):tu&&null!=v.layerX&&v.layerX!==v.offsetX?(_.zrX=v.layerX,_.zrY=v.layerY):null!=v.offsetX?(_.zrX=v.offsetX,_.zrY=v.offsetY):calculateZrXY(o,v,_),_}function calculateZrXY(o,v,_){if(eV.domSupported&&o.getBoundingClientRect){var x=v.clientX,w=v.clientY;if(isCanvasEl(o)){var T=o.getBoundingClientRect();_.zrX=x-T.left,_.zrY=w-T.top;return}if(transformCoordWithViewport(tl,o,x,w)){_.zrX=tl[0],_.zrY=tl[1];return}}_.zrX=_.zrY=0}function getNativeEvent(o){return o||window.event}function normalizeEvent(o,v,_){if(null!=(v=getNativeEvent(v)).zrX)return v;var x=v.type;if(x&&x.indexOf("touch")>=0){var w="touchend"!==x?v.targetTouches[0]:v.changedTouches[0];w&&clientToLocal(o,w,v,_)}else{clientToLocal(o,v,v,_);var T=getWheelDeltaMayPolyfill(v);v.zrDelta=T?T/120:-(v.detail||0)/3}var L=v.button;return null==v.which&&void 0!==L&&ts.test(v.type)&&(v.which=1&L?1:2&L?3:4&L?2:0),v}function getWheelDeltaMayPolyfill(o){var v=o.wheelDelta;if(v)return v;var _=o.deltaX,x=o.deltaY;return null==_||null==x?v:3*(0!==x?Math.abs(x):Math.abs(_))*(x>0?-1:x<0?1:_>0?-1:1)}function addEventListener(o,v,_,x){o.addEventListener(v,_,x)}function removeEventListener(o,v,_,x){o.removeEventListener(v,_,x)}var stop=function(o){o.preventDefault(),o.stopPropagation(),o.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(o){return 2===o.which||3===o.which}var tc=function(){function GestureMgr(){this._track=[]}return GestureMgr.prototype.recognize=function(o,v,_){return this._doTrack(o,v,_),this._recognize(o)},GestureMgr.prototype.clear=function(){return this._track.length=0,this},GestureMgr.prototype._doTrack=function(o,v,_){var x=o.touches;if(x){for(var w={points:[],touches:[],target:v,event:o},T=0,L=x.length;T<L;T++){var N=x[T],B=clientToLocal(_,N,{});w.points.push([B.zrX,B.zrY]),w.touches.push(N)}this._track.push(w)}},GestureMgr.prototype._recognize=function(o){for(var v in td)if(td.hasOwnProperty(v)){var _=td[v](this._track,o);if(_)return _}},GestureMgr}();function GestureMgr_dist(o){var v=o[1][0]-o[0][0],_=o[1][1]-o[0][1];return Math.sqrt(v*v+_*_)}function center(o){return[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]}var td={pinch:function(o,v){var _=o.length;if(_){var x=(o[_-1]||{}).points,w=(o[_-2]||{}).points||x;if(w&&w.length>1&&x&&x.length>1){var T=GestureMgr_dist(x)/GestureMgr_dist(w);isFinite(T)||(T=1),v.pinchScale=T;var L=center(x);return v.pinchX=L[0],v.pinchY=L[1],{type:"pinch",target:o[0].target,event:v}}}}};function matrix_create(){return[1,0,0,1,0,0]}function identity(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=1,o[4]=0,o[5]=0,o}function matrix_copy(o,v){return o[0]=v[0],o[1]=v[1],o[2]=v[2],o[3]=v[3],o[4]=v[4],o[5]=v[5],o}function matrix_mul(o,v,_){var x=v[0]*_[0]+v[2]*_[1],w=v[1]*_[0]+v[3]*_[1],T=v[0]*_[2]+v[2]*_[3],L=v[1]*_[2]+v[3]*_[3],N=v[0]*_[4]+v[2]*_[5]+v[4],B=v[1]*_[4]+v[3]*_[5]+v[5];return o[0]=x,o[1]=w,o[2]=T,o[3]=L,o[4]=N,o[5]=B,o}function translate(o,v,_){return o[0]=v[0],o[1]=v[1],o[2]=v[2],o[3]=v[3],o[4]=v[4]+_[0],o[5]=v[5]+_[1],o}function rotate(o,v,_){var x=v[0],w=v[2],T=v[4],L=v[1],N=v[3],B=v[5],H=Math.sin(_),Y=Math.cos(_);return o[0]=x*Y+L*H,o[1]=-x*H+L*Y,o[2]=w*Y+N*H,o[3]=-w*H+Y*N,o[4]=Y*T+H*B,o[5]=Y*B-H*T,o}function matrix_scale(o,v,_){var x=_[0],w=_[1];return o[0]=v[0]*x,o[1]=v[1]*w,o[2]=v[2]*x,o[3]=v[3]*w,o[4]=v[4]*x,o[5]=v[5]*w,o}function matrix_invert(o,v){var _=v[0],x=v[2],w=v[4],T=v[1],L=v[3],N=v[5],B=_*L-T*x;return B?(B=1/B,o[0]=L*B,o[1]=-T*B,o[2]=-x*B,o[3]=_*B,o[4]=(x*N-L*w)*B,o[5]=(T*w-_*N)*B,o):null}function matrix_clone(o){var v=matrix_create();return matrix_copy(v,o),v}var th=function(){function Point(o,v){this.x=o||0,this.y=v||0}return Point.prototype.copy=function(o){return this.x=o.x,this.y=o.y,this},Point.prototype.clone=function(){return new Point(this.x,this.y)},Point.prototype.set=function(o,v){return this.x=o,this.y=v,this},Point.prototype.equal=function(o){return o.x===this.x&&o.y===this.y},Point.prototype.add=function(o){return this.x+=o.x,this.y+=o.y,this},Point.prototype.scale=function(o){this.x*=o,this.y*=o},Point.prototype.scaleAndAdd=function(o,v){this.x+=o.x*v,this.y+=o.y*v},Point.prototype.sub=function(o){return this.x-=o.x,this.y-=o.y,this},Point.prototype.dot=function(o){return this.x*o.x+this.y*o.y},Point.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Point.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},Point.prototype.normalize=function(){var o=this.len();return this.x/=o,this.y/=o,this},Point.prototype.distance=function(o){var v=this.x-o.x,_=this.y-o.y;return Math.sqrt(v*v+_*_)},Point.prototype.distanceSquare=function(o){var v=this.x-o.x,_=this.y-o.y;return v*v+_*_},Point.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},Point.prototype.transform=function(o){if(o){var v=this.x,_=this.y;return this.x=o[0]*v+o[2]*_+o[4],this.y=o[1]*v+o[3]*_+o[5],this}},Point.prototype.toArray=function(o){return o[0]=this.x,o[1]=this.y,o},Point.prototype.fromArray=function(o){this.x=o[0],this.y=o[1]},Point.set=function(o,v,_){o.x=v,o.y=_},Point.copy=function(o,v){o.x=v.x,o.y=v.y},Point.len=function(o){return Math.sqrt(o.x*o.x+o.y*o.y)},Point.lenSquare=function(o){return o.x*o.x+o.y*o.y},Point.dot=function(o,v){return o.x*v.x+o.y*v.y},Point.add=function(o,v,_){o.x=v.x+_.x,o.y=v.y+_.y},Point.sub=function(o,v,_){o.x=v.x-_.x,o.y=v.y-_.y},Point.scale=function(o,v,_){o.x=v.x*_,o.y=v.y*_},Point.scaleAndAdd=function(o,v,_,x){o.x=v.x+_.x*x,o.y=v.y+_.y*x},Point.lerp=function(o,v,_,x){var w=1-x;o.x=w*v.x+x*_.x,o.y=w*v.y+x*_.y},Point}(),tp=Math.min,tf=Math.max,tg=new th,tm=new th,ty=new th,tv=new th,t_=new th,tb=new th,tS=function(){function BoundingRect(o,v,_,x){_<0&&(o+=_,_=-_),x<0&&(v+=x,x=-x),this.x=o,this.y=v,this.width=_,this.height=x}return BoundingRect.prototype.union=function(o){var v=tp(o.x,this.x),_=tp(o.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=tf(o.x+o.width,this.x+this.width)-v:this.width=o.width,isFinite(this.y)&&isFinite(this.height)?this.height=tf(o.y+o.height,this.y+this.height)-_:this.height=o.height,this.x=v,this.y=_},BoundingRect.prototype.applyTransform=function(o){BoundingRect.applyTransform(this,this,o)},BoundingRect.prototype.calculateTransform=function(o){var v=o.width/this.width,_=o.height/this.height,x=matrix_create();return translate(x,x,[-this.x,-this.y]),matrix_scale(x,x,[v,_]),translate(x,x,[o.x,o.y]),x},BoundingRect.prototype.intersect=function(o,v){if(!o)return!1;o instanceof BoundingRect||(o=BoundingRect.create(o));var _=this.x,x=this.x+this.width,w=this.y,T=this.y+this.height,L=o.x,N=o.x+o.width,B=o.y,H=o.y+o.height,Y=!(x<L||N<_||T<B||H<w);if(v){var Z=1/0,X=0,et=Math.abs(x-L),en=Math.abs(N-_),er=Math.abs(T-B),ei=Math.abs(H-w),ea=Math.min(et,en),eo=Math.min(er,ei);x<L||N<_?ea>X&&(X=ea,et<en?th.set(tb,-et,0):th.set(tb,en,0)):ea<Z&&(Z=ea,et<en?th.set(t_,et,0):th.set(t_,-en,0)),T<B||H<w?eo>X&&(X=eo,er<ei?th.set(tb,0,-er):th.set(tb,0,ei)):ea<Z&&(Z=ea,er<ei?th.set(t_,0,er):th.set(t_,0,-ei))}return v&&th.copy(v,Y?t_:tb),Y},BoundingRect.prototype.contain=function(o,v){return o>=this.x&&o<=this.x+this.width&&v>=this.y&&v<=this.y+this.height},BoundingRect.prototype.clone=function(){return new BoundingRect(this.x,this.y,this.width,this.height)},BoundingRect.prototype.copy=function(o){BoundingRect.copy(this,o)},BoundingRect.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},BoundingRect.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},BoundingRect.prototype.isZero=function(){return 0===this.width||0===this.height},BoundingRect.create=function(o){return new BoundingRect(o.x,o.y,o.width,o.height)},BoundingRect.copy=function(o,v){o.x=v.x,o.y=v.y,o.width=v.width,o.height=v.height},BoundingRect.applyTransform=function(o,v,_){if(!_){o!==v&&BoundingRect.copy(o,v);return}if(_[1]<1e-5&&_[1]>-.00001&&_[2]<1e-5&&_[2]>-.00001){var x=_[0],w=_[3],T=_[4],L=_[5];o.x=v.x*x+T,o.y=v.y*w+L,o.width=v.width*x,o.height=v.height*w,o.width<0&&(o.x+=o.width,o.width=-o.width),o.height<0&&(o.y+=o.height,o.height=-o.height);return}tg.x=ty.x=v.x,tg.y=tv.y=v.y,tm.x=tv.x=v.x+v.width,tm.y=ty.y=v.y+v.height,tg.transform(_),tv.transform(_),tm.transform(_),ty.transform(_),o.x=tp(tg.x,tm.x,ty.x,tv.x),o.y=tp(tg.y,tm.y,ty.y,tv.y);var N=tf(tg.x,tm.x,ty.x,tv.x),B=tf(tg.y,tm.y,ty.y,tv.y);o.width=N-o.x,o.height=B-o.y},BoundingRect}(),tx="silent";function makeEventPacket(o,v,_){return{type:o,event:_,target:v.target,topTarget:v.topTarget,cancelBubble:!1,offsetX:_.zrX,offsetY:_.zrY,gestureEvent:_.gestureEvent,pinchX:_.pinchX,pinchY:_.pinchY,pinchScale:_.pinchScale,wheelDelta:_.zrDelta,zrByTouch:_.zrByTouch,which:_.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var tw=function(o){function EmptyProxy(){var v=null!==o&&o.apply(this,arguments)||this;return v.handler=null,v}return __extends(EmptyProxy,o),EmptyProxy.prototype.dispose=function(){},EmptyProxy.prototype.setCursor=function(){},EmptyProxy}(te),HoveredResult=function(o,v){this.x=o,this.y=v},tC=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tT=new tS(0,0,0,0),tM=function(o){function Handler(v,_,x,w,T){var L=o.call(this)||this;return L._hovered=new HoveredResult(0,0),L.storage=v,L.painter=_,L.painterRoot=w,L._pointerSize=T,x=x||new tw,L.proxy=null,L.setHandlerProxy(x),L._draggingMgr=new e8(L),L}return __extends(Handler,o),Handler.prototype.setHandlerProxy=function(o){this.proxy&&this.proxy.dispose(),o&&(util_each(tC,function(v){o.on&&o.on(v,this[v],this)},this),o.handler=this),this.proxy=o},Handler.prototype.mousemove=function(o){var v=o.zrX,_=o.zrY,x=isOutsideBoundary(this,v,_),w=this._hovered,T=w.target;T&&!T.__zr&&(T=(w=this.findHover(w.x,w.y)).target);var L=this._hovered=x?new HoveredResult(v,_):this.findHover(v,_),N=L.target,B=this.proxy;B.setCursor&&B.setCursor(N?N.cursor:"default"),T&&N!==T&&this.dispatchToElement(w,"mouseout",o),this.dispatchToElement(L,"mousemove",o),N&&N!==T&&this.dispatchToElement(L,"mouseover",o)},Handler.prototype.mouseout=function(o){var v=o.zrEventControl;"only_globalout"!==v&&this.dispatchToElement(this._hovered,"mouseout",o),"no_globalout"!==v&&this.trigger("globalout",{type:"globalout",event:o})},Handler.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},Handler.prototype.dispatch=function(o,v){var _=this[o];_&&_.call(this,v)},Handler.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Handler.prototype.setCursorStyle=function(o){var v=this.proxy;v.setCursor&&v.setCursor(o)},Handler.prototype.dispatchToElement=function(o,v,_){var x=(o=o||{}).target;if(!x||!x.silent){for(var w="on"+v,T=makeEventPacket(v,o,_);x&&(x[w]&&(T.cancelBubble=!!x[w].call(x,T)),x.trigger(v,T),x=x.__hostTarget?x.__hostTarget:x.parent,!T.cancelBubble););!T.cancelBubble&&(this.trigger(v,T),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(o){"function"==typeof o[w]&&o[w].call(o,T),o.trigger&&o.trigger(v,T)}))}},Handler.prototype.findHover=function(o,v,_){var x=this.storage.getDisplayList(),w=new HoveredResult(o,v);if(setHoverTarget(x,w,o,v,_),this._pointerSize&&!w.target){for(var T=[],L=this._pointerSize,N=L/2,B=new tS(o-N,v-N,L,L),H=x.length-1;H>=0;H--){var Y=x[H];Y===_||Y.ignore||Y.ignoreCoarsePointer||Y.parent&&Y.parent.ignoreCoarsePointer||(tT.copy(Y.getBoundingRect()),Y.transform&&tT.applyTransform(Y.transform),tT.intersect(B)&&T.push(Y))}if(T.length){for(var Z=Math.PI/12,X=2*Math.PI,et=0;et<N;et+=4)for(var en=0;en<X;en+=Z)if(setHoverTarget(T,w,o+et*Math.cos(en),v+et*Math.sin(en),_),w.target)return w}}return w},Handler.prototype.processGesture=function(o,v){this._gestureMgr||(this._gestureMgr=new tc);var _=this._gestureMgr;"start"===v&&_.clear();var x=_.recognize(o,this.findHover(o.zrX,o.zrY,null).target,this.proxy.dom);if("end"===v&&_.clear(),x){var w=x.type;o.gestureEvent=w;var T=new HoveredResult;T.target=x.target,this.dispatchToElement(T,w,x.event)}},Handler}(te);function isHover(o,v,_){if(o[o.rectHover?"rectContain":"contain"](v,_)){for(var x=o,w=void 0,T=!1;x;){if(x.ignoreClip&&(T=!0),!T){var L=x.getClipPath();if(L&&!L.contain(v,_))return!1;x.silent&&(w=!0)}x=x.__hostTarget||x.parent}return!w||tx}return!1}function setHoverTarget(o,v,_,x,w){for(var T=o.length-1;T>=0;T--){var L=o[T],N=void 0;if(L!==w&&!L.ignore&&(N=isHover(L,_,x))&&(v.topTarget||(v.topTarget=L),N!==tx)){v.target=L;break}}}function isOutsideBoundary(o,v,_){var x=o.painter;return v<0||v>x.getWidth()||_<0||_>x.getHeight()}function minRunLength(o){for(var v=0;o>=32;)v|=1&o,o>>=1;return o+v}function makeAscendingRun(o,v,_,x){var w=v+1;if(w===_)return 1;if(0>x(o[w++],o[v])){for(;w<_&&0>x(o[w],o[w-1]);)w++;reverseRun(o,v,w)}else for(;w<_&&x(o[w],o[w-1])>=0;)w++;return w-v}function reverseRun(o,v,_){for(_--;v<_;){var x=o[v];o[v++]=o[_],o[_--]=x}}function binaryInsertionSort(o,v,_,x,w){for(x===v&&x++;x<_;x++){for(var T,L=o[x],N=v,B=x;N<B;)0>w(L,o[T=N+B>>>1])?B=T:N=T+1;var H=x-N;switch(H){case 3:o[N+3]=o[N+2];case 2:o[N+2]=o[N+1];case 1:o[N+1]=o[N];break;default:for(;H>0;)o[N+H]=o[N+H-1],H--}o[N]=L}}function gallopLeft(o,v,_,x,w,T){var L=0,N=0,B=1;if(T(o,v[_+w])>0){for(N=x-w;B<N&&T(o,v[_+w+B])>0;)L=B,(B=(B<<1)+1)<=0&&(B=N);B>N&&(B=N),L+=w,B+=w}else{for(N=w+1;B<N&&0>=T(o,v[_+w-B]);)L=B,(B=(B<<1)+1)<=0&&(B=N);B>N&&(B=N);var H=L;L=w-B,B=w-H}for(L++;L<B;){var Y=L+(B-L>>>1);T(o,v[_+Y])>0?L=Y+1:B=Y}return B}function gallopRight(o,v,_,x,w,T){var L=0,N=0,B=1;if(0>T(o,v[_+w])){for(N=w+1;B<N&&0>T(o,v[_+w-B]);)L=B,(B=(B<<1)+1)<=0&&(B=N);B>N&&(B=N);var H=L;L=w-B,B=w-H}else{for(N=x-w;B<N&&T(o,v[_+w+B])>=0;)L=B,(B=(B<<1)+1)<=0&&(B=N);B>N&&(B=N),L+=w,B+=w}for(L++;L<B;){var Y=L+(B-L>>>1);0>T(o,v[_+Y])?B=Y:L=Y+1}return B}function TimSort(o,v){var _,x,w=7,T=0;o.length;var L=[];function mergeAt(w){var L=_[w],N=x[w],B=_[w+1],H=x[w+1];x[w]=N+H,w===T-3&&(_[w+1]=_[w+2],x[w+1]=x[w+2]),T--;var Y=gallopRight(o[B],o,L,N,0,v);L+=Y,0!=(N-=Y)&&0!==(H=gallopLeft(o[L+N-1],o,B,H,H-1,v))&&(N<=H?mergeLow(L,N,B,H):mergeHigh(L,N,B,H))}function mergeLow(_,x,T,N){var B,H,Y,Z=0;for(Z=0;Z<x;Z++)L[Z]=o[_+Z];var X=0,et=T,en=_;if(o[en++]=o[et++],0==--N){for(Z=0;Z<x;Z++)o[en+Z]=L[X+Z];return}if(1===x){for(Z=0;Z<N;Z++)o[en+Z]=o[et+Z];o[en+N]=L[X];return}for(var er=w;;){B=0,H=0,Y=!1;do if(0>v(o[et],L[X])){if(o[en++]=o[et++],H++,B=0,0==--N){Y=!0;break}}else if(o[en++]=L[X++],B++,H=0,1==--x){Y=!0;break}while((B|H)<er);if(Y)break;do{if(0!==(B=gallopRight(o[et],L,X,x,0,v))){for(Z=0;Z<B;Z++)o[en+Z]=L[X+Z];if(en+=B,X+=B,(x-=B)<=1){Y=!0;break}}if(o[en++]=o[et++],0==--N){Y=!0;break}if(0!==(H=gallopLeft(L[X],o,et,N,0,v))){for(Z=0;Z<H;Z++)o[en+Z]=o[et+Z];if(en+=H,et+=H,0==(N-=H)){Y=!0;break}}if(o[en++]=L[X++],1==--x){Y=!0;break}er--}while(B>=7||H>=7);if(Y)break;er<0&&(er=0),er+=2}if((w=er)<1&&(w=1),1===x){for(Z=0;Z<N;Z++)o[en+Z]=o[et+Z];o[en+N]=L[X]}else if(0===x)throw Error();else for(Z=0;Z<x;Z++)o[en+Z]=L[X+Z]}function mergeHigh(_,x,T,N){var B=0;for(B=0;B<N;B++)L[B]=o[T+B];var H=_+x-1,Y=N-1,Z=T+N-1,X=0,et=0;if(o[Z--]=o[H--],0==--x){for(B=0,X=Z-(N-1);B<N;B++)o[X+B]=L[B];return}if(1===N){for(Z-=x,H-=x,et=Z+1,X=H+1,B=x-1;B>=0;B--)o[et+B]=o[X+B];o[Z]=L[Y];return}for(var en=w;;){var er=0,ei=0,ea=!1;do if(0>v(L[Y],o[H])){if(o[Z--]=o[H--],er++,ei=0,0==--x){ea=!0;break}}else if(o[Z--]=L[Y--],ei++,er=0,1==--N){ea=!0;break}while((er|ei)<en);if(ea)break;do{if(0!=(er=x-gallopRight(L[Y],o,_,x,x-1,v))){for(Z-=er,H-=er,x-=er,et=Z+1,X=H+1,B=er-1;B>=0;B--)o[et+B]=o[X+B];if(0===x){ea=!0;break}}if(o[Z--]=L[Y--],1==--N){ea=!0;break}if(0!=(ei=N-gallopLeft(o[H],L,0,N,N-1,v))){for(Z-=ei,Y-=ei,N-=ei,et=Z+1,X=Y+1,B=0;B<ei;B++)o[et+B]=L[X+B];if(N<=1){ea=!0;break}}if(o[Z--]=o[H--],0==--x){ea=!0;break}en--}while(er>=7||ei>=7);if(ea)break;en<0&&(en=0),en+=2}if((w=en)<1&&(w=1),1===N){for(Z-=x,H-=x,et=Z+1,X=H+1,B=x-1;B>=0;B--)o[et+B]=o[X+B];o[Z]=L[Y]}else if(0===N)throw Error();else for(B=0,X=Z-(N-1);B<N;B++)o[X+B]=L[B]}return _=[],x=[],{mergeRuns:function(){for(;T>1;){var o=T-2;if(o>=1&&x[o-1]<=x[o]+x[o+1]||o>=2&&x[o-2]<=x[o]+x[o-1])x[o-1]<x[o+1]&&o--;else if(x[o]>x[o+1])break;mergeAt(o)}},forceMergeRuns:function(){for(;T>1;){var o=T-2;o>0&&x[o-1]<x[o+1]&&o--,mergeAt(o)}},pushRun:function(o,v){_[T]=o,x[T]=v,T+=1}}}function sort(o,v,_,x){_||(_=0),x||(x=o.length);var w=x-_;if(!(w<2)){var T=0;if(w<32){T=makeAscendingRun(o,_,x,v),binaryInsertionSort(o,_,x,_+T,v);return}var L=TimSort(o,v),N=minRunLength(w);do{if((T=makeAscendingRun(o,_,x,v))<N){var B=w;B>N&&(B=N),binaryInsertionSort(o,_,_+B,_+T,v),T=B}L.pushRun(_,T),L.mergeRuns(),w-=T,_+=T}while(0!==w);L.forceMergeRuns()}}util_each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(o){tM.prototype[o]=function(v){var _,x,w=v.zrX,T=v.zrY,L=isOutsideBoundary(this,w,T);if("mouseup"===o&&L||(x=(_=this.findHover(w,T)).target),"mousedown"===o)this._downEl=x,this._downPoint=[v.zrX,v.zrY],this._upEl=x;else if("mouseup"===o)this._upEl=x;else if("click"===o){if(this._downEl!==this._upEl||!this._downPoint||e9(this._downPoint,[v.zrX,v.zrY])>4)return;this._downPoint=null}this.dispatchToElement(_,o,v)}});var tP=!1;function logInvalidZError(){tP||(tP=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(o,v){return o.zlevel===v.zlevel?o.z===v.z?o.z2-v.z2:o.z-v.z:o.zlevel-v.zlevel}var tI=function(){function Storage(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return Storage.prototype.traverse=function(o,v){for(var _=0;_<this._roots.length;_++)this._roots[_].traverse(o,v)},Storage.prototype.getDisplayList=function(o,v){v=v||!1;var _=this._displayList;return(o||!_.length)&&this.updateDisplayList(v),_},Storage.prototype.updateDisplayList=function(o){this._displayListLen=0;for(var v=this._roots,_=this._displayList,x=0,w=v.length;x<w;x++)this._updateAndAddDisplayable(v[x],null,o);_.length=this._displayListLen,sort(_,shapeCompareFunc)},Storage.prototype._updateAndAddDisplayable=function(o,v,_){if(!o.ignore||_){o.beforeUpdate(),o.update(),o.afterUpdate();var x=o.getClipPath();if(o.ignoreClip)v=null;else if(x){v=v?v.slice():[];for(var w=x,T=o;w;)w.parent=T,w.updateTransform(),v.push(w),T=w,w=w.getClipPath()}if(o.childrenRef){for(var L=o.childrenRef(),N=0;N<L.length;N++){var B=L[N];o.__dirty&&(B.__dirty|=1),this._updateAndAddDisplayable(B,v,_)}o.__dirty=0}else v&&v.length?o.__clipPaths=v:o.__clipPaths&&o.__clipPaths.length>0&&(o.__clipPaths=[]),isNaN(o.z)&&(logInvalidZError(),o.z=0),isNaN(o.z2)&&(logInvalidZError(),o.z2=0),isNaN(o.zlevel)&&(logInvalidZError(),o.zlevel=0),this._displayList[this._displayListLen++]=o;var H=o.getDecalElement&&o.getDecalElement();H&&this._updateAndAddDisplayable(H,v,_);var Y=o.getTextGuideLine();Y&&this._updateAndAddDisplayable(Y,v,_);var Z=o.getTextContent();Z&&this._updateAndAddDisplayable(Z,v,_)}},Storage.prototype.addRoot=function(o){o.__zr&&o.__zr.storage===this||this._roots.push(o)},Storage.prototype.delRoot=function(o){if(o instanceof Array){for(var v=0,_=o.length;v<_;v++)this.delRoot(o[v]);return}var x=indexOf(this._roots,o);x>=0&&this._roots.splice(x,1)},Storage.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Storage.prototype.getRoots=function(){return this._roots},Storage.prototype.dispose=function(){this._displayList=null,this._roots=null},Storage}();Z=eV.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(o){return setTimeout(o,16)};var tD={linear:function(o){return o},quadraticIn:function(o){return o*o},quadraticOut:function(o){return o*(2-o)},quadraticInOut:function(o){return(o*=2)<1?.5*o*o:-.5*(--o*(o-2)-1)},cubicIn:function(o){return o*o*o},cubicOut:function(o){return--o*o*o+1},cubicInOut:function(o){return(o*=2)<1?.5*o*o*o:.5*((o-=2)*o*o+2)},quarticIn:function(o){return o*o*o*o},quarticOut:function(o){return 1- --o*o*o*o},quarticInOut:function(o){return(o*=2)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2)},quinticIn:function(o){return o*o*o*o*o},quinticOut:function(o){return--o*o*o*o*o+1},quinticInOut:function(o){return(o*=2)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2)},sinusoidalIn:function(o){return 1-Math.cos(o*Math.PI/2)},sinusoidalOut:function(o){return Math.sin(o*Math.PI/2)},sinusoidalInOut:function(o){return .5*(1-Math.cos(Math.PI*o))},exponentialIn:function(o){return 0===o?0:Math.pow(1024,o-1)},exponentialOut:function(o){return 1===o?1:1-Math.pow(2,-10*o)},exponentialInOut:function(o){return 0===o?0:1===o?1:(o*=2)<1?.5*Math.pow(1024,o-1):.5*(-Math.pow(2,-10*(o-1))+2)},circularIn:function(o){return 1-Math.sqrt(1-o*o)},circularOut:function(o){return Math.sqrt(1- --o*o)},circularInOut:function(o){return(o*=2)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1)},elasticIn:function(o){var v,_=.1;return 0===o?0:1===o?1:(!_||_<1?(_=1,v=.1):v=.4*Math.asin(1/_)/(2*Math.PI),-(_*Math.pow(2,10*(o-=1))*Math.sin((o-v)*(2*Math.PI)/.4)))},elasticOut:function(o){var v,_=.1;return 0===o?0:1===o?1:(!_||_<1?(_=1,v=.1):v=.4*Math.asin(1/_)/(2*Math.PI),_*Math.pow(2,-10*o)*Math.sin((o-v)*(2*Math.PI)/.4)+1)},elasticInOut:function(o){var v,_=.1;return 0===o?0:1===o?1:(!_||_<1?(_=1,v=.1):v=.4*Math.asin(1/_)/(2*Math.PI),(o*=2)<1)?-.5*(_*Math.pow(2,10*(o-=1))*Math.sin((o-v)*(2*Math.PI)/.4)):_*Math.pow(2,-10*(o-=1))*Math.sin((o-v)*(2*Math.PI)/.4)*.5+1},backIn:function(o){return o*o*(2.70158*o-1.70158)},backOut:function(o){return--o*o*(2.70158*o+1.70158)+1},backInOut:function(o){return(o*=2)<1?.5*(o*o*(3.5949095*o-2.5949095)):.5*((o-=2)*o*(3.5949095*o+2.5949095)+2)},bounceIn:function(o){return 1-tD.bounceOut(1-o)},bounceOut:function(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},bounceInOut:function(o){return o<.5?.5*tD.bounceIn(2*o):.5*tD.bounceOut(2*o-1)+.5}},tE=Math.pow,tO=Math.sqrt,tA=tO(3),tk=1/3,tL=create(),tR=create(),tN=create();function isAroundZero(o){return o>-.00000001&&o<1e-8}function isNotAroundZero(o){return o>1e-8||o<-.00000001}function curve_cubicAt(o,v,_,x,w){var T=1-w;return T*T*(T*o+3*w*v)+w*w*(w*x+3*T*_)}function cubicDerivativeAt(o,v,_,x,w){var T=1-w;return 3*(((v-o)*T+2*(_-v)*w)*T+(x-_)*w*w)}function cubicRootAt(o,v,_,x,w,T){var L=x+3*(v-_)-o,N=3*(_-2*v+o),B=3*(v-o),H=o-w,Y=N*N-3*L*B,Z=N*B-9*L*H,X=B*B-3*N*H,et=0;if(isAroundZero(Y)&&isAroundZero(Z)){if(isAroundZero(N))T[0]=0;else{var en=-B/N;en>=0&&en<=1&&(T[et++]=en)}}else{var er=Z*Z-4*Y*X;if(isAroundZero(er)){var ei=Z/Y,en=-N/L+ei,ea=-ei/2;en>=0&&en<=1&&(T[et++]=en),ea>=0&&ea<=1&&(T[et++]=ea)}else if(er>0){var eo=tO(er),el=Y*N+1.5*L*(-Z+eo),eu=Y*N+1.5*L*(-Z-eo),en=(-N-((el=el<0?-tE(-el,tk):tE(el,tk))+(eu=eu<0?-tE(-eu,tk):tE(eu,tk))))/(3*L);en>=0&&en<=1&&(T[et++]=en)}else{var ec=Math.acos((2*Y*N-3*L*Z)/(2*tO(Y*Y*Y)))/3,ed=tO(Y),eh=Math.cos(ec),en=(-N-2*ed*eh)/(3*L),ea=(-N+ed*(eh+tA*Math.sin(ec)))/(3*L),ep=(-N+ed*(eh-tA*Math.sin(ec)))/(3*L);en>=0&&en<=1&&(T[et++]=en),ea>=0&&ea<=1&&(T[et++]=ea),ep>=0&&ep<=1&&(T[et++]=ep)}}return et}function curve_cubicExtrema(o,v,_,x,w){var T=6*_-12*v+6*o,L=9*v+3*x-3*o-9*_,N=3*v-3*o,B=0;if(isAroundZero(L)){if(isNotAroundZero(T)){var H=-N/T;H>=0&&H<=1&&(w[B++]=H)}}else{var Y=T*T-4*L*N;if(isAroundZero(Y))w[0]=-T/(2*L);else if(Y>0){var Z=tO(Y),H=(-T+Z)/(2*L),X=(-T-Z)/(2*L);H>=0&&H<=1&&(w[B++]=H),X>=0&&X<=1&&(w[B++]=X)}}return B}function cubicSubdivide(o,v,_,x,w,T){var L=(v-o)*w+o,N=(_-v)*w+v,B=(x-_)*w+_,H=(N-L)*w+L,Y=(B-N)*w+N,Z=(Y-H)*w+H;T[0]=o,T[1]=L,T[2]=H,T[3]=Z,T[4]=Z,T[5]=Y,T[6]=B,T[7]=x}function cubicProjectPoint(o,v,_,x,w,T,L,N,B,H,Y){var Z,X,et,en,er,ei=.005,ea=1/0;tL[0]=B,tL[1]=H;for(var eo=0;eo<1;eo+=.05)tR[0]=curve_cubicAt(o,_,w,L,eo),tR[1]=curve_cubicAt(v,x,T,N,eo),(en=distSquare(tL,tR))<ea&&(Z=eo,ea=en);ea=1/0;for(var el=0;el<32&&!(ei<1e-4);el++)X=Z-ei,et=Z+ei,tR[0]=curve_cubicAt(o,_,w,L,X),tR[1]=curve_cubicAt(v,x,T,N,X),en=distSquare(tR,tL),X>=0&&en<ea?(Z=X,ea=en):(tN[0]=curve_cubicAt(o,_,w,L,et),tN[1]=curve_cubicAt(v,x,T,N,et),er=distSquare(tN,tL),et<=1&&er<ea?(Z=et,ea=er):ei*=.5);return Y&&(Y[0]=curve_cubicAt(o,_,w,L,Z),Y[1]=curve_cubicAt(v,x,T,N,Z)),tO(ea)}function cubicLength(o,v,_,x,w,T,L,N,B){for(var H=o,Y=v,Z=0,X=1/B,et=1;et<=B;et++){var en=et*X,er=curve_cubicAt(o,_,w,L,en),ei=curve_cubicAt(v,x,T,N,en),ea=er-H,eo=ei-Y;Z+=Math.sqrt(ea*ea+eo*eo),H=er,Y=ei}return Z}function curve_quadraticAt(o,v,_,x){var w=1-x;return w*(w*o+2*x*v)+x*x*_}function curve_quadraticDerivativeAt(o,v,_,x){return 2*((1-x)*(v-o)+x*(_-v))}function quadraticRootAt(o,v,_,x,w){var T=o-2*v+_,L=2*(v-o),N=o-x,B=0;if(isAroundZero(T)){if(isNotAroundZero(L)){var H=-N/L;H>=0&&H<=1&&(w[B++]=H)}}else{var Y=L*L-4*T*N;if(isAroundZero(Y)){var H=-L/(2*T);H>=0&&H<=1&&(w[B++]=H)}else if(Y>0){var Z=tO(Y),H=(-L+Z)/(2*T),X=(-L-Z)/(2*T);H>=0&&H<=1&&(w[B++]=H),X>=0&&X<=1&&(w[B++]=X)}}return B}function curve_quadraticExtremum(o,v,_){var x=o+_-2*v;return 0===x?.5:(o-v)/x}function curve_quadraticSubdivide(o,v,_,x,w){var T=(v-o)*x+o,L=(_-v)*x+v,N=(L-T)*x+T;w[0]=o,w[1]=T,w[2]=N,w[3]=N,w[4]=L,w[5]=_}function quadraticProjectPoint(o,v,_,x,w,T,L,N,B){var H,Y=.005,Z=1/0;tL[0]=L,tL[1]=N;for(var X=0;X<1;X+=.05){tR[0]=curve_quadraticAt(o,_,w,X),tR[1]=curve_quadraticAt(v,x,T,X);var et=distSquare(tL,tR);et<Z&&(H=X,Z=et)}Z=1/0;for(var en=0;en<32&&!(Y<1e-4);en++){var er=H-Y,ei=H+Y;tR[0]=curve_quadraticAt(o,_,w,er),tR[1]=curve_quadraticAt(v,x,T,er);var et=distSquare(tR,tL);if(er>=0&&et<Z)H=er,Z=et;else{tN[0]=curve_quadraticAt(o,_,w,ei),tN[1]=curve_quadraticAt(v,x,T,ei);var ea=distSquare(tN,tL);ei<=1&&ea<Z?(H=ei,Z=ea):Y*=.5}}return B&&(B[0]=curve_quadraticAt(o,_,w,H),B[1]=curve_quadraticAt(v,x,T,H)),tO(Z)}function quadraticLength(o,v,_,x,w,T,L){for(var N=o,B=v,H=0,Y=1/L,Z=1;Z<=L;Z++){var X=Z*Y,et=curve_quadraticAt(o,_,w,X),en=curve_quadraticAt(v,x,T,X),er=et-N,ei=en-B;H+=Math.sqrt(er*er+ei*ei),N=et,B=en}return H}var tF=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(o){var v=o&&tF.exec(o);if(v){var _=v[1].split(","),x=+trim(_[0]),w=+trim(_[1]),T=+trim(_[2]),L=+trim(_[3]);if(isNaN(x+w+T+L))return;var N=[];return function(o){return o<=0?0:o>=1?1:cubicRootAt(0,x,T,1,o,N)&&curve_cubicAt(0,w,L,1,N[0])}}}var tV=function(){function Clip(o){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=o.life||1e3,this._delay=o.delay||0,this.loop=o.loop||!1,this.onframe=o.onframe||noop,this.ondestroy=o.ondestroy||noop,this.onrestart=o.onrestart||noop,o.easing&&this.setEasing(o.easing)}return Clip.prototype.step=function(o,v){if(this._inited||(this._startTime=o+this._delay,this._inited=!0),this._paused){this._pausedTime+=v;return}var _=this._life,x=o-this._startTime-this._pausedTime,w=x/_;w<0&&(w=0),w=Math.min(w,1);var T=this.easingFunc,L=T?T(w):w;if(this.onframe(L),1===w){if(!this.loop)return!0;this._startTime=o-x%_,this._pausedTime=0,this.onrestart()}return!1},Clip.prototype.pause=function(){this._paused=!0},Clip.prototype.resume=function(){this._paused=!1},Clip.prototype.setEasing=function(o){this.easing=o,this.easingFunc=isFunction(o)?o:tD[o]||createCubicEasingFunc(o)},Clip}(),Entry=function(o){this.value=o},tB=function(){function LinkedList(){this._len=0}return LinkedList.prototype.insert=function(o){var v=new Entry(o);return this.insertEntry(v),v},LinkedList.prototype.insertEntry=function(o){this.head?(this.tail.next=o,o.prev=this.tail,o.next=null,this.tail=o):this.head=this.tail=o,this._len++},LinkedList.prototype.remove=function(o){var v=o.prev,_=o.next;v?v.next=_:this.head=_,_?_.prev=v:this.tail=v,o.next=o.prev=null,this._len--},LinkedList.prototype.len=function(){return this._len},LinkedList.prototype.clear=function(){this.head=this.tail=null,this._len=0},LinkedList}(),tz=function(){function LRU(o){this._list=new tB,this._maxSize=10,this._map={},this._maxSize=o}return LRU.prototype.put=function(o,v){var _=this._list,x=this._map,w=null;if(null==x[o]){var T=_.len(),L=this._lastRemovedEntry;if(T>=this._maxSize&&T>0){var N=_.head;_.remove(N),delete x[N.key],w=N.value,this._lastRemovedEntry=N}L?L.value=v:L=new Entry(v),L.key=o,_.insertEntry(L),x[o]=L}return w},LRU.prototype.get=function(o){var v=this._map[o],_=this._list;if(null!=v)return v!==_.tail&&(_.remove(v),_.insertEntry(v)),v.value},LRU.prototype.clear=function(){this._list.clear(),this._map={}},LRU.prototype.len=function(){return this._list.len()},LRU}(),tj={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(o){return(o=Math.round(o))<0?0:o>255?255:o}function clampCssAngle(o){return(o=Math.round(o))<0?0:o>360?360:o}function clampCssFloat(o){return o<0?0:o>1?1:o}function parseCssInt(o){return o.length&&"%"===o.charAt(o.length-1)?clampCssByte(parseFloat(o)/100*255):clampCssByte(parseInt(o,10))}function parseCssFloat(o){return o.length&&"%"===o.charAt(o.length-1)?clampCssFloat(parseFloat(o)/100):clampCssFloat(parseFloat(o))}function cssHueToRgb(o,v,_){return(_<0?_+=1:_>1&&(_-=1),6*_<1)?o+(v-o)*_*6:2*_<1?v:3*_<2?o+(v-o)*(2/3-_)*6:o}function setRgba(o,v,_,x,w){return o[0]=v,o[1]=_,o[2]=x,o[3]=w,o}function copyRgba(o,v){return o[0]=v[0],o[1]=v[1],o[2]=v[2],o[3]=v[3],o}var tH=new tz(20),tG=null;function putToCache(o,v){tG&&copyRgba(tG,v),tG=tH.put(o,tG||v.slice())}function parse(o,v){if(o){v=v||[];var _=tH.get(o);if(_)return copyRgba(v,_);var x=(o+="").replace(/ /g,"").toLowerCase();if(x in tj)return copyRgba(v,tj[x]),putToCache(o,v),v;var w=x.length;if("#"===x.charAt(0)){if(4===w||5===w){var T=parseInt(x.slice(1,4),16);if(!(T>=0&&T<=4095)){setRgba(v,0,0,0,1);return}return setRgba(v,(3840&T)>>4|(3840&T)>>8,240&T|(240&T)>>4,15&T|(15&T)<<4,5===w?parseInt(x.slice(4),16)/15:1),putToCache(o,v),v}if(7===w||9===w){var T=parseInt(x.slice(1,7),16);if(!(T>=0&&T<=16777215)){setRgba(v,0,0,0,1);return}return setRgba(v,(16711680&T)>>16,(65280&T)>>8,255&T,9===w?parseInt(x.slice(7),16)/255:1),putToCache(o,v),v}return}var L=x.indexOf("("),N=x.indexOf(")");if(-1!==L&&N+1===w){var B=x.substr(0,L),H=x.substr(L+1,N-(L+1)).split(","),Y=1;switch(B){case"rgba":if(4!==H.length)return 3===H.length?setRgba(v,+H[0],+H[1],+H[2],1):setRgba(v,0,0,0,1);Y=parseCssFloat(H.pop());case"rgb":if(H.length>=3)return setRgba(v,parseCssInt(H[0]),parseCssInt(H[1]),parseCssInt(H[2]),3===H.length?Y:parseCssFloat(H[3])),putToCache(o,v),v;setRgba(v,0,0,0,1);return;case"hsla":if(4!==H.length){setRgba(v,0,0,0,1);return}return H[3]=parseCssFloat(H[3]),hsla2rgba(H,v),putToCache(o,v),v;case"hsl":if(3!==H.length){setRgba(v,0,0,0,1);return}return hsla2rgba(H,v),putToCache(o,v),v;default:return}}setRgba(v,0,0,0,1)}}function hsla2rgba(o,v){var _=(parseFloat(o[0])%360+360)%360/360,x=parseCssFloat(o[1]),w=parseCssFloat(o[2]),T=w<=.5?w*(x+1):w+x-w*x,L=2*w-T;return setRgba(v=v||[],clampCssByte(255*cssHueToRgb(L,T,_+1/3)),clampCssByte(255*cssHueToRgb(L,T,_)),clampCssByte(255*cssHueToRgb(L,T,_-1/3)),1),4===o.length&&(v[3]=o[3]),v}function rgba2hsla(o){if(o){var v,_,x=o[0]/255,w=o[1]/255,T=o[2]/255,L=Math.min(x,w,T),N=Math.max(x,w,T),B=N-L,H=(N+L)/2;if(0===B)v=0,_=0;else{_=H<.5?B/(N+L):B/(2-N-L);var Y=((N-x)/6+B/2)/B,Z=((N-w)/6+B/2)/B,X=((N-T)/6+B/2)/B;x===N?v=X-Z:w===N?v=1/3+Y-X:T===N&&(v=2/3+Z-Y),v<0&&(v+=1),v>1&&(v-=1)}var et=[360*v,_,H];return null!=o[3]&&et.push(o[3]),et}}function lift(o,v){var _=parse(o);if(_){for(var x=0;x<3;x++)v<0?_[x]=_[x]*(1-v)|0:_[x]=(255-_[x])*v+_[x]|0,_[x]>255?_[x]=255:_[x]<0&&(_[x]=0);return stringify(_,4===_.length?"rgba":"rgb")}}function fastLerp(o,v,_){if(v&&v.length&&o>=0&&o<=1){_=_||[];var x,w,T,L,N=o*(v.length-1),B=Math.floor(N),H=v[B],Y=v[Math.ceil(N)],Z=N-B;return _[0]=clampCssByte((x=H[0])+(Y[0]-x)*Z),_[1]=clampCssByte((w=H[1])+(Y[1]-w)*Z),_[2]=clampCssByte((T=H[2])+(Y[2]-T)*Z),_[3]=clampCssFloat((L=H[3])+(Y[3]-L)*Z),_}}function color_lerp(o,v,_){if(v&&v.length&&o>=0&&o<=1){var x,w,T,L,N=o*(v.length-1),B=Math.floor(N),H=Math.ceil(N),Y=parse(v[B]),Z=parse(v[H]),X=N-B,et=stringify([clampCssByte((x=Y[0])+(Z[0]-x)*X),clampCssByte((w=Y[1])+(Z[1]-w)*X),clampCssByte((T=Y[2])+(Z[2]-T)*X),clampCssFloat((L=Y[3])+(Z[3]-L)*X)],"rgba");return _?{color:et,leftIndex:B,rightIndex:H,value:N}:et}}function modifyHSL(o,v,_,x){var w=parse(o);if(o)return w=rgba2hsla(w),null!=v&&(w[0]=clampCssAngle(v)),null!=_&&(w[1]=parseCssFloat(_)),null!=x&&(w[2]=parseCssFloat(x)),stringify(hsla2rgba(w),"rgba")}function modifyAlpha(o,v){var _=parse(o);if(_&&null!=v)return _[3]=clampCssFloat(v),stringify(_,"rgba")}function stringify(o,v){if(o&&o.length){var _=o[0]+","+o[1]+","+o[2];return("rgba"===v||"hsva"===v||"hsla"===v)&&(_+=","+o[3]),v+"("+_+")"}}function lum(o,v){var _=parse(o);return _?(.299*_[0]+.587*_[1]+.114*_[2])*_[3]/255+(1-_[3])*v:0}var tU=_(9522).Buffer,tW=Math.round;function normalizeColor(o){var v;if(o&&"transparent"!==o){if("string"==typeof o&&o.indexOf("rgba")>-1){var _=parse(o);_&&(o="rgb("+_[0]+","+_[1]+","+_[2]+")",v=_[3])}}else o="none";return{color:o,opacity:null==v?1:v}}function helper_isAroundZero(o){return o<1e-4&&o>-.0001}function round3(o){return tW(1e3*o)/1e3}function round4(o){return tW(1e4*o)/1e4}function getMatrixStr(o){return"matrix("+round3(o[0])+","+round3(o[1])+","+round3(o[2])+","+round3(o[3])+","+round4(o[4])+","+round4(o[5])+")"}var tY={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY(o,v,_){return"top"===_?o+=v/2:"bottom"===_&&(o-=v/2),o}function hasShadow(o){return o&&(o.shadowBlur||o.shadowOffsetX||o.shadowOffsetY)}function getShadowKey(o){var v=o.style,_=o.getGlobalScale();return[v.shadowColor,(v.shadowBlur||0).toFixed(2),(v.shadowOffsetX||0).toFixed(2),(v.shadowOffsetY||0).toFixed(2),_[0],_[1]].join(",")}function isImagePattern(o){return o&&!!o.image}function isSVGPattern(o){return o&&!!o.svgElement}function isPattern(o){return isImagePattern(o)||isSVGPattern(o)}function isLinearGradient(o){return"linear"===o.type}function isRadialGradient(o){return"radial"===o.type}function isGradient(o){return o&&("linear"===o.type||"radial"===o.type)}function getIdURL(o){return"url(#"+o+")"}function getPathPrecision(o){var v=o.getGlobalScale();return Math.max(Math.ceil(Math.log(Math.max(v[0],v[1]))/Math.log(10)),1)}function getSRTTransformString(o){var v=o.x||0,_=o.y||0,x=(o.rotation||0)*e6,w=retrieve2(o.scaleX,1),T=retrieve2(o.scaleY,1),L=o.skewX||0,N=o.skewY||0,B=[];return(v||_)&&B.push("translate("+v+"px,"+_+"px)"),x&&B.push("rotate("+x+")"),(1!==w||1!==T)&&B.push("scale("+w+","+T+")"),(L||N)&&B.push("skew("+tW(L*e6)+"deg, "+tW(N*e6)+"deg)"),B.join(" ")}var tK=eV.hasGlobalWindow&&isFunction(window.btoa)?function(o){return window.btoa(unescape(encodeURIComponent(o)))}:void 0!==tU?function(o){return tU.from(o).toString("base64")}:function(o){return null},tZ=Array.prototype.slice;function interpolate1DArray(o,v,_,x){for(var w,T=v.length,L=0;L<T;L++)o[L]=(w=v[L],(_[L]-w)*x+w);return o}function interpolate2DArray(o,v,_,x){for(var w=v.length,T=w&&v[0].length,L=0;L<w;L++){o[L]||(o[L]=[]);for(var N,B=0;B<T;B++)o[L][B]=(N=v[L][B],(_[L][B]-N)*x+N)}return o}function add1DArray(o,v,_,x){for(var w=v.length,T=0;T<w;T++)o[T]=v[T]+_[T]*x;return o}function add2DArray(o,v,_,x){for(var w=v.length,T=w&&v[0].length,L=0;L<w;L++){o[L]||(o[L]=[]);for(var N=0;N<T;N++)o[L][N]=v[L][N]+_[L][N]*x}return o}function fillColorStops(o,v){for(var _=o.length,x=v.length,w=_>x?v:o,T=Math.min(_,x),L=w[T-1]||{color:[0,0,0,0],offset:0},N=T;N<Math.max(_,x);N++)w.push({offset:L.offset,color:L.color.slice()})}function fillArray(o,v,_){if(o.push&&v.push){var x=o.length,w=v.length;if(x!==w){if(x>w)o.length=w;else for(var T=x;T<w;T++)o.push(1===_?v[T]:tZ.call(v[T]))}for(var L=o[0]&&o[0].length,T=0;T<o.length;T++)if(1===_)isNaN(o[T])&&(o[T]=v[T]);else for(var N=0;N<L;N++)isNaN(o[T][N])&&(o[T][N]=v[T][N])}}function cloneValue(o){if(isArrayLike(o)){var v=o.length;if(isArrayLike(o[0])){for(var _=[],x=0;x<v;x++)_.push(tZ.call(o[x]));return _}return tZ.call(o)}return o}function rgba2String(o){return o[0]=Math.floor(o[0])||0,o[1]=Math.floor(o[1])||0,o[2]=Math.floor(o[2])||0,o[3]=null==o[3]?1:o[3],"rgba("+o.join(",")+")"}function guessArrayDim(o){return isArrayLike(o&&o[0])?2:1}function isGradientValueType(o){return 4===o||5===o}function isArrayValueType(o){return 1===o||2===o}var tq=[0,0,0,0],tX=function(){function Track(o){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=o}return Track.prototype.isFinished=function(){return this._finished},Track.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},Track.prototype.needsAnimate=function(){return this.keyframes.length>=1},Track.prototype.getAdditiveTrack=function(){return this._additiveTrack},Track.prototype.addKeyframe=function(o,v,_){this._needsSort=!0;var x=this.keyframes,w=x.length,T=!1,L=6,N=v;if(isArrayLike(v)){var B=guessArrayDim(v);L=B,(1!==B||isNumber(v[0]))&&(2!==B||isNumber(v[0][0]))||(T=!0)}else if(isNumber(v)&&!(v!=v))L=0;else if(util_isString(v)){if(isNaN(+v)){var H=parse(v);H&&(N=H,L=3)}else L=0}else if(isGradientObject(v)){var Y=extend({},N);Y.colorStops=map(v.colorStops,function(o){return{offset:o.offset,color:parse(o.color)}}),isLinearGradient(v)?L=4:isRadialGradient(v)&&(L=5),N=Y}0===w?this.valType=L:(L!==this.valType||6===L)&&(T=!0),this.discrete=this.discrete||T;var Z={time:o,value:N,rawValue:v,percent:0};return _&&(Z.easing=_,Z.easingFunc=isFunction(_)?_:tD[_]||createCubicEasingFunc(_)),x.push(Z),Z},Track.prototype.prepare=function(o,v){var _=this.keyframes;this._needsSort&&_.sort(function(o,v){return o.time-v.time});for(var x=this.valType,w=_.length,T=_[w-1],L=this.discrete,N=isArrayValueType(x),B=isGradientValueType(x),H=0;H<w;H++){var Y=_[H],Z=Y.value,X=T.value;Y.percent=Y.time/o,!L&&(N&&H!==w-1?fillArray(Z,X,x):B&&fillColorStops(Z.colorStops,X.colorStops))}if(!L&&5!==x&&v&&this.needsAnimate()&&v.needsAnimate()&&x===v.valType&&!v._finished){this._additiveTrack=v;for(var et=_[0].value,H=0;H<w;H++)0===x?_[H].additiveValue=_[H].value-et:3===x?_[H].additiveValue=add1DArray([],_[H].value,et,-1):isArrayValueType(x)&&(_[H].additiveValue=1===x?add1DArray([],_[H].value,et,-1):add2DArray([],_[H].value,et,-1))}},Track.prototype.step=function(o,v){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var _,x,w,T=null!=this._additiveTrack,L=T?"additiveValue":"value",N=this.valType,B=this.keyframes,H=B.length,Y=this.propName,Z=3===N,X=this._lastFr,et=Math.min;if(1===H)x=w=B[0];else{if(v<0)_=0;else if(v<this._lastFrP){for(_=et(X+1,H-1);_>=0&&!(B[_].percent<=v);_--);_=et(_,H-2)}else{for(_=X;_<H&&!(B[_].percent>v);_++);_=et(_-1,H-2)}w=B[_+1],x=B[_]}if(x&&w){this._lastFr=_,this._lastFrP=v;var en=w.percent-x.percent,er=0===en?1:et((v-x.percent)/en,1);w.easingFunc&&(er=w.easingFunc(er));var ei=T?this._additiveValue:Z?tq:o[Y];if((isArrayValueType(N)||Z)&&!ei&&(ei=this._additiveValue=[]),this.discrete)o[Y]=er<1?x.rawValue:w.rawValue;else if(isArrayValueType(N))1===N?interpolate1DArray(ei,x[L],w[L],er):interpolate2DArray(ei,x[L],w[L],er);else if(isGradientValueType(N)){var ea,eo,el,eu,ec,ed=x[L],eh=w[L],ep=4===N;(o[Y]={type:ep?"linear":"radial",x:(ea=ed.x,(eh.x-ea)*er+ea),y:(eo=ed.y,(eh.y-eo)*er+eo),colorStops:map(ed.colorStops,function(o,v){var _,x=eh.colorStops[v];return{offset:(_=o.offset,(x.offset-_)*er+_),color:rgba2String(interpolate1DArray([],o.color,x.color,er))}}),global:eh.global},ep)?(o[Y].x2=(el=ed.x2,(eh.x2-el)*er+el),o[Y].y2=(eu=ed.y2,(eh.y2-eu)*er+eu)):o[Y].r=(ec=ed.r,(eh.r-ec)*er+ec)}else if(Z)interpolate1DArray(ei,x[L],w[L],er),T||(o[Y]=rgba2String(ei));else{var ef,eg=(ef=x[L],(w[L]-ef)*er+ef);T?this._additiveValue=eg:o[Y]=eg}T&&this._addToTarget(o)}}},Track.prototype._addToTarget=function(o){var v=this.valType,_=this.propName,x=this._additiveValue;0===v?o[_]=o[_]+x:3===v?(parse(o[_],tq),add1DArray(tq,tq,x,1),o[_]=rgba2String(tq)):1===v?add1DArray(o[_],o[_],x,1):2===v&&add2DArray(o[_],o[_],x,1)},Track}(),t$=function(){function Animator(o,v,_,x){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=o,this._loop=v,v&&x){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=x,this._allowDiscrete=_}return Animator.prototype.getMaxTime=function(){return this._maxTime},Animator.prototype.getDelay=function(){return this._delay},Animator.prototype.getLoop=function(){return this._loop},Animator.prototype.getTarget=function(){return this._target},Animator.prototype.changeTarget=function(o){this._target=o},Animator.prototype.when=function(o,v,_){return this.whenWithKeys(o,v,keys(v),_)},Animator.prototype.whenWithKeys=function(o,v,_,x){for(var w=this._tracks,T=0;T<_.length;T++){var L=_[T],N=w[L];if(!N){N=w[L]=new tX(L);var B=void 0,H=this._getAdditiveTrack(L);if(H){var Y=H.keyframes,Z=Y[Y.length-1];B=Z&&Z.value,3===H.valType&&B&&(B=rgba2String(B))}else B=this._target[L];if(null==B)continue;o>0&&N.addKeyframe(0,cloneValue(B),x),this._trackKeys.push(L)}N.addKeyframe(o,cloneValue(v[L]),x)}return this._maxTime=Math.max(this._maxTime,o),this},Animator.prototype.pause=function(){this._clip.pause(),this._paused=!0},Animator.prototype.resume=function(){this._clip.resume(),this._paused=!1},Animator.prototype.isPaused=function(){return!!this._paused},Animator.prototype.duration=function(o){return this._maxTime=o,this._force=!0,this},Animator.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var o=this._doneCbs;if(o)for(var v=o.length,_=0;_<v;_++)o[_].call(this)},Animator.prototype._abortedCallback=function(){this._setTracksFinished();var o=this.animation,v=this._abortedCbs;if(o&&o.removeClip(this._clip),this._clip=null,v)for(var _=0;_<v.length;_++)v[_].call(this)},Animator.prototype._setTracksFinished=function(){for(var o=this._tracks,v=this._trackKeys,_=0;_<v.length;_++)o[v[_]].setFinished()},Animator.prototype._getAdditiveTrack=function(o){var v,_=this._additiveAnimators;if(_)for(var x=0;x<_.length;x++){var w=_[x].getTrack(o);w&&(v=w)}return v},Animator.prototype.start=function(o){if(!(this._started>0)){this._started=1;for(var v=this,_=[],x=this._maxTime||0,w=0;w<this._trackKeys.length;w++){var T=this._trackKeys[w],L=this._tracks[T],N=this._getAdditiveTrack(T),B=L.keyframes,H=B.length;if(L.prepare(x,N),L.needsAnimate()){if(!this._allowDiscrete&&L.discrete){var Y=B[H-1];Y&&(v._target[L.propName]=Y.rawValue),L.setFinished()}else _.push(L)}}if(_.length||this._force){var Z=new tV({life:x,loop:this._loop,delay:this._delay||0,onframe:function(o){v._started=2;var x=v._additiveAnimators;if(x){for(var w=!1,T=0;T<x.length;T++)if(x[T]._clip){w=!0;break}w||(v._additiveAnimators=null)}for(var T=0;T<_.length;T++)_[T].step(v._target,o);var L=v._onframeCbs;if(L)for(var T=0;T<L.length;T++)L[T](v._target,o)},ondestroy:function(){v._doneCallback()}});this._clip=Z,this.animation&&this.animation.addClip(Z),o&&Z.setEasing(o)}else this._doneCallback();return this}},Animator.prototype.stop=function(o){if(this._clip){var v=this._clip;o&&v.onframe(1),this._abortedCallback()}},Animator.prototype.delay=function(o){return this._delay=o,this},Animator.prototype.during=function(o){return o&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(o)),this},Animator.prototype.done=function(o){return o&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(o)),this},Animator.prototype.aborted=function(o){return o&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(o)),this},Animator.prototype.getClip=function(){return this._clip},Animator.prototype.getTrack=function(o){return this._tracks[o]},Animator.prototype.getTracks=function(){var o=this;return map(this._trackKeys,function(v){return o._tracks[v]})},Animator.prototype.stopTracks=function(o,v){if(!o.length||!this._clip)return!0;for(var _=this._tracks,x=this._trackKeys,w=0;w<o.length;w++){var T=_[o[w]];T&&!T.isFinished()&&(v?T.step(this._target,1):1===this._started&&T.step(this._target,0),T.setFinished())}for(var L=!0,w=0;w<x.length;w++)if(!_[x[w]].isFinished()){L=!1;break}return L&&this._abortedCallback(),L},Animator.prototype.saveTo=function(o,v,_){if(o){v=v||this._trackKeys;for(var x=0;x<v.length;x++){var w=v[x],T=this._tracks[w];if(!(!T||T.isFinished())){var L=T.keyframes,N=L[_?0:L.length-1];N&&(o[w]=cloneValue(N.rawValue))}}}},Animator.prototype.__changeFinalValue=function(o,v){v=v||keys(o);for(var _=0;_<v.length;_++){var x=v[_],w=this._tracks[x];if(w){var T=w.keyframes;if(T.length>1){var L=T.pop();w.addKeyframe(L.time,o[x]),w.prepare(this._maxTime,w.getAdditiveTrack())}}}},Animator}();function getTime(){return new Date().getTime()}var tQ=function(o){function Animation(v){var _=o.call(this)||this;return _._running=!1,_._time=0,_._pausedTime=0,_._pauseStart=0,_._paused=!1,v=v||{},_.stage=v.stage||{},_}return __extends(Animation,o),Animation.prototype.addClip=function(o){o.animation&&this.removeClip(o),this._head?(this._tail.next=o,o.prev=this._tail,o.next=null,this._tail=o):this._head=this._tail=o,o.animation=this},Animation.prototype.addAnimator=function(o){o.animation=this;var v=o.getClip();v&&this.addClip(v)},Animation.prototype.removeClip=function(o){if(o.animation){var v=o.prev,_=o.next;v?v.next=_:this._head=_,_?_.prev=v:this._tail=v,o.next=o.prev=o.animation=null}},Animation.prototype.removeAnimator=function(o){var v=o.getClip();v&&this.removeClip(v),o.animation=null},Animation.prototype.update=function(o){for(var v=getTime()-this._pausedTime,_=v-this._time,x=this._head;x;){var w=x.next;x.step(v,_)&&(x.ondestroy(),this.removeClip(x)),x=w}this._time=v,!o&&(this.trigger("frame",_),this.stage.update&&this.stage.update())},Animation.prototype._startLoop=function(){var o=this;function step(){o._running&&(Z(step),o._paused||o.update())}this._running=!0,Z(step)},Animation.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},Animation.prototype.stop=function(){this._running=!1},Animation.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},Animation.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},Animation.prototype.clear=function(){for(var o=this._head;o;){var v=o.next;o.prev=o.next=o.animation=null,o=v}this._head=this._tail=null},Animation.prototype.isFinished=function(){return null==this._head},Animation.prototype.animate=function(o,v){v=v||{},this.start();var _=new t$(o,v.loop);return this.addAnimator(_),_},Animation}(te),tJ=eV.domSupported,t0=(B={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},H=map(N=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],function(o){var v=o.replace("mouse","pointer");return B.hasOwnProperty(v)?v:o}),{mouse:N,touch:["touchstart","touchend","touchmove"],pointer:H}),t1={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},t2=!1;function isPointerFromTouch(o){var v=o.pointerType;return"pen"===v||"touch"===v}function setTouchTimer(o){o.touching=!0,null!=o.touchTimer&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout(function(){o.touching=!1,o.touchTimer=null},700)}function markTouch(o){o&&(o.zrByTouch=!0)}function normalizeGlobalEvent(o,v){return normalizeEvent(o.dom,new FakeGlobalEvent(o,v),!0)}function isLocalEl(o,v){for(var _=v,x=!1;_&&9!==_.nodeType&&!(x=_.domBelongToZr||_!==v&&_===o.painterRoot);)_=_.parentNode;return x}var FakeGlobalEvent=function(o,v){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=v.type,this.target=this.currentTarget=o.dom,this.pointerType=v.pointerType,this.clientX=v.clientX,this.clientY=v.clientY},t5={mousedown:function(o){o=normalizeEvent(this.dom,o),this.__mayPointerCapture=[o.zrX,o.zrY],this.trigger("mousedown",o)},mousemove:function(o){o=normalizeEvent(this.dom,o);var v=this.__mayPointerCapture;v&&(o.zrX!==v[0]||o.zrY!==v[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",o)},mouseup:function(o){o=normalizeEvent(this.dom,o),this.__togglePointerCapture(!1),this.trigger("mouseup",o)},mouseout:function(o){isLocalEl(this,(o=normalizeEvent(this.dom,o)).toElement||o.relatedTarget)||(this.__pointerCapturing&&(o.zrEventControl="no_globalout"),this.trigger("mouseout",o))},wheel:function(o){t2=!0,o=normalizeEvent(this.dom,o),this.trigger("mousewheel",o)},mousewheel:function(o){t2||(o=normalizeEvent(this.dom,o),this.trigger("mousewheel",o))},touchstart:function(o){markTouch(o=normalizeEvent(this.dom,o)),this.__lastTouchMoment=new Date,this.handler.processGesture(o,"start"),t5.mousemove.call(this,o),t5.mousedown.call(this,o)},touchmove:function(o){markTouch(o=normalizeEvent(this.dom,o)),this.handler.processGesture(o,"change"),t5.mousemove.call(this,o)},touchend:function(o){markTouch(o=normalizeEvent(this.dom,o)),this.handler.processGesture(o,"end"),t5.mouseup.call(this,o),+new Date-+this.__lastTouchMoment<300&&t5.click.call(this,o)},pointerdown:function(o){t5.mousedown.call(this,o)},pointermove:function(o){isPointerFromTouch(o)||t5.mousemove.call(this,o)},pointerup:function(o){t5.mouseup.call(this,o)},pointerout:function(o){isPointerFromTouch(o)||t5.mouseout.call(this,o)}};util_each(["click","dblclick","contextmenu"],function(o){t5[o]=function(v){v=normalizeEvent(this.dom,v),this.trigger(o,v)}});var t3={pointermove:function(o){isPointerFromTouch(o)||t3.mousemove.call(this,o)},pointerup:function(o){t3.mouseup.call(this,o)},mousemove:function(o){this.trigger("mousemove",o)},mouseup:function(o){var v=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",o),v&&(o.zrEventControl="only_globalout",this.trigger("mouseout",o))}};function mountLocalDOMEventListeners(o,v){var _=v.domHandlers;eV.pointerEventsSupported?util_each(t0.pointer,function(x){mountSingleDOMEventListener(v,x,function(v){_[x].call(o,v)})}):(eV.touchEventsSupported&&util_each(t0.touch,function(x){mountSingleDOMEventListener(v,x,function(w){_[x].call(o,w),setTouchTimer(v)})}),util_each(t0.mouse,function(x){mountSingleDOMEventListener(v,x,function(w){w=getNativeEvent(w),v.touching||_[x].call(o,w)})}))}function mountGlobalDOMEventListeners(o,v){eV.pointerEventsSupported?util_each(t1.pointer,mount):eV.touchEventsSupported||util_each(t1.mouse,mount);function mount(_){function nativeEventListener(x){isLocalEl(o,(x=getNativeEvent(x)).target)||(x=normalizeGlobalEvent(o,x),v.domHandlers[_].call(o,x))}mountSingleDOMEventListener(v,_,nativeEventListener,{capture:!0})}}function mountSingleDOMEventListener(o,v,_,x){o.mounted[v]=_,o.listenerOpts[v]=x,addEventListener(o.domTarget,v,_,x)}function unmountDOMEventListeners(o){var v=o.mounted;for(var _ in v)v.hasOwnProperty(_)&&removeEventListener(o.domTarget,_,v[_],o.listenerOpts[_]);o.mounted={}}var DOMHandlerScope=function(o,v){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=o,this.domHandlers=v},t4=function(o){function HandlerDomProxy(v,_){var x=o.call(this)||this;return x.__pointerCapturing=!1,x.dom=v,x.painterRoot=_,x._localHandlerScope=new DOMHandlerScope(v,t5),tJ&&(x._globalHandlerScope=new DOMHandlerScope(document,t3)),mountLocalDOMEventListeners(x,x._localHandlerScope),x}return __extends(HandlerDomProxy,o),HandlerDomProxy.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),tJ&&unmountDOMEventListeners(this._globalHandlerScope)},HandlerDomProxy.prototype.setCursor=function(o){this.dom.style&&(this.dom.style.cursor=o||"default")},HandlerDomProxy.prototype.__togglePointerCapture=function(o){if(this.__mayPointerCapture=null,tJ&&+this.__pointerCapturing^+o){this.__pointerCapturing=o;var v=this._globalHandlerScope;o?mountGlobalDOMEventListeners(this,v):unmountDOMEventListeners(v)}},HandlerDomProxy}(te),t7=1;eV.hasGlobalWindow&&(t7=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var t6=t7,t9="#333",t8="#ccc",nt=identity;function Transformable_isNotAroundZero(o){return o>5e-5||o<-.00005}var nn=[],nr=[],ni=matrix_create(),na=Math.abs,no=function(){var o;function Transformable(){}return Transformable.prototype.getLocalTransform=function(o){return Transformable.getLocalTransform(this,o)},Transformable.prototype.setPosition=function(o){this.x=o[0],this.y=o[1]},Transformable.prototype.setScale=function(o){this.scaleX=o[0],this.scaleY=o[1]},Transformable.prototype.setSkew=function(o){this.skewX=o[0],this.skewY=o[1]},Transformable.prototype.setOrigin=function(o){this.originX=o[0],this.originY=o[1]},Transformable.prototype.needLocalTransform=function(){return Transformable_isNotAroundZero(this.rotation)||Transformable_isNotAroundZero(this.x)||Transformable_isNotAroundZero(this.y)||Transformable_isNotAroundZero(this.scaleX-1)||Transformable_isNotAroundZero(this.scaleY-1)||Transformable_isNotAroundZero(this.skewX)||Transformable_isNotAroundZero(this.skewY)},Transformable.prototype.updateTransform=function(){var o=this.parent&&this.parent.transform,v=this.needLocalTransform(),_=this.transform;if(!(v||o)){_&&(nt(_),this.invTransform=null);return}_=_||matrix_create(),v?this.getLocalTransform(_):nt(_),o&&(v?matrix_mul(_,o,_):matrix_copy(_,o)),this.transform=_,this._resolveGlobalScaleRatio(_)},Transformable.prototype._resolveGlobalScaleRatio=function(o){var v=this.globalScaleRatio;if(null!=v&&1!==v){this.getGlobalScale(nn);var _=nn[0]<0?-1:1,x=nn[1]<0?-1:1,w=((nn[0]-_)*v+_)/nn[0]||0,T=((nn[1]-x)*v+x)/nn[1]||0;o[0]*=w,o[1]*=w,o[2]*=T,o[3]*=T}this.invTransform=this.invTransform||matrix_create(),matrix_invert(this.invTransform,o)},Transformable.prototype.getComputedTransform=function(){for(var o=this,v=[];o;)v.push(o),o=o.parent;for(;o=v.pop();)o.updateTransform();return this.transform},Transformable.prototype.setLocalTransform=function(o){if(o){var v=o[0]*o[0]+o[1]*o[1],_=o[2]*o[2]+o[3]*o[3],x=Math.atan2(o[1],o[0]),w=Math.PI/2+x-Math.atan2(o[3],o[2]);_=Math.sqrt(_)*Math.cos(w),v=Math.sqrt(v),this.skewX=w,this.skewY=0,this.rotation=-x,this.x=+o[4],this.y=+o[5],this.scaleX=v,this.scaleY=_,this.originX=0,this.originY=0}},Transformable.prototype.decomposeTransform=function(){if(this.transform){var o=this.parent,v=this.transform;o&&o.transform&&(matrix_mul(nr,o.invTransform,v),v=nr);var _=this.originX,x=this.originY;(_||x)&&(ni[4]=_,ni[5]=x,matrix_mul(nr,v,ni),nr[4]-=_,nr[5]-=x,v=nr),this.setLocalTransform(v)}},Transformable.prototype.getGlobalScale=function(o){var v=this.transform;return(o=o||[],v)?(o[0]=Math.sqrt(v[0]*v[0]+v[1]*v[1]),o[1]=Math.sqrt(v[2]*v[2]+v[3]*v[3]),v[0]<0&&(o[0]=-o[0]),v[3]<0&&(o[1]=-o[1])):(o[0]=1,o[1]=1),o},Transformable.prototype.transformCoordToLocal=function(o,v){var _=[o,v],x=this.invTransform;return x&&applyTransform(_,_,x),_},Transformable.prototype.transformCoordToGlobal=function(o,v){var _=[o,v],x=this.transform;return x&&applyTransform(_,_,x),_},Transformable.prototype.getLineScale=function(){var o=this.transform;return o&&na(o[0]-1)>1e-10&&na(o[3]-1)>1e-10?Math.sqrt(na(o[0]*o[3]-o[2]*o[1])):1},Transformable.prototype.copyTransform=function(o){copyTransform(this,o)},Transformable.getLocalTransform=function(o,v){v=v||[];var _=o.originX||0,x=o.originY||0,w=o.scaleX,T=o.scaleY,L=o.anchorX,N=o.anchorY,B=o.rotation||0,H=o.x,Y=o.y,Z=o.skewX?Math.tan(o.skewX):0,X=o.skewY?Math.tan(-o.skewY):0;if(_||x||L||N){var et=_+L,en=x+N;v[4]=-et*w-Z*en*T,v[5]=-en*T-X*et*w}else v[4]=v[5]=0;return v[0]=w,v[3]=T,v[1]=X*w,v[2]=Z*T,B&&rotate(v,v,B),v[4]+=_+H,v[5]+=x+Y,v},Transformable.initDefaultProps=void((o=Transformable.prototype).scaleX=o.scaleY=o.globalScaleRatio=1,o.x=o.y=o.originX=o.originY=o.skewX=o.skewY=o.rotation=o.anchorX=o.anchorY=0),Transformable}(),ns=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(o,v){for(var _=0;_<ns.length;_++){var x=ns[_];o[x]=v[x]}}var nl={};function getWidth(o,v){var _=nl[v=v||ez];_||(_=nl[v]=new tz(500));var x=_.get(o);return null==x&&(x=eH.measureText(o,v).width,_.put(o,x)),x}function innerGetBoundingRect(o,v,_,x){var w=getWidth(o,v),T=getLineHeight(v);return new tS(adjustTextX(0,w,_),text_adjustTextY(0,T,x),w,T)}function getBoundingRect(o,v,_,x){var w=((o||"")+"").split("\n");if(1===w.length)return innerGetBoundingRect(w[0],v,_,x);for(var T=new tS(0,0,0,0),L=0;L<w.length;L++){var N=innerGetBoundingRect(w[L],v,_,x);0===L?T.copy(N):T.union(N)}return T}function adjustTextX(o,v,_){return"right"===_?o-=v:"center"===_&&(o-=v/2),o}function text_adjustTextY(o,v,_){return"middle"===_?o-=v/2:"bottom"===_&&(o-=v),o}function getLineHeight(o){return getWidth("",o)}function parsePercent(o,v){return"string"==typeof o?o.lastIndexOf("%")>=0?parseFloat(o)/100*v:parseFloat(o):o}function calculateTextPosition(o,v,_){var x=v.position||"inside",w=null!=v.distance?v.distance:5,T=_.height,L=_.width,N=T/2,B=_.x,H=_.y,Y="left",Z="top";if(x instanceof Array)B+=parsePercent(x[0],_.width),H+=parsePercent(x[1],_.height),Y=null,Z=null;else switch(x){case"left":B-=w,H+=N,Y="right",Z="middle";break;case"right":B+=w+L,H+=N,Z="middle";break;case"top":B+=L/2,H-=w,Y="center",Z="bottom";break;case"bottom":B+=L/2,H+=T+w,Y="center";break;case"inside":B+=L/2,H+=N,Y="center",Z="middle";break;case"insideLeft":B+=w,H+=N,Z="middle";break;case"insideRight":B+=L-w,H+=N,Y="right",Z="middle";break;case"insideTop":B+=L/2,H+=w,Y="center";break;case"insideBottom":B+=L/2,H+=T-w,Y="center",Z="bottom";break;case"insideTopLeft":B+=w,H+=w;break;case"insideTopRight":B+=L-w,H+=w,Y="right";break;case"insideBottomLeft":B+=w,H+=T-w,Z="bottom";break;case"insideBottomRight":B+=L-w,H+=T-w,Y="right",Z="bottom"}return(o=o||{}).x=B,o.y=H,o.align=Y,o.verticalAlign=Z,o}var nu="__zr_normal__",nc=ns.concat(["ignore"]),nd=reduce(ns,function(o,v){return o[v]=!0,o},{ignore:!1}),nh={},np=new tS(0,0,0,0),nf=function(){function Element(o){this.id=e1++,this.animators=[],this.currentStates=[],this.states={},this._init(o)}return Element.prototype._init=function(o){this.attr(o)},Element.prototype.drift=function(o,v,_){switch(this.draggable){case"horizontal":v=0;break;case"vertical":o=0}var x=this.transform;x||(x=this.transform=[1,0,0,1,0,0]),x[4]+=o,x[5]+=v,this.decomposeTransform(),this.markRedraw()},Element.prototype.beforeUpdate=function(){},Element.prototype.afterUpdate=function(){},Element.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},Element.prototype.updateInnerText=function(o){var v=this._textContent;if(v&&(!v.ignore||o)){this.textConfig||(this.textConfig={});var _=this.textConfig,x=_.local,w=v.innerTransformable,T=void 0,L=void 0,N=!1;w.parent=x?this:null;var B=!1;if(w.copyTransform(v),null!=_.position){_.layoutRect?np.copy(_.layoutRect):np.copy(this.getBoundingRect()),x||np.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(nh,_,np):calculateTextPosition(nh,_,np),w.x=nh.x,w.y=nh.y,T=nh.align,L=nh.verticalAlign;var H=_.origin;if(H&&null!=_.rotation){var Y=void 0,Z=void 0;"center"===H?(Y=.5*np.width,Z=.5*np.height):(Y=parsePercent(H[0],np.width),Z=parsePercent(H[1],np.height)),B=!0,w.originX=-w.x+Y+(x?0:np.x),w.originY=-w.y+Z+(x?0:np.y)}}null!=_.rotation&&(w.rotation=_.rotation);var X=_.offset;X&&(w.x+=X[0],w.y+=X[1],B||(w.originX=-X[0],w.originY=-X[1]));var et=null==_.inside?"string"==typeof _.position&&_.position.indexOf("inside")>=0:_.inside,en=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),er=void 0,ei=void 0,ea=void 0;et&&this.canBeInsideText()?(er=_.insideFill,ei=_.insideStroke,(null==er||"auto"===er)&&(er=this.getInsideTextFill()),(null==ei||"auto"===ei)&&(ei=this.getInsideTextStroke(er),ea=!0)):(er=_.outsideFill,ei=_.outsideStroke,(null==er||"auto"===er)&&(er=this.getOutsideFill()),(null==ei||"auto"===ei)&&(ei=this.getOutsideStroke(er),ea=!0)),((er=er||"#000")!==en.fill||ei!==en.stroke||ea!==en.autoStroke||T!==en.align||L!==en.verticalAlign)&&(N=!0,en.fill=er,en.stroke=ei,en.autoStroke=ea,en.align=T,en.verticalAlign=L,v.setDefaultTextStyle(en)),v.__dirty|=1,N&&v.dirtyStyle(!0)}},Element.prototype.canBeInsideText=function(){return!0},Element.prototype.getInsideTextFill=function(){return"#fff"},Element.prototype.getInsideTextStroke=function(o){return"#000"},Element.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?t8:t9},Element.prototype.getOutsideStroke=function(o){var v=this.__zr&&this.__zr.getBackgroundColor(),_="string"==typeof v&&parse(v);_||(_=[255,255,255,1]);for(var x=_[3],w=this.__zr.isDarkMode(),T=0;T<3;T++)_[T]=_[T]*x+(w?0:255)*(1-x);return _[3]=1,stringify(_,"rgba")},Element.prototype.traverse=function(o,v){},Element.prototype.attrKV=function(o,v){"textConfig"===o?this.setTextConfig(v):"textContent"===o?this.setTextContent(v):"clipPath"===o?this.setClipPath(v):"extra"===o?(this.extra=this.extra||{},extend(this.extra,v)):this[o]=v},Element.prototype.hide=function(){this.ignore=!0,this.markRedraw()},Element.prototype.show=function(){this.ignore=!1,this.markRedraw()},Element.prototype.attr=function(o,v){if("string"==typeof o)this.attrKV(o,v);else if(util_isObject(o))for(var _=keys(o),x=0;x<_.length;x++){var w=_[x];this.attrKV(w,o[w])}return this.markRedraw(),this},Element.prototype.saveCurrentToNormalState=function(o){this._innerSaveToNormal(o);for(var v=this._normalState,_=0;_<this.animators.length;_++){var x=this.animators[_],w=x.__fromStateTransition;if(!x.getLoop()&&(!w||w===nu)){var T=x.targetName,L=T?v[T]:v;x.saveTo(L)}}},Element.prototype._innerSaveToNormal=function(o){var v=this._normalState;v||(v=this._normalState={}),o.textConfig&&!v.textConfig&&(v.textConfig=this.textConfig),this._savePrimaryToNormal(o,v,nc)},Element.prototype._savePrimaryToNormal=function(o,v,_){for(var x=0;x<_.length;x++){var w=_[x];null==o[w]||w in v||(v[w]=this[w])}},Element.prototype.hasState=function(){return this.currentStates.length>0},Element.prototype.getState=function(o){return this.states[o]},Element.prototype.ensureState=function(o){var v=this.states;return v[o]||(v[o]={}),v[o]},Element.prototype.clearStates=function(o){this.useState(nu,!1,o)},Element.prototype.useState=function(o,v,_,x){var w,T=o===nu;if(this.hasState()||!T){var L=this.currentStates,N=this.stateTransition;if(!(indexOf(L,o)>=0)||!v&&1!==L.length){if(this.stateProxy&&!T&&(w=this.stateProxy(o)),w||(w=this.states&&this.states[o]),!w&&!T){logError("State "+o+" not exists.");return}T||this.saveCurrentToNormalState(w);var B=!!(w&&w.hoverLayer||x);B&&this._toggleHoverLayerFlag(!0),this._applyStateObj(o,w,this._normalState,v,!_&&!this.__inHover&&N&&N.duration>0,N);var H=this._textContent,Y=this._textGuide;return H&&H.useState(o,v,_,B),Y&&Y.useState(o,v,_,B),T?(this.currentStates=[],this._normalState={}):v?this.currentStates.push(o):this.currentStates=[o],this._updateAnimationTargets(),this.markRedraw(),!B&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),w}}},Element.prototype.useStates=function(o,v,_){if(o.length){var x=[],w=this.currentStates,T=o.length,L=T===w.length;if(L){for(var N=0;N<T;N++)if(o[N]!==w[N]){L=!1;break}}if(!L){for(var N=0;N<T;N++){var B=o[N],H=void 0;this.stateProxy&&(H=this.stateProxy(B,o)),H||(H=this.states[B]),H&&x.push(H)}var Y=x[T-1],Z=!!(Y&&Y.hoverLayer||_);Z&&this._toggleHoverLayerFlag(!0);var X=this._mergeStates(x),et=this.stateTransition;this.saveCurrentToNormalState(X),this._applyStateObj(o.join(","),X,this._normalState,!1,!v&&!this.__inHover&&et&&et.duration>0,et);var en=this._textContent,er=this._textGuide;en&&en.useStates(o,v,Z),er&&er.useStates(o,v,Z),this._updateAnimationTargets(),this.currentStates=o.slice(),this.markRedraw(),!Z&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}}else this.clearStates()},Element.prototype._updateAnimationTargets=function(){for(var o=0;o<this.animators.length;o++){var v=this.animators[o];v.targetName&&v.changeTarget(this[v.targetName])}},Element.prototype.removeState=function(o){var v=indexOf(this.currentStates,o);if(v>=0){var _=this.currentStates.slice();_.splice(v,1),this.useStates(_)}},Element.prototype.replaceState=function(o,v,_){var x=this.currentStates.slice(),w=indexOf(x,o),T=indexOf(x,v)>=0;w>=0?T?x.splice(w,1):x[w]=v:_&&!T&&x.push(v),this.useStates(x)},Element.prototype.toggleState=function(o,v){v?this.useState(o,!0):this.removeState(o)},Element.prototype._mergeStates=function(o){for(var v,_={},x=0;x<o.length;x++){var w=o[x];extend(_,w),w.textConfig&&extend(v=v||{},w.textConfig)}return v&&(_.textConfig=v),_},Element.prototype._applyStateObj=function(o,v,_,x,w,T){var L=!(v&&x);v&&v.textConfig?(this.textConfig=extend({},x?this.textConfig:_.textConfig),extend(this.textConfig,v.textConfig)):L&&_.textConfig&&(this.textConfig=_.textConfig);for(var N={},B=!1,H=0;H<nc.length;H++){var Y=nc[H],Z=w&&nd[Y];v&&null!=v[Y]?Z?(B=!0,N[Y]=v[Y]):this[Y]=v[Y]:L&&null!=_[Y]&&(Z?(B=!0,N[Y]=_[Y]):this[Y]=_[Y])}if(!w)for(var H=0;H<this.animators.length;H++){var X=this.animators[H],et=X.targetName;X.getLoop()||X.__changeFinalValue(et?(v||_)[et]:v||_)}B&&this._transitionState(o,N,T)},Element.prototype._attachComponent=function(o){if((!o.__zr||o.__hostTarget)&&o!==this){var v=this.__zr;v&&o.addSelfToZr(v),o.__zr=v,o.__hostTarget=this}},Element.prototype._detachComponent=function(o){o.__zr&&o.removeSelfFromZr(o.__zr),o.__zr=null,o.__hostTarget=null},Element.prototype.getClipPath=function(){return this._clipPath},Element.prototype.setClipPath=function(o){this._clipPath&&this._clipPath!==o&&this.removeClipPath(),this._attachComponent(o),this._clipPath=o,this.markRedraw()},Element.prototype.removeClipPath=function(){var o=this._clipPath;o&&(this._detachComponent(o),this._clipPath=null,this.markRedraw())},Element.prototype.getTextContent=function(){return this._textContent},Element.prototype.setTextContent=function(o){var v=this._textContent;v!==o&&(v&&v!==o&&this.removeTextContent(),o.innerTransformable=new no,this._attachComponent(o),this._textContent=o,this.markRedraw())},Element.prototype.setTextConfig=function(o){this.textConfig||(this.textConfig={}),extend(this.textConfig,o),this.markRedraw()},Element.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},Element.prototype.removeTextContent=function(){var o=this._textContent;o&&(o.innerTransformable=null,this._detachComponent(o),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},Element.prototype.getTextGuideLine=function(){return this._textGuide},Element.prototype.setTextGuideLine=function(o){this._textGuide&&this._textGuide!==o&&this.removeTextGuideLine(),this._attachComponent(o),this._textGuide=o,this.markRedraw()},Element.prototype.removeTextGuideLine=function(){var o=this._textGuide;o&&(this._detachComponent(o),this._textGuide=null,this.markRedraw())},Element.prototype.markRedraw=function(){this.__dirty|=1;var o=this.__zr;o&&(this.__inHover?o.refreshHover():o.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},Element.prototype.dirty=function(){this.markRedraw()},Element.prototype._toggleHoverLayerFlag=function(o){this.__inHover=o;var v=this._textContent,_=this._textGuide;v&&(v.__inHover=o),_&&(_.__inHover=o)},Element.prototype.addSelfToZr=function(o){if(this.__zr!==o){this.__zr=o;var v=this.animators;if(v)for(var _=0;_<v.length;_++)o.animation.addAnimator(v[_]);this._clipPath&&this._clipPath.addSelfToZr(o),this._textContent&&this._textContent.addSelfToZr(o),this._textGuide&&this._textGuide.addSelfToZr(o)}},Element.prototype.removeSelfFromZr=function(o){if(this.__zr){this.__zr=null;var v=this.animators;if(v)for(var _=0;_<v.length;_++)o.animation.removeAnimator(v[_]);this._clipPath&&this._clipPath.removeSelfFromZr(o),this._textContent&&this._textContent.removeSelfFromZr(o),this._textGuide&&this._textGuide.removeSelfFromZr(o)}},Element.prototype.animate=function(o,v,_){var x=new t$(o?this[o]:this,v,_);return o&&(x.targetName=o),this.addAnimator(x,o),x},Element.prototype.addAnimator=function(o,v){var _=this.__zr,x=this;o.during(function(){x.updateDuringAnimation(v)}).done(function(){var v=x.animators,_=indexOf(v,o);_>=0&&v.splice(_,1)}),this.animators.push(o),_&&_.animation.addAnimator(o),_&&_.wakeUp()},Element.prototype.updateDuringAnimation=function(o){this.markRedraw()},Element.prototype.stopAnimation=function(o,v){for(var _=this.animators,x=_.length,w=[],T=0;T<x;T++){var L=_[T];o&&o!==L.scope?w.push(L):L.stop(v)}return this.animators=w,this},Element.prototype.animateTo=function(o,v,_){animateTo(this,o,v,_)},Element.prototype.animateFrom=function(o,v,_){animateTo(this,o,v,_,!0)},Element.prototype._transitionState=function(o,v,_,x){for(var w=animateTo(this,v,_,x),T=0;T<w.length;T++)w[T].__fromStateTransition=o},Element.prototype.getBoundingRect=function(){return null},Element.prototype.getPaintRect=function(){return null},Element.initDefaultProps=function(){var o=Element.prototype;function createLegacyProperty(v,_,x,w){Object.defineProperty(o,v,{get:function(){return this[_]||enhanceArray(this,this[_]=[]),this[_]},set:function(o){this[x]=o[0],this[w]=o[1],this[_]=o,enhanceArray(this,o)}});function enhanceArray(o,v){Object.defineProperty(v,0,{get:function(){return o[x]},set:function(v){o[x]=v}}),Object.defineProperty(v,1,{get:function(){return o[w]},set:function(v){o[w]=v}})}}o.type="element",o.name="",o.ignore=o.silent=o.isGroup=o.draggable=o.dragging=o.ignoreClip=o.__inHover=!1,o.__dirty=1,Object.defineProperty&&(createLegacyProperty("position","_legacyPos","x","y"),createLegacyProperty("scale","_legacyScale","scaleX","scaleY"),createLegacyProperty("origin","_legacyOrigin","originX","originY"))}(),Element}();function animateTo(o,v,_,x,w){var T=[];animateToShallow(o,"",o,v,_=_||{},x,T,w);var L=T.length,N=!1,B=_.done,H=_.aborted,doneCb=function(){N=!0,--L<=0&&(N?B&&B():H&&H())},abortedCb=function(){--L<=0&&(N?B&&B():H&&H())};!L&&B&&B(),T.length>0&&_.during&&T[0].during(function(o,v){_.during(v)});for(var Y=0;Y<T.length;Y++){var Z=T[Y];doneCb&&Z.done(doneCb),abortedCb&&Z.aborted(abortedCb),_.force&&Z.duration(_.duration),Z.start(_.easing)}return T}function copyArrShallow(o,v,_){for(var x=0;x<_;x++)o[x]=v[x]}function is2DArray(o){return isArrayLike(o[0])}function copyValue(o,v,_){if(isArrayLike(v[_])){if(isArrayLike(o[_])||(o[_]=[]),isTypedArray(v[_])){var x=v[_].length;o[_].length!==x&&(o[_]=new v[_].constructor(x),copyArrShallow(o[_],v[_],x))}else{var w=v[_],T=o[_],L=w.length;if(is2DArray(w))for(var N=w[0].length,B=0;B<L;B++)T[B]?copyArrShallow(T[B],w[B],N):T[B]=Array.prototype.slice.call(w[B]);else copyArrShallow(T,w,L);T.length=w.length}}else o[_]=v[_]}function isValueSame(o,v){return o===v||isArrayLike(o)&&isArrayLike(v)&&is1DArraySame(o,v)}function is1DArraySame(o,v){var _=o.length;if(_!==v.length)return!1;for(var x=0;x<_;x++)if(o[x]!==v[x])return!1;return!0}function animateToShallow(o,v,_,x,w,T,L,N){for(var B=keys(x),H=w.duration,Y=w.delay,Z=w.additive,X=w.setToFinal,et=!util_isObject(T),en=o.animators,er=[],ei=0;ei<B.length;ei++){var ea=B[ei],eo=x[ea];if(null!=eo&&null!=_[ea]&&(et||T[ea])){if(!util_isObject(eo)||isArrayLike(eo)||isGradientObject(eo))er.push(ea);else{if(v){N||(_[ea]=eo,o.updateDuringAnimation(v));continue}animateToShallow(o,ea,_[ea],eo,w,T&&T[ea],L,N)}}else N||(_[ea]=eo,o.updateDuringAnimation(v),er.push(ea))}var el=er.length;if(!Z&&el)for(var eu=0;eu<en.length;eu++){var ec=en[eu];if(ec.targetName===v&&ec.stopTracks(er)){var ed=indexOf(en,ec);en.splice(ed,1)}}if(w.force||(el=(er=filter(er,function(o){return!isValueSame(x[o],_[o])})).length),el>0||w.force&&!L.length){var eh=void 0,ep=void 0,ef=void 0;if(N){ep={},X&&(eh={});for(var eu=0;eu<el;eu++){var ea=er[eu];ep[ea]=_[ea],X?eh[ea]=x[ea]:_[ea]=x[ea]}}else if(X){ef={};for(var eu=0;eu<el;eu++){var ea=er[eu];ef[ea]=cloneValue(_[ea]),copyValue(_,x,ea)}}var ec=new t$(_,!1,!1,Z?filter(en,function(o){return o.targetName===v}):null);ec.targetName=v,w.scope&&(ec.scope=w.scope),X&&eh&&ec.whenWithKeys(0,eh,er),ef&&ec.whenWithKeys(0,ef,er),ec.whenWithKeys(null==H?500:H,N?ep:x,er).delay(Y||0),o.addAnimator(ec,v),L.push(ec)}}mixin(nf,te),mixin(nf,no);var ng=function(o){function Group(v){var _=o.call(this)||this;return _.isGroup=!0,_._children=[],_.attr(v),_}return __extends(Group,o),Group.prototype.childrenRef=function(){return this._children},Group.prototype.children=function(){return this._children.slice()},Group.prototype.childAt=function(o){return this._children[o]},Group.prototype.childOfName=function(o){for(var v=this._children,_=0;_<v.length;_++)if(v[_].name===o)return v[_]},Group.prototype.childCount=function(){return this._children.length},Group.prototype.add=function(o){return o&&o!==this&&o.parent!==this&&(this._children.push(o),this._doAdd(o)),this},Group.prototype.addBefore=function(o,v){if(o&&o!==this&&o.parent!==this&&v&&v.parent===this){var _=this._children,x=_.indexOf(v);x>=0&&(_.splice(x,0,o),this._doAdd(o))}return this},Group.prototype.replace=function(o,v){var _=indexOf(this._children,o);return _>=0&&this.replaceAt(v,_),this},Group.prototype.replaceAt=function(o,v){var _=this._children,x=_[v];if(o&&o!==this&&o.parent!==this&&o!==x){_[v]=o,x.parent=null;var w=this.__zr;w&&x.removeSelfFromZr(w),this._doAdd(o)}return this},Group.prototype._doAdd=function(o){o.parent&&o.parent.remove(o),o.parent=this;var v=this.__zr;v&&v!==o.__zr&&o.addSelfToZr(v),v&&v.refresh()},Group.prototype.remove=function(o){var v=this.__zr,_=this._children,x=indexOf(_,o);return x<0||(_.splice(x,1),o.parent=null,v&&o.removeSelfFromZr(v),v&&v.refresh()),this},Group.prototype.removeAll=function(){for(var o=this._children,v=this.__zr,_=0;_<o.length;_++){var x=o[_];v&&x.removeSelfFromZr(v),x.parent=null}return o.length=0,this},Group.prototype.eachChild=function(o,v){for(var _=this._children,x=0;x<_.length;x++){var w=_[x];o.call(v,w,x)}return this},Group.prototype.traverse=function(o,v){for(var _=0;_<this._children.length;_++){var x=this._children[_],w=o.call(v,x);x.isGroup&&!w&&x.traverse(o,v)}return this},Group.prototype.addSelfToZr=function(v){o.prototype.addSelfToZr.call(this,v);for(var _=0;_<this._children.length;_++)this._children[_].addSelfToZr(v)},Group.prototype.removeSelfFromZr=function(v){o.prototype.removeSelfFromZr.call(this,v);for(var _=0;_<this._children.length;_++)this._children[_].removeSelfFromZr(v)},Group.prototype.getBoundingRect=function(o){for(var v=new tS(0,0,0,0),_=o||this._children,x=[],w=null,T=0;T<_.length;T++){var L=_[T];if(!L.ignore&&!L.invisible){var N=L.getBoundingRect(),B=L.getLocalTransform(x);B?(tS.applyTransform(v,N,B),(w=w||v.clone()).union(v)):(w=w||N.clone()).union(N)}}return w||v},Group}(nf);ng.prototype.type="group";var nm=ng,ny={},nv={};function delInstance(o){delete nv[o]}function isDarkMode(o){if(!o)return!1;if("string"==typeof o)return .4>lum(o,1);if(o.colorStops){for(var v=o.colorStops,_=0,x=v.length,w=0;w<x;w++)_+=lum(v[w].color,1);return(_/=x)<.4}return!1}var n_=function(){function ZRender(o,v,_){var x,w=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,_=_||{},this.dom=v,this.id=o;var T=new tI,L=_.renderer||"canvas";ny[L]||(L=keys(ny)[0]),_.useDirtyRect=null!=_.useDirtyRect&&_.useDirtyRect;var N=new ny[L](v,T,_,o),B=_.ssr||N.ssrOnly;this.storage=T,this.painter=N;var H=eV.node||eV.worker||B?null:new t4(N.getViewportRoot(),N.root),Y=_.useCoarsePointer;(null==Y||"auto"===Y?eV.touchEventsSupported:!!Y)&&(x=retrieve2(_.pointerSize,44)),this.handler=new tM(T,N,H,N.root,x),this.animation=new tQ({stage:{update:B?null:function(){return w._flush(!0)}}}),B||this.animation.start()}return ZRender.prototype.add=function(o){o&&(this.storage.addRoot(o),o.addSelfToZr(this),this.refresh())},ZRender.prototype.remove=function(o){o&&(this.storage.delRoot(o),o.removeSelfFromZr(this),this.refresh())},ZRender.prototype.configLayer=function(o,v){this.painter.configLayer&&this.painter.configLayer(o,v),this.refresh()},ZRender.prototype.setBackgroundColor=function(o){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(o),this.refresh(),this._backgroundColor=o,this._darkMode=isDarkMode(o)},ZRender.prototype.getBackgroundColor=function(){return this._backgroundColor},ZRender.prototype.setDarkMode=function(o){this._darkMode=o},ZRender.prototype.isDarkMode=function(){return this._darkMode},ZRender.prototype.refreshImmediately=function(o){o||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},ZRender.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},ZRender.prototype.flush=function(){this._flush(!1)},ZRender.prototype._flush=function(o){var v,_=getTime();this._needsRefresh&&(v=!0,this.refreshImmediately(o)),this._needsRefreshHover&&(v=!0,this.refreshHoverImmediately());var x=getTime();v?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:x-_})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},ZRender.prototype.setSleepAfterStill=function(o){this._sleepAfterStill=o},ZRender.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},ZRender.prototype.refreshHover=function(){this._needsRefreshHover=!0},ZRender.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},ZRender.prototype.resize=function(o){o=o||{},this.painter.resize(o.width,o.height),this.handler.resize()},ZRender.prototype.clearAnimation=function(){this.animation.clear()},ZRender.prototype.getWidth=function(){return this.painter.getWidth()},ZRender.prototype.getHeight=function(){return this.painter.getHeight()},ZRender.prototype.setCursorStyle=function(o){this.handler.setCursorStyle(o)},ZRender.prototype.findHover=function(o,v){return this.handler.findHover(o,v)},ZRender.prototype.on=function(o,v,_){return this.handler.on(o,v,_),this},ZRender.prototype.off=function(o,v){this.handler.off(o,v)},ZRender.prototype.trigger=function(o,v){this.handler.trigger(o,v)},ZRender.prototype.clear=function(){for(var o=this.storage.getRoots(),v=0;v<o.length;v++)o[v]instanceof nm&&o[v].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},ZRender.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},ZRender}();function init(o,v){var _=new n_(e1++,o,v);return nv[_.id]=_,_}function registerPainter(o,v){ny[o]=v}function _trim(o){return o.replace(/^\s+|\s+$/g,"")}function linearMap(o,v,_,x){var w=v[0],T=v[1],L=_[0],N=_[1],B=T-w,H=N-L;if(0===B)return 0===H?L:(L+N)/2;if(x){if(B>0){if(o<=w)return L;if(o>=T)return N}else{if(o>=w)return L;if(o<=T)return N}}else{if(o===w)return L;if(o===T)return N}return(o-w)/B*H+L}function number_parsePercent(o,v){switch(o){case"center":case"middle":o="50%";break;case"left":case"top":o="0%";break;case"right":case"bottom":o="100%"}return util_isString(o)?_trim(o).match(/%$/)?parseFloat(o)/100*v:parseFloat(o):null==o?NaN:+o}function round(o,v,_){return null==v&&(v=10),v=Math.min(Math.max(0,v),20),o=(+o).toFixed(v),_?o:+o}function asc(o){return o.sort(function(o,v){return o-v}),o}function getPrecision(o){if(isNaN(o=+o))return 0;if(o>1e-14){for(var v=1,_=0;_<15;_++,v*=10)if(Math.round(o*v)/v===o)return _}return getPrecisionSafe(o)}function getPrecisionSafe(o){var v=o.toString().toLowerCase(),_=v.indexOf("e"),x=_>0?+v.slice(_+1):0,w=_>0?_:v.length,T=v.indexOf(".");return Math.max(0,(T<0?0:w-1-T)-x)}function getPixelPrecision(o,v){var _=Math.log,x=Math.LN10,w=Math.min(Math.max(-Math.floor(_(o[1]-o[0])/x)+Math.round(_(Math.abs(v[1]-v[0]))/x),0),20);return isFinite(w)?w:20}function getPercentSeats(o,v){var _=reduce(o,function(o,v){return o+(isNaN(v)?0:v)},0);if(0===_)return[];for(var x=Math.pow(10,v),w=map(o,function(o){return(isNaN(o)?0:o)/_*x*100}),T=100*x,L=map(w,function(o){return Math.floor(o)}),N=reduce(L,function(o,v){return o+v},0),B=map(w,function(o,v){return o-L[v]});N<T;){for(var H=Number.NEGATIVE_INFINITY,Y=null,Z=0,X=B.length;Z<X;++Z)B[Z]>H&&(H=B[Z],Y=Z);++L[Y],B[Y]=0,++N}return map(L,function(o){return o/x})}function addSafe(o,v){var _=Math.max(getPrecision(o),getPrecision(v)),x=o+v;return _>20?x:round(x,_)}function remRadian(o){var v=2*Math.PI;return(o%v+v)%v}function isRadianAroundZero(o){return o>-.0001&&o<1e-4}var nb=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function number_parseDate(o){if(o instanceof Date)return o;if(util_isString(o)){var v=nb.exec(o);if(!v)return new Date(NaN);if(!v[8])return new Date(+v[1],+(v[2]||1)-1,+v[3]||1,+v[4]||0,+(v[5]||0),+v[6]||0,v[7]?+v[7].substring(0,3):0);var _=+v[4]||0;return"Z"!==v[8].toUpperCase()&&(_-=+v[8].slice(0,3)),new Date(Date.UTC(+v[1],+(v[2]||1)-1,+v[3]||1,_,+(v[5]||0),+v[6]||0,v[7]?+v[7].substring(0,3):0))}return new Date(null==o?NaN:Math.round(o))}function quantity(o){return Math.pow(10,number_quantityExponent(o))}function number_quantityExponent(o){if(0===o)return 0;var v=Math.floor(Math.log(o)/Math.LN10);return o/Math.pow(10,v)>=10&&v++,v}function nice(o,v){var _=number_quantityExponent(o),x=Math.pow(10,_),w=o/x;return o=(v?w<1.5?1:w<2.5?2:w<4?3:w<7?5:10:w<1?1:w<2?2:w<3?3:w<5?5:10)*x,_>=-20?+o.toFixed(_<0?-_:0):o}function quantile(o,v){var _=(o.length-1)*v+1,x=Math.floor(_),w=+o[x-1],T=_-x;return T?w+T*(o[x]-w):w}function reformIntervals(o){o.sort(function(o,v){return littleThan(o,v,0)?-1:1});for(var v=-1/0,_=1,x=0;x<o.length;){for(var w=o[x].interval,T=o[x].close,L=0;L<2;L++)w[L]<=v&&(w[L]=v,T[L]=L?1:1-_),v=w[L],_=T[L];w[0]===w[1]&&T[0]*T[1]!=1?o.splice(x,1):x++}return o;function littleThan(o,v,_){return o.interval[_]<v.interval[_]||o.interval[_]===v.interval[_]&&(o.close[_]-v.close[_]==(_?-1:1)||!_&&littleThan(o,v,1))}}function numericToNumber(o){var v=parseFloat(o);return v==o&&(0!==v||!util_isString(o)||0>=o.indexOf("x"))?v:NaN}function number_isNumeric(o){return!isNaN(numericToNumber(o))}function getRandomIdBase(){return Math.round(9*Math.random())}function getGreatestCommonDividor(o,v){return 0===v?o:getGreatestCommonDividor(v,o%v)}function getLeastCommonMultiple(o,v){return null==o?v:null==v?o:o*v/getGreatestCommonDividor(o,v)}var nS="series\x00",nx="\x00_ec_\x00";function normalizeToArray(o){return o instanceof Array?o:null==o?[]:[o]}function defaultEmphasis(o,v,_){if(o){o[v]=o[v]||{},o.emphasis=o.emphasis||{},o.emphasis[v]=o.emphasis[v]||{};for(var x=0,w=_.length;x<w;x++){var T=_[x];!o.emphasis[v].hasOwnProperty(T)&&o[v].hasOwnProperty(T)&&(o.emphasis[v][T]=o[v][T])}}}var nw=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(o){return!util_isObject(o)||util_isArray(o)||o instanceof Date?o:o.value}function isDataItemOption(o){return util_isObject(o)&&!(o instanceof Array)}function mappingToExists(o,v,_){var x="normalMerge"===_,w="replaceMerge"===_,T="replaceAll"===_;o=o||[],v=(v||[]).slice();var L=createHashMap();util_each(v,function(o,_){if(!util_isObject(o)){v[_]=null;return}});var N=prepareResult(o,L,_);return(x||w)&&mappingById(N,o,L,v),x&&mappingByName(N,v),x||w?mappingByIndex(N,v,w):T&&mappingInReplaceAllMode(N,v),makeIdAndName(N),N}function prepareResult(o,v,_){var x=[];if("replaceAll"===_)return x;for(var w=0;w<o.length;w++){var T=o[w];T&&null!=T.id&&v.set(T.id,w),x.push({existing:"replaceMerge"===_||isComponentIdInternal(T)?null:T,newOption:null,keyInfo:null,brandNew:null})}return x}function mappingById(o,v,_,x){util_each(x,function(w,T){if(w&&null!=w.id){var L=makeComparableKey(w.id),N=_.get(L);if(null!=N){var B=o[N];assert(!B.newOption,'Duplicated option on id "'+L+'".'),B.newOption=w,B.existing=v[N],x[T]=null}}})}function mappingByName(o,v){util_each(v,function(_,x){if(_&&null!=_.name)for(var w=0;w<o.length;w++){var T=o[w].existing;if(!o[w].newOption&&T&&(null==T.id||null==_.id)&&!isComponentIdInternal(_)&&!isComponentIdInternal(T)&&keyExistAndEqual("name",T,_)){o[w].newOption=_,v[x]=null;return}}})}function mappingByIndex(o,v,_){util_each(v,function(v){if(v){for(var x,w=0;(x=o[w])&&(x.newOption||isComponentIdInternal(x.existing)||x.existing&&null!=v.id&&!keyExistAndEqual("id",v,x.existing));)w++;x?(x.newOption=v,x.brandNew=_):o.push({newOption:v,brandNew:_,existing:null,keyInfo:null}),w++}})}function mappingInReplaceAllMode(o,v){util_each(v,function(v){o.push({newOption:v,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(o){var v=createHashMap();util_each(o,function(o){var _=o.existing;_&&v.set(_.id,o)}),util_each(o,function(o){var _=o.newOption;assert(!_||null==_.id||!v.get(_.id)||v.get(_.id)===o,"id duplicates: "+(_&&_.id)),_&&null!=_.id&&v.set(_.id,o),o.keyInfo||(o.keyInfo={})}),util_each(o,function(o,_){var x=o.existing,w=o.newOption,T=o.keyInfo;if(util_isObject(w)){if(T.name=null!=w.name?makeComparableKey(w.name):x?x.name:nS+_,x)T.id=makeComparableKey(x.id);else if(null!=w.id)T.id=makeComparableKey(w.id);else{var L=0;do T.id="\x00"+T.name+"\x00"+L++;while(v.get(T.id))}v.set(T.id,o)}})}function keyExistAndEqual(o,v,_){var x=convertOptionIdName(v[o],null),w=convertOptionIdName(_[o],null);return null!=x&&null!=w&&x===w}function makeComparableKey(o){return convertOptionIdName(o,"")}function convertOptionIdName(o,v){return null==o?v:util_isString(o)?o:isNumber(o)||util_isStringSafe(o)?o+"":v}function isNameSpecified(o){var v=o.name;return!!(v&&v.indexOf(nS))}function isComponentIdInternal(o){return o&&null!=o.id&&0===makeComparableKey(o.id).indexOf(nx)}function makeInternalComponentId(o){return nx+o}function setComponentTypeToKeyInfo(o,v,_){util_each(o,function(o){var x=o.newOption;util_isObject(x)&&(o.keyInfo.mainType=v,o.keyInfo.subType=determineSubType(v,x,o.existing,_))})}function determineSubType(o,v,_,x){return v.type?v.type:_?_.subType:x.determineSubType(o,v)}function compressBatches(o,v){var _={},x={};return makeMap(o||[],_),makeMap(v||[],x,_),[mapToArray(_),mapToArray(x)];function makeMap(o,v,_){for(var x=0,w=o.length;x<w;x++){var T=convertOptionIdName(o[x].seriesId,null);if(null==T)return;for(var L=normalizeToArray(o[x].dataIndex),N=_&&_[T],B=0,H=L.length;B<H;B++){var Y=L[B];N&&N[Y]?N[Y]=null:(v[T]||(v[T]={}))[Y]=1}}}function mapToArray(o,v){var _=[];for(var x in o)if(o.hasOwnProperty(x)&&null!=o[x]){if(v)_.push(+x);else{var w=mapToArray(o[x],!0);w.length&&_.push({seriesId:x,dataIndex:w})}}return _}}function queryDataIndex(o,v){return null!=v.dataIndexInside?v.dataIndexInside:null!=v.dataIndex?util_isArray(v.dataIndex)?map(v.dataIndex,function(v){return o.indexOfRawIndex(v)}):o.indexOfRawIndex(v.dataIndex):null!=v.name?util_isArray(v.name)?map(v.name,function(v){return o.indexOfName(v)}):o.indexOfName(v.name):void 0}function makeInner(){var o="__ec_inner_"+nC++;return function(v){return v[o]||(v[o]={})}}var nC=getRandomIdBase();function parseFinder(o,v,_){var x=preParseFinder(v,_),w=x.mainTypeSpecified,T=x.queryOptionMap,L=x.others,N=_?_.defaultMainType:null;return!w&&N&&T.set(N,{}),T.each(function(v,x){var w=queryReferringComponents(o,x,v,{useDefault:N===x,enableAll:!_||null==_.enableAll||_.enableAll,enableNone:!_||null==_.enableNone||_.enableNone});L[x+"Models"]=w.models,L[x+"Model"]=w.models[0]}),L}function preParseFinder(o,v){if(util_isString(o)){var _,x={};x[o+"Index"]=0,_=x}else _=o;var w=createHashMap(),T={},L=!1;return util_each(_,function(o,_){if("dataIndex"===_||"dataIndexInside"===_){T[_]=o;return}var x=_.match(/^(\w+)(Index|Id|Name)$/)||[],N=x[1],B=(x[2]||"").toLowerCase();!N||!B||v&&v.includeMainTypes&&0>indexOf(v.includeMainTypes,N)||(L=L||!!N,(w.get(N)||w.set(N,{}))[B]=o)}),{mainTypeSpecified:L,queryOptionMap:w,others:T}}var nT={useDefault:!0,enableAll:!1,enableNone:!1},nM={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(o,v,_,x){x=x||nT;var w=_.index,T=_.id,L=_.name,N={models:null,specified:null!=w||null!=T||null!=L};if(!N.specified){var B=void 0;return N.models=x.useDefault&&(B=o.getComponent(v))?[B]:[],N}return"none"===w||!1===w?(assert(x.enableNone,'`"none"` or `false` is not a valid value on index option.'),N.models=[]):("all"===w&&(assert(x.enableAll,'`"all"` is not a valid value on index option.'),w=T=L=null),N.models=o.queryComponents({mainType:v,index:w,id:T,name:L})),N}function setAttribute(o,v,_){o.setAttribute?o.setAttribute(v,_):o[v]=_}function getAttribute(o,v){return o.getAttribute?o.getAttribute(v):o[v]}function getTooltipRenderMode(o){return"auto"===o?eV.domSupported?"html":"richText":o||"html"}function groupData(o,v){var _=createHashMap(),x=[];return util_each(o,function(o){var w=v(o);(_.get(w)||(x.push(w),_.set(w,[]))).push(o)}),{keys:x,buckets:_}}function interpolateRawValues(o,v,_,x,w){var T=null==v||"auto"===v;if(null==x)return x;if(isNumber(x)){var L,N=(x-(L=_||0))*w+L;return round(N,T?Math.max(getPrecision(_||0),getPrecision(x)):v)}if(util_isString(x))return w<1?_:x;for(var B=[],H=Math.max(_?_.length:0,x.length),Y=0;Y<H;++Y){var Z=o.getDimensionInfo(Y);if(Z&&"ordinal"===Z.type)B[Y]=(w<1&&_?_:x)[Y];else{var X=_&&_[Y]?_[Y]:0,et=x[Y],N=(et-X)*w+X;B[Y]=round(N,T?Math.max(getPrecision(X),getPrecision(et)):v)}}return B}var nP="___EC__COMPONENT__CONTAINER___",nI="___EC__EXTENDED_CLASS___";function parseClassType(o){var v={main:"",sub:""};if(o){var _=o.split(".");v.main=_[0]||"",v.sub=_[1]||""}return v}function checkClassType(o){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(o),'componentType "'+o+'" illegal')}function isExtendedClass(o){return!!(o&&o[nI])}function enableClassExtend(o,v){o.$constructor=o,o.extend=function(o){var v,_=this;return isESClass(_)?v=function(o){function class_1(){return o.apply(this,arguments)||this}return __extends(class_1,o),class_1}(_):inherits(v=function(){(o.$constructor||_).apply(this,arguments)},this),extend(v.prototype,o),v[nI]=!0,v.extend=this.extend,v.superCall=superCall,v.superApply=superApply,v.superClass=_,v}}function isESClass(o){return isFunction(o)&&/^class\s/.test(Function.prototype.toString.call(o))}function mountExtend(o,v){o.extend=v.extend}var nD=Math.round(10*Math.random());function enableClassCheck(o){var v=["__\x00is_clz",nD++].join("_");o.prototype[v]=!0,o.isInstance=function(o){return!!(o&&o[v])}}function superCall(o,v){for(var _=[],x=2;x<arguments.length;x++)_[x-2]=arguments[x];return this.superClass.prototype[v].apply(o,_)}function superApply(o,v,_){return this.superClass.prototype[v].apply(o,_)}function enableClassManagement(o){var v={};function makeContainer(o){var _=v[o.main];return _&&_[nP]||((_=v[o.main]={})[nP]=!0),_}o.registerClass=function(o){var _=o.type||o.prototype.type;if(_){checkClassType(_),o.prototype.type=_;var x=parseClassType(_);x.sub?x.sub!==nP&&(makeContainer(x)[x.sub]=o):v[x.main]=o}return o},o.getClass=function(o,_,x){var w=v[o];if(w&&w[nP]&&(w=_?w[_]:null),x&&!w)throw Error(_?"Component "+o+"."+(_||"")+" is used but not imported.":o+".type should be specified.");return w},o.getClassesByMainType=function(o){var _=parseClassType(o),x=[],w=v[_.main];return w&&w[nP]?util_each(w,function(o,v){v!==nP&&x.push(o)}):x.push(w),x},o.hasClass=function(o){return!!v[parseClassType(o).main]},o.getAllClassMainTypes=function(){var o=[];return util_each(v,function(v,_){o.push(_)}),o},o.hasSubTypes=function(o){var _=v[parseClassType(o).main];return _&&_[nP]}}function makeStyleMapper(o,v){for(var _=0;_<o.length;_++)o[_][1]||(o[_][1]=o[_][0]);return v=v||!1,function(_,x,w){for(var T={},L=0;L<o.length;L++){var N=o[L][1];if(!(x&&indexOf(x,N)>=0||w&&0>indexOf(w,N))){var B=_.getShallow(N,v);null!=B&&(T[o[L][0]]=B)}}return T}}var nE=makeStyleMapper([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),nO=function(){function AreaStyleMixin(){}return AreaStyleMixin.prototype.getAreaStyle=function(o,v){return nE(this,o,v)},AreaStyleMixin}(),nA=new tz(50);function findExistImage(o){if("string"!=typeof o)return o;var v=nA.get(o);return v&&v.image}function createOrUpdateImage(o,v,_,x,w){if(!o)return v;if("string"!=typeof o)return o;if(v&&v.__zrImageSrc===o||!_)return v;var T=nA.get(o),L={hostEl:_,cb:x,cbPayload:w};return T?isImageReady(v=T.image)||T.pending.push(L):((v=eH.loadImage(o,imageOnLoad,imageOnLoad)).__zrImageSrc=o,nA.put(o,v.__cachedImgObj={image:v,pending:[L]})),v}function imageOnLoad(){var o=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var v=0;v<o.pending.length;v++){var _=o.pending[v],x=_.cb;x&&x(this,_.cbPayload),_.hostEl.dirty()}o.pending.length=0}function isImageReady(o){return o&&o.width&&o.height}var nk=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(o,v,_,x,w){if(!v)return"";var T=(o+"").split("\n");w=prepareTruncateOptions(v,_,x,w);for(var L=0,N=T.length;L<N;L++)T[L]=truncateSingleLine(T[L],w);return T.join("\n")}function prepareTruncateOptions(o,v,_,x){var w=extend({},x=x||{});w.font=v,_=retrieve2(_,"..."),w.maxIterations=retrieve2(x.maxIterations,2);var T=w.minChar=retrieve2(x.minChar,0);w.cnCharWidth=getWidth("",v);var L=w.ascCharWidth=getWidth("a",v);w.placeholder=retrieve2(x.placeholder,"");for(var N=o=Math.max(0,o-1),B=0;B<T&&N>=L;B++)N-=L;var H=getWidth(_,v);return H>N&&(_="",H=0),N=o-H,w.ellipsis=_,w.ellipsisWidth=H,w.contentWidth=N,w.containerWidth=o,w}function truncateSingleLine(o,v){var _=v.containerWidth,x=v.font,w=v.contentWidth;if(!_)return"";var T=getWidth(o,x);if(T<=_)return o;for(var L=0;;L++){if(T<=w||L>=v.maxIterations){o+=v.ellipsis;break}var N=0===L?estimateLength(o,w,v.ascCharWidth,v.cnCharWidth):T>0?Math.floor(o.length*w/T):0;T=getWidth(o=o.substr(0,N),x)}return""===o&&(o=v.placeholder),o}function estimateLength(o,v,_,x){for(var w=0,T=0,L=o.length;T<L&&w<v;T++){var N=o.charCodeAt(T);w+=0<=N&&N<=127?_:x}return T}function parsePlainText(o,v){null!=o&&(o+="");var _,x=v.overflow,w=v.padding,T=v.font,L="truncate"===x,N=getLineHeight(T),B=retrieve2(v.lineHeight,N),H=!!v.backgroundColor,Y="truncate"===v.lineOverflow,Z=v.width,X=(_=null!=Z&&("break"===x||"breakAll"===x)?o?wrapText(o,v.font,Z,"breakAll"===x,0).lines:[]:o?o.split("\n"):[]).length*B,et=retrieve2(v.height,X);if(X>et&&Y&&(_=_.slice(0,Math.floor(et/B))),o&&L&&null!=Z)for(var en=prepareTruncateOptions(Z,T,v.ellipsis,{minChar:v.truncateMinChar,placeholder:v.placeholder}),er=0;er<_.length;er++)_[er]=truncateSingleLine(_[er],en);for(var ei=et,ea=0,er=0;er<_.length;er++)ea=Math.max(getWidth(_[er],T),ea);null==Z&&(Z=ea);var eo=ea;return w&&(ei+=w[0]+w[2],eo+=w[1]+w[3],Z+=w[1]+w[3]),H&&(eo=Z),{lines:_,height:et,outerWidth:eo,outerHeight:ei,lineHeight:B,calculatedLineHeight:N,contentWidth:ea,contentHeight:X,width:Z}}var RichTextToken=function(){},RichTextLine=function(o){this.tokens=[],o&&(this.tokens=o)},RichTextContentBlock=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function parseRichText(o,v){var _,x=new RichTextContentBlock;if(null!=o&&(o+=""),!o)return x;for(var w=v.width,T=v.height,L=v.overflow,N=("break"===L||"breakAll"===L)&&null!=w?{width:w,accumWidth:0,breakAll:"breakAll"===L}:null,B=nk.lastIndex=0;null!=(_=nk.exec(o));){var H=_.index;H>B&&pushTokens(x,o.substring(B,H),v,N),pushTokens(x,_[2],v,N,_[1]),B=nk.lastIndex}B<o.length&&pushTokens(x,o.substring(B,o.length),v,N);var Y=[],Z=0,X=0,et=v.padding,en="truncate"===L,er="truncate"===v.lineOverflow;function finishLine(o,v,_){o.width=v,o.lineHeight=_,Z+=_,X=Math.max(X,v)}e:for(var ei=0;ei<x.lines.length;ei++){for(var ea=x.lines[ei],eo=0,el=0,eu=0;eu<ea.tokens.length;eu++){var ec=ea.tokens[eu],ed=ec.styleName&&v.rich[ec.styleName]||{},eh=ec.textPadding=ed.padding,ep=eh?eh[1]+eh[3]:0,ef=ec.font=ed.font||v.font;ec.contentHeight=getLineHeight(ef);var eg=retrieve2(ed.height,ec.contentHeight);if(ec.innerHeight=eg,eh&&(eg+=eh[0]+eh[2]),ec.height=eg,ec.lineHeight=retrieve3(ed.lineHeight,v.lineHeight,eg),ec.align=ed&&ed.align||v.align,ec.verticalAlign=ed&&ed.verticalAlign||"middle",er&&null!=T&&Z+ec.lineHeight>T){eu>0?(ea.tokens=ea.tokens.slice(0,eu),finishLine(ea,el,eo),x.lines=x.lines.slice(0,ei+1)):x.lines=x.lines.slice(0,ei);break e}var em=ed.width,ey=null==em||"auto"===em;if("string"==typeof em&&"%"===em.charAt(em.length-1))ec.percentWidth=em,Y.push(ec),ec.contentWidth=getWidth(ec.text,ef);else{if(ey){var ev=ed.backgroundColor,e_=ev&&ev.image;e_&&isImageReady(e_=findExistImage(e_))&&(ec.width=Math.max(ec.width,e_.width*eg/e_.height))}var eb=en&&null!=w?w-el:null;null!=eb&&eb<ec.width?!ey||eb<ep?(ec.text="",ec.width=ec.contentWidth=0):(ec.text=truncateText(ec.text,eb-ep,ef,v.ellipsis,{minChar:v.truncateMinChar}),ec.width=ec.contentWidth=getWidth(ec.text,ef)):ec.contentWidth=getWidth(ec.text,ef)}ec.width+=ep,el+=ec.width,ed&&(eo=Math.max(eo,ec.lineHeight))}finishLine(ea,el,eo)}x.outerWidth=x.width=retrieve2(w,X),x.outerHeight=x.height=retrieve2(T,Z),x.contentHeight=Z,x.contentWidth=X,et&&(x.outerWidth+=et[1]+et[3],x.outerHeight+=et[0]+et[2]);for(var ei=0;ei<Y.length;ei++){var ec=Y[ei],eS=ec.percentWidth;ec.width=parseInt(eS,10)/100*x.width}return x}function pushTokens(o,v,_,x,w){var T,L,N=""===v,B=w&&_.rich[w]||{},H=o.lines,Y=B.font||_.font,Z=!1;if(x){var X=B.padding,et=X?X[1]+X[3]:0;if(null!=B.width&&"auto"!==B.width){var en=parsePercent(B.width,x.width)+et;H.length>0&&en+x.accumWidth>x.width&&(T=v.split("\n"),Z=!0),x.accumWidth=en}else{var er=wrapText(v,Y,x.width,x.breakAll,x.accumWidth);x.accumWidth=er.accumWidth+et,L=er.linesWidths,T=er.lines}}else T=v.split("\n");for(var ei=0;ei<T.length;ei++){var ea=T[ei],eo=new RichTextToken;if(eo.styleName=w,eo.text=ea,eo.isLineHolder=!ea&&!N,"number"==typeof B.width?eo.width=B.width:eo.width=L?L[ei]:getWidth(ea,Y),ei||Z)H.push(new RichTextLine([eo]));else{var el=(H[H.length-1]||(H[0]=new RichTextLine)).tokens,eu=el.length;1===eu&&el[0].isLineHolder?el[0]=eo:(ea||!eu||N)&&el.push(eo)}}}function isAlphabeticLetter(o){var v=o.charCodeAt(0);return v>=32&&v<=591||v>=880&&v<=4351||v>=4608&&v<=5119||v>=7680&&v<=8303}var nL=reduce(",&?/;] ".split(""),function(o,v){return o[v]=!0,o},{});function isWordBreakChar(o){return!isAlphabeticLetter(o)||!!nL[o]}function wrapText(o,v,_,x,w){for(var T=[],L=[],N="",B="",H=0,Y=0,Z=0;Z<o.length;Z++){var X=o.charAt(Z);if("\n"===X){B&&(N+=B,Y+=H),T.push(N),L.push(Y),N="",B="",H=0,Y=0;continue}var et=getWidth(X,v),en=!x&&!isWordBreakChar(X);if(T.length?Y+et>_:w+Y+et>_){Y?(N||B)&&(en?(N||(N=B,B="",Y=H=0),T.push(N),L.push(Y-H),B+=X,H+=et,N="",Y=H):(B&&(N+=B,B="",H=0),T.push(N),L.push(Y),N=X,Y=et)):en?(T.push(B),L.push(H),B=X,H=et):(T.push(X),L.push(et));continue}Y+=et,en?(B+=X,H+=et):(B&&(N+=B,B="",H=0),N+=X)}return T.length||N||(N=o,B="",H=0),B&&(N+=B),N&&(T.push(N),L.push(Y)),1===T.length&&(Y+=w),{accumWidth:Y,lines:T,linesWidths:L}}var nR="__zr_style_"+Math.round(10*Math.random()),nN={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},nF={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};nN[nR]=!0;var nV=["z","z2","invisible"],nB=["invisible"],nz=function(o){var v;function Displayable(v){return o.call(this,v)||this}return __extends(Displayable,o),Displayable.prototype._init=function(v){for(var _=keys(v),x=0;x<_.length;x++){var w=_[x];"style"===w?this.useStyle(v[w]):o.prototype.attrKV.call(this,w,v[w])}this.style||this.useStyle({})},Displayable.prototype.beforeBrush=function(){},Displayable.prototype.afterBrush=function(){},Displayable.prototype.innerBeforeBrush=function(){},Displayable.prototype.innerAfterBrush=function(){},Displayable.prototype.shouldBePainted=function(o,v,_,x){var w=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&isDisplayableCulled(this,o,v)||w&&!w[0]&&!w[3])return!1;if(_&&this.__clipPaths){for(var T=0;T<this.__clipPaths.length;++T)if(this.__clipPaths[T].isZeroArea())return!1}if(x&&this.parent)for(var L=this.parent;L;){if(L.ignore)return!1;L=L.parent}return!0},Displayable.prototype.contain=function(o,v){return this.rectContain(o,v)},Displayable.prototype.traverse=function(o,v){o.call(v,this)},Displayable.prototype.rectContain=function(o,v){var _=this.transformCoordToLocal(o,v);return this.getBoundingRect().contain(_[0],_[1])},Displayable.prototype.getPaintRect=function(){var o=this._paintRect;if(!this._paintRect||this.__dirty){var v=this.transform,_=this.getBoundingRect(),x=this.style,w=x.shadowBlur||0,T=x.shadowOffsetX||0,L=x.shadowOffsetY||0;o=this._paintRect||(this._paintRect=new tS(0,0,0,0)),v?tS.applyTransform(o,_,v):o.copy(_),(w||T||L)&&(o.width+=2*w+Math.abs(T),o.height+=2*w+Math.abs(L),o.x=Math.min(o.x,o.x+T-w),o.y=Math.min(o.y,o.y+L-w));var N=this.dirtyRectTolerance;o.isZero()||(o.x=Math.floor(o.x-N),o.y=Math.floor(o.y-N),o.width=Math.ceil(o.width+1+2*N),o.height=Math.ceil(o.height+1+2*N))}return o},Displayable.prototype.setPrevPaintRect=function(o){o?(this._prevPaintRect=this._prevPaintRect||new tS(0,0,0,0),this._prevPaintRect.copy(o)):this._prevPaintRect=null},Displayable.prototype.getPrevPaintRect=function(){return this._prevPaintRect},Displayable.prototype.animateStyle=function(o){return this.animate("style",o)},Displayable.prototype.updateDuringAnimation=function(o){"style"===o?this.dirtyStyle():this.markRedraw()},Displayable.prototype.attrKV=function(v,_){"style"!==v?o.prototype.attrKV.call(this,v,_):this.style?this.setStyle(_):this.useStyle(_)},Displayable.prototype.setStyle=function(o,v){return"string"==typeof o?this.style[o]=v:extend(this.style,o),this.dirtyStyle(),this},Displayable.prototype.dirtyStyle=function(o){o||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},Displayable.prototype.dirty=function(){this.dirtyStyle()},Displayable.prototype.styleChanged=function(){return!!(2&this.__dirty)},Displayable.prototype.styleUpdated=function(){this.__dirty&=-3},Displayable.prototype.createStyle=function(o){return createObject(nN,o)},Displayable.prototype.useStyle=function(o){o[nR]||(o=this.createStyle(o)),this.__inHover?this.__hoverStyle=o:this.style=o,this.dirtyStyle()},Displayable.prototype.isStyleObject=function(o){return o[nR]},Displayable.prototype._innerSaveToNormal=function(v){o.prototype._innerSaveToNormal.call(this,v);var _=this._normalState;v.style&&!_.style&&(_.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(v,_,nV)},Displayable.prototype._applyStateObj=function(v,_,x,w,T,L){o.prototype._applyStateObj.call(this,v,_,x,w,T,L);var N,B=!(_&&w);if(_&&_.style?T?w?N=_.style:(N=this._mergeStyle(this.createStyle(),x.style),this._mergeStyle(N,_.style)):(N=this._mergeStyle(this.createStyle(),w?this.style:x.style),this._mergeStyle(N,_.style)):B&&(N=x.style),N){if(T){var H=this.style;if(this.style=this.createStyle(B?{}:H),B)for(var Y=keys(H),Z=0;Z<Y.length;Z++){var X=Y[Z];X in N&&(N[X]=N[X],this.style[X]=H[X])}for(var et=keys(N),Z=0;Z<et.length;Z++){var X=et[Z];this.style[X]=this.style[X]}this._transitionState(v,{style:N},L,this.getAnimationStyleProps())}else this.useStyle(N)}for(var en=this.__inHover?nB:nV,Z=0;Z<en.length;Z++){var X=en[Z];_&&null!=_[X]?this[X]=_[X]:B&&null!=x[X]&&(this[X]=x[X])}},Displayable.prototype._mergeStates=function(v){for(var _,x=o.prototype._mergeStates.call(this,v),w=0;w<v.length;w++){var T=v[w];T.style&&(_=_||{},this._mergeStyle(_,T.style))}return _&&(x.style=_),x},Displayable.prototype._mergeStyle=function(o,v){return extend(o,v),o},Displayable.prototype.getAnimationStyleProps=function(){return nF},Displayable.initDefaultProps=void((v=Displayable.prototype).type="displayable",v.invisible=!1,v.z=0,v.z2=0,v.zlevel=0,v.culling=!1,v.cursor="pointer",v.rectHover=!1,v.incremental=!1,v._rect=null,v.dirtyRectTolerance=0,v.__dirty=3),Displayable}(nf),nj=new tS(0,0,0,0),nH=new tS(0,0,0,0);function isDisplayableCulled(o,v,_){return nj.copy(o.getBoundingRect()),o.transform&&nj.applyTransform(o.transform),nH.width=v,nH.height=_,!nj.intersect(nH)}var nG=Math.min,nU=Math.max,nW=Math.sin,nY=Math.cos,nK=2*Math.PI,nZ=create(),nq=create(),nX=create();function fromPoints(o,v,_){if(0!==o.length){for(var x=o[0],w=x[0],T=x[0],L=x[1],N=x[1],B=1;B<o.length;B++)w=nG(w,(x=o[B])[0]),T=nU(T,x[0]),L=nG(L,x[1]),N=nU(N,x[1]);v[0]=w,v[1]=L,_[0]=T,_[1]=N}}function fromLine(o,v,_,x,w,T){w[0]=nG(o,_),w[1]=nG(v,x),T[0]=nU(o,_),T[1]=nU(v,x)}var n$=[],nQ=[];function fromCubic(o,v,_,x,w,T,L,N,B,H){var Y=curve_cubicExtrema,Z=curve_cubicAt,X=Y(o,_,w,L,n$);B[0]=1/0,B[1]=1/0,H[0]=-1/0,H[1]=-1/0;for(var et=0;et<X;et++){var en=Z(o,_,w,L,n$[et]);B[0]=nG(en,B[0]),H[0]=nU(en,H[0])}X=Y(v,x,T,N,nQ);for(var et=0;et<X;et++){var er=Z(v,x,T,N,nQ[et]);B[1]=nG(er,B[1]),H[1]=nU(er,H[1])}B[0]=nG(o,B[0]),H[0]=nU(o,H[0]),B[0]=nG(L,B[0]),H[0]=nU(L,H[0]),B[1]=nG(v,B[1]),H[1]=nU(v,H[1]),B[1]=nG(N,B[1]),H[1]=nU(N,H[1])}function fromQuadratic(o,v,_,x,w,T,L,N){var B=curve_quadraticExtremum,H=curve_quadraticAt,Y=nU(nG(B(o,_,w),1),0),Z=nU(nG(B(v,x,T),1),0),X=H(o,_,w,Y),et=H(v,x,T,Z);L[0]=nG(o,w,X),L[1]=nG(v,T,et),N[0]=nU(o,w,X),N[1]=nU(v,T,et)}function fromArc(o,v,_,x,w,T,L,N,B){var H=vector_min,Y=vector_max,Z=Math.abs(w-T);if(Z%nK<1e-4&&Z>1e-4){N[0]=o-_,N[1]=v-x,B[0]=o+_,B[1]=v+x;return}if(nZ[0]=nY(w)*_+o,nZ[1]=nW(w)*x+v,nq[0]=nY(T)*_+o,nq[1]=nW(T)*x+v,H(N,nZ,nq),Y(B,nZ,nq),(w%=nK)<0&&(w+=nK),(T%=nK)<0&&(T+=nK),w>T&&!L?T+=nK:w<T&&L&&(w+=nK),L){var X=T;T=w,w=X}for(var et=0;et<T;et+=Math.PI/2)et>w&&(nX[0]=nY(et)*_+o,nX[1]=nW(et)*x+v,H(N,nX,N),Y(B,nX,B))}var nJ={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},n0=[],n1=[],n2=[],n5=[],n3=[],n4=[],n7=Math.min,n6=Math.max,n9=Math.cos,n8=Math.sin,rr=Math.abs,ri=Math.PI,ra=2*ri,ro="undefined"!=typeof Float32Array,rs=[];function modPI2(o){return Math.round(o/ri*1e8)/1e8%2*ri}function normalizeArcAngles(o,v){var _=modPI2(o[0]);_<0&&(_+=ra);var x=_-o[0],w=o[1];w+=x,!v&&w-_>=ra?w=_+ra:v&&_-w>=ra?w=_-ra:!v&&_>w?w=_+(ra-modPI2(_-w)):v&&_<w&&(w=_-(ra-modPI2(w-_))),o[0]=_,o[1]=w}var rl=function(){var o;function PathProxy(o){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,o&&(this._saveData=!1),this._saveData&&(this.data=[])}return PathProxy.prototype.increaseVersion=function(){this._version++},PathProxy.prototype.getVersion=function(){return this._version},PathProxy.prototype.setScale=function(o,v,_){(_=_||0)>0&&(this._ux=rr(_/t6/o)||0,this._uy=rr(_/t6/v)||0)},PathProxy.prototype.setDPR=function(o){this.dpr=o},PathProxy.prototype.setContext=function(o){this._ctx=o},PathProxy.prototype.getContext=function(){return this._ctx},PathProxy.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},PathProxy.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},PathProxy.prototype.moveTo=function(o,v){return this._drawPendingPt(),this.addData(nJ.M,o,v),this._ctx&&this._ctx.moveTo(o,v),this._x0=o,this._y0=v,this._xi=o,this._yi=v,this},PathProxy.prototype.lineTo=function(o,v){var _=rr(o-this._xi),x=rr(v-this._yi),w=_>this._ux||x>this._uy;if(this.addData(nJ.L,o,v),this._ctx&&w&&this._ctx.lineTo(o,v),w)this._xi=o,this._yi=v,this._pendingPtDist=0;else{var T=_*_+x*x;T>this._pendingPtDist&&(this._pendingPtX=o,this._pendingPtY=v,this._pendingPtDist=T)}return this},PathProxy.prototype.bezierCurveTo=function(o,v,_,x,w,T){return this._drawPendingPt(),this.addData(nJ.C,o,v,_,x,w,T),this._ctx&&this._ctx.bezierCurveTo(o,v,_,x,w,T),this._xi=w,this._yi=T,this},PathProxy.prototype.quadraticCurveTo=function(o,v,_,x){return this._drawPendingPt(),this.addData(nJ.Q,o,v,_,x),this._ctx&&this._ctx.quadraticCurveTo(o,v,_,x),this._xi=_,this._yi=x,this},PathProxy.prototype.arc=function(o,v,_,x,w,T){this._drawPendingPt(),rs[0]=x,rs[1]=w,normalizeArcAngles(rs,T),x=rs[0];var L=(w=rs[1])-x;return this.addData(nJ.A,o,v,_,_,x,L,0,T?0:1),this._ctx&&this._ctx.arc(o,v,_,x,w,T),this._xi=n9(w)*_+o,this._yi=n8(w)*_+v,this},PathProxy.prototype.arcTo=function(o,v,_,x,w){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(o,v,_,x,w),this},PathProxy.prototype.rect=function(o,v,_,x){return this._drawPendingPt(),this._ctx&&this._ctx.rect(o,v,_,x),this.addData(nJ.R,o,v,_,x),this},PathProxy.prototype.closePath=function(){this._drawPendingPt(),this.addData(nJ.Z);var o=this._ctx,v=this._x0,_=this._y0;return o&&o.closePath(),this._xi=v,this._yi=_,this},PathProxy.prototype.fill=function(o){o&&o.fill(),this.toStatic()},PathProxy.prototype.stroke=function(o){o&&o.stroke(),this.toStatic()},PathProxy.prototype.len=function(){return this._len},PathProxy.prototype.setData=function(o){var v=o.length;!(this.data&&this.data.length===v)&&ro&&(this.data=new Float32Array(v));for(var _=0;_<v;_++)this.data[_]=o[_];this._len=v},PathProxy.prototype.appendPath=function(o){o instanceof Array||(o=[o]);for(var v=o.length,_=0,x=this._len,w=0;w<v;w++)_+=o[w].len();ro&&this.data instanceof Float32Array&&(this.data=new Float32Array(x+_));for(var w=0;w<v;w++)for(var T=o[w].data,L=0;L<T.length;L++)this.data[x++]=T[L];this._len=x},PathProxy.prototype.addData=function(o,v,_,x,w,T,L,N,B){if(this._saveData){var H=this.data;this._len+arguments.length>H.length&&(this._expandData(),H=this.data);for(var Y=0;Y<arguments.length;Y++)H[this._len++]=arguments[Y]}},PathProxy.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},PathProxy.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var o=[],v=0;v<this._len;v++)o[v]=this.data[v];this.data=o}},PathProxy.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var o=this.data;o instanceof Array&&(o.length=this._len,ro&&this._len>11&&(this.data=new Float32Array(o)))}},PathProxy.prototype.getBoundingRect=function(){n2[0]=n2[1]=n3[0]=n3[1]=Number.MAX_VALUE,n5[0]=n5[1]=n4[0]=n4[1]=-Number.MAX_VALUE;var o,v=this.data,_=0,x=0,w=0,T=0;for(o=0;o<this._len;){var L=v[o++],N=1===o;switch(N&&(_=v[o],x=v[o+1],w=_,T=x),L){case nJ.M:_=w=v[o++],x=T=v[o++],n3[0]=w,n3[1]=T,n4[0]=w,n4[1]=T;break;case nJ.L:fromLine(_,x,v[o],v[o+1],n3,n4),_=v[o++],x=v[o++];break;case nJ.C:fromCubic(_,x,v[o++],v[o++],v[o++],v[o++],v[o],v[o+1],n3,n4),_=v[o++],x=v[o++];break;case nJ.Q:fromQuadratic(_,x,v[o++],v[o++],v[o],v[o+1],n3,n4),_=v[o++],x=v[o++];break;case nJ.A:var B=v[o++],H=v[o++],Y=v[o++],Z=v[o++],X=v[o++],et=v[o++]+X;o+=1;var en=!v[o++];N&&(w=n9(X)*Y+B,T=n8(X)*Z+H),fromArc(B,H,Y,Z,X,et,en,n3,n4),_=n9(et)*Y+B,x=n8(et)*Z+H;break;case nJ.R:fromLine(w=_=v[o++],T=x=v[o++],w+v[o++],T+v[o++],n3,n4);break;case nJ.Z:_=w,x=T}vector_min(n2,n2,n3),vector_max(n5,n5,n4)}return 0===o&&(n2[0]=n2[1]=n5[0]=n5[1]=0),new tS(n2[0],n2[1],n5[0]-n2[0],n5[1]-n2[1])},PathProxy.prototype._calculateLength=function(){var o=this.data,v=this._len,_=this._ux,x=this._uy,w=0,T=0,L=0,N=0;this._pathSegLen||(this._pathSegLen=[]);for(var B=this._pathSegLen,H=0,Y=0,Z=0;Z<v;){var X=o[Z++],et=1===Z;et&&(w=o[Z],T=o[Z+1],L=w,N=T);var en=-1;switch(X){case nJ.M:w=L=o[Z++],T=N=o[Z++];break;case nJ.L:var er=o[Z++],ei=o[Z++],ea=er-w,eo=ei-T;(rr(ea)>_||rr(eo)>x||Z===v-1)&&(en=Math.sqrt(ea*ea+eo*eo),w=er,T=ei);break;case nJ.C:var el=o[Z++],eu=o[Z++],er=o[Z++],ei=o[Z++],ec=o[Z++],ed=o[Z++];en=cubicLength(w,T,el,eu,er,ei,ec,ed,10),w=ec,T=ed;break;case nJ.Q:var el=o[Z++],eu=o[Z++],er=o[Z++],ei=o[Z++];en=quadraticLength(w,T,el,eu,er,ei,10),w=er,T=ei;break;case nJ.A:var eh=o[Z++],ep=o[Z++],ef=o[Z++],eg=o[Z++],em=o[Z++],ey=o[Z++],ev=ey+em;Z+=1,o[Z++],et&&(L=n9(em)*ef+eh,N=n8(em)*eg+ep),en=n6(ef,eg)*n7(ra,Math.abs(ey)),w=n9(ev)*ef+eh,T=n8(ev)*eg+ep;break;case nJ.R:L=w=o[Z++],N=T=o[Z++],en=2*o[Z++]+2*o[Z++];break;case nJ.Z:var ea=L-w,eo=N-T;en=Math.sqrt(ea*ea+eo*eo),w=L,T=N}en>=0&&(B[Y++]=en,H+=en)}return this._pathLen=H,H},PathProxy.prototype.rebuildPath=function(o,v){var _,x,w,T,L,N,B,H,Y,Z,X=this.data,et=this._ux,en=this._uy,er=this._len,ei=v<1,ea=0,eo=0,el=0;if(!ei||(this._pathSegLen||this._calculateLength(),B=this._pathSegLen,H=v*this._pathLen))t:for(var eu=0;eu<er;){var ec=X[eu++],ed=1===eu;switch(ed&&(w=X[eu],T=X[eu+1],_=w,x=T),ec!==nJ.L&&el>0&&(o.lineTo(Y,Z),el=0),ec){case nJ.M:_=w=X[eu++],x=T=X[eu++],o.moveTo(w,T);break;case nJ.L:L=X[eu++],N=X[eu++];var eh=rr(L-w),ep=rr(N-T);if(eh>et||ep>en){if(ei){var ef=B[eo++];if(ea+ef>H){var eg=(H-ea)/ef;o.lineTo(w*(1-eg)+L*eg,T*(1-eg)+N*eg);break t}ea+=ef}o.lineTo(L,N),w=L,T=N,el=0}else{var em=eh*eh+ep*ep;em>el&&(Y=L,Z=N,el=em)}break;case nJ.C:var ey=X[eu++],ev=X[eu++],e_=X[eu++],eb=X[eu++],eS=X[eu++],ex=X[eu++];if(ei){var ef=B[eo++];if(ea+ef>H){var eg=(H-ea)/ef;cubicSubdivide(w,ey,e_,eS,eg,n0),cubicSubdivide(T,ev,eb,ex,eg,n1),o.bezierCurveTo(n0[1],n1[1],n0[2],n1[2],n0[3],n1[3]);break t}ea+=ef}o.bezierCurveTo(ey,ev,e_,eb,eS,ex),w=eS,T=ex;break;case nJ.Q:var ey=X[eu++],ev=X[eu++],e_=X[eu++],eb=X[eu++];if(ei){var ef=B[eo++];if(ea+ef>H){var eg=(H-ea)/ef;curve_quadraticSubdivide(w,ey,e_,eg,n0),curve_quadraticSubdivide(T,ev,eb,eg,n1),o.quadraticCurveTo(n0[1],n1[1],n0[2],n1[2]);break t}ea+=ef}o.quadraticCurveTo(ey,ev,e_,eb),w=e_,T=eb;break;case nJ.A:var ew=X[eu++],eC=X[eu++],eT=X[eu++],eM=X[eu++],eP=X[eu++],eI=X[eu++],eD=X[eu++],eE=!X[eu++],eO=eT>eM?eT:eM,eA=rr(eT-eM)>.001,ek=eP+eI,eL=!1;if(ei){var ef=B[eo++];ea+ef>H&&(ek=eP+eI*(H-ea)/ef,eL=!0),ea+=ef}if(eA&&o.ellipse?o.ellipse(ew,eC,eT,eM,eD,eP,ek,eE):o.arc(ew,eC,eO,eP,ek,eE),eL)break t;ed&&(_=n9(eP)*eT+ew,x=n8(eP)*eM+eC),w=n9(ek)*eT+ew,T=n8(ek)*eM+eC;break;case nJ.R:_=w=X[eu],x=T=X[eu+1],L=X[eu++],N=X[eu++];var eR=X[eu++],eN=X[eu++];if(ei){var ef=B[eo++];if(ea+ef>H){var eF=H-ea;o.moveTo(L,N),o.lineTo(L+n7(eF,eR),N),(eF-=eR)>0&&o.lineTo(L+eR,N+n7(eF,eN)),(eF-=eN)>0&&o.lineTo(L+n6(eR-eF,0),N+eN),(eF-=eR)>0&&o.lineTo(L,N+n6(eN-eF,0));break t}ea+=ef}o.rect(L,N,eR,eN);break;case nJ.Z:if(ei){var ef=B[eo++];if(ea+ef>H){var eg=(H-ea)/ef;o.lineTo(w*(1-eg)+_*eg,T*(1-eg)+x*eg);break t}ea+=ef}o.closePath(),w=_,T=x}}},PathProxy.prototype.clone=function(){var o=new PathProxy,v=this.data;return o.data=v.slice?v.slice():Array.prototype.slice.call(v),o._len=this._len,o},PathProxy.CMD=nJ,PathProxy.initDefaultProps=void((o=PathProxy.prototype)._saveData=!0,o._ux=0,o._uy=0,o._pendingPtDist=0,o._version=0),PathProxy}();function containStroke(o,v,_,x,w,T,L){if(0===w)return!1;var N=0,B=o;if(L>v+w&&L>x+w||L<v-w&&L<x-w||T>o+w&&T>_+w||T<o-w&&T<_-w)return!1;if(o===_)return Math.abs(T-o)<=w/2;var H=(N=(v-x)/(o-_))*T-L+(o*x-_*v)/(o-_);return H*H/(N*N+1)<=w/2*w/2}function cubic_containStroke(o,v,_,x,w,T,L,N,B,H,Y){return 0!==B&&(!(Y>v+B)||!(Y>x+B)||!(Y>T+B)||!(Y>N+B))&&(!(Y<v-B)||!(Y<x-B)||!(Y<T-B)||!(Y<N-B))&&(!(H>o+B)||!(H>_+B)||!(H>w+B)||!(H>L+B))&&(!(H<o-B)||!(H<_-B)||!(H<w-B)||!(H<L-B))&&cubicProjectPoint(o,v,_,x,w,T,L,N,H,Y,null)<=B/2}function quadratic_containStroke(o,v,_,x,w,T,L,N,B){return 0!==L&&(!(B>v+L)||!(B>x+L)||!(B>T+L))&&(!(B<v-L)||!(B<x-L)||!(B<T-L))&&(!(N>o+L)||!(N>_+L)||!(N>w+L))&&(!(N<o-L)||!(N<_-L)||!(N<w-L))&&quadraticProjectPoint(o,v,_,x,w,T,N,B,null)<=L/2}var ru=2*Math.PI;function normalizeRadian(o){return(o%=ru)<0&&(o+=ru),o}var rc=2*Math.PI;function arc_containStroke(o,v,_,x,w,T,L,N,B){if(0===L)return!1;var H=Math.sqrt((N-=o)*N+(B-=v)*B);if(H-L>_||H+L<_)return!1;if(Math.abs(x-w)%rc<1e-4)return!0;if(T){var Y=x;x=normalizeRadian(w),w=normalizeRadian(Y)}else x=normalizeRadian(x),w=normalizeRadian(w);x>w&&(w+=rc);var Z=Math.atan2(B,N);return Z<0&&(Z+=rc),Z>=x&&Z<=w||Z+rc>=x&&Z+rc<=w}function windingLine(o,v,_,x,w,T){if(T>v&&T>x||T<v&&T<x||x===v)return 0;var L=(T-v)/(x-v),N=x<v?1:-1;(1===L||0===L)&&(N=x<v?.5:-.5);var B=L*(_-o)+o;return B===w?1/0:B>w?N:0}var rd=rl.CMD,rh=2*Math.PI;function isAroundEqual(o,v){return 1e-4>Math.abs(o-v)}var rp=[-1,-1,-1],rf=[-1,-1];function swapExtrema(){var o=rf[0];rf[0]=rf[1],rf[1]=o}function windingCubic(o,v,_,x,w,T,L,N,B,H){if(H>v&&H>x&&H>T&&H>N||H<v&&H<x&&H<T&&H<N)return 0;var Y=cubicRootAt(v,x,T,N,H,rp);if(0===Y)return 0;for(var Z=0,X=-1,et=void 0,en=void 0,er=0;er<Y;er++){var ei=rp[er],ea=0===ei||1===ei?.5:1;curve_cubicAt(o,_,w,L,ei)<B||(X<0&&(X=curve_cubicExtrema(v,x,T,N,rf),rf[1]<rf[0]&&X>1&&swapExtrema(),et=curve_cubicAt(v,x,T,N,rf[0]),X>1&&(en=curve_cubicAt(v,x,T,N,rf[1]))),2===X?ei<rf[0]?Z+=et<v?ea:-ea:ei<rf[1]?Z+=en<et?ea:-ea:Z+=N<en?ea:-ea:ei<rf[0]?Z+=et<v?ea:-ea:Z+=N<et?ea:-ea)}return Z}function windingQuadratic(o,v,_,x,w,T,L,N){if(N>v&&N>x&&N>T||N<v&&N<x&&N<T)return 0;var B=quadraticRootAt(v,x,T,N,rp);if(0===B)return 0;var H=curve_quadraticExtremum(v,x,T);if(H>=0&&H<=1){for(var Y=0,Z=curve_quadraticAt(v,x,T,H),X=0;X<B;X++){var et=0===rp[X]||1===rp[X]?.5:1,en=curve_quadraticAt(o,_,w,rp[X]);en<L||(rp[X]<H?Y+=Z<v?et:-et:Y+=T<Z?et:-et)}return Y}var et=0===rp[0]||1===rp[0]?.5:1,en=curve_quadraticAt(o,_,w,rp[0]);return en<L?0:T<v?et:-et}function windingArc(o,v,_,x,w,T,L,N){if((N-=v)>_||N<-_)return 0;var B=Math.sqrt(_*_-N*N);rp[0]=-B,rp[1]=B;var H=Math.abs(x-w);if(H<1e-4)return 0;if(H>=rh-1e-4){x=0,w=rh;var Y=T?1:-1;return L>=rp[0]+o&&L<=rp[1]+o?Y:0}if(x>w){var Z=x;x=w,w=Z}x<0&&(x+=rh,w+=rh);for(var X=0,et=0;et<2;et++){var en=rp[et];if(en+o>L){var er=Math.atan2(N,en),Y=T?1:-1;er<0&&(er=rh+er),(er>=x&&er<=w||er+rh>=x&&er+rh<=w)&&(er>Math.PI/2&&er<1.5*Math.PI&&(Y=-Y),X+=Y)}}return X}function containPath(o,v,_,x,w){for(var T,L,N=o.data,B=o.len(),H=0,Y=0,Z=0,X=0,et=0,en=0;en<B;){var er=N[en++],ei=1===en;switch(er===rd.M&&en>1&&!_&&(H+=windingLine(Y,Z,X,et,x,w)),ei&&(Y=N[en],Z=N[en+1],X=Y,et=Z),er){case rd.M:X=N[en++],et=N[en++],Y=X,Z=et;break;case rd.L:if(_){if(containStroke(Y,Z,N[en],N[en+1],v,x,w))return!0}else H+=windingLine(Y,Z,N[en],N[en+1],x,w)||0;Y=N[en++],Z=N[en++];break;case rd.C:if(_){if(cubic_containStroke(Y,Z,N[en++],N[en++],N[en++],N[en++],N[en],N[en+1],v,x,w))return!0}else H+=windingCubic(Y,Z,N[en++],N[en++],N[en++],N[en++],N[en],N[en+1],x,w)||0;Y=N[en++],Z=N[en++];break;case rd.Q:if(_){if(quadratic_containStroke(Y,Z,N[en++],N[en++],N[en],N[en+1],v,x,w))return!0}else H+=windingQuadratic(Y,Z,N[en++],N[en++],N[en],N[en+1],x,w)||0;Y=N[en++],Z=N[en++];break;case rd.A:var ea=N[en++],eo=N[en++],el=N[en++],eu=N[en++],ec=N[en++],ed=N[en++];en+=1;var eh=!!(1-N[en++]);T=Math.cos(ec)*el+ea,L=Math.sin(ec)*eu+eo,ei?(X=T,et=L):H+=windingLine(Y,Z,T,L,x,w);var ep=(x-ea)*eu/el+ea;if(_){if(arc_containStroke(ea,eo,eu,ec,ec+ed,eh,v,ep,w))return!0}else H+=windingArc(ea,eo,eu,ec,ec+ed,eh,ep,w);Y=Math.cos(ec+ed)*el+ea,Z=Math.sin(ec+ed)*eu+eo;break;case rd.R:X=Y=N[en++],et=Z=N[en++];var ef=N[en++],eg=N[en++];if(T=X+ef,L=et+eg,_){if(containStroke(X,et,T,et,v,x,w)||containStroke(T,et,T,L,v,x,w)||containStroke(T,L,X,L,v,x,w)||containStroke(X,L,X,et,v,x,w))return!0}else H+=windingLine(T,et,T,L,x,w)+windingLine(X,L,X,et,x,w);break;case rd.Z:if(_){if(containStroke(Y,Z,X,et,v,x,w))return!0}else H+=windingLine(Y,Z,X,et,x,w);Y=X,Z=et}}return _||isAroundEqual(Z,et)||(H+=windingLine(Y,Z,X,et,x,w)||0),0!==H}function contain(o,v,_){return containPath(o,0,!1,v,_)}function path_containStroke(o,v,_,x){return containPath(o,v,!0,_,x)}var rg=util_defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},nN),rm={style:util_defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},nF.style)},ry=ns.concat(["invisible","culling","z","z2","zlevel","parent"]),rv=function(o){var v;function Path(v){return o.call(this,v)||this}return __extends(Path,o),Path.prototype.update=function(){var v=this;o.prototype.update.call(this);var _=this.style;if(_.decal){var x=this._decalEl=this._decalEl||new Path;x.buildPath===Path.prototype.buildPath&&(x.buildPath=function(o){v.buildPath(o,v.shape)}),x.silent=!0;var w=x.style;for(var T in _)w[T]!==_[T]&&(w[T]=_[T]);w.fill=_.fill?_.decal:null,w.decal=null,w.shadowColor=null,_.strokeFirst&&(w.stroke=null);for(var L=0;L<ry.length;++L)x[ry[L]]=this[ry[L]];x.__dirty|=1}else this._decalEl&&(this._decalEl=null)},Path.prototype.getDecalElement=function(){return this._decalEl},Path.prototype._init=function(v){var _=keys(v);this.shape=this.getDefaultShape();var x=this.getDefaultStyle();x&&this.useStyle(x);for(var w=0;w<_.length;w++){var T=_[w],L=v[T];"style"===T?this.style?extend(this.style,L):this.useStyle(L):"shape"===T?extend(this.shape,L):o.prototype.attrKV.call(this,T,L)}this.style||this.useStyle({})},Path.prototype.getDefaultStyle=function(){return null},Path.prototype.getDefaultShape=function(){return{}},Path.prototype.canBeInsideText=function(){return this.hasFill()},Path.prototype.getInsideTextFill=function(){var o=this.style.fill;if("none"!==o){if(util_isString(o)){var v=lum(o,0);return v>.5?t9:v>.2?"#eee":t8}if(o)return t8}return t9},Path.prototype.getInsideTextStroke=function(o){var v=this.style.fill;if(util_isString(v)){var _=this.__zr;if(!!(_&&_.isDarkMode())==.4>lum(o,0))return v}},Path.prototype.buildPath=function(o,v,_){},Path.prototype.pathUpdated=function(){this.__dirty&=-5},Path.prototype.getUpdatedPathProxy=function(o){return this.path||this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,o),this.path},Path.prototype.createPathProxy=function(){this.path=new rl(!1)},Path.prototype.hasStroke=function(){var o=this.style,v=o.stroke;return!(null==v||"none"===v||!(o.lineWidth>0))},Path.prototype.hasFill=function(){var o=this.style.fill;return null!=o&&"none"!==o},Path.prototype.getBoundingRect=function(){var o=this._rect,v=this.style,_=!o;if(_){var x=!1;this.path||(x=!0,this.createPathProxy());var w=this.path;(x||4&this.__dirty)&&(w.beginPath(),this.buildPath(w,this.shape,!1),this.pathUpdated()),o=w.getBoundingRect()}if(this._rect=o,this.hasStroke()&&this.path&&this.path.len()>0){var T=this._rectStroke||(this._rectStroke=o.clone());if(this.__dirty||_){T.copy(o);var L=v.strokeNoScale?this.getLineScale():1,N=v.lineWidth;if(!this.hasFill()){var B=this.strokeContainThreshold;N=Math.max(N,null==B?4:B)}L>1e-10&&(T.width+=N/L,T.height+=N/L,T.x-=N/L/2,T.y-=N/L/2)}return T}return o},Path.prototype.contain=function(o,v){var _=this.transformCoordToLocal(o,v),x=this.getBoundingRect(),w=this.style;if(o=_[0],v=_[1],x.contain(o,v)){var T=this.path;if(this.hasStroke()){var L=w.lineWidth,N=w.strokeNoScale?this.getLineScale():1;if(N>1e-10&&(this.hasFill()||(L=Math.max(L,this.strokeContainThreshold)),path_containStroke(T,L/N,o,v)))return!0}if(this.hasFill())return contain(T,o,v)}return!1},Path.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},Path.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Path.prototype.animateShape=function(o){return this.animate("shape",o)},Path.prototype.updateDuringAnimation=function(o){"style"===o?this.dirtyStyle():"shape"===o?this.dirtyShape():this.markRedraw()},Path.prototype.attrKV=function(v,_){"shape"===v?this.setShape(_):o.prototype.attrKV.call(this,v,_)},Path.prototype.setShape=function(o,v){var _=this.shape;return _||(_=this.shape={}),"string"==typeof o?_[o]=v:extend(_,o),this.dirtyShape(),this},Path.prototype.shapeChanged=function(){return!!(4&this.__dirty)},Path.prototype.createStyle=function(o){return createObject(rg,o)},Path.prototype._innerSaveToNormal=function(v){o.prototype._innerSaveToNormal.call(this,v);var _=this._normalState;v.shape&&!_.shape&&(_.shape=extend({},this.shape))},Path.prototype._applyStateObj=function(v,_,x,w,T,L){o.prototype._applyStateObj.call(this,v,_,x,w,T,L);var N,B=!(_&&w);if(_&&_.shape?T?w?N=_.shape:(N=extend({},x.shape),extend(N,_.shape)):(N=extend({},w?this.shape:x.shape),extend(N,_.shape)):B&&(N=x.shape),N){if(T){this.shape=extend({},this.shape);for(var H={},Y=keys(N),Z=0;Z<Y.length;Z++){var X=Y[Z];"object"==typeof N[X]?this.shape[X]=N[X]:H[X]=N[X]}this._transitionState(v,{shape:H},L)}else this.shape=N,this.dirtyShape()}},Path.prototype._mergeStates=function(v){for(var _,x=o.prototype._mergeStates.call(this,v),w=0;w<v.length;w++){var T=v[w];T.shape&&(_=_||{},this._mergeStyle(_,T.shape))}return _&&(x.shape=_),x},Path.prototype.getAnimationStyleProps=function(){return rm},Path.prototype.isZeroArea=function(){return!1},Path.extend=function(o){var v=function(v){function Sub(_){var x=v.call(this,_)||this;return o.init&&o.init.call(x,_),x}return __extends(Sub,v),Sub.prototype.getDefaultStyle=function(){return clone(o.style)},Sub.prototype.getDefaultShape=function(){return clone(o.shape)},Sub}(Path);for(var _ in o)"function"==typeof o[_]&&(v.prototype[_]=o[_]);return v},Path.initDefaultProps=void((v=Path.prototype).type="path",v.strokeContainThreshold=5,v.segmentIgnoreThreshold=0,v.subPixelOptimize=!1,v.autoBatch=!1,v.__dirty=7),Path}(nz),r_=util_defaults({strokeFirst:!0,font:ez,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},rg),rb=function(o){function TSpan(){return null!==o&&o.apply(this,arguments)||this}return __extends(TSpan,o),TSpan.prototype.hasStroke=function(){var o=this.style,v=o.stroke;return null!=v&&"none"!==v&&o.lineWidth>0},TSpan.prototype.hasFill=function(){var o=this.style.fill;return null!=o&&"none"!==o},TSpan.prototype.createStyle=function(o){return createObject(r_,o)},TSpan.prototype.setBoundingRect=function(o){this._rect=o},TSpan.prototype.getBoundingRect=function(){var o=this.style;if(!this._rect){var v=o.text;null!=v?v+="":v="";var _=getBoundingRect(v,o.font,o.textAlign,o.textBaseline);if(_.x+=o.x||0,_.y+=o.y||0,this.hasStroke()){var x=o.lineWidth;_.x-=x/2,_.y-=x/2,_.width+=x,_.height+=x}this._rect=_}return this._rect},TSpan.initDefaultProps=void(TSpan.prototype.dirtyRectTolerance=10),TSpan}(nz);rb.prototype.type="tspan";var rS=util_defaults({x:0,y:0},nN),rx={style:util_defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},nF.style)};function isImageLike(o){return!!(o&&"string"!=typeof o&&o.width&&o.height)}var rw=function(o){function ZRImage(){return null!==o&&o.apply(this,arguments)||this}return __extends(ZRImage,o),ZRImage.prototype.createStyle=function(o){return createObject(rS,o)},ZRImage.prototype._getSize=function(o){var v=this.style,_=v[o];if(null!=_)return _;var x=isImageLike(v.image)?v.image:this.__image;if(!x)return 0;var w="width"===o?"height":"width",T=v[w];return null==T?x[o]:x[o]/x[w]*T},ZRImage.prototype.getWidth=function(){return this._getSize("width")},ZRImage.prototype.getHeight=function(){return this._getSize("height")},ZRImage.prototype.getAnimationStyleProps=function(){return rx},ZRImage.prototype.getBoundingRect=function(){var o=this.style;return this._rect||(this._rect=new tS(o.x||0,o.y||0,this.getWidth(),this.getHeight())),this._rect},ZRImage}(nz);rw.prototype.type="image";var rC=rw;function buildPath(o,v){var _,x,w,T,L,N=v.x,B=v.y,H=v.width,Y=v.height,Z=v.r;H<0&&(N+=H,H=-H),Y<0&&(B+=Y,Y=-Y),"number"==typeof Z?_=x=w=T=Z:Z instanceof Array?1===Z.length?_=x=w=T=Z[0]:2===Z.length?(_=w=Z[0],x=T=Z[1]):3===Z.length?(_=Z[0],x=T=Z[1],w=Z[2]):(_=Z[0],x=Z[1],w=Z[2],T=Z[3]):_=x=w=T=0,_+x>H&&(L=_+x,_*=H/L,x*=H/L),w+T>H&&(L=w+T,w*=H/L,T*=H/L),x+w>Y&&(L=x+w,x*=Y/L,w*=Y/L),_+T>Y&&(L=_+T,_*=Y/L,T*=Y/L),o.moveTo(N+_,B),o.lineTo(N+H-x,B),0!==x&&o.arc(N+H-x,B+x,x,-Math.PI/2,0),o.lineTo(N+H,B+Y-w),0!==w&&o.arc(N+H-w,B+Y-w,w,0,Math.PI/2),o.lineTo(N+T,B+Y),0!==T&&o.arc(N+T,B+Y-T,T,Math.PI/2,Math.PI),o.lineTo(N,B+_),0!==_&&o.arc(N+_,B+_,_,Math.PI,1.5*Math.PI)}var rT=Math.round;function subPixelOptimizeLine(o,v,_){if(v){var x=v.x1,w=v.x2,T=v.y1,L=v.y2;o.x1=x,o.x2=w,o.y1=T,o.y2=L;var N=_&&_.lineWidth;return N&&(rT(2*x)===rT(2*w)&&(o.x1=o.x2=subPixelOptimize(x,N,!0)),rT(2*T)===rT(2*L)&&(o.y1=o.y2=subPixelOptimize(T,N,!0))),o}}function subPixelOptimizeRect(o,v,_){if(v){var x=v.x,w=v.y,T=v.width,L=v.height;o.x=x,o.y=w,o.width=T,o.height=L;var N=_&&_.lineWidth;return N&&(o.x=subPixelOptimize(x,N,!0),o.y=subPixelOptimize(w,N,!0),o.width=Math.max(subPixelOptimize(x+T,N,!1)-o.x,0===T?0:1),o.height=Math.max(subPixelOptimize(w+L,N,!1)-o.y,0===L?0:1)),o}}function subPixelOptimize(o,v,_){if(!v)return o;var x=rT(2*o);return(x+rT(v))%2==0?x/2:(x+(_?1:-1))/2}var RectShape=function(){this.x=0,this.y=0,this.width=0,this.height=0},rM={},rP=function(o){function Rect(v){return o.call(this,v)||this}return __extends(Rect,o),Rect.prototype.getDefaultShape=function(){return new RectShape},Rect.prototype.buildPath=function(o,v){if(this.subPixelOptimize){var _,x,w,T,L=subPixelOptimizeRect(rM,v,this.style);_=L.x,x=L.y,w=L.width,T=L.height,L.r=v.r,v=L}else _=v.x,x=v.y,w=v.width,T=v.height;v.r?buildPath(o,v):o.rect(_,x,w,T)},Rect.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},Rect}(rv);rP.prototype.type="rect";var rI=rP,rD={fill:"#000"},rE={style:util_defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},nF.style)},rO=function(o){function ZRText(v){var _=o.call(this)||this;return _.type="text",_._children=[],_._defaultStyle=rD,_.attr(v),_}return __extends(ZRText,o),ZRText.prototype.childrenRef=function(){return this._children},ZRText.prototype.update=function(){o.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var v=0;v<this._children.length;v++){var _=this._children[v];_.zlevel=this.zlevel,_.z=this.z,_.z2=this.z2,_.culling=this.culling,_.cursor=this.cursor,_.invisible=this.invisible}},ZRText.prototype.updateTransform=function(){var v=this.innerTransformable;v?(v.updateTransform(),v.transform&&(this.transform=v.transform)):o.prototype.updateTransform.call(this)},ZRText.prototype.getLocalTransform=function(v){var _=this.innerTransformable;return _?_.getLocalTransform(v):o.prototype.getLocalTransform.call(this,v)},ZRText.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),o.prototype.getComputedTransform.call(this)},ZRText.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},ZRText.prototype.addSelfToZr=function(v){o.prototype.addSelfToZr.call(this,v);for(var _=0;_<this._children.length;_++)this._children[_].__zr=v},ZRText.prototype.removeSelfFromZr=function(v){o.prototype.removeSelfFromZr.call(this,v);for(var _=0;_<this._children.length;_++)this._children[_].__zr=null},ZRText.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var o=new tS(0,0,0,0),v=this._children,_=[],x=null,w=0;w<v.length;w++){var T=v[w],L=T.getBoundingRect(),N=T.getLocalTransform(_);N?(o.copy(L),o.applyTransform(N),(x=x||o.clone()).union(o)):(x=x||L.clone()).union(L)}this._rect=x||o}return this._rect},ZRText.prototype.setDefaultTextStyle=function(o){this._defaultStyle=o||rD},ZRText.prototype.setTextContent=function(o){},ZRText.prototype._mergeStyle=function(o,v){if(!v)return o;var _=v.rich,x=o.rich||_&&{};return extend(o,v),_&&x?(this._mergeRich(x,_),o.rich=x):x&&(o.rich=x),o},ZRText.prototype._mergeRich=function(o,v){for(var _=keys(v),x=0;x<_.length;x++){var w=_[x];o[w]=o[w]||{},extend(o[w],v[w])}},ZRText.prototype.getAnimationStyleProps=function(){return rE},ZRText.prototype._getOrCreateChild=function(o){var v=this._children[this._childCursor];return v&&v instanceof o||(v=new o),this._children[this._childCursor++]=v,v.__zr=this.__zr,v.parent=this,v},ZRText.prototype._updatePlainTexts=function(){var o=this.style,v=o.font||ez,_=o.padding,x=parsePlainText(getStyleText(o),o),w=needDrawBackground(o),T=!!o.backgroundColor,L=x.outerHeight,N=x.outerWidth,B=x.contentWidth,H=x.lines,Y=x.lineHeight,Z=this._defaultStyle,X=o.x||0,et=o.y||0,en=o.align||Z.align||"left",er=o.verticalAlign||Z.verticalAlign||"top",ei=X,ea=text_adjustTextY(et,x.contentHeight,er);if(w||_){var eo=adjustTextX(X,N,en),el=text_adjustTextY(et,L,er);w&&this._renderBackground(o,o,eo,el,N,L)}ea+=Y/2,_&&(ei=getTextXForPadding(X,en,_),"top"===er?ea+=_[0]:"bottom"===er&&(ea-=_[2]));for(var eu=0,ec=!1,ed=getFill(("fill"in o)?o.fill:(ec=!0,Z.fill)),eh=getStroke(("stroke"in o)?o.stroke:T||Z.autoStroke&&!ec?null:(eu=2,Z.stroke)),ep=o.textShadowBlur>0,ef=null!=o.width&&("truncate"===o.overflow||"break"===o.overflow||"breakAll"===o.overflow),eg=x.calculatedLineHeight,em=0;em<H.length;em++){var ey=this._getOrCreateChild(rb),ev=ey.createStyle();ey.useStyle(ev),ev.text=H[em],ev.x=ei,ev.y=ea,en&&(ev.textAlign=en),ev.textBaseline="middle",ev.opacity=o.opacity,ev.strokeFirst=!0,ep&&(ev.shadowBlur=o.textShadowBlur||0,ev.shadowColor=o.textShadowColor||"transparent",ev.shadowOffsetX=o.textShadowOffsetX||0,ev.shadowOffsetY=o.textShadowOffsetY||0),ev.stroke=eh,ev.fill=ed,eh&&(ev.lineWidth=o.lineWidth||eu,ev.lineDash=o.lineDash,ev.lineDashOffset=o.lineDashOffset||0),ev.font=v,setSeparateFont(ev,o),ea+=Y,ef&&ey.setBoundingRect(new tS(adjustTextX(ev.x,o.width,ev.textAlign),text_adjustTextY(ev.y,eg,ev.textBaseline),B,eg))}},ZRText.prototype._updateRichTexts=function(){var o=this.style,v=parseRichText(getStyleText(o),o),_=v.width,x=v.outerWidth,w=v.outerHeight,T=o.padding,L=o.x||0,N=o.y||0,B=this._defaultStyle,H=o.align||B.align,Y=o.verticalAlign||B.verticalAlign,Z=adjustTextX(L,x,H),X=text_adjustTextY(N,w,Y),et=Z,en=X;T&&(et+=T[3],en+=T[0]);var er=et+_;needDrawBackground(o)&&this._renderBackground(o,o,Z,X,x,w);for(var ei=!!o.backgroundColor,ea=0;ea<v.lines.length;ea++){for(var eo=v.lines[ea],el=eo.tokens,eu=el.length,ec=eo.lineHeight,ed=eo.width,eh=0,ep=et,ef=er,eg=eu-1,em=void 0;eh<eu&&(!(em=el[eh]).align||"left"===em.align);)this._placeToken(em,o,ec,en,ep,"left",ei),ed-=em.width,ep+=em.width,eh++;for(;eg>=0&&"right"===(em=el[eg]).align;)this._placeToken(em,o,ec,en,ef,"right",ei),ed-=em.width,ef-=em.width,eg--;for(ep+=(_-(ep-et)-(er-ef)-ed)/2;eh<=eg;)em=el[eh],this._placeToken(em,o,ec,en,ep+em.width/2,"center",ei),ep+=em.width,eh++;en+=ec}},ZRText.prototype._placeToken=function(o,v,_,x,w,T,L){var N=v.rich[o.styleName]||{};N.text=o.text;var B=o.verticalAlign,H=x+_/2;"top"===B?H=x+o.height/2:"bottom"===B&&(H=x+_-o.height/2),!o.isLineHolder&&needDrawBackground(N)&&this._renderBackground(N,v,"right"===T?w-o.width:"center"===T?w-o.width/2:w,H-o.height/2,o.width,o.height);var Y=!!N.backgroundColor,Z=o.textPadding;Z&&(w=getTextXForPadding(w,T,Z),H-=o.height/2-Z[0]-o.innerHeight/2);var X=this._getOrCreateChild(rb),et=X.createStyle();X.useStyle(et);var en=this._defaultStyle,er=!1,ei=0,ea=getFill("fill"in N?N.fill:"fill"in v?v.fill:(er=!0,en.fill)),eo=getStroke("stroke"in N?N.stroke:"stroke"in v?v.stroke:Y||L||en.autoStroke&&!er?null:(ei=2,en.stroke)),el=N.textShadowBlur>0||v.textShadowBlur>0;et.text=o.text,et.x=w,et.y=H,el&&(et.shadowBlur=N.textShadowBlur||v.textShadowBlur||0,et.shadowColor=N.textShadowColor||v.textShadowColor||"transparent",et.shadowOffsetX=N.textShadowOffsetX||v.textShadowOffsetX||0,et.shadowOffsetY=N.textShadowOffsetY||v.textShadowOffsetY||0),et.textAlign=T,et.textBaseline="middle",et.font=o.font||ez,et.opacity=retrieve3(N.opacity,v.opacity,1),setSeparateFont(et,N),eo&&(et.lineWidth=retrieve3(N.lineWidth,v.lineWidth,ei),et.lineDash=retrieve2(N.lineDash,v.lineDash),et.lineDashOffset=v.lineDashOffset||0,et.stroke=eo),ea&&(et.fill=ea);var eu=o.contentWidth,ec=o.contentHeight;X.setBoundingRect(new tS(adjustTextX(et.x,eu,et.textAlign),text_adjustTextY(et.y,ec,et.textBaseline),eu,ec))},ZRText.prototype._renderBackground=function(o,v,_,x,w,T){var L,N,B=o.backgroundColor,H=o.borderWidth,Y=o.borderColor,Z=B&&B.image,X=B&&!Z,et=o.borderRadius,en=this;if(X||o.lineHeight||H&&Y){(L=this._getOrCreateChild(rI)).useStyle(L.createStyle()),L.style.fill=null;var er=L.shape;er.x=_,er.y=x,er.width=w,er.height=T,er.r=et,L.dirtyShape()}if(X){var ei=L.style;ei.fill=B||null,ei.fillOpacity=retrieve2(o.fillOpacity,1)}else if(Z){(N=this._getOrCreateChild(rC)).onload=function(){en.dirtyStyle()};var ea=N.style;ea.image=B.image,ea.x=_,ea.y=x,ea.width=w,ea.height=T}if(H&&Y){var ei=L.style;ei.lineWidth=H,ei.stroke=Y,ei.strokeOpacity=retrieve2(o.strokeOpacity,1),ei.lineDash=o.borderDash,ei.lineDashOffset=o.borderDashOffset||0,L.strokeContainThreshold=0,L.hasFill()&&L.hasStroke()&&(ei.strokeFirst=!0,ei.lineWidth*=2)}var eo=(L||N).style;eo.shadowBlur=o.shadowBlur||0,eo.shadowColor=o.shadowColor||"transparent",eo.shadowOffsetX=o.shadowOffsetX||0,eo.shadowOffsetY=o.shadowOffsetY||0,eo.opacity=retrieve3(o.opacity,v.opacity,1)},ZRText.makeFont=function(o){var v="";return hasSeparateFont(o)&&(v=[o.fontStyle,o.fontWeight,parseFontSize(o.fontSize),o.fontFamily||"sans-serif"].join(" ")),v&&trim(v)||o.textFont||o.font},ZRText}(nz),rA={left:!0,right:1,center:1},rk={top:1,bottom:1,middle:1},rL=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(o){return"string"==typeof o&&(-1!==o.indexOf("px")||-1!==o.indexOf("rem")||-1!==o.indexOf("em"))?o:isNaN(+o)?"12px":o+"px"}function setSeparateFont(o,v){for(var _=0;_<rL.length;_++){var x=rL[_],w=v[x];null!=w&&(o[x]=w)}}function hasSeparateFont(o){return null!=o.fontSize||o.fontFamily||o.fontWeight}function normalizeTextStyle(o){return normalizeStyle(o),util_each(o.rich,normalizeStyle),o}function normalizeStyle(o){if(o){o.font=rO.makeFont(o);var v=o.align;"middle"===v&&(v="center"),o.align=null==v||rA[v]?v:"left";var _=o.verticalAlign;"center"===_&&(_="middle"),o.verticalAlign=null==_||rk[_]?_:"top",o.padding&&(o.padding=normalizeCssArray(o.padding))}}function getStroke(o,v){return null==o||v<=0||"transparent"===o||"none"===o?null:o.image||o.colorStops?"#000":o}function getFill(o){return null==o||"none"===o?null:o.image||o.colorStops?"#000":o}function getTextXForPadding(o,v,_){return"right"===v?o-_[1]:"center"===v?o+_[3]/2-_[1]/2:o+_[3]}function getStyleText(o){var v=o.text;return null!=v&&(v+=""),v}function needDrawBackground(o){return!!(o.backgroundColor||o.lineHeight||o.borderWidth&&o.borderColor)}var rR=rO,rN=makeInner(),setCommonECData=function(o,v,_,x){if(x){var w=rN(x);w.dataIndex=_,w.dataType=v,w.seriesIndex=o,"group"===x.type&&x.traverse(function(x){var w=rN(x);w.seriesIndex=o,w.dataIndex=_,w.dataType=v})}},rF=1,rV={},rB=makeInner(),rz=makeInner(),rj=["emphasis","blur","select"],rH=["normal","emphasis","blur","select"],rG="highlight",rU="downplay",rW="select",rY="unselect",rK="toggleSelect";function hasFillOrStroke(o){return null!=o&&"none"!==o}var rZ=new tz(100);function liftColor(o){if(util_isString(o)){var v=rZ.get(o);return v||(v=lift(o,-.1),rZ.put(o,v)),v}if(isGradientObject(o)){var _=extend({},o);return _.colorStops=map(o.colorStops,function(o){return{offset:o.offset,color:lift(o.color,-.1)}}),_}return o}function doChangeHoverState(o,v,_){o.onHoverStateChange&&(o.hoverState||0)!==_&&o.onHoverStateChange(v),o.hoverState=_}function singleEnterEmphasis(o){doChangeHoverState(o,"emphasis",2)}function singleLeaveEmphasis(o){2===o.hoverState&&doChangeHoverState(o,"normal",0)}function singleEnterBlur(o){doChangeHoverState(o,"blur",1)}function singleLeaveBlur(o){1===o.hoverState&&doChangeHoverState(o,"normal",0)}function singleEnterSelect(o){o.selected=!0}function singleLeaveSelect(o){o.selected=!1}function traverseUpdateState(o,v,_){v(o,_),o.isGroup&&o.traverse(function(o){v(o,_)})}function setStatesFlag(o,v){switch(v){case"emphasis":o.hoverState=2;break;case"normal":o.hoverState=0;break;case"blur":o.hoverState=1;break;case"select":o.selected=!0}}function getFromStateStyle(o,v,_,x){for(var w=o.style,T={},L=0;L<v.length;L++){var N=v[L],B=w[N];T[N]=null==B?x&&x[N]:B}for(var L=0;L<o.animators.length;L++){var H=o.animators[L];H.__fromStateTransition&&0>H.__fromStateTransition.indexOf(_)&&"style"===H.targetName&&H.saveTo(T,v)}return T}function createEmphasisDefaultState(o,v,_,x){var w=_&&indexOf(_,"select")>=0,T=!1;if(o instanceof rv){var L=rB(o),N=w&&L.selectFill||L.normalFill,B=w&&L.selectStroke||L.normalStroke;if(hasFillOrStroke(N)||hasFillOrStroke(B)){var H=(x=x||{}).style||{};"inherit"===H.fill?(T=!0,x=extend({},x),(H=extend({},H)).fill=N):!hasFillOrStroke(H.fill)&&hasFillOrStroke(N)?(T=!0,x=extend({},x),(H=extend({},H)).fill=liftColor(N)):!hasFillOrStroke(H.stroke)&&hasFillOrStroke(B)&&(T||(x=extend({},x),H=extend({},H)),H.stroke=liftColor(B)),x.style=H}}if(x&&null==x.z2){T||(x=extend({},x));var Y=o.z2EmphasisLift;x.z2=o.z2+(null!=Y?Y:10)}return x}function createSelectDefaultState(o,v,_){if(_&&null==_.z2){_=extend({},_);var x=o.z2SelectLift;_.z2=o.z2+(null!=x?x:9)}return _}function createBlurDefaultState(o,v,_){var x=indexOf(o.currentStates,v)>=0,w=o.style.opacity,T=x?null:getFromStateStyle(o,["opacity"],v,{opacity:1}),L=(_=_||{}).style||{};return null==L.opacity&&(_=extend({},_),L=extend({opacity:x?w:.1*T.opacity},L),_.style=L),_}function elementStateProxy(o,v){var _=this.states[o];if(this.style){if("emphasis"===o)return createEmphasisDefaultState(this,o,v,_);if("blur"===o)return createBlurDefaultState(this,o,_);if("select"===o)return createSelectDefaultState(this,o,_)}return _}function setDefaultStateProxy(o){o.stateProxy=elementStateProxy;var v=o.getTextContent(),_=o.getTextGuideLine();v&&(v.stateProxy=elementStateProxy),_&&(_.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(o,v){shouldSilent(o,v)||o.__highByOuter||traverseUpdateState(o,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(o,v){shouldSilent(o,v)||o.__highByOuter||traverseUpdateState(o,singleLeaveEmphasis)}function enterEmphasis(o,v){o.__highByOuter|=1<<(v||0),traverseUpdateState(o,singleEnterEmphasis)}function leaveEmphasis(o,v){(o.__highByOuter&=~(1<<(v||0)))||traverseUpdateState(o,singleLeaveEmphasis)}function shouldSilent(o,v){return o.__highDownSilentOnTouch&&v.zrByTouch}function allLeaveBlur(o){var v=o.getModel(),_=[],x=[];v.eachComponent(function(v,w){var T=rz(w),L="series"===v,N=L?o.getViewOfSeriesModel(w):o.getViewOfComponentModel(w);L||x.push(N),T.isBlured&&(N.group.traverse(function(o){singleLeaveBlur(o)}),L&&_.push(w)),T.isBlured=!1}),util_each(x,function(o){o&&o.toggleBlurSeries&&o.toggleBlurSeries(_,!1,v)})}function blurSeries(o,v,_,x){var w=x.getModel();function leaveBlurOfIndices(o,v){for(var _=0;_<v.length;_++){var x=o.getItemGraphicEl(v[_]);x&&traverseUpdateState(x,singleLeaveBlur)}}if(_=_||"coordinateSystem",null!=o&&v&&"none"!==v){var T=w.getSeriesByIndex(o),L=T.coordinateSystem;L&&L.master&&(L=L.master);var N=[];w.eachSeries(function(o){var w=T===o,B=o.coordinateSystem;B&&B.master&&(B=B.master);var H=B&&L?B===L:w;if(!("series"===_&&!w||"coordinateSystem"===_&&!H||"series"===v&&w)){if(x.getViewOfSeriesModel(o).group.traverse(function(o){o.__highByOuter&&w&&"self"===v||singleEnterBlur(o)}),isArrayLike(v))leaveBlurOfIndices(o.getData(),v);else if(util_isObject(v))for(var Y=keys(v),Z=0;Z<Y.length;Z++)leaveBlurOfIndices(o.getData(Y[Z]),v[Y[Z]]);N.push(o),rz(o).isBlured=!0}}),w.eachComponent(function(o,v){if("series"!==o){var _=x.getViewOfComponentModel(v);_&&_.toggleBlurSeries&&_.toggleBlurSeries(N,!0,w)}})}}function blurComponent(o,v,_){if(null!=o&&null!=v){var x=_.getModel().getComponent(o,v);if(x){rz(x).isBlured=!0;var w=_.getViewOfComponentModel(x);w&&w.focusBlurEnabled&&w.group.traverse(function(o){singleEnterBlur(o)})}}}function blurSeriesFromHighlightPayload(o,v,_){var x=o.seriesIndex,w=o.getData(v.dataType);if(w){var T=queryDataIndex(w,v);T=(util_isArray(T)?T[0]:T)||0;var L=w.getItemGraphicEl(T);if(!L)for(var N=w.count(),B=0;!L&&B<N;)L=w.getItemGraphicEl(B++);if(L){var H=rN(L);blurSeries(x,H.focus,H.blurScope,_)}else{var Y=o.get(["emphasis","focus"]),Z=o.get(["emphasis","blurScope"]);null!=Y&&blurSeries(x,Y,Z,_)}}}function findComponentHighDownDispatchers(o,v,_,x){var w,T={focusSelf:!1,dispatchers:null};if(null==o||"series"===o||null==v||null==_)return T;var L=x.getModel().getComponent(o,v);if(!L)return T;var N=x.getViewOfComponentModel(L);if(!N||!N.findHighDownDispatchers)return T;for(var B=N.findHighDownDispatchers(_),H=0;H<B.length;H++)if("self"===rN(B[H]).focus){w=!0;break}return{focusSelf:w,dispatchers:B}}function handleGlobalMouseOverForHighDown(o,v,_){var x=rN(o),w=findComponentHighDownDispatchers(x.componentMainType,x.componentIndex,x.componentHighDownName,_),T=w.dispatchers,L=w.focusSelf;T?(L&&blurComponent(x.componentMainType,x.componentIndex,_),util_each(T,function(o){return enterEmphasisWhenMouseOver(o,v)})):(blurSeries(x.seriesIndex,x.focus,x.blurScope,_),"self"===x.focus&&blurComponent(x.componentMainType,x.componentIndex,_),enterEmphasisWhenMouseOver(o,v))}function handleGlobalMouseOutForHighDown(o,v,_){allLeaveBlur(_);var x=rN(o),w=findComponentHighDownDispatchers(x.componentMainType,x.componentIndex,x.componentHighDownName,_).dispatchers;w?util_each(w,function(o){return leaveEmphasisWhenMouseOut(o,v)}):leaveEmphasisWhenMouseOut(o,v)}function toggleSelectionFromPayload(o,v,_){if(isSelectChangePayload(v)){var x=v.dataType,w=queryDataIndex(o.getData(x),v);util_isArray(w)||(w=[w]),o[v.type===rK?"toggleSelect":v.type===rW?"select":"unselect"](w,x)}}function updateSeriesElementSelection(o){util_each(o.getAllData(),function(v){var _=v.data,x=v.type;_.eachItemGraphicEl(function(v,_){o.isSelected(_,x)?traverseUpdateState(v,singleEnterSelect):traverseUpdateState(v,singleLeaveSelect)})})}function getAllSelectedIndices(o){var v=[];return o.eachSeries(function(o){util_each(o.getAllData(),function(_){_.data;var x=_.type,w=o.getSelectedDataIndices();if(w.length>0){var T={dataIndex:w,seriesIndex:o.seriesIndex};null!=x&&(T.dataType=x),v.push(T)}})}),v}function enableHoverEmphasis(o,v,_){setAsHighDownDispatcher(o,!0),traverseUpdateState(o,setDefaultStateProxy),enableHoverFocus(o,v,_)}function disableHoverEmphasis(o){setAsHighDownDispatcher(o,!1)}function toggleHoverEmphasis(o,v,_,x){x?disableHoverEmphasis(o):enableHoverEmphasis(o,v,_)}function enableHoverFocus(o,v,_){var x=rN(o);null!=v?(x.focus=v,x.blurScope=_):x.focus&&(x.focus=null)}var rq=["emphasis","blur","select"],rX={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(o,v,_,x){_=_||"itemStyle";for(var w=0;w<rq.length;w++){var T=rq[w],L=v.getModel([T,_]);o.ensureState(T).style=x?x(L):L[rX[_]]()}}function setAsHighDownDispatcher(o,v){var _=!1===v;o.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=o.highDownSilentOnTouch),(!_||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!_)}function isHighDownDispatcher(o){return!!(o&&o.__highDownDispatcher)}function enableComponentHighDownFeatures(o,v,_){var x=rN(o);x.componentMainType=v.mainType,x.componentIndex=v.componentIndex,x.componentHighDownName=_}function getHighlightDigit(o){var v=rV[o];return null==v&&rF<=32&&(v=rV[o]=rF++),v}function isSelectChangePayload(o){var v=o.type;return v===rW||v===rY||v===rK}function isHighDownPayload(o){var v=o.type;return v===rG||v===rU}function savePathStates(o){var v=rB(o);v.normalFill=o.style.fill,v.normalStroke=o.style.stroke;var _=o.states.select||{};v.selectFill=_.style&&_.style.fill||null,v.selectStroke=_.style&&_.style.stroke||null}var r$=makeInner();function getAnimationConfig(o,v,_,x,w){if(v&&v.ecModel){var T,L=v.ecModel.getUpdatePayload();T=L&&L.animation}var N=v&&v.isAnimationEnabled(),B="update"===o;if(!N)return null;var H=void 0,Y=void 0,Z=void 0;return x?(H=retrieve2(x.duration,200),Y=retrieve2(x.easing,"cubicOut"),Z=0):(H=v.getShallow(B?"animationDurationUpdate":"animationDuration"),Y=v.getShallow(B?"animationEasingUpdate":"animationEasing"),Z=v.getShallow(B?"animationDelayUpdate":"animationDelay")),T&&(null!=T.duration&&(H=T.duration),null!=T.easing&&(Y=T.easing),null!=T.delay&&(Z=T.delay)),isFunction(Z)&&(Z=Z(_,w)),isFunction(H)&&(H=H(_)),{duration:H||0,delay:Z,easing:Y}}function animateOrSetProps(o,v,_,x,w,T,L){var N,B=!1;isFunction(w)?(L=T,T=w,w=null):util_isObject(w)&&(T=w.cb,L=w.during,B=w.isFrom,N=w.removeOpt,w=w.dataIndex);var H="leave"===o;H||v.stopAnimation("leave");var Y=getAnimationConfig(o,x,w,H?N||{}:null,x&&x.getAnimationDelayParams?x.getAnimationDelayParams(v,w):null);if(Y&&Y.duration>0){var Z={duration:Y.duration,delay:Y.delay||0,easing:Y.easing,done:T,force:!!T||!!L,setToFinal:!H,scope:o,during:L};B?v.animateFrom(_,Z):v.animateTo(_,Z)}else v.stopAnimation(),B||v.attr(_),L&&L(1),T&&T()}function updateProps(o,v,_,x,w,T){animateOrSetProps("update",o,v,_,x,w,T)}function initProps(o,v,_,x,w,T){animateOrSetProps("enter",o,v,_,x,w,T)}function isElementRemoved(o){if(!o.__zr)return!0;for(var v=0;v<o.animators.length;v++)if("leave"===o.animators[v].scope)return!0;return!1}function removeElement(o,v,_,x,w,T){isElementRemoved(o)||animateOrSetProps("leave",o,v,_,x,w,T)}function fadeOutDisplayable(o,v,_,x){o.removeTextContent(),o.removeTextGuideLine(),removeElement(o,{style:{opacity:0}},v,_,x)}function removeElementWithFadeOut(o,v,_){function doRemove(){o.parent&&o.parent.remove(o)}o.isGroup?o.traverse(function(o){o.isGroup||fadeOutDisplayable(o,v,_,doRemove)}):fadeOutDisplayable(o,v,_,doRemove)}function saveOldStyle(o){r$(o).oldStyle=o.style}function getOldStyle(o){return r$(o).oldStyle}var rQ={};function setLabelText(o,v){for(var _=0;_<rj.length;_++){var x=rj[_],w=v[x],T=o.ensureState(x);T.style=T.style||{},T.style.text=w}var L=o.currentStates.slice();o.clearStates(!0),o.setStyle({text:v.normal}),o.useStates(L,!0)}function getLabelText(o,v,_){var x,w=o.labelFetcher,T=o.labelDataIndex,L=o.labelDimIndex,N=v.normal;w&&(x=w.getFormattedLabel(T,"normal",null,L,N&&N.get("formatter"),null!=_?{interpolatedValue:_}:null)),null==x&&(x=isFunction(o.defaultText)?o.defaultText(T,o,_):o.defaultText);for(var B={normal:x},H=0;H<rj.length;H++){var Y=rj[H],Z=v[Y];B[Y]=retrieve2(w?w.getFormattedLabel(T,Y,null,L,Z&&Z.get("formatter")):null,x)}return B}function setLabelStyle(o,v,_,x){_=_||rQ;for(var w=o instanceof rR,T=!1,L=0;L<rH.length;L++){var N=v[rH[L]];if(N&&N.getShallow("show")){T=!0;break}}var B=w?o:o.getTextContent();if(T){!w&&(B||(B=new rR,o.setTextContent(B)),o.stateProxy&&(B.stateProxy=o.stateProxy));var H=getLabelText(_,v),Y=v.normal,Z=!!Y.getShallow("show"),X=createTextStyle(Y,x&&x.normal,_,!1,!w);X.text=H.normal,w||o.setTextConfig(createTextConfig(Y,_,!1));for(var L=0;L<rj.length;L++){var et=rj[L],N=v[et];if(N){var en=B.ensureState(et),er=!!retrieve2(N.getShallow("show"),Z);er!==Z&&(en.ignore=!er),en.style=createTextStyle(N,x&&x[et],_,!0,!w),en.style.text=H[et],w||(o.ensureState(et).textConfig=createTextConfig(N,_,!0))}}B.silent=!!Y.getShallow("silent"),null!=B.style.x&&(X.x=B.style.x),null!=B.style.y&&(X.y=B.style.y),B.ignore=!Z,B.useStyle(X),B.dirty(),_.enableTextSetter&&(r2(B).setLabelText=function(o){var x=getLabelText(_,v,o);setLabelText(B,x)})}else B&&(B.ignore=!0);o.dirty()}function getLabelStatesModels(o,v){v=v||"label";for(var _={normal:o.getModel(v)},x=0;x<rj.length;x++){var w=rj[x];_[w]=o.getModel([w,v])}return _}function createTextStyle(o,v,_,x,w){var T={};return setTextStyleCommon(T,o,_,x,w),v&&extend(T,v),T}function createTextConfig(o,v,_){v=v||{};var x,w={},T=o.getShallow("rotate"),L=retrieve2(o.getShallow("distance"),_?null:5),N=o.getShallow("offset");return"outside"===(x=o.getShallow("position")||(_?null:"inside"))&&(x=v.defaultOutsidePosition||"top"),null!=x&&(w.position=x),null!=N&&(w.offset=N),null!=T&&(T*=Math.PI/180,w.rotation=T),null!=L&&(w.distance=L),w.outsideFill="inherit"===o.get("color")?v.inheritColor||null:"auto",w}function setTextStyleCommon(o,v,_,x,w){_=_||rQ;var T,L=v.ecModel,N=L&&L.option.textStyle,B=getRichItemNames(v);if(B){for(var H in T={},B)if(B.hasOwnProperty(H)){var Y=v.getModel(["rich",H]);setTokenTextStyle(T[H]={},Y,N,_,x,w,!1,!0)}}T&&(o.rich=T);var Z=v.get("overflow");Z&&(o.overflow=Z);var X=v.get("minMargin");null!=X&&(o.margin=X),setTokenTextStyle(o,v,N,_,x,w,!0,!1)}function getRichItemNames(o){for(var v;o&&o!==o.ecModel;){var _=(o.option||rQ).rich;if(_){v=v||{};for(var x=keys(_),w=0;w<x.length;w++)v[x[w]]=1}o=o.parentModel}return v}var rJ=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],r0=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],r1=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(o,v,_,x,w,T,L,N){_=!w&&_||rQ;var B=x&&x.inheritColor,H=v.getShallow("color"),Y=v.getShallow("textBorderColor"),Z=retrieve2(v.getShallow("opacity"),_.opacity);("inherit"===H||"auto"===H)&&(H=B||null),("inherit"===Y||"auto"===Y)&&(Y=B||null),T||(H=H||_.color,Y=Y||_.textBorderColor),null!=H&&(o.fill=H),null!=Y&&(o.stroke=Y);var X=retrieve2(v.getShallow("textBorderWidth"),_.textBorderWidth);null!=X&&(o.lineWidth=X);var et=retrieve2(v.getShallow("textBorderType"),_.textBorderType);null!=et&&(o.lineDash=et);var en=retrieve2(v.getShallow("textBorderDashOffset"),_.textBorderDashOffset);null!=en&&(o.lineDashOffset=en),w||null!=Z||N||(Z=x&&x.defaultOpacity),null!=Z&&(o.opacity=Z),w||T||null!=o.fill||!x.inheritColor||(o.fill=x.inheritColor);for(var er=0;er<rJ.length;er++){var ei=rJ[er],ea=retrieve2(v.getShallow(ei),_[ei]);null!=ea&&(o[ei]=ea)}for(var er=0;er<r0.length;er++){var ei=r0[er],ea=v.getShallow(ei);null!=ea&&(o[ei]=ea)}if(null==o.verticalAlign){var eo=v.getShallow("baseline");null!=eo&&(o.verticalAlign=eo)}if(!L||!x.disableBox){for(var er=0;er<r1.length;er++){var ei=r1[er],ea=v.getShallow(ei);null!=ea&&(o[ei]=ea)}var el=v.getShallow("borderType");null!=el&&(o.borderDash=el),("auto"===o.backgroundColor||"inherit"===o.backgroundColor)&&B&&(o.backgroundColor=B),("auto"===o.borderColor||"inherit"===o.borderColor)&&B&&(o.borderColor=B)}}function getFont(o,v){var _=v&&v.getModel("textStyle");return trim([o.fontStyle||_&&_.getShallow("fontStyle")||"",o.fontWeight||_&&_.getShallow("fontWeight")||"",(o.fontSize||_&&_.getShallow("fontSize")||12)+"px",o.fontFamily||_&&_.getShallow("fontFamily")||"sans-serif"].join(" "))}var r2=makeInner();function setLabelValueAnimation(o,v,_,x){if(o){var w=r2(o);w.prevValue=w.value,w.value=_;var T=v.normal;w.valueAnimation=T.get("valueAnimation"),w.valueAnimation&&(w.precision=T.get("precision"),w.defaultInterpolatedText=x,w.statesModels=v)}}function animateLabelValue(o,v,_,x,w){var T=r2(o);if(T.valueAnimation&&T.prevValue!==T.value){var L=T.defaultInterpolatedText,N=retrieve2(T.interpolatedValue,T.prevValue),B=T.value;o.percent=0,(null==T.prevValue?initProps:updateProps)(o,{percent:1},x,v,null,during)}function during(x){var H=interpolateRawValues(_,T.precision,N,B,x);T.interpolatedValue=1===x?null:H,setLabelText(o,getLabelText({labelDataIndex:v,labelFetcher:w,defaultText:L?L(H):H+""},T.statesModels,H))}}var r5=["textStyle","color"],r3=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],r4=new rR,r7=function(){function TextStyleMixin(){}return TextStyleMixin.prototype.getTextColor=function(o){var v=this.ecModel;return this.getShallow("color")||(!o&&v?v.get(r5):null)},TextStyleMixin.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},TextStyleMixin.prototype.getTextRect=function(o){for(var v={text:o,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},_=0;_<r3.length;_++)v[r3[_]]=this.getShallow(r3[_]);return r4.useStyle(v),r4.update(),r4.getBoundingRect()},TextStyleMixin}(),r6=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],r9=makeStyleMapper(r6),r8=function(){function LineStyleMixin(){}return LineStyleMixin.prototype.getLineStyle=function(o){return r9(this,o)},LineStyleMixin}(),ie=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],it=makeStyleMapper(ie),ir=function(){function ItemStyleMixin(){}return ItemStyleMixin.prototype.getItemStyle=function(o,v){return it(this,o,v)},ItemStyleMixin}(),ii=function(){function Model(o,v,_){this.parentModel=v,this.ecModel=_,this.option=o}return Model.prototype.init=function(o,v,_){for(var x=[],w=3;w<arguments.length;w++)x[w-3]=arguments[w]},Model.prototype.mergeOption=function(o,v){merge(this.option,o,!0)},Model.prototype.get=function(o,v){return null==o?this.option:this._doGet(this.parsePath(o),!v&&this.parentModel)},Model.prototype.getShallow=function(o,v){var _=this.option,x=null==_?_:_[o];if(null==x&&!v){var w=this.parentModel;w&&(x=w.getShallow(o))}return x},Model.prototype.getModel=function(o,v){var _=null!=o,x=_?this.parsePath(o):null;return new Model(_?this._doGet(x):this.option,v=v||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(x)),this.ecModel)},Model.prototype.isEmpty=function(){return null==this.option},Model.prototype.restoreData=function(){},Model.prototype.clone=function(){return new this.constructor(clone(this.option))},Model.prototype.parsePath=function(o){return"string"==typeof o?o.split("."):o},Model.prototype.resolveParentPath=function(o){return o},Model.prototype.isAnimationEnabled=function(){if(!eV.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},Model.prototype._doGet=function(o,v){var _=this.option;if(!o)return _;for(var x=0;x<o.length&&(!o[x]||null!=(_=_&&"object"==typeof _?_[o[x]]:null));x++);return null==_&&v&&(_=v._doGet(this.resolveParentPath(o),v.parentModel)),_},Model}();enableClassExtend(ii),enableClassCheck(ii),mixin(ii,r8),mixin(ii,ir),mixin(ii,nO),mixin(ii,r7);var ia=Math.round(10*Math.random());function getUID(o){return[o||"",ia++].join("_")}function enableSubTypeDefaulter(o){var v={};o.registerSubTypeDefaulter=function(o,_){v[parseClassType(o).main]=_},o.determineSubType=function(_,x){var w=x.type;if(!w){var T=parseClassType(_).main;o.hasSubTypes(_)&&v[T]&&(w=v[T](x))}return w}}function enableTopologicalTravel(o,v){function makeDepndencyGraph(o){var _={},x=[];return util_each(o,function(w){var T=createDependencyGraphItem(_,w),L=getAvailableDependencies(T.originalDeps=v(w),o);T.entryCount=L.length,0===T.entryCount&&x.push(w),util_each(L,function(o){0>indexOf(T.predecessor,o)&&T.predecessor.push(o);var v=createDependencyGraphItem(_,o);0>indexOf(v.successor,o)&&v.successor.push(w)})}),{graph:_,noEntryList:x}}function createDependencyGraphItem(o,v){return o[v]||(o[v]={predecessor:[],successor:[]}),o[v]}function getAvailableDependencies(o,v){var _=[];return util_each(o,function(o){indexOf(v,o)>=0&&_.push(o)}),_}o.topologicalTravel=function(o,v,_,x){if(o.length){var w=makeDepndencyGraph(v),T=w.graph,L=w.noEntryList,N={};for(util_each(o,function(o){N[o]=!0});L.length;){var B=L.pop(),H=T[B],Y=!!N[B];Y&&(_.call(x,B,H.originalDeps.slice()),delete N[B]),util_each(H.successor,Y?removeEdgeAndAdd:removeEdge)}util_each(N,function(){throw Error("")})}function removeEdge(o){T[o].entryCount--,0===T[o].entryCount&&L.push(o)}function removeEdgeAndAdd(o){N[o]=!0,removeEdge(o)}}}function inheritDefaultOption(o,v){return merge(merge({},o,!0),v,!0)}var io={},is={},il=eV.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function registerLocale(o,v){is[o=o.toUpperCase()]=new ii(v),io[o]=v}function createLocaleObject(o){if(!util_isString(o))return merge(clone(o),clone(io.EN),!1);var v=io[o.toUpperCase()]||{};return"ZH"===o||"EN"===o?clone(v):merge(clone(v),clone(io.EN),!1)}function getDefaultLocaleModel(){return is.EN}registerLocale("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),registerLocale("ZH",{time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}});var iu={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},ic="{yyyy}-{MM}-{dd}",id={year:"{yyyy}",month:"{yyyy}-{MM}",day:ic,hour:ic+" "+iu.hour,minute:ic+" "+iu.minute,second:ic+" "+iu.second,millisecond:iu.none},ih=["year","month","day","hour","minute","second","millisecond"],ip=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function time_pad(o,v){return o+="","0000".substr(0,v-o.length)+o}function getPrimaryTimeUnit(o){switch(o){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return o}}function isPrimaryTimeUnit(o){return o===getPrimaryTimeUnit(o)}function getDefaultFormatPrecisionOfInterval(o){switch(o){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(o,v,_,x){var w=number_parseDate(o),T=w[fullYearGetterName(_)](),L=w[monthGetterName(_)]()+1,N=Math.floor((L-1)/3)+1,B=w[dateGetterName(_)](),H=w["get"+(_?"UTC":"")+"Day"](),Y=w[hoursGetterName(_)](),Z=(Y-1)%12+1,X=w[minutesGetterName(_)](),et=w[secondsGetterName(_)](),en=w[millisecondsGetterName(_)](),er=(x instanceof ii?x:is[x||il]||getDefaultLocaleModel()).getModel("time"),ei=er.get("month"),ea=er.get("monthAbbr"),eo=er.get("dayOfWeek"),el=er.get("dayOfWeekAbbr");return(v||"").replace(/{yyyy}/g,T+"").replace(/{yy}/g,time_pad(T%100+"",2)).replace(/{Q}/g,N+"").replace(/{MMMM}/g,ei[L-1]).replace(/{MMM}/g,ea[L-1]).replace(/{MM}/g,time_pad(L,2)).replace(/{M}/g,L+"").replace(/{dd}/g,time_pad(B,2)).replace(/{d}/g,B+"").replace(/{eeee}/g,eo[H]).replace(/{ee}/g,el[H]).replace(/{e}/g,H+"").replace(/{HH}/g,time_pad(Y,2)).replace(/{H}/g,Y+"").replace(/{hh}/g,time_pad(Z+"",2)).replace(/{h}/g,Z+"").replace(/{mm}/g,time_pad(X,2)).replace(/{m}/g,X+"").replace(/{ss}/g,time_pad(et,2)).replace(/{s}/g,et+"").replace(/{SSS}/g,time_pad(en,3)).replace(/{S}/g,en+"")}function leveledFormat(o,v,_,x,w){var T=null;if(util_isString(_))T=_;else if(isFunction(_))T=_(o.value,v,{level:o.level});else{var L=extend({},iu);if(o.level>0)for(var N=0;N<ih.length;++N)L[ih[N]]="{primary|"+L[ih[N]]+"}";var B=_?!1===_.inherit?_:util_defaults(_,L):L,H=getUnitFromValue(o.value,w);if(B[H])T=B[H];else if(B.inherit){for(var Y=ip.indexOf(H),N=Y-1;N>=0;--N)if(B[H]){T=B[H];break}T=T||L.none}if(util_isArray(T)){var Z=null==o.level?0:o.level>=0?o.level:T.length+o.level;Z=Math.min(Z,T.length-1),T=T[Z]}}return format(new Date(o.value),T,w,x)}function getUnitFromValue(o,v){var _=number_parseDate(o),x=_[monthGetterName(v)]()+1,w=_[dateGetterName(v)](),T=_[hoursGetterName(v)](),L=_[minutesGetterName(v)](),N=_[secondsGetterName(v)](),B=0===_[millisecondsGetterName(v)](),H=B&&0===N,Y=H&&0===L,Z=Y&&0===T,X=Z&&1===w;return X&&1===x?"year":X?"month":Z?"day":Y?"hour":H?"minute":B?"second":"millisecond"}function getUnitValue(o,v,_){var x=isNumber(o)?number_parseDate(o):o;switch(v=v||getUnitFromValue(o,_)){case"year":return x[fullYearGetterName(_)]();case"half-year":return x[monthGetterName(_)]()>=6?1:0;case"quarter":return Math.floor((x[monthGetterName(_)]()+1)/4);case"month":return x[monthGetterName(_)]();case"day":return x[dateGetterName(_)]();case"half-day":return x[hoursGetterName(_)]()/24;case"hour":return x[hoursGetterName(_)]();case"minute":return x[minutesGetterName(_)]();case"second":return x[secondsGetterName(_)]();case"millisecond":return x[millisecondsGetterName(_)]()}}function fullYearGetterName(o){return o?"getUTCFullYear":"getFullYear"}function monthGetterName(o){return o?"getUTCMonth":"getMonth"}function dateGetterName(o){return o?"getUTCDate":"getDate"}function hoursGetterName(o){return o?"getUTCHours":"getHours"}function minutesGetterName(o){return o?"getUTCMinutes":"getMinutes"}function secondsGetterName(o){return o?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(o){return o?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(o){return o?"setUTCFullYear":"setFullYear"}function monthSetterName(o){return o?"setUTCMonth":"setMonth"}function dateSetterName(o){return o?"setUTCDate":"setDate"}function hoursSetterName(o){return o?"setUTCHours":"setHours"}function minutesSetterName(o){return o?"setUTCMinutes":"setMinutes"}function secondsSetterName(o){return o?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(o){return o?"setUTCMilliseconds":"setMilliseconds"}function addCommas(o){if(!number_isNumeric(o))return util_isString(o)?o:"-";var v=(o+"").split(".");return v[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(v.length>1?"."+v[1]:"")}function toCamelCase(o,v){return o=(o||"").toLowerCase().replace(/-(.)/g,function(o,v){return v.toUpperCase()}),v&&o&&(o=o.charAt(0).toUpperCase()+o.slice(1)),o}var ig=normalizeCssArray;function makeValueReadable(o,v,_){function stringToUserReadable(o){return o&&trim(o)?o:"-"}function isNumberUserReadable(o){return!!(null!=o&&!isNaN(o)&&isFinite(o))}var x="time"===v,w=o instanceof Date;if(x||w){var T=x?number_parseDate(o):o;if(!isNaN(+T))return format(T,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",_);if(w)return"-"}if("ordinal"===v)return util_isStringSafe(o)?stringToUserReadable(o):isNumber(o)&&isNumberUserReadable(o)?o+"":"-";var L=numericToNumber(o);return isNumberUserReadable(L)?addCommas(L):util_isStringSafe(o)?stringToUserReadable(o):"boolean"==typeof o?o+"":"-"}var im=["a","b","c","d","e","f","g"],wrapVar=function(o,v){return"{"+o+(null==v?"":v)+"}"};function formatTpl(o,v,_){util_isArray(v)||(v=[v]);var x=v.length;if(!x)return"";for(var w=v[0].$vars||[],T=0;T<w.length;T++){var L=im[T];o=o.replace(wrapVar(L),wrapVar(L,0))}for(var N=0;N<x;N++)for(var B=0;B<w.length;B++){var H=v[N][w[B]];o=o.replace(wrapVar(im[B],N),_?encodeHTML(H):H)}return o}function formatTplSimple(o,v,_){return util_each(v,function(v,x){o=o.replace("{"+x+"}",_?encodeHTML(v):v)}),o}function getTooltipMarker(o,v){var _=util_isString(o)?{color:o,extraCssText:v}:o||{},x=_.color,w=_.type;v=_.extraCssText;var T=_.renderMode||"html";return x?"html"===T?"subItem"===w?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(x)+";"+(v||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(x)+";"+(v||"")+'"></span>':{renderMode:T,content:"{"+(_.markerId||"markerX")+"|}  ",style:"subItem"===w?{width:4,height:4,borderRadius:2,backgroundColor:x}:{width:10,height:10,borderRadius:5,backgroundColor:x}}:""}function convertToColorString(o,v){return v=v||"transparent",util_isString(o)?o:util_isObject(o)&&o.colorStops&&(o.colorStops[0]||{}).color||v}function windowOpen(o,v){if("_blank"===v||"blank"===v){var _=window.open();_.opener=null,_.location.href=o}else window.open(o,v)}var iy=util_each,iv=["left","right","top","bottom","width","height"],i_=[["width","left","right"],["height","top","bottom"]];function boxLayout(o,v,_,x,w){var T=0,L=0;null==x&&(x=1/0),null==w&&(w=1/0);var N=0;v.eachChild(function(B,H){var Y,Z,X=B.getBoundingRect(),et=v.childAt(H+1),en=et&&et.getBoundingRect();if("horizontal"===o){var er=X.width+(en?-en.x+X.x:0);(Y=T+er)>x||B.newline?(T=0,Y=er,L+=N+_,N=X.height):N=Math.max(N,X.height)}else{var ei=X.height+(en?-en.y+X.y:0);(Z=L+ei)>w||B.newline?(T+=N+_,L=0,Z=ei,N=X.width):N=Math.max(N,X.width)}B.newline||(B.x=T,B.y=L,B.markRedraw(),"horizontal"===o?T=Y+_:L=Z+_)})}var ib=boxLayout;function getAvailableSize(o,v,_){var x=v.width,w=v.height,T=number_parsePercent(o.left,x),L=number_parsePercent(o.top,w),N=number_parsePercent(o.right,x),B=number_parsePercent(o.bottom,w);return(isNaN(T)||isNaN(parseFloat(o.left)))&&(T=0),(isNaN(N)||isNaN(parseFloat(o.right)))&&(N=x),(isNaN(L)||isNaN(parseFloat(o.top)))&&(L=0),(isNaN(B)||isNaN(parseFloat(o.bottom)))&&(B=w),{width:Math.max(N-T-(_=ig(_||0))[1]-_[3],0),height:Math.max(B-L-_[0]-_[2],0)}}function getLayoutRect(o,v,_){_=ig(_||0);var x=v.width,w=v.height,T=number_parsePercent(o.left,x),L=number_parsePercent(o.top,w),N=number_parsePercent(o.right,x),B=number_parsePercent(o.bottom,w),H=number_parsePercent(o.width,x),Y=number_parsePercent(o.height,w),Z=_[2]+_[0],X=_[1]+_[3],et=o.aspect;switch(isNaN(H)&&(H=x-N-X-T),isNaN(Y)&&(Y=w-B-Z-L),null!=et&&(isNaN(H)&&isNaN(Y)&&(et>x/w?H=.8*x:Y=.8*w),isNaN(H)&&(H=et*Y),isNaN(Y)&&(Y=H/et)),isNaN(T)&&(T=x-N-H-X),isNaN(L)&&(L=w-B-Y-Z),o.left||o.right){case"center":T=x/2-H/2-_[3];break;case"right":T=x-H-X}switch(o.top||o.bottom){case"middle":case"center":L=w/2-Y/2-_[0];break;case"bottom":L=w-Y-Z}T=T||0,L=L||0,isNaN(H)&&(H=x-X-T-(N||0)),isNaN(Y)&&(Y=w-Z-L-(B||0));var en=new tS(T+_[3],L+_[0],H,Y);return en.margin=_,en}function positionElement(o,v,_,x,w,T){var L,N=!w||!w.hv||w.hv[0],B=!w||!w.hv||w.hv[1],H=w&&w.boundingMode||"all";if((T=T||o).x=o.x,T.y=o.y,!N&&!B)return!1;if("raw"===H)L="group"===o.type?new tS(0,0,+v.width||0,+v.height||0):o.getBoundingRect();else if(L=o.getBoundingRect(),o.needLocalTransform()){var Y=o.getLocalTransform();(L=L.clone()).applyTransform(Y)}var Z=getLayoutRect(util_defaults({width:L.width,height:L.height},v),_,x),X=N?Z.x-L.x:0,et=B?Z.y-L.y:0;return"raw"===H?(T.x=X,T.y=et):(T.x+=X,T.y+=et),T===o&&o.markRedraw(),!0}function sizeCalculable(o,v){return null!=o[i_[v][0]]||null!=o[i_[v][1]]&&null!=o[i_[v][2]]}function fetchLayoutMode(o){var v=o.layoutMode||o.constructor.layoutMode;return util_isObject(v)?v:v?{type:v}:null}function mergeLayoutParam(o,v,_){var x=_&&_.ignoreSize;util_isArray(x)||(x=[x,x]);var w=merge(i_[0],0),T=merge(i_[1],1);function merge(_,w){var T={},L=0,N={},B=0;if(iy(_,function(v){N[v]=o[v]}),iy(_,function(o){hasProp(v,o)&&(T[o]=N[o]=v[o]),hasValue(T,o)&&L++,hasValue(N,o)&&B++}),x[w])return hasValue(v,_[1])?N[_[2]]=null:hasValue(v,_[2])&&(N[_[1]]=null),N;if(2===B||!L)return N;if(L>=2)return T;for(var H=0;H<_.length;H++){var Y=_[H];if(!hasProp(T,Y)&&hasProp(o,Y)){T[Y]=o[Y];break}}return T}function hasProp(o,v){return o.hasOwnProperty(v)}function hasValue(o,v){return null!=o[v]&&"auto"!==o[v]}function copy(o,v,_){iy(o,function(o){v[o]=_[o]})}copy(i_[0],o,w),copy(i_[1],o,T)}function getLayoutParams(o){return copyLayoutParams({},o)}function copyLayoutParams(o,v){return v&&o&&iy(iv,function(_){v.hasOwnProperty(_)&&(o[_]=v[_])}),o}curry(boxLayout,"vertical"),curry(boxLayout,"horizontal");var iS=makeInner(),ix=function(o){var v;function ComponentModel(v,_,x){var w=o.call(this,v,_,x)||this;return w.uid=getUID("ec_cpt_model"),w}return __extends(ComponentModel,o),ComponentModel.prototype.init=function(o,v,_){this.mergeDefaultAndTheme(o,_)},ComponentModel.prototype.mergeDefaultAndTheme=function(o,v){var _=fetchLayoutMode(this),x=_?getLayoutParams(o):{};merge(o,v.getTheme().get(this.mainType)),merge(o,this.getDefaultOption()),_&&mergeLayoutParam(o,x,_)},ComponentModel.prototype.mergeOption=function(o,v){merge(this.option,o,!0);var _=fetchLayoutMode(this);_&&mergeLayoutParam(this.option,o,_)},ComponentModel.prototype.optionUpdated=function(o,v){},ComponentModel.prototype.getDefaultOption=function(){var o=this.constructor;if(!isExtendedClass(o))return o.defaultOption;var v=iS(this);if(!v.defaultOption){for(var _=[],x=o;x;){var w=x.prototype.defaultOption;w&&_.push(w),x=x.superClass}for(var T={},L=_.length-1;L>=0;L--)T=merge(T,_[L],!0);v.defaultOption=T}return v.defaultOption},ComponentModel.prototype.getReferringComponents=function(o,v){var _=o+"Index",x=o+"Id";return queryReferringComponents(this.ecModel,o,{index:this.get(_,!0),id:this.get(x,!0)},v)},ComponentModel.prototype.getBoxLayoutParams=function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}},ComponentModel.prototype.getZLevelKey=function(){return""},ComponentModel.prototype.setZLevel=function(o){this.option.zlevel=o},ComponentModel.protoInitialize=void((v=ComponentModel.prototype).type="component",v.id="",v.name="",v.mainType="",v.subType="",v.componentIndex=0),ComponentModel}(ii);function getDependencies(o){var v=[];return util_each(ix.getClassesByMainType(o),function(o){v=v.concat(o.dependencies||o.prototype.dependencies||[])}),v=map(v,function(o){return parseClassType(o).main}),"dataset"!==o&&0>=indexOf(v,"dataset")&&v.unshift("dataset"),v}mountExtend(ix,ii),enableClassManagement(ix),enableSubTypeDefaulter(ix),enableTopologicalTravel(ix,getDependencies);var iw="";"undefined"!=typeof navigator&&(iw=navigator.platform||"");var iC="rgba(0, 0, 0, 0.2)",iT={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:iC,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:iC,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:iC,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:iC,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:iC,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:iC,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:iw.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},iM=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),iP="original",iI="arrayRows",iD="objectRows",iE="keyedColumns",iO="typedArray",iA="unknown",ik="column",iL={Must:1,Might:2,Not:3},iR=makeInner();function resetSourceDefaulter(o){iR(o).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(o,v,_){var x,w,T={},L=querySeriesUpstreamDatasetModel(v);if(!L||!o)return T;var N=[],B=[],H=iR(v.ecModel).datasetMap,Y=L.uid+"_"+_.seriesLayoutBy;util_each(o=o.slice(),function(v,_){var L=util_isObject(v)?v:o[_]={name:v};"ordinal"===L.type&&null==x&&(x=_,w=getDataDimCountOnCoordDim(L)),T[L.name]=[]});var Z=H.get(Y)||H.set(Y,{categoryWayDim:w,valueWayDim:0});function pushDim(o,v,_){for(var x=0;x<_;x++)o.push(v+x)}function getDataDimCountOnCoordDim(o){var v=o.dimsDef;return v?v.length:1}return util_each(o,function(o,v){var _=o.name,w=getDataDimCountOnCoordDim(o);if(null==x){var L=Z.valueWayDim;pushDim(T[_],L,w),pushDim(B,L,w),Z.valueWayDim+=w}else if(x===v)pushDim(T[_],0,w),pushDim(N,0,w);else{var L=Z.categoryWayDim;pushDim(T[_],L,w),pushDim(B,L,w),Z.categoryWayDim+=w}}),N.length&&(T.itemName=N),B.length&&(T.seriesName=B),T}function makeSeriesEncodeForNameBased(o,v,_){var x,w={};if(!querySeriesUpstreamDatasetModel(o))return w;var T=v.sourceFormat,L=v.dimensionsDefine;(T===iD||T===iE)&&util_each(L,function(o,v){(util_isObject(o)?o.name:o)==="name"&&(x=v)});var N=function(){for(var o={},w={},N=[],B=0,H=Math.min(5,_);B<H;B++){var Y=doGuessOrdinal(v.data,T,v.seriesLayoutBy,L,v.startIndex,B);N.push(Y);var Z=Y===iL.Not;if(Z&&null==o.v&&B!==x&&(o.v=B),null!=o.n&&o.n!==o.v&&(Z||N[o.n]!==iL.Not)||(o.n=B),fulfilled(o)&&N[o.n]!==iL.Not)return o;Z||(Y===iL.Might&&null==w.v&&B!==x&&(w.v=B),null!=w.n&&w.n!==w.v||(w.n=B))}function fulfilled(o){return null!=o.v&&null!=o.n}return fulfilled(o)?o:fulfilled(w)?w:null}();if(N){w.value=[N.v];var B=null!=x?x:N.n;w.itemName=[B],w.seriesName=[B]}return w}function querySeriesUpstreamDatasetModel(o){if(!o.get("data",!0))return queryReferringComponents(o.ecModel,"dataset",{index:o.get("datasetIndex",!0),id:o.get("datasetId",!0)},nT).models[0]}function queryDatasetUpstreamDatasetModels(o){return o.get("transform",!0)||o.get("fromTransformResult",!0)?queryReferringComponents(o.ecModel,"dataset",{index:o.get("fromDatasetIndex",!0),id:o.get("fromDatasetId",!0)},nT).models:[]}function guessOrdinal(o,v){return doGuessOrdinal(o.data,o.sourceFormat,o.seriesLayoutBy,o.dimensionsDefine,o.startIndex,v)}function doGuessOrdinal(o,v,_,x,w,T){var L,N,B;if(isTypedArray(o))return iL.Not;if(x){var H=x[T];util_isObject(H)?(N=H.name,B=H.type):util_isString(H)&&(N=H)}if(null!=B)return"ordinal"===B?iL.Must:iL.Not;if(v===iI){if("row"===_){for(var Y=o[T],Z=0;Z<(Y||[]).length&&Z<5;Z++)if(null!=(L=detectValue(Y[w+Z])))return L}else for(var Z=0;Z<o.length&&Z<5;Z++){var X=o[w+Z];if(X&&null!=(L=detectValue(X[T])))return L}}else if(v===iD){if(!N)return iL.Not;for(var Z=0;Z<o.length&&Z<5;Z++){var et=o[Z];if(et&&null!=(L=detectValue(et[N])))return L}}else if(v===iE){if(!N)return iL.Not;var Y=o[N];if(!Y||isTypedArray(Y))return iL.Not;for(var Z=0;Z<Y.length&&Z<5;Z++)if(null!=(L=detectValue(Y[Z])))return L}else if(v===iP)for(var Z=0;Z<o.length&&Z<5;Z++){var et=o[Z],en=getDataItemValue(et);if(!util_isArray(en))return iL.Not;if(null!=(L=detectValue(en[T])))return L}function detectValue(o){var v=util_isString(o);return null!=o&&isFinite(o)&&""!==o?v?iL.Might:iL.Not:v&&"-"!==o?iL.Must:void 0}return iL.Not}var iN=createHashMap();function registerInternalOptionCreator(o,v){assert(null==iN.get(o)&&v),iN.set(o,v)}function concatInternalOptions(o,v,_){var x=iN.get(v);if(!x)return _;var w=x(o);return w?_.concat(w):_}var iF=makeInner(),iV=makeInner(),iB=function(){function PaletteMixin(){}return PaletteMixin.prototype.getColorFromPalette=function(o,v,_){return getFromPalette(this,iF,normalizeToArray(this.get("color",!0)),this.get("colorLayer",!0),o,v,_)},PaletteMixin.prototype.clearColorPalette=function(){clearPalette(this,iF)},PaletteMixin}();function getDecalFromPalette(o,v,_,x){var w=normalizeToArray(o.get(["aria","decal","decals"]));return getFromPalette(o,iV,w,null,v,_,x)}function getNearestPalette(o,v){for(var _=o.length,x=0;x<_;x++)if(o[x].length>v)return o[x];return o[_-1]}function getFromPalette(o,v,_,x,w,T,L){var N=v(T=T||o),B=N.paletteIdx||0,H=N.paletteNameMap=N.paletteNameMap||{};if(H.hasOwnProperty(w))return H[w];var Y=null!=L&&x?getNearestPalette(x,L):_;if((Y=Y||_)&&Y.length){var Z=Y[B];return w&&(H[w]=Z),N.paletteIdx=(B+1)%Y.length,Z}}function clearPalette(o,v){v(o).paletteIdx=0,v(o).paletteNameMap={}}var iz="\x00_ec_inner",ij=function(o){function GlobalModel(){return null!==o&&o.apply(this,arguments)||this}return __extends(GlobalModel,o),GlobalModel.prototype.init=function(o,v,_,x,w,T){x=x||{},this.option=null,this._theme=new ii(x),this._locale=new ii(w),this._optionManager=T},GlobalModel.prototype.setOption=function(o,v,_){var x=normalizeSetOptionInput(v);this._optionManager.setOption(o,_,x),this._resetOption(null,x)},GlobalModel.prototype.resetOption=function(o,v){return this._resetOption(o,normalizeSetOptionInput(v))},GlobalModel.prototype._resetOption=function(o,v){var _=!1,x=this._optionManager;if(!o||"recreate"===o){var w=x.mountOption("recreate"===o);this.option&&"recreate"!==o?(this.restoreData(),this._mergeOption(w,v)):en(this,w),_=!0}if(("timeline"===o||"media"===o)&&this.restoreData(),!o||"recreate"===o||"timeline"===o){var T=x.getTimelineOption(this);T&&(_=!0,this._mergeOption(T,v))}if(!o||"recreate"===o||"media"===o){var L=x.getMediaOption(this);L.length&&util_each(L,function(o){_=!0,this._mergeOption(o,v)},this)}return _},GlobalModel.prototype.mergeOption=function(o){this._mergeOption(o,null)},GlobalModel.prototype._mergeOption=function(o,v){var _=this.option,x=this._componentsMap,w=this._componentsCount,T=[],L=createHashMap(),N=v&&v.replaceMergeMainTypeMap;function visitComponent(v){var T,L=concatInternalOptions(this,v,normalizeToArray(o[v])),B=x.get(v),H=B?N&&N.get(v)?"replaceMerge":"normalMerge":"replaceAll",Y=mappingToExists(B,L,H);setComponentTypeToKeyInfo(Y,v,ix),_[v]=null,x.set(v,null),w.set(v,0);var Z=[],et=[],en=0;util_each(Y,function(o,_){var x=o.existing,w=o.newOption;if(w){var L="series"===v,N=ix.getClass(v,o.keyInfo.subType,!L);if(!N)return;if("tooltip"===v){if(T)return;T=!0}if(x&&x.constructor===N)x.name=o.keyInfo.name,x.mergeOption(w,this),x.optionUpdated(w,!1);else{var B=extend({componentIndex:_},o.keyInfo);extend(x=new N(w,this,this,B),B),o.brandNew&&(x.__requireNewView=!0),x.init(w,this,this),x.optionUpdated(null,!0)}}else x&&(x.mergeOption({},this),x.optionUpdated({},!1));x?(Z.push(x.option),et.push(x),en++):(Z.push(void 0),et.push(void 0))},this),_[v]=Z,x.set(v,et),w.set(v,en),"series"===v&&X(this)}resetSourceDefaulter(this),util_each(o,function(o,v){null!=o&&(ix.hasClass(v)?v&&(T.push(v),L.set(v,!0)):_[v]=null==_[v]?clone(o):merge(_[v],o,!0))}),N&&N.each(function(o,v){ix.hasClass(v)&&!L.get(v)&&(T.push(v),L.set(v,!0))}),ix.topologicalTravel(T,ix.getAllClassMainTypes(),visitComponent,this),this._seriesIndices||X(this)},GlobalModel.prototype.getOption=function(){var o=clone(this.option);return util_each(o,function(v,_){if(ix.hasClass(_)){for(var x=normalizeToArray(v),w=x.length,T=!1,L=w-1;L>=0;L--)x[L]&&!isComponentIdInternal(x[L])?T=!0:(x[L]=null,!T&&w--);x.length=w,o[_]=x}}),delete o[iz],o},GlobalModel.prototype.getTheme=function(){return this._theme},GlobalModel.prototype.getLocaleModel=function(){return this._locale},GlobalModel.prototype.setUpdatePayload=function(o){this._payload=o},GlobalModel.prototype.getUpdatePayload=function(){return this._payload},GlobalModel.prototype.getComponent=function(o,v){var _=this._componentsMap.get(o);if(_){var x=_[v||0];if(x)return x;if(null==v){for(var w=0;w<_.length;w++)if(_[w])return _[w]}}},GlobalModel.prototype.queryComponents=function(o){var v,_=o.mainType;if(!_)return[];var x=o.index,w=o.id,T=o.name,L=this._componentsMap.get(_);return L&&L.length?(null!=x?(v=[],util_each(normalizeToArray(x),function(o){L[o]&&v.push(L[o])})):v=null!=w?queryByIdOrName("id",w,L):null!=T?queryByIdOrName("name",T,L):filter(L,function(o){return!!o}),filterBySubType(v,o)):[]},GlobalModel.prototype.findComponents=function(o){var v=o.query,_=o.mainType,x=getQueryCond(v);return doFilter(filterBySubType(x?this.queryComponents(x):filter(this._componentsMap.get(_),function(o){return!!o}),o));function getQueryCond(o){var v=_+"Index",x=_+"Id",w=_+"Name";return o&&(null!=o[v]||null!=o[x]||null!=o[w])?{mainType:_,index:o[v],id:o[x],name:o[w]}:null}function doFilter(v){return o.filter?filter(v,o.filter):v}},GlobalModel.prototype.eachComponent=function(o,v,_){var x=this._componentsMap;if(isFunction(o))x.each(function(_,x){for(var w=0;_&&w<_.length;w++){var T=_[w];T&&o.call(v,x,T,T.componentIndex)}});else for(var w=util_isString(o)?x.get(o):util_isObject(o)?this.findComponents(o):null,T=0;w&&T<w.length;T++){var L=w[T];L&&v.call(_,L,L.componentIndex)}},GlobalModel.prototype.getSeriesByName=function(o){var v=convertOptionIdName(o,null);return filter(this._componentsMap.get("series"),function(o){return!!o&&null!=v&&o.name===v})},GlobalModel.prototype.getSeriesByIndex=function(o){return this._componentsMap.get("series")[o]},GlobalModel.prototype.getSeriesByType=function(o){return filter(this._componentsMap.get("series"),function(v){return!!v&&v.subType===o})},GlobalModel.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(o){return!!o})},GlobalModel.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},GlobalModel.prototype.eachSeries=function(o,v){et(this),util_each(this._seriesIndices,function(_){var x=this._componentsMap.get("series")[_];o.call(v,x,_)},this)},GlobalModel.prototype.eachRawSeries=function(o,v){util_each(this._componentsMap.get("series"),function(_){_&&o.call(v,_,_.componentIndex)})},GlobalModel.prototype.eachSeriesByType=function(o,v,_){et(this),util_each(this._seriesIndices,function(x){var w=this._componentsMap.get("series")[x];w.subType===o&&v.call(_,w,x)},this)},GlobalModel.prototype.eachRawSeriesByType=function(o,v,_){return util_each(this.getSeriesByType(o),v,_)},GlobalModel.prototype.isSeriesFiltered=function(o){return et(this),null==this._seriesIndicesMap.get(o.componentIndex)},GlobalModel.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},GlobalModel.prototype.filterSeries=function(o,v){et(this);var _=[];util_each(this._seriesIndices,function(x){var w=this._componentsMap.get("series")[x];o.call(v,w,x)&&_.push(x)},this),this._seriesIndices=_,this._seriesIndicesMap=createHashMap(_)},GlobalModel.prototype.restoreData=function(o){X(this);var v=this._componentsMap,_=[];v.each(function(o,v){ix.hasClass(v)&&_.push(v)}),ix.topologicalTravel(_,ix.getAllClassMainTypes(),function(_){util_each(v.get(_),function(v){v&&("series"!==_||!isNotTargetSeries(v,o))&&v.restoreData()})})},GlobalModel.internalField=void(X=function(o){var v=o._seriesIndices=[];util_each(o._componentsMap.get("series"),function(o){o&&v.push(o.componentIndex)}),o._seriesIndicesMap=createHashMap(v)},et=function(o){},en=function(o,v){o.option={},o.option[iz]=1,o._componentsMap=createHashMap({series:[]}),o._componentsCount=createHashMap();var _=v.aria;util_isObject(_)&&null==_.enabled&&(_.enabled=!0),mergeTheme(v,o._theme.option),merge(v,iT,!1),o._mergeOption(v,null)}),GlobalModel}(ii);function isNotTargetSeries(o,v){if(v){var _=v.seriesIndex,x=v.seriesId,w=v.seriesName;return null!=_&&o.componentIndex!==_||null!=x&&o.id!==x||null!=w&&o.name!==w}}function mergeTheme(o,v){var _=o.color&&!o.colorLayer;util_each(v,function(v,x){("colorLayer"!==x||!_)&&(ix.hasClass(x)||("object"==typeof v?o[x]=o[x]?merge(o[x],v,!1):clone(v):null!=o[x]||(o[x]=v)))})}function queryByIdOrName(o,v,_){if(util_isArray(v)){var x=createHashMap();return util_each(v,function(o){null!=o&&null!=convertOptionIdName(o,null)&&x.set(o,!0)}),filter(_,function(v){return v&&x.get(v[o])})}var w=convertOptionIdName(v,null);return filter(_,function(v){return v&&null!=w&&v[o]===w})}function filterBySubType(o,v){return v.hasOwnProperty("subType")?filter(o,function(o){return o&&o.subType===v.subType}):o}function normalizeSetOptionInput(o){var v=createHashMap();return o&&util_each(normalizeToArray(o.replaceMerge),function(o){v.set(o,!0)}),{replaceMergeMainTypeMap:v}}mixin(ij,iB);var iH=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],core_ExtensionAPI=function(o){util_each(iH,function(v){this[v]=e2(o[v],o)},this)},iG={},iU=function(){function CoordinateSystemManager(){this._coordinateSystems=[]}return CoordinateSystemManager.prototype.create=function(o,v){var _=[];util_each(iG,function(x,w){var T=x.create(o,v);_=_.concat(T||[])}),this._coordinateSystems=_},CoordinateSystemManager.prototype.update=function(o,v){util_each(this._coordinateSystems,function(_){_.update&&_.update(o,v)})},CoordinateSystemManager.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},CoordinateSystemManager.register=function(o,v){iG[o]=v},CoordinateSystemManager.get=function(o){return iG[o]},CoordinateSystemManager}(),iW=/^(min|max)?(.+)$/,iY=function(){function OptionManager(o){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=o}return OptionManager.prototype.setOption=function(o,v,_){o&&(util_each(normalizeToArray(o.series),function(o){o&&o.data&&isTypedArray(o.data)&&(o.data[e5]=!0)}),util_each(normalizeToArray(o.dataset),function(o){o&&o.source&&isTypedArray(o.source)&&(o.source[e5]=!0)})),o=clone(o);var x=this._optionBackup,w=parseRawOption(o,v,!x);this._newBaseOption=w.baseOption,x?(w.timelineOptions.length&&(x.timelineOptions=w.timelineOptions),w.mediaList.length&&(x.mediaList=w.mediaList),w.mediaDefault&&(x.mediaDefault=w.mediaDefault)):this._optionBackup=w},OptionManager.prototype.mountOption=function(o){var v=this._optionBackup;return this._timelineOptions=v.timelineOptions,this._mediaList=v.mediaList,this._mediaDefault=v.mediaDefault,this._currentMediaIndices=[],clone(o?v.baseOption:this._newBaseOption)},OptionManager.prototype.getTimelineOption=function(o){var v,_=this._timelineOptions;if(_.length){var x=o.getComponent("timeline");x&&(v=clone(_[x.getCurrentIndex()]))}return v},OptionManager.prototype.getMediaOption=function(o){var v=this._api.getWidth(),_=this._api.getHeight(),x=this._mediaList,w=this._mediaDefault,T=[],L=[];if(!x.length&&!w)return L;for(var N=0,B=x.length;N<B;N++)applyMediaQuery(x[N].query,v,_)&&T.push(N);return!T.length&&w&&(T=[-1]),T.length&&!indicesEquals(T,this._currentMediaIndices)&&(L=map(T,function(o){return clone(-1===o?w.option:x[o].option)})),this._currentMediaIndices=T,L},OptionManager}();function parseRawOption(o,v,_){var x,w,T=[],L=o.baseOption,N=o.timeline,B=o.options,H=o.media,Y=!!o.media,Z=!!(B||N||L&&L.timeline);function doPreprocess(o){util_each(v,function(v){v(o,_)})}return L?(w=L).timeline||(w.timeline=N):((Z||Y)&&(o.options=o.media=null),w=o),Y&&util_isArray(H)&&util_each(H,function(o){o&&o.option&&(o.query?T.push(o):x||(x=o))}),doPreprocess(w),util_each(B,function(o){return doPreprocess(o)}),util_each(T,function(o){return doPreprocess(o.option)}),{baseOption:w,timelineOptions:B||[],mediaDefault:x,mediaList:T}}function applyMediaQuery(o,v,_){var x={width:v,height:_,aspectratio:v/_},w=!0;return util_each(o,function(o,v){var _=v.match(iW);if(_&&_[1]&&_[2]){var T=_[1];compare(x[_[2].toLowerCase()],o,T)||(w=!1)}}),w}function compare(o,v,_){return"min"===_?o>=v:"max"===_?o<=v:o===v}function indicesEquals(o,v){return o.join(",")===v.join(",")}var iK=util_each,iZ=util_isObject,iq=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(o){var v=o&&o.itemStyle;if(v)for(var _=0,x=iq.length;_<x;_++){var w=iq[_],T=v.normal,L=v.emphasis;T&&T[w]&&(o[w]=o[w]||{},o[w].normal?merge(o[w].normal,T[w]):o[w].normal=T[w],T[w]=null),L&&L[w]&&(o[w]=o[w]||{},o[w].emphasis?merge(o[w].emphasis,L[w]):o[w].emphasis=L[w],L[w]=null)}}function convertNormalEmphasis(o,v,_){if(o&&o[v]&&(o[v].normal||o[v].emphasis)){var x=o[v].normal,w=o[v].emphasis;x&&(_?(o[v].normal=o[v].emphasis=null,util_defaults(o[v],x)):o[v]=x),w&&(o.emphasis=o.emphasis||{},o.emphasis[v]=w,w.focus&&(o.emphasis.focus=w.focus),w.blurScope&&(o.emphasis.blurScope=w.blurScope))}}function removeEC3NormalStatus(o){convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"lineStyle"),convertNormalEmphasis(o,"areaStyle"),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"labelLine"),convertNormalEmphasis(o,"upperLabel"),convertNormalEmphasis(o,"edgeLabel")}function compatTextStyle(o,v){var _=iZ(o)&&o[v],x=iZ(_)&&_.textStyle;if(x)for(var w=0,T=nw.length;w<T;w++){var L=nw[w];x.hasOwnProperty(L)&&(_[L]=x[L])}}function compatEC3CommonStyles(o){o&&(removeEC3NormalStatus(o),compatTextStyle(o,"label"),o.emphasis&&compatTextStyle(o.emphasis,"label"))}function processSeries(o){if(iZ(o)){compatEC2ItemStyle(o),removeEC3NormalStatus(o),compatTextStyle(o,"label"),compatTextStyle(o,"upperLabel"),compatTextStyle(o,"edgeLabel"),o.emphasis&&(compatTextStyle(o.emphasis,"label"),compatTextStyle(o.emphasis,"upperLabel"),compatTextStyle(o.emphasis,"edgeLabel"));var v=o.markPoint;v&&(compatEC2ItemStyle(v),compatEC3CommonStyles(v));var _=o.markLine;_&&(compatEC2ItemStyle(_),compatEC3CommonStyles(_));var x=o.markArea;x&&compatEC3CommonStyles(x);var w=o.data;if("graph"===o.type){w=w||o.nodes;var T=o.links||o.edges;if(T&&!isTypedArray(T))for(var L=0;L<T.length;L++)compatEC3CommonStyles(T[L]);util_each(o.categories,function(o){removeEC3NormalStatus(o)})}if(w&&!isTypedArray(w))for(var L=0;L<w.length;L++)compatEC3CommonStyles(w[L]);if((v=o.markPoint)&&v.data)for(var N=v.data,L=0;L<N.length;L++)compatEC3CommonStyles(N[L]);if((_=o.markLine)&&_.data)for(var B=_.data,L=0;L<B.length;L++)util_isArray(B[L])?(compatEC3CommonStyles(B[L][0]),compatEC3CommonStyles(B[L][1])):compatEC3CommonStyles(B[L]);"gauge"===o.type?(compatTextStyle(o,"axisLabel"),compatTextStyle(o,"title"),compatTextStyle(o,"detail")):"treemap"===o.type?(convertNormalEmphasis(o.breadcrumb,"itemStyle"),util_each(o.levels,function(o){removeEC3NormalStatus(o)})):"tree"===o.type&&removeEC3NormalStatus(o.leaves)}}function toArr(o){return util_isArray(o)?o:o?[o]:[]}function toObj(o){return(util_isArray(o)?o[0]:o)||{}}function globalCompatStyle(o,v){iK(toArr(o.series),function(o){iZ(o)&&processSeries(o)});var _=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];v&&_.push("valueAxis","categoryAxis","logAxis","timeAxis"),iK(_,function(v){iK(toArr(o[v]),function(o){o&&(compatTextStyle(o,"axisLabel"),compatTextStyle(o.axisPointer,"label"))})}),iK(toArr(o.parallel),function(o){var v=o&&o.parallelAxisDefault;compatTextStyle(v,"axisLabel"),compatTextStyle(v&&v.axisPointer,"label")}),iK(toArr(o.calendar),function(o){convertNormalEmphasis(o,"itemStyle"),compatTextStyle(o,"dayLabel"),compatTextStyle(o,"monthLabel"),compatTextStyle(o,"yearLabel")}),iK(toArr(o.radar),function(o){compatTextStyle(o,"name"),o.name&&null==o.axisName&&(o.axisName=o.name,delete o.name),null!=o.nameGap&&null==o.axisNameGap&&(o.axisNameGap=o.nameGap,delete o.nameGap)}),iK(toArr(o.geo),function(o){iZ(o)&&(compatEC3CommonStyles(o),iK(toArr(o.regions),function(o){compatEC3CommonStyles(o)}))}),iK(toArr(o.timeline),function(o){compatEC3CommonStyles(o),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"controlStyle",!0);var v=o.data;util_isArray(v)&&util_each(v,function(o){util_isObject(o)&&(convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"))})}),iK(toArr(o.toolbox),function(o){convertNormalEmphasis(o,"iconStyle"),iK(o.feature,function(o){convertNormalEmphasis(o,"iconStyle")})}),compatTextStyle(toObj(o.axisPointer),"label"),compatTextStyle(toObj(o.tooltip).axisPointer,"label")}function get(o,v){for(var _=v.split(","),x=o,w=0;w<_.length&&null!=(x=x&&x[_[w]]);w++);return x}function backwardCompat_set(o,v,_,x){for(var w,T=v.split(","),L=o,N=0;N<T.length-1;N++)null==L[w=T[N]]&&(L[w]={}),L=L[w];(x||null==L[T[N]])&&(L[T[N]]=_)}function compatLayoutProperties(o){o&&util_each(iX,function(v){v[0]in o&&!(v[1]in o)&&(o[v[1]]=o[v[0]])})}var iX=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],i$=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],iQ=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(o){var v=o&&o.itemStyle;if(v)for(var _=0;_<iQ.length;_++){var x=iQ[_][1],w=iQ[_][0];null!=v[x]&&(v[w]=v[x])}}function compatPieLabel(o){o&&"edge"===o.alignTo&&null!=o.margin&&null==o.edgeDistance&&(o.edgeDistance=o.margin)}function compatSunburstState(o){o&&o.downplay&&!o.blur&&(o.blur=o.downplay)}function compatGraphFocus(o){o&&null!=o.focusNodeAdjacency&&(o.emphasis=o.emphasis||{},null==o.emphasis.focus&&(o.emphasis.focus="adjacency"))}function traverseTree(o,v){if(o)for(var _=0;_<o.length;_++)v(o[_]),o[_]&&traverseTree(o[_].children,v)}function globalBackwardCompat(o,v){globalCompatStyle(o,v),o.series=normalizeToArray(o.series),util_each(o.series,function(o){if(util_isObject(o)){var v=o.type;if("line"===v)null!=o.clipOverflow&&(o.clip=o.clipOverflow);else if("pie"===v||"gauge"===v){null!=o.clockWise&&(o.clockwise=o.clockWise),compatPieLabel(o.label);var _=o.data;if(_&&!isTypedArray(_))for(var x=0;x<_.length;x++)compatPieLabel(_[x]);null!=o.hoverOffset&&(o.emphasis=o.emphasis||{},o.emphasis.scaleSize=null)}else if("gauge"===v){var w=get(o,"pointer.color");null!=w&&backwardCompat_set(o,"itemStyle.color",w)}else if("bar"===v){compatBarItemStyle(o),compatBarItemStyle(o.backgroundStyle),compatBarItemStyle(o.emphasis);var _=o.data;if(_&&!isTypedArray(_))for(var x=0;x<_.length;x++)"object"==typeof _[x]&&(compatBarItemStyle(_[x]),compatBarItemStyle(_[x]&&_[x].emphasis))}else if("sunburst"===v){var T=o.highlightPolicy;T&&(o.emphasis=o.emphasis||{},o.emphasis.focus||(o.emphasis.focus=T)),compatSunburstState(o),traverseTree(o.data,compatSunburstState)}else"graph"===v||"sankey"===v?compatGraphFocus(o):"map"===v&&(o.mapType&&!o.map&&(o.map=o.mapType),o.mapLocation&&util_defaults(o,o.mapLocation));null!=o.hoverAnimation&&(o.emphasis=o.emphasis||{},o.emphasis&&null==o.emphasis.scale&&(o.emphasis.scale=o.hoverAnimation)),compatLayoutProperties(o)}}),o.dataRange&&(o.visualMap=o.dataRange),util_each(i$,function(v){var _=o[v];_&&(util_isArray(_)||(_=[_]),util_each(_,function(o){compatLayoutProperties(o)}))})}function dataStack(o){var v=createHashMap();o.eachSeries(function(o){var _=o.get("stack");if(_){var x=v.get(_)||v.set(_,[]),w=o.getData(),T={stackResultDimension:w.getCalculationInfo("stackResultDimension"),stackedOverDimension:w.getCalculationInfo("stackedOverDimension"),stackedDimension:w.getCalculationInfo("stackedDimension"),stackedByDimension:w.getCalculationInfo("stackedByDimension"),isStackedByIndex:w.getCalculationInfo("isStackedByIndex"),data:w,seriesModel:o};if(!T.stackedDimension||!(T.isStackedByIndex||T.stackedByDimension))return;x.length&&w.setCalculationInfo("stackedOnSeries",x[x.length-1].seriesModel),x.push(T)}}),v.each(calculateStack)}function calculateStack(o){util_each(o,function(v,_){var x=[],w=[NaN,NaN],T=[v.stackResultDimension,v.stackedOverDimension],L=v.data,N=v.isStackedByIndex,B=v.seriesModel.get("stackStrategy")||"samesign";L.modify(T,function(T,H,Y){var Z,X,et=L.get(v.stackedDimension,Y);if(isNaN(et))return w;N?X=L.getRawIndex(Y):Z=L.get(v.stackedByDimension,Y);for(var en=NaN,er=_-1;er>=0;er--){var ei=o[er];if(N||(X=ei.data.rawIndexOf(ei.stackedByDimension,Z)),X>=0){var ea=ei.data.getByRawIndex(ei.stackResultDimension,X);if("all"===B||"positive"===B&&ea>0||"negative"===B&&ea<0||"samesign"===B&&et>=0&&ea>0||"samesign"===B&&et<=0&&ea<0){et=addSafe(et,ea),en=ea;break}}}return x[0]=et,x[1]=en,x})})}var SourceImpl=function(o){this.data=o.data||(o.sourceFormat===iE?{}:[]),this.sourceFormat=o.sourceFormat||iA,this.seriesLayoutBy=o.seriesLayoutBy||ik,this.startIndex=o.startIndex||0,this.dimensionsDetectedCount=o.dimensionsDetectedCount,this.metaRawOption=o.metaRawOption;var v=this.dimensionsDefine=o.dimensionsDefine;if(v)for(var _=0;_<v.length;_++){var x=v[_];null==x.type&&guessOrdinal(this,_)===iL.Must&&(x.type="ordinal")}};function isSourceInstance(o){return o instanceof SourceImpl}function createSource(o,v,_){_=_||detectSourceFormat(o);var x=v.seriesLayoutBy,w=determineSourceDimensions(o,_,x,v.sourceHeader,v.dimensions);return new SourceImpl({data:o,sourceFormat:_,seriesLayoutBy:x,dimensionsDefine:w.dimensionsDefine,startIndex:w.startIndex,dimensionsDetectedCount:w.dimensionsDetectedCount,metaRawOption:clone(v)})}function createSourceFromSeriesDataOption(o){return new SourceImpl({data:o,sourceFormat:isTypedArray(o)?iO:iP})}function cloneSourceShallow(o){return new SourceImpl({data:o.data,sourceFormat:o.sourceFormat,seriesLayoutBy:o.seriesLayoutBy,dimensionsDefine:clone(o.dimensionsDefine),startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount})}function detectSourceFormat(o){var v=iA;if(isTypedArray(o))v=iO;else if(util_isArray(o)){0===o.length&&(v=iI);for(var _=0,x=o.length;_<x;_++){var w=o[_];if(null!=w){if(util_isArray(w)){v=iI;break}if(util_isObject(w)){v=iD;break}}}}else if(util_isObject(o)){for(var T in o)if(hasOwn(o,T)&&isArrayLike(o[T])){v=iE;break}}return v}function determineSourceDimensions(o,v,_,x,w){if(!o)return{dimensionsDefine:normalizeDimensionsOption(w),startIndex:L,dimensionsDetectedCount:T};if(v===iI){var T,L;"auto"===x||null==x?arrayRowsTravelFirst(function(o){null!=o&&"-"!==o&&(util_isString(o)?null==L&&(L=1):L=0)},_,o,10):L=isNumber(x)?x:x?1:0,w||1!==L||(w=[],arrayRowsTravelFirst(function(o,v){w[v]=null!=o?o+"":""},_,o,1/0)),T=w?w.length:"row"===_?o.length:o[0]?o[0].length:null}else if(v===iD)w||(w=objectRowsCollectDimensions(o));else if(v===iE)w||(w=[],util_each(o,function(o,v){w.push(v)}));else if(v===iP){var N=getDataItemValue(o[0]);T=util_isArray(N)&&N.length||1}return{startIndex:L,dimensionsDefine:normalizeDimensionsOption(w),dimensionsDetectedCount:T}}function objectRowsCollectDimensions(o){for(var v,_=0;_<o.length&&!(v=o[_++]););if(v)return keys(v)}function normalizeDimensionsOption(o){if(o){var v=createHashMap();return map(o,function(o,_){var x={name:(o=util_isObject(o)?o:{name:o}).name,displayName:o.displayName,type:o.type};if(null==x.name)return x;x.name+="",null==x.displayName&&(x.displayName=x.name);var w=v.get(x.name);return w?x.name+="-"+w.count++:v.set(x.name,{count:1}),x})}}function arrayRowsTravelFirst(o,v,_,x){if("row"===v)for(var w=0;w<_.length&&w<x;w++)o(_[w]?_[w][0]:null,w);else for(var T=_[0]||[],w=0;w<T.length&&w<x;w++)o(T[w],w)}function shouldRetrieveDataByName(o){var v=o.sourceFormat;return v===iD||v===iE}var iJ=function(){var o;function DefaultDataProvider(o,v){var _=isSourceInstance(o)?o:createSourceFromSeriesDataOption(o);this._source=_;var x=this._data=_.data;_.sourceFormat===iO&&(this._offset=0,this._dimSize=v,this._data=x),el(this,x,_)}return DefaultDataProvider.prototype.getSource=function(){return this._source},DefaultDataProvider.prototype.count=function(){return 0},DefaultDataProvider.prototype.getItem=function(o,v){},DefaultDataProvider.prototype.appendData=function(o){},DefaultDataProvider.prototype.clean=function(){},DefaultDataProvider.protoInitialize=void((o=DefaultDataProvider.prototype).pure=!1,o.persistent=!0),DefaultDataProvider.internalField=function(){el=function(o,v,_){var x=_.sourceFormat,w=_.seriesLayoutBy,T=_.startIndex,L=_.dimensionsDefine;if(extend(o,eo[getMethodMapKey(x,w)]),x===iO)o.getItem=getItemForTypedArray,o.count=countForTypedArray,o.fillStorage=fillStorageForTypedArray;else{var N,B,H,Y,Z=i0[getMethodMapKey(N=x,B=w)];o.getItem=e2(Z,null,v,T,L);var X=i1[getMethodMapKey(H=x,Y=w)];o.count=e2(X,null,v,T,L)}};var o,getItemForTypedArray=function(o,v){o-=this._offset,v=v||[];for(var _=this._data,x=this._dimSize,w=x*o,T=0;T<x;T++)v[T]=_[w+T];return v},fillStorageForTypedArray=function(o,v,_,x){for(var w=this._data,T=this._dimSize,L=0;L<T;L++){for(var N=x[L],B=null==N[0]?1/0:N[0],H=null==N[1]?-1/0:N[1],Y=v-o,Z=_[L],X=0;X<Y;X++){var et=w[X*T+L];Z[o+X]=et,et<B&&(B=et),et>H&&(H=et)}N[0]=B,N[1]=H}},countForTypedArray=function(){return this._data?this._data.length/this._dimSize:0};function appendDataSimply(o){for(var v=0;v<o.length;v++)this._data.push(o[v])}(o={})[iI+"_"+ik]={pure:!0,appendData:appendDataSimply},o[iI+"_row"]={pure:!0,appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".')}},o[iD]={pure:!0,appendData:appendDataSimply},o[iE]={pure:!0,appendData:function(o){var v=this._data;util_each(o,function(o,_){for(var x=v[_]||(v[_]=[]),w=0;w<(o||[]).length;w++)x.push(o[w])})}},o[iP]={appendData:appendDataSimply},o[iO]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},eo=o}(),DefaultDataProvider}(),getItemSimply=function(o,v,_,x){return o[x]},i0=((er={})[iI+"_"+ik]=function(o,v,_,x){return o[x+v]},er[iI+"_row"]=function(o,v,_,x,w){x+=v;for(var T=w||[],L=0;L<o.length;L++){var N=o[L];T[L]=N?N[x]:null}return T},er[iD]=getItemSimply,er[iE]=function(o,v,_,x,w){for(var T=w||[],L=0;L<_.length;L++){var N=o[_[L].name];T[L]=N?N[x]:null}return T},er[iP]=getItemSimply,er),countSimply=function(o,v,_){return o.length},i1=((ei={})[iI+"_"+ik]=function(o,v,_){return Math.max(0,o.length-v)},ei[iI+"_row"]=function(o,v,_){var x=o[0];return x?Math.max(0,x.length-v):0},ei[iD]=countSimply,ei[iE]=function(o,v,_){var x=o[_[0].name];return x?x.length:0},ei[iP]=countSimply,ei),getRawValueSimply=function(o,v,_){return o[v]},i2=((ea={})[iI]=getRawValueSimply,ea[iD]=function(o,v,_){return o[_]},ea[iE]=getRawValueSimply,ea[iP]=function(o,v,_){var x=getDataItemValue(o);return x instanceof Array?x[v]:x},ea[iO]=getRawValueSimply,ea);function getMethodMapKey(o,v){return o===iI?o+"_"+v:o}function retrieveRawValue(o,v,_){if(o){var x=o.getRawDataItem(v);if(null!=x){var w=o.getStore(),T=w.getSource().sourceFormat;if(null!=_){var L=o.getDimensionIndex(_),N=w.getDimensionProperty(L);return i2[T](x,L,N)}var B=x;return T===iP&&(B=getDataItemValue(x)),B}}}var i5=/\{@(.+?)\}/g,i3=function(){function DataFormatMixin(){}return DataFormatMixin.prototype.getDataParams=function(o,v){var _=this.getData(v),x=this.getRawValue(o,v),w=_.getRawIndex(o),T=_.getName(o),L=_.getRawDataItem(o),N=_.getItemVisual(o,"style"),B=N&&N[_.getItemVisual(o,"drawType")||"fill"],H=N&&N.stroke,Y=this.mainType,Z="series"===Y,X=_.userOutput&&_.userOutput.get();return{componentType:Y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:Z?this.subType:null,seriesIndex:this.seriesIndex,seriesId:Z?this.id:null,seriesName:Z?this.name:null,name:T,dataIndex:w,data:L,dataType:v,value:x,color:B,borderColor:H,dimensionNames:X?X.fullDimensions:null,encode:X?X.encode:null,$vars:["seriesName","name","value"]}},DataFormatMixin.prototype.getFormattedLabel=function(o,v,_,x,w,T){v=v||"normal";var L=this.getData(_),N=this.getDataParams(o,_);return(T&&(N.value=T.interpolatedValue),null!=x&&util_isArray(N.value)&&(N.value=N.value[x]),w||(w=L.getItemModel(o).get("normal"===v?["label","formatter"]:[v,"label","formatter"])),isFunction(w))?(N.status=v,N.dimensionIndex=x,w(N)):util_isString(w)?formatTpl(w,N).replace(i5,function(v,_){var x=_.length,w=_;"["===w.charAt(0)&&"]"===w.charAt(x-1)&&(w=+w.slice(1,x-1));var N=retrieveRawValue(L,o,w);if(T&&util_isArray(T.interpolatedValue)){var B=L.getDimensionIndex(w);B>=0&&(N=T.interpolatedValue[B])}return null!=N?N+"":""}):void 0},DataFormatMixin.prototype.getRawValue=function(o,v){return retrieveRawValue(this.getData(v),o)},DataFormatMixin.prototype.formatTooltip=function(o,v,_){},DataFormatMixin}();function normalizeTooltipFormatResult(o){var v,_;return util_isObject(o)?o.type&&(_=o):v=o,{text:v,frag:_}}function createTask(o){return new i4(o)}var i4=function(){function Task(o){o=o||{},this._reset=o.reset,this._plan=o.plan,this._count=o.count,this._onDirty=o.onDirty,this._dirty=!0}return Task.prototype.perform=function(o){var v,_,x,w,T=this._upstream,L=o&&o.skip;if(this._dirty&&T){var N=this.context;N.data=N.outputData=T.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!L&&(x=this._plan(this.context));var B=((v=this._modBy)>=1||(v=1),v),H=this._modDataCount||0,Y=((_=o&&o.modBy)>=1||(_=1),_),Z=o&&o.modDataCount||0;(B!==Y||H!==Z)&&(x="reset"),(this._dirty||"reset"===x)&&(this._dirty=!1,w=this._doReset(L)),this._modBy=Y,this._modDataCount=Z;var X=o&&o.step;if(T?this._dueEnd=T._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var et=this._dueIndex,en=Math.min(null!=X?this._dueIndex+X:1/0,this._dueEnd);if(!L&&(w||et<en)){var er=this._progress;if(util_isArray(er))for(var ei=0;ei<er.length;ei++)this._doProgress(er[ei],et,en,Y,Z);else this._doProgress(er,et,en,Y,Z)}this._dueIndex=en;var ea=null!=this._settedOutputEnd?this._settedOutputEnd:en;this._outputDueEnd=ea}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Task.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Task.prototype._doProgress=function(o,v,_,x,w){i7.reset(v,_,x,w),this._callingProgress=o,this._callingProgress({start:v,end:_,count:_-v,next:i7.next},this.context)},Task.prototype._doReset=function(o){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!o&&this._reset&&((v=this._reset(this.context))&&v.progress&&(_=v.forceFirstProgress,v=v.progress),util_isArray(v)&&!v.length&&(v=null)),this._progress=v,this._modBy=this._modDataCount=null;var v,_,x=this._downstream;return x&&x.dirty(),_},Task.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Task.prototype.pipe=function(o){(this._downstream!==o||this._dirty)&&(this._downstream=o,o._upstream=this,o.dirty())},Task.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Task.prototype.getUpstream=function(){return this._upstream},Task.prototype.getDownstream=function(){return this._downstream},Task.prototype.setOutputEnd=function(o){this._outputDueEnd=this._settedOutputEnd=o},Task}(),i7=function(){var o,v,_,x,w,T={reset:function(L,N,B,H){v=L,o=N,_=B,w=Math.ceil((x=H)/_),T.next=_>1&&x>0?modNext:sequentialNext}};return T;function sequentialNext(){return v<o?v++:null}function modNext(){var T=v%w*_+Math.ceil(v/w),L=v>=o?null:T<x?T:v;return v++,L}}();function throwError(o){throw Error(o)}function parseDataValue(o,v){var _=v&&v.type;return"ordinal"===_?o:("time"!==_||isNumber(o)||null==o||"-"===o||(o=+number_parseDate(o)),null==o||""===o?NaN:+o)}var i6=createHashMap({number:function(o){return parseFloat(o)},time:function(o){return+number_parseDate(o)},trim:function(o){return util_isString(o)?trim(o):o}}),i9={lt:function(o,v){return o<v},lte:function(o,v){return o<=v},gt:function(o,v){return o>v},gte:function(o,v){return o>=v}},i8=function(){function FilterOrderComparator(o,v){isNumber(v)||throwError(""),this._opFn=i9[o],this._rvalFloat=numericToNumber(v)}return FilterOrderComparator.prototype.evaluate=function(o){return isNumber(o)?this._opFn(o,this._rvalFloat):this._opFn(numericToNumber(o),this._rvalFloat)},FilterOrderComparator}(),ar=function(){function SortOrderComparator(o,v){var _="desc"===o;this._resultLT=_?1:-1,null==v&&(v=_?"min":"max"),this._incomparable="min"===v?-1/0:1/0}return SortOrderComparator.prototype.evaluate=function(o,v){var _=isNumber(o)?o:numericToNumber(o),x=isNumber(v)?v:numericToNumber(v),w=isNaN(_),T=isNaN(x);if(w&&(_=this._incomparable),T&&(x=this._incomparable),w&&T){var L=util_isString(o),N=util_isString(v);L&&(_=N?o:0),N&&(x=L?v:0)}return _<x?this._resultLT:_>x?-this._resultLT:0},SortOrderComparator}(),ai=function(){function FilterEqualityComparator(o,v){this._rval=v,this._isEQ=o,this._rvalTypeof=typeof v,this._rvalFloat=numericToNumber(v)}return FilterEqualityComparator.prototype.evaluate=function(o){var v=o===this._rval;if(!v){var _=typeof o;_!==this._rvalTypeof&&("number"===_||"number"===this._rvalTypeof)&&(v=numericToNumber(o)===this._rvalFloat)}return this._isEQ?v:!v},FilterEqualityComparator}();function createFilterComparator(o,v){return"eq"===o||"ne"===o?new ai("eq"===o,v):hasOwn(i9,o)?new i8(o,v):null}var aa=function(){function ExternalSource(){}return ExternalSource.prototype.getRawData=function(){throw Error("not supported")},ExternalSource.prototype.getRawDataItem=function(o){throw Error("not supported")},ExternalSource.prototype.cloneRawData=function(){},ExternalSource.prototype.getDimensionInfo=function(o){},ExternalSource.prototype.cloneAllDimensionInfo=function(){},ExternalSource.prototype.count=function(){},ExternalSource.prototype.retrieveValue=function(o,v){},ExternalSource.prototype.retrieveValueFromItem=function(o,v){},ExternalSource.prototype.convertValue=function(o,v){return parseDataValue(o,v)},ExternalSource}();function createExternalSource(o,v){var _=new aa,x=o.data,w=_.sourceFormat=o.sourceFormat,T=o.startIndex;o.seriesLayoutBy!==ik&&throwError("");var L=[],N={},B=o.dimensionsDefine;if(B)util_each(B,function(o,v){var _=o.name,x={index:v,name:_,displayName:o.displayName};L.push(x),null!=_&&(hasOwn(N,_)&&throwError(""),N[_]=x)});else for(var H=0;H<o.dimensionsDetectedCount;H++)L.push({index:H});var Y=i0[getMethodMapKey(w,ik)];v.__isBuiltIn&&(_.getRawDataItem=function(o){return Y(x,T,L,o)},_.getRawData=e2(getRawData,null,o)),_.cloneRawData=e2(cloneRawData,null,o);var Z=i1[getMethodMapKey(w,ik)];_.count=e2(Z,null,x,T,L);var X=i2[w];_.retrieveValue=function(o,v){return et(Y(x,T,L,o),v)};var et=_.retrieveValueFromItem=function(o,v){if(null!=o){var _=L[v];if(_)return X(o,v,_.name)}};return _.getDimensionInfo=e2(getDimensionInfo,null,L,N),_.cloneAllDimensionInfo=e2(cloneAllDimensionInfo,null,L),_}function getRawData(o){return isSupportedSourceFormat(o.sourceFormat)||throwError(""),o.data}function cloneRawData(o){var v=o.sourceFormat,_=o.data;if(isSupportedSourceFormat(v)||throwError(""),v===iI){for(var x=[],w=0,T=_.length;w<T;w++)x.push(_[w].slice());return x}if(v===iD){for(var x=[],w=0,T=_.length;w<T;w++)x.push(extend({},_[w]));return x}}function getDimensionInfo(o,v,_){return null==_?void 0:!isNumber(_)&&(isNaN(_)||hasOwn(v,_))?hasOwn(v,_)?v[_]:void 0:o[_]}function cloneAllDimensionInfo(o){return clone(o)}var ao=createHashMap();function registerExternalTransform(o){var v=(o=clone(o)).type;v||throwError("");var _=v.split(":");2!==_.length&&throwError("");var x=!1;"echarts"===_[0]&&(v=_[1],x=!0),o.__isBuiltIn=x,ao.set(v,o)}function applyDataTransform(o,v,_){var x=normalizeToArray(o),w=x.length;w||throwError("");for(var T=0;T<w;T++)v=applySingleDataTransform(x[T],v,_,1===w?null:T),T!==w-1&&(v.length=Math.max(v.length,1));return v}function applySingleDataTransform(o,v,_,x){v.length||throwError(""),util_isObject(o)||throwError("");var w=o.type,T=ao.get(w);T||throwError("");var L=map(v,function(o){return createExternalSource(o,T)});return map(normalizeToArray(T.transform({upstream:L[0],upstreamList:L,config:clone(o.config)})),function(o,_){util_isObject(o)||throwError(""),o.data||throwError(""),isSupportedSourceFormat(detectSourceFormat(o.data))||throwError("");var x,w=v[0];if(w&&0===_&&!o.dimensions){var T=w.startIndex;T&&(o.data=w.data.slice(0,T).concat(o.data)),x={seriesLayoutBy:ik,sourceHeader:T,dimensions:w.metaRawOption.dimensions}}else x={seriesLayoutBy:ik,sourceHeader:0,dimensions:o.dimensions};return createSource(o.data,x,null)})}function isSupportedSourceFormat(o){return o===iI||o===iD}var as="undefined",al=typeof Uint32Array===as?Array:Uint32Array,au=typeof Uint16Array===as?Array:Uint16Array,ac=typeof Int32Array===as?Array:Int32Array,ad=typeof Float64Array===as?Array:Float64Array,ah={float:ad,int:ac,ordinal:Array,number:Array,time:ad};function getIndicesCtor(o){return o>65535?al:au}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(o){var v=o.constructor;return v===Array?o.slice():new v(o)}function prepareStore(o,v,_,x,w){var T=ah[_||"float"];if(w){var L=o[v],N=L&&L.length;if(N!==x){for(var B=new T(x),H=0;H<N;H++)B[H]=L[H];o[v]=B}}else o[v]=new T(x)}var ap=function(){function DataStore(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return DataStore.prototype.initData=function(o,v,_){this._provider=o,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var x=o.getSource(),w=this.defaultDimValueGetter=eu[x.sourceFormat];this._dimValueGetter=_||w,this._rawExtent=[],shouldRetrieveDataByName(x),this._dimensions=map(v,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,o.count())},DataStore.prototype.getProvider=function(){return this._provider},DataStore.prototype.getSource=function(){return this._provider.getSource()},DataStore.prototype.ensureCalculationDimension=function(o,v){var _=this._calcDimNameToIdx,x=this._dimensions,w=_.get(o);if(null!=w){if(x[w].type===v)return w}else w=x.length;return x[w]={type:v},_.set(o,w),this._chunks[w]=new ah[v||"float"](this._rawCount),this._rawExtent[w]=getInitialExtent(),w},DataStore.prototype.collectOrdinalMeta=function(o,v){var _=this._chunks[o],x=this._dimensions[o],w=this._rawExtent,T=x.ordinalOffset||0,L=_.length;0===T&&(w[o]=getInitialExtent());for(var N=w[o],B=T;B<L;B++){var H=_[B]=v.parseAndCollect(_[B]);isNaN(H)||(N[0]=Math.min(H,N[0]),N[1]=Math.max(H,N[1]))}x.ordinalMeta=v,x.ordinalOffset=L,x.type="ordinal"},DataStore.prototype.getOrdinalMeta=function(o){return this._dimensions[o].ordinalMeta},DataStore.prototype.getDimensionProperty=function(o){var v=this._dimensions[o];return v&&v.property},DataStore.prototype.appendData=function(o){var v=this._provider,_=this.count();v.appendData(o);var x=v.count();return v.persistent||(x+=_),_<x&&this._initDataFromProvider(_,x,!0),[_,x]},DataStore.prototype.appendValues=function(o,v){for(var _=this._chunks,x=this._dimensions,w=x.length,T=this._rawExtent,L=this.count(),N=L+Math.max(o.length,v||0),B=0;B<w;B++){var H=x[B];prepareStore(_,B,H.type,N,!0)}for(var Y=[],Z=L;Z<N;Z++)for(var X=Z-L,et=0;et<w;et++){var H=x[et],en=eu.arrayRows.call(this,o[X]||Y,H.property,X,et);_[et][Z]=en;var er=T[et];en<er[0]&&(er[0]=en),en>er[1]&&(er[1]=en)}return this._rawCount=this._count=N,{start:L,end:N}},DataStore.prototype._initDataFromProvider=function(o,v,_){for(var x=this._provider,w=this._chunks,T=this._dimensions,L=T.length,N=this._rawExtent,B=map(T,function(o){return o.property}),H=0;H<L;H++){var Y=T[H];N[H]||(N[H]=getInitialExtent()),prepareStore(w,H,Y.type,v,_)}if(x.fillStorage)x.fillStorage(o,v,w,N);else for(var Z=[],X=o;X<v;X++){Z=x.getItem(X,Z);for(var et=0;et<L;et++){var en=w[et],er=this._dimValueGetter(Z,B[et],X,et);en[X]=er;var ei=N[et];er<ei[0]&&(ei[0]=er),er>ei[1]&&(ei[1]=er)}}!x.persistent&&x.clean&&x.clean(),this._rawCount=this._count=v,this._extent=[]},DataStore.prototype.count=function(){return this._count},DataStore.prototype.get=function(o,v){if(!(v>=0&&v<this._count))return NaN;var _=this._chunks[o];return _?_[this.getRawIndex(v)]:NaN},DataStore.prototype.getValues=function(o,v){var _=[],x=[];if(null==v){v=o,o=[];for(var w=0;w<this._dimensions.length;w++)x.push(w)}else x=o;for(var w=0,T=x.length;w<T;w++)_.push(this.get(x[w],v));return _},DataStore.prototype.getByRawIndex=function(o,v){if(!(v>=0&&v<this._rawCount))return NaN;var _=this._chunks[o];return _?_[v]:NaN},DataStore.prototype.getSum=function(o){var v=this._chunks[o],_=0;if(v)for(var x=0,w=this.count();x<w;x++){var T=this.get(o,x);isNaN(T)||(_+=T)}return _},DataStore.prototype.getMedian=function(o){var v=[];this.each([o],function(o){isNaN(o)||v.push(o)});var _=v.sort(function(o,v){return o-v}),x=this.count();return 0===x?0:x%2==1?_[(x-1)/2]:(_[x/2]+_[x/2-1])/2},DataStore.prototype.indexOfRawIndex=function(o){if(o>=this._rawCount||o<0)return -1;if(!this._indices)return o;var v=this._indices,_=v[o];if(null!=_&&_<this._count&&_===o)return o;for(var x=0,w=this._count-1;x<=w;){var T=(x+w)/2|0;if(v[T]<o)x=T+1;else{if(!(v[T]>o))return T;w=T-1}}return -1},DataStore.prototype.indicesOfNearest=function(o,v,_){var x=this._chunks[o],w=[];if(!x)return w;null==_&&(_=1/0);for(var T=1/0,L=-1,N=0,B=0,H=this.count();B<H;B++){var Y=v-x[this.getRawIndex(B)],Z=Math.abs(Y);Z<=_&&((Z<T||Z===T&&Y>=0&&L<0)&&(T=Z,L=Y,N=0),Y===L&&(w[N++]=B))}return w.length=N,w},DataStore.prototype.getIndices=function(){var o,v=this._indices;if(v){var _=v.constructor,x=this._count;if(_===Array){o=new _(x);for(var w=0;w<x;w++)o[w]=v[w]}else o=new _(v.buffer,0,x)}else{var _=getIndicesCtor(this._rawCount);o=new _(this.count());for(var w=0;w<o.length;w++)o[w]=w}return o},DataStore.prototype.filter=function(o,v){if(!this._count)return this;for(var _=this.clone(),x=_.count(),w=new(getIndicesCtor(_._rawCount))(x),T=[],L=o.length,N=0,B=o[0],H=_._chunks,Y=0;Y<x;Y++){var Z=void 0,X=_.getRawIndex(Y);if(0===L)Z=v(Y);else if(1===L)Z=v(H[B][X],Y);else{for(var et=0;et<L;et++)T[et]=H[o[et]][X];T[et]=Y,Z=v.apply(null,T)}Z&&(w[N++]=X)}return N<x&&(_._indices=w),_._count=N,_._extent=[],_._updateGetRawIdx(),_},DataStore.prototype.selectRange=function(o){var v=this.clone(),_=v._count;if(!_)return this;var x=keys(o),w=x.length;if(!w)return this;var T=v.count(),L=new(getIndicesCtor(v._rawCount))(T),N=0,B=x[0],H=o[B][0],Y=o[B][1],Z=v._chunks,X=!1;if(!v._indices){var et=0;if(1===w){for(var en=Z[x[0]],er=0;er<_;er++){var ei=en[er];(ei>=H&&ei<=Y||isNaN(ei))&&(L[N++]=et),et++}X=!0}else if(2===w){for(var en=Z[x[0]],ea=Z[x[1]],eo=o[x[1]][0],el=o[x[1]][1],er=0;er<_;er++){var ei=en[er],eu=ea[er];(ei>=H&&ei<=Y||isNaN(ei))&&(eu>=eo&&eu<=el||isNaN(eu))&&(L[N++]=et),et++}X=!0}}if(!X){if(1===w)for(var er=0;er<T;er++){var ec=v.getRawIndex(er),ei=Z[x[0]][ec];(ei>=H&&ei<=Y||isNaN(ei))&&(L[N++]=ec)}else for(var er=0;er<T;er++){for(var ed=!0,ec=v.getRawIndex(er),eh=0;eh<w;eh++){var ep=x[eh],ei=Z[ep][ec];(ei<o[ep][0]||ei>o[ep][1])&&(ed=!1)}ed&&(L[N++]=v.getRawIndex(er))}}return N<T&&(v._indices=L),v._count=N,v._extent=[],v._updateGetRawIdx(),v},DataStore.prototype.map=function(o,v){var _=this.clone(o);return this._updateDims(_,o,v),_},DataStore.prototype.modify=function(o,v){this._updateDims(this,o,v)},DataStore.prototype._updateDims=function(o,v,_){for(var x=o._chunks,w=[],T=v.length,L=o.count(),N=[],B=o._rawExtent,H=0;H<v.length;H++)B[v[H]]=getInitialExtent();for(var Y=0;Y<L;Y++){for(var Z=o.getRawIndex(Y),X=0;X<T;X++)N[X]=x[v[X]][Z];N[T]=Y;var et=_&&_.apply(null,N);if(null!=et){"object"!=typeof et&&(w[0]=et,et=w);for(var H=0;H<et.length;H++){var en=v[H],er=et[H],ei=B[en],ea=x[en];ea&&(ea[Z]=er),er<ei[0]&&(ei[0]=er),er>ei[1]&&(ei[1]=er)}}}},DataStore.prototype.lttbDownSample=function(o,v){var _,x,w,T=this.clone([o],!0),L=T._chunks[o],N=this.count(),B=0,H=Math.floor(1/v),Y=this.getRawIndex(0),Z=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(N/H)+2)*2,N));Z[B++]=Y;for(var X=1;X<N-1;X+=H){for(var et=Math.min(X+H,N-1),en=Math.min(X+2*H,N),er=(en+et)/2,ei=0,ea=et;ea<en;ea++){var eo=this.getRawIndex(ea),el=L[eo];isNaN(el)||(ei+=el)}ei/=en-et;var eu=X,ec=Math.min(X+H,N),ed=X-1,eh=L[Y];_=-1,w=eu;for(var ep=-1,ef=0,ea=eu;ea<ec;ea++){var eo=this.getRawIndex(ea),el=L[eo];if(isNaN(el)){ef++,ep<0&&(ep=eo);continue}(x=Math.abs((ed-er)*(el-eh)-(ed-ea)*(ei-eh)))>_&&(_=x,w=eo)}ef>0&&ef<ec-eu&&(Z[B++]=Math.min(ep,w),w=Math.max(ep,w)),Z[B++]=w,Y=w}return Z[B++]=this.getRawIndex(N-1),T._count=B,T._indices=Z,T.getRawIndex=this._getRawIdx,T},DataStore.prototype.downSample=function(o,v,_,x){for(var w=this.clone([o],!0),T=w._chunks,L=[],N=Math.floor(1/v),B=T[o],H=this.count(),Y=w._rawExtent[o]=getInitialExtent(),Z=new(getIndicesCtor(this._rawCount))(Math.ceil(H/N)),X=0,et=0;et<H;et+=N){N>H-et&&(N=H-et,L.length=N);for(var en=0;en<N;en++){var er=this.getRawIndex(et+en);L[en]=B[er]}var ei=_(L),ea=this.getRawIndex(Math.min(et+x(L,ei)||0,H-1));B[ea]=ei,ei<Y[0]&&(Y[0]=ei),ei>Y[1]&&(Y[1]=ei),Z[X++]=ea}return w._count=X,w._indices=Z,w._updateGetRawIdx(),w},DataStore.prototype.each=function(o,v){if(this._count)for(var _=o.length,x=this._chunks,w=0,T=this.count();w<T;w++){var L=this.getRawIndex(w);switch(_){case 0:v(w);break;case 1:v(x[o[0]][L],w);break;case 2:v(x[o[0]][L],x[o[1]][L],w);break;default:for(var N=0,B=[];N<_;N++)B[N]=x[o[N]][L];B[N]=w,v.apply(null,B)}}},DataStore.prototype.getDataExtent=function(o){var v,_=this._chunks[o],x=getInitialExtent();if(!_)return x;var w=this.count();if(!this._indices)return this._rawExtent[o].slice();if(v=this._extent[o])return v.slice();for(var T=(v=x)[0],L=v[1],N=0;N<w;N++){var B=_[this.getRawIndex(N)];B<T&&(T=B),B>L&&(L=B)}return v=[T,L],this._extent[o]=v,v},DataStore.prototype.getRawDataItem=function(o){var v=this.getRawIndex(o);if(this._provider.persistent)return this._provider.getItem(v);for(var _=[],x=this._chunks,w=0;w<x.length;w++)_.push(x[w][v]);return _},DataStore.prototype.clone=function(o,v){var _=new DataStore,x=this._chunks,w=o&&reduce(o,function(o,v){return o[v]=!0,o},{});if(w)for(var T=0;T<x.length;T++)_._chunks[T]=w[T]?cloneChunk(x[T]):x[T];else _._chunks=x;return this._copyCommonProps(_),v||(_._indices=this._cloneIndices()),_._updateGetRawIdx(),_},DataStore.prototype._copyCommonProps=function(o){o._count=this._count,o._rawCount=this._rawCount,o._provider=this._provider,o._dimensions=this._dimensions,o._extent=clone(this._extent),o._rawExtent=clone(this._rawExtent)},DataStore.prototype._cloneIndices=function(){if(this._indices){var o=this._indices.constructor,v=void 0;if(o===Array){var _=this._indices.length;v=new o(_);for(var x=0;x<_;x++)v[x]=this._indices[x]}else v=new o(this._indices);return v}return null},DataStore.prototype._getRawIdxIdentity=function(o){return o},DataStore.prototype._getRawIdx=function(o){return o<this._count&&o>=0?this._indices[o]:-1},DataStore.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},DataStore.internalField=function(){function getDimValueSimply(o,v,_,x){return parseDataValue(o[x],this._dimensions[x])}eu={arrayRows:getDimValueSimply,objectRows:function(o,v,_,x){return parseDataValue(o[v],this._dimensions[x])},keyedColumns:getDimValueSimply,original:function(o,v,_,x){var w=o&&(null==o.value?o:o.value);return parseDataValue(w instanceof Array?w[x]:w,this._dimensions[x])},typedArray:function(o,v,_,x){return o[x]}}}(),DataStore}(),af=function(){function SourceManager(o){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=o}return SourceManager.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},SourceManager.prototype._setLocalSource=function(o,v){this._sourceList=o,this._upstreamSignList=v,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},SourceManager.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},SourceManager.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},SourceManager.prototype._createSource=function(){this._setLocalSource([],[]);var o,v,_=this._sourceHost,x=this._getUpstreamSourceManagers(),w=!!x.length;if(isSeries(_)){var T=void 0,L=void 0,N=void 0;if(w){var B=x[0];B.prepareSource(),T=(N=B.getSource()).data,L=N.sourceFormat,v=[B._getVersionSign()]}else L=isTypedArray(T=_.get("data",!0))?iO:iP,v=[];var H=this._getSourceMetaRawOption()||{},Y=N&&N.metaRawOption||{},Z=retrieve2(H.seriesLayoutBy,Y.seriesLayoutBy)||null,X=retrieve2(H.sourceHeader,Y.sourceHeader),et=retrieve2(H.dimensions,Y.dimensions);o=Z!==Y.seriesLayoutBy||!!X!=!!Y.sourceHeader||et?[createSource(T,{seriesLayoutBy:Z,sourceHeader:X,dimensions:et},L)]:[]}else if(w){var en=this._applyTransform(x);o=en.sourceList,v=en.upstreamSignList}else o=[createSource(_.get("source",!0),this._getSourceMetaRawOption(),null)],v=[];this._setLocalSource(o,v)},SourceManager.prototype._applyTransform=function(o){var v,_=this._sourceHost,x=_.get("transform",!0),w=_.get("fromTransformResult",!0);null!=w&&1!==o.length&&doThrow("");var T=[],L=[];return util_each(o,function(o){o.prepareSource();var v=o.getSource(w||0);null==w||v||doThrow(""),T.push(v),L.push(o._getVersionSign())}),x?v=applyDataTransform(x,T,{datasetIndex:_.componentIndex}):null!=w&&(v=[cloneSourceShallow(T[0])]),{sourceList:v,upstreamSignList:L}},SourceManager.prototype._isDirty=function(){if(this._dirty)return!0;for(var o=this._getUpstreamSourceManagers(),v=0;v<o.length;v++){var _=o[v];if(_._isDirty()||this._upstreamSignList[v]!==_._getVersionSign())return!0}},SourceManager.prototype.getSource=function(o){o=o||0;var v=this._sourceList[o];if(!v){var _=this._getUpstreamSourceManagers();return _[0]&&_[0].getSource(o)}return v},SourceManager.prototype.getSharedDataStore=function(o){var v=o.makeStoreSchema();return this._innerGetDataStore(v.dimensions,o.source,v.hash)},SourceManager.prototype._innerGetDataStore=function(o,v,_){var x=this._storeList,w=x[0];w||(w=x[0]={});var T=w[_];if(!T){var L=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&L?T=L._innerGetDataStore(o,v,_):(T=new ap).initData(new iJ(v,o.length),o),w[_]=T}return T},SourceManager.prototype._getUpstreamSourceManagers=function(){var o=this._sourceHost;if(!isSeries(o))return map(queryDatasetUpstreamDatasetModels(o),function(o){return o.getSourceManager()});var v=querySeriesUpstreamDatasetModel(o);return v?[v.getSourceManager()]:[]},SourceManager.prototype._getSourceMetaRawOption=function(){var o,v,_,x=this._sourceHost;return isSeries(x)?(o=x.get("seriesLayoutBy",!0),v=x.get("sourceHeader",!0),_=x.get("dimensions",!0)):this._getUpstreamSourceManagers().length||(o=x.get("seriesLayoutBy",!0),v=x.get("sourceHeader",!0),_=x.get("dimensions",!0)),{seriesLayoutBy:o,sourceHeader:v,dimensions:_}},SourceManager}();function disableTransformOptionMerge(o){o.option.transform&&(o.option.transform[e5]=!0)}function isSeries(o){return"series"===o.mainType}function doThrow(o){throw Error(o)}var ag="line-height:1";function getTooltipTextStyle(o,v){var _=o.color||"#6e7079",x=o.fontSize||12,w=o.fontWeight||"400",T=o.color||"#464646",L=o.fontSize||14,N=o.fontWeight||"900";return"html"===v?{nameStyle:"font-size:"+encodeHTML(x+"")+"px;color:"+encodeHTML(_)+";font-weight:"+encodeHTML(w+""),valueStyle:"font-size:"+encodeHTML(L+"")+"px;color:"+encodeHTML(T)+";font-weight:"+encodeHTML(N+"")}:{nameStyle:{fontSize:x,fill:_,fontWeight:w},valueStyle:{fontSize:L,fill:T,fontWeight:N}}}var am=[0,10,20,30],ay=["","\n","\n\n","\n\n\n"];function createTooltipMarkup(o,v){return v.type=o,v}function isSectionFragment(o){return"section"===o.type}function getBlockGapLevel(o){if(isSectionFragment(o)){var v=0,_=o.blocks.length,x=_>1||_>0&&!o.noHeader;return util_each(o.blocks,function(o){var _=getBlockGapLevel(o);_>=v&&(v=_+ +(x&&(!_||isSectionFragment(o)&&!o.noHeader)))}),v}return 0}function buildSection(o,v,_,x){var w=v.noHeader,T=getGap(getBlockGapLevel(v)),L=[],N=v.blocks||[];assert(!N||util_isArray(N)),N=N||[];var B=o.orderMode;if(v.sortBlocks&&B){N=N.slice();var H={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(H,B)){var Y=new ar(H[B],null);N.sort(function(o,v){return Y.evaluate(o.sortParam,v.sortParam)})}else"seriesDesc"===B&&N.reverse()}util_each(N,function(_,w){var N=v.valueFormatter,B=(isSectionFragment(_)?buildSection:buildNameValue)(N?extend(extend({},o),{valueFormatter:N}):o,_,w>0?T.html:0,x);null!=B&&L.push(B)});var Z="richText"===o.renderMode?L.join(T.richText):wrapBlockHTML(L.join(""),w?_:T.html);if(w)return Z;var X=makeValueReadable(v.header,"ordinal",o.useUTC),et=getTooltipTextStyle(x,o.renderMode).nameStyle;return"richText"===o.renderMode?wrapInlineNameRichText(o,X,et)+T.richText+Z:wrapBlockHTML('<div style="'+et+";"+ag+';">'+encodeHTML(X)+"</div>"+Z,_)}function buildNameValue(o,v,_,x){var w=o.renderMode,T=v.noName,L=v.noValue,N=!v.markerType,B=v.name,H=o.useUTC,Y=v.valueFormatter||o.valueFormatter||function(o){return map(o=util_isArray(o)?o:[o],function(o,v){return makeValueReadable(o,util_isArray(et)?et[v]:et,H)})};if(!T||!L){var Z=N?"":o.markupStyleCreator.makeTooltipMarker(v.markerType,v.markerColor||"#333",w),X=T?"":makeValueReadable(B,"ordinal",H),et=v.valueType,en=L?[]:Y(v.value),er=!N||!T,ei=!N&&T,ea=getTooltipTextStyle(x,w),eo=ea.nameStyle,el=ea.valueStyle;return"richText"===w?(N?"":Z)+(T?"":wrapInlineNameRichText(o,X,eo))+(L?"":wrapInlineValueRichText(o,en,er,ei,el)):wrapBlockHTML((N?"":Z)+(T?"":wrapInlineNameHTML(X,!N,eo))+(L?"":wrapInlineValueHTML(en,er,ei,el)),_)}}function buildTooltipMarkup(o,v,_,x,w,T){if(o)return(isSectionFragment(o)?buildSection:buildNameValue)({useUTC:w,renderMode:_,orderMode:x,markupStyleCreator:v,valueFormatter:o.valueFormatter},o,0,T)}function getGap(o){return{html:am[o],richText:ay[o]}}function wrapBlockHTML(o,v){return'<div style="margin: '+v+"px 0 0;"+ag+';">'+o+'<div style="clear:both"></div></div>'}function wrapInlineNameHTML(o,v,_){return'<span style="'+_+";"+(v?"margin-left:2px":"")+'">'+encodeHTML(o)+"</span>"}function wrapInlineValueHTML(o,v,_,x){return'<span style="'+(v?"float:right;margin-left:"+(_?"10px":"20px"):"")+";"+x+'">'+map(o=util_isArray(o)?o:[o],function(o){return encodeHTML(o)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(o,v,_){return o.markupStyleCreator.wrapRichTextStyle(v,_)}function wrapInlineValueRichText(o,v,_,x,w){var T=[w];return _&&T.push({padding:[0,0,0,x?10:20],align:"right"}),o.markupStyleCreator.wrapRichTextStyle(util_isArray(v)?v.join("  "):v,T)}function retrieveVisualColorForTooltipMarker(o,v){return convertToColorString(o.getData().getItemVisual(v,"style")[o.visualDrawType])}function getPaddingFromTooltipModel(o,v){var _=o.get("padding");return null!=_?_:"richText"===v?[8,10]:10}var av=function(){function TooltipMarkupStyleCreator(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return TooltipMarkupStyleCreator.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},TooltipMarkupStyleCreator.prototype.makeTooltipMarker=function(o,v,_){var x="richText"===_?this._generateStyleName():null,w=getTooltipMarker({color:v,type:o,renderMode:_,markerId:x});return util_isString(w)?w:(this.richTextStyles[x]=w.style,w.content)},TooltipMarkupStyleCreator.prototype.wrapRichTextStyle=function(o,v){var _={};util_isArray(v)?util_each(v,function(o){return extend(_,o)}):extend(_,v);var x=this._generateStyleName();return this.richTextStyles[x]=_,"{"+x+"|"+o+"}"},TooltipMarkupStyleCreator}();function defaultSeriesFormatTooltip(o){var v,_,x,w,T=o.series,L=o.dataIndex,N=o.multipleSeries,B=T.getData(),H=B.mapDimensionsAll("defaultedTooltip"),Y=H.length,Z=T.getRawValue(L),X=util_isArray(Z),et=retrieveVisualColorForTooltipMarker(T,L);if(Y>1||X&&!Y){var en=formatTooltipArrayValue(Z,T,L,H,et);v=en.inlineValues,_=en.inlineValueTypes,x=en.blocks,w=en.inlineValues[0]}else if(Y){var er=B.getDimensionInfo(H[0]);w=v=retrieveRawValue(B,L,H[0]),_=er.type}else w=v=X?Z[0]:Z;var ei=isNameSpecified(T),ea=ei&&T.name||"",eo=B.getName(L),el=N?ea:eo;return createTooltipMarkup("section",{header:ea,noHeader:N||!ei,sortParam:w,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:et,name:el,noName:!trim(el),value:v,valueType:_})].concat(x||[])})}function formatTooltipArrayValue(o,v,_,x,w){var T=v.getData(),L=reduce(o,function(o,v,_){var x=T.getDimensionInfo(_);return o=o||x&&!1!==x.tooltip&&null!=x.displayName},!1),N=[],B=[],H=[];function setEachItem(o,v){var _=T.getDimensionInfo(v);_&&!1!==_.otherDims.tooltip&&(L?H.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:w,name:_.displayName,value:o,valueType:_.type})):(N.push(o),B.push(_.type)))}return x.length?util_each(x,function(o){setEachItem(retrieveRawValue(T,_,o),o)}):util_each(o,setEachItem),{inlineValues:N,inlineValueTypes:B,blocks:H}}var a_=makeInner();function getSelectionKey(o,v){return o.getName(v)||o.getId(v)}var ab="__universalTransitionEnabled",aS=function(o){var v;function SeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v._selectedDataIndicesMap={},v}return __extends(SeriesModel,o),SeriesModel.prototype.init=function(o,v,_){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(o,_),(a_(this).sourceManager=new af(this)).prepareSource();var x=this.getInitialData(o,_);wrapData(x,this),this.dataTask.context.data=x,a_(this).dataBeforeProcessed=x,autoSeriesName(this),this._initSelectedMapFromData(x)},SeriesModel.prototype.mergeDefaultAndTheme=function(o,v){var _=fetchLayoutMode(this),x=_?getLayoutParams(o):{},w=this.subType;ix.hasClass(w)&&(w+="Series"),merge(o,v.getTheme().get(this.subType)),merge(o,this.getDefaultOption()),defaultEmphasis(o,"label",["show"]),this.fillDataTextStyle(o.data),_&&mergeLayoutParam(o,x,_)},SeriesModel.prototype.mergeOption=function(o,v){o=merge(this.option,o,!0),this.fillDataTextStyle(o.data);var _=fetchLayoutMode(this);_&&mergeLayoutParam(this.option,o,_);var x=a_(this).sourceManager;x.dirty(),x.prepareSource();var w=this.getInitialData(o,v);wrapData(w,this),this.dataTask.dirty(),this.dataTask.context.data=w,a_(this).dataBeforeProcessed=w,autoSeriesName(this),this._initSelectedMapFromData(w)},SeriesModel.prototype.fillDataTextStyle=function(o){if(o&&!isTypedArray(o))for(var v=["show"],_=0;_<o.length;_++)o[_]&&o[_].label&&defaultEmphasis(o[_],"label",v)},SeriesModel.prototype.getInitialData=function(o,v){},SeriesModel.prototype.appendData=function(o){this.getRawData().appendData(o.data)},SeriesModel.prototype.getData=function(o){var v=getCurrentTask(this);if(!v)return a_(this).data;var _=v.context.data;return null==o?_:_.getLinkedData(o)},SeriesModel.prototype.getAllData=function(){var o=this.getData();return o&&o.getLinkedDataAll?o.getLinkedDataAll():[{data:o}]},SeriesModel.prototype.setData=function(o){var v=getCurrentTask(this);if(v){var _=v.context;_.outputData=o,v!==this.dataTask&&(_.data=o)}a_(this).data=o},SeriesModel.prototype.getEncode=function(){var o=this.get("encode",!0);if(o)return createHashMap(o)},SeriesModel.prototype.getSourceManager=function(){return a_(this).sourceManager},SeriesModel.prototype.getSource=function(){return this.getSourceManager().getSource()},SeriesModel.prototype.getRawData=function(){return a_(this).dataBeforeProcessed},SeriesModel.prototype.getColorBy=function(){return this.get("colorBy")||"series"},SeriesModel.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},SeriesModel.prototype.getBaseAxis=function(){var o=this.coordinateSystem;return o&&o.getBaseAxis&&o.getBaseAxis()},SeriesModel.prototype.formatTooltip=function(o,v,_){return defaultSeriesFormatTooltip({series:this,dataIndex:o,multipleSeries:v})},SeriesModel.prototype.isAnimationEnabled=function(){var o=this.ecModel;if(eV.node&&!(o&&o.ssr))return!1;var v=this.getShallow("animation");return v&&this.getData().count()>this.getShallow("animationThreshold")&&(v=!1),!!v},SeriesModel.prototype.restoreData=function(){this.dataTask.dirty()},SeriesModel.prototype.getColorFromPalette=function(o,v,_){var x=this.ecModel,w=iB.prototype.getColorFromPalette.call(this,o,v,_);return w||(w=x.getColorFromPalette(o,v,_)),w},SeriesModel.prototype.coordDimToDataDim=function(o){return this.getRawData().mapDimensionsAll(o)},SeriesModel.prototype.getProgressive=function(){return this.get("progressive")},SeriesModel.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},SeriesModel.prototype.select=function(o,v){this._innerSelect(this.getData(v),o)},SeriesModel.prototype.unselect=function(o,v){var _=this.option.selectedMap;if(_){var x=this.option.selectedMode,w=this.getData(v);if("series"===x||"all"===_){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var T=0;T<o.length;T++){var L=getSelectionKey(w,o[T]);_[L]=!1,this._selectedDataIndicesMap[L]=-1}}},SeriesModel.prototype.toggleSelect=function(o,v){for(var _=[],x=0;x<o.length;x++)_[0]=o[x],this.isSelected(o[x],v)?this.unselect(_,v):this.select(_,v)},SeriesModel.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var o=this._selectedDataIndicesMap,v=keys(o),_=[],x=0;x<v.length;x++){var w=o[v[x]];w>=0&&_.push(w)}return _},SeriesModel.prototype.isSelected=function(o,v){var _=this.option.selectedMap;if(!_)return!1;var x=this.getData(v);return("all"===_||_[getSelectionKey(x,o)])&&!x.getItemModel(o).get(["select","disabled"])},SeriesModel.prototype.isUniversalTransitionEnabled=function(){if(this[ab])return!0;var o=this.option.universalTransition;return!!o&&(!0===o||o&&o.enabled)},SeriesModel.prototype._innerSelect=function(o,v){var _,x,w=this.option,T=w.selectedMode,L=v.length;if(T&&L){if("series"===T)w.selectedMap="all";else if("multiple"===T){util_isObject(w.selectedMap)||(w.selectedMap={});for(var N=w.selectedMap,B=0;B<L;B++){var H=v[B],Y=getSelectionKey(o,H);N[Y]=!0,this._selectedDataIndicesMap[Y]=o.getRawIndex(H)}}else if("single"===T||!0===T){var Z=v[L-1],Y=getSelectionKey(o,Z);w.selectedMap=((_={})[Y]=!0,_),this._selectedDataIndicesMap=((x={})[Y]=o.getRawIndex(Z),x)}}},SeriesModel.prototype._initSelectedMapFromData=function(o){if(!this.option.selectedMap){var v=[];o.hasItemOption&&o.each(function(_){var x=o.getRawDataItem(_);x&&x.selected&&v.push(_)}),v.length>0&&this._innerSelect(o,v)}},SeriesModel.registerClass=function(o){return ix.registerClass(o)},SeriesModel.protoInitialize=void((v=SeriesModel.prototype).type="series.__base__",v.seriesIndex=0,v.ignoreStyleOnData=!1,v.hasSymbolVisual=!1,v.defaultSymbol="circle",v.visualStyleAccessPath="itemStyle",v.visualDrawType="fill"),SeriesModel}(ix);function autoSeriesName(o){var v=o.name;isNameSpecified(o)||(o.name=getSeriesAutoName(o)||v)}function getSeriesAutoName(o){var v=o.getRawData(),_=v.mapDimensionsAll("seriesName"),x=[];return util_each(_,function(o){var _=v.getDimensionInfo(o);_.displayName&&x.push(_.displayName)}),x.join(" ")}function dataTaskCount(o){return o.model.getRawData().count()}function dataTaskReset(o){var v=o.model;return v.setData(v.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(o,v){v.outputData&&o.end>v.outputData.count()&&v.model.getRawData().cloneShallow(v.outputData)}function wrapData(o,v){util_each(concatArray(o.CHANGABLE_METHODS,o.DOWNSAMPLE_METHODS),function(_){o.wrapMethod(_,curry(onDataChange,v))})}function onDataChange(o,v){var _=getCurrentTask(o);return _&&_.setOutputEnd((v||this).count()),v}function getCurrentTask(o){var v=(o.ecModel||{}).scheduler,_=v&&v.getPipeline(o.uid);if(_){var x=_.currentTask;if(x){var w=x.agentStubMap;w&&(x=w.get(o.uid))}return x}}mixin(aS,i3),mixin(aS,iB),mountExtend(aS,ix);var ax=function(){function ComponentView(){this.group=new nm,this.uid=getUID("viewComponent")}return ComponentView.prototype.init=function(o,v){},ComponentView.prototype.render=function(o,v,_,x){},ComponentView.prototype.dispose=function(o,v){},ComponentView.prototype.updateView=function(o,v,_,x){},ComponentView.prototype.updateLayout=function(o,v,_,x){},ComponentView.prototype.updateVisual=function(o,v,_,x){},ComponentView.prototype.toggleBlurSeries=function(o,v,_){},ComponentView.prototype.eachRendered=function(o){var v=this.group;v&&v.traverse(o)},ComponentView}();function createRenderPlanner(){var o=makeInner();return function(v){var _=o(v),x=v.pipelineContext,w=!!_.large,T=!!_.progressiveRender,L=_.large=!!(x&&x.large),N=_.progressiveRender=!!(x&&x.progressiveRender);return!!(w!==L||T!==N)&&"reset"}}enableClassExtend(ax),enableClassManagement(ax);var aw=rl.CMD,aC=[[],[],[]],aT=Math.sqrt,aM=Math.atan2;function transformPath(o,v){if(v){var _,x,w,T,L,N,B=o.data,H=o.len(),Y=aw.M,Z=aw.C,X=aw.L,et=aw.R,en=aw.A,er=aw.Q;for(w=0,T=0;w<H;){switch(_=B[w++],T=w,x=0,_){case Y:case X:x=1;break;case Z:x=3;break;case er:x=2;break;case en:var ei=v[4],ea=v[5],eo=aT(v[0]*v[0]+v[1]*v[1]),el=aT(v[2]*v[2]+v[3]*v[3]),eu=aM(-v[1]/el,v[0]/eo);B[w]*=eo,B[w++]+=ei,B[w]*=el,B[w++]+=ea,B[w++]*=eo,B[w++]*=el,B[w++]+=eu,B[w++]+=eu,w+=2,T=w;break;case et:N[0]=B[w++],N[1]=B[w++],applyTransform(N,N,v),B[T++]=N[0],B[T++]=N[1],N[0]+=B[w++],N[1]+=B[w++],applyTransform(N,N,v),B[T++]=N[0],B[T++]=N[1]}for(L=0;L<x;L++){var ec=aC[L];ec[0]=B[w++],ec[1]=B[w++],applyTransform(ec,ec,v),B[T++]=ec[0],B[T++]=ec[1]}}o.increaseVersion()}}var aP=Math.sqrt,aI=Math.sin,aD=Math.cos,aE=Math.PI;function vMag(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function vRatio(o,v){return(o[0]*v[0]+o[1]*v[1])/(vMag(o)*vMag(v))}function vAngle(o,v){return(o[0]*v[1]<o[1]*v[0]?-1:1)*Math.acos(vRatio(o,v))}function processArc(o,v,_,x,w,T,L,N,B,H,Y){var Z=B*(aE/180),X=aD(Z)*(o-_)/2+aI(Z)*(v-x)/2,et=-1*aI(Z)*(o-_)/2+aD(Z)*(v-x)/2,en=X*X/(L*L)+et*et/(N*N);en>1&&(L*=aP(en),N*=aP(en));var er=(w===T?-1:1)*aP((L*L*(N*N)-L*L*(et*et)-N*N*(X*X))/(L*L*(et*et)+N*N*(X*X)))||0,ei=er*L*et/N,ea=-(er*N)*X/L,eo=(o+_)/2+aD(Z)*ei-aI(Z)*ea,el=(v+x)/2+aI(Z)*ei+aD(Z)*ea,eu=vAngle([1,0],[(X-ei)/L,(et-ea)/N]),ec=[(X-ei)/L,(et-ea)/N],ed=[(-1*X-ei)/L,(-1*et-ea)/N],eh=vAngle(ec,ed);if(-1>=vRatio(ec,ed)&&(eh=aE),vRatio(ec,ed)>=1&&(eh=0),eh<0){var ep=Math.round(eh/aE*1e6)/1e6;eh=2*aE+ep%2*aE}Y.addData(H,eo,el,L,N,eu,eh,Z,T)}var aO=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,aA=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(o){var v,_=new rl;if(!o)return _;var x=0,w=0,T=0,L=0,N=rl.CMD,B=o.match(aO);if(!B)return _;for(var H=0;H<B.length;H++){for(var Y=B[H],Z=Y.charAt(0),X=void 0,et=Y.match(aA)||[],en=et.length,er=0;er<en;er++)et[er]=parseFloat(et[er]);for(var ei=0;ei<en;){var ea=void 0,eo=void 0,el=void 0,eu=void 0,ec=void 0,ed=void 0,eh=void 0,ep=x,ef=w,eg=void 0,em=void 0;switch(Z){case"l":x+=et[ei++],w+=et[ei++],X=N.L,_.addData(X,x,w);break;case"L":x=et[ei++],w=et[ei++],X=N.L,_.addData(X,x,w);break;case"m":x+=et[ei++],w+=et[ei++],X=N.M,_.addData(X,x,w),T=x,L=w,Z="l";break;case"M":x=et[ei++],w=et[ei++],X=N.M,_.addData(X,x,w),T=x,L=w,Z="L";break;case"h":x+=et[ei++],X=N.L,_.addData(X,x,w);break;case"H":x=et[ei++],X=N.L,_.addData(X,x,w);break;case"v":w+=et[ei++],X=N.L,_.addData(X,x,w);break;case"V":w=et[ei++],X=N.L,_.addData(X,x,w);break;case"C":X=N.C,_.addData(X,et[ei++],et[ei++],et[ei++],et[ei++],et[ei++],et[ei++]),x=et[ei-2],w=et[ei-1];break;case"c":X=N.C,_.addData(X,et[ei++]+x,et[ei++]+w,et[ei++]+x,et[ei++]+w,et[ei++]+x,et[ei++]+w),x+=et[ei-2],w+=et[ei-1];break;case"S":ea=x,eo=w,eg=_.len(),em=_.data,v===N.C&&(ea+=x-em[eg-4],eo+=w-em[eg-3]),X=N.C,ep=et[ei++],ef=et[ei++],x=et[ei++],w=et[ei++],_.addData(X,ea,eo,ep,ef,x,w);break;case"s":ea=x,eo=w,eg=_.len(),em=_.data,v===N.C&&(ea+=x-em[eg-4],eo+=w-em[eg-3]),X=N.C,ep=x+et[ei++],ef=w+et[ei++],x+=et[ei++],w+=et[ei++],_.addData(X,ea,eo,ep,ef,x,w);break;case"Q":ep=et[ei++],ef=et[ei++],x=et[ei++],w=et[ei++],X=N.Q,_.addData(X,ep,ef,x,w);break;case"q":ep=et[ei++]+x,ef=et[ei++]+w,x+=et[ei++],w+=et[ei++],X=N.Q,_.addData(X,ep,ef,x,w);break;case"T":ea=x,eo=w,eg=_.len(),em=_.data,v===N.Q&&(ea+=x-em[eg-4],eo+=w-em[eg-3]),x=et[ei++],w=et[ei++],X=N.Q,_.addData(X,ea,eo,x,w);break;case"t":ea=x,eo=w,eg=_.len(),em=_.data,v===N.Q&&(ea+=x-em[eg-4],eo+=w-em[eg-3]),x+=et[ei++],w+=et[ei++],X=N.Q,_.addData(X,ea,eo,x,w);break;case"A":el=et[ei++],eu=et[ei++],ec=et[ei++],ed=et[ei++],eh=et[ei++],processArc(ep=x,ef=w,x=et[ei++],w=et[ei++],ed,eh,el,eu,ec,X=N.A,_);break;case"a":el=et[ei++],eu=et[ei++],ec=et[ei++],ed=et[ei++],eh=et[ei++],processArc(ep=x,ef=w,x+=et[ei++],w+=et[ei++],ed,eh,el,eu,ec,X=N.A,_)}}("z"===Z||"Z"===Z)&&(X=N.Z,_.addData(X),x=T,w=L),v=X}return _.toStatic(),_}var ak=function(o){function SVGPath(){return null!==o&&o.apply(this,arguments)||this}return __extends(SVGPath,o),SVGPath.prototype.applyTransform=function(o){},SVGPath}(rv);function isPathProxy(o){return null!=o.setData}function createPathOptions(o,v){var _=createPathProxyFromString(o),x=extend({},v);return x.buildPath=function(o){if(isPathProxy(o)){o.setData(_.data);var v=o.getContext();v&&o.rebuildPath(v,1)}else{var v=o;_.rebuildPath(v,1)}},x.applyTransform=function(o){transformPath(_,o),this.dirtyShape()},x}function extendFromString(o,v){var _=createPathOptions(o,v);return function(o){function Sub(v){var x=o.call(this,v)||this;return x.applyTransform=_.applyTransform,x.buildPath=_.buildPath,x}return __extends(Sub,o),Sub}(ak)}function mergePath(o,v){for(var _=[],x=o.length,w=0;w<x;w++){var T=o[w];_.push(T.getUpdatedPathProxy(!0))}var L=new rv(v);return L.createPathProxy(),L.buildPath=function(o){if(isPathProxy(o)){o.appendPath(_);var v=o.getContext();v&&o.rebuildPath(v,1)}},L}function clonePath(o,v){v=v||{};var _=new rv;return o.shape&&_.setShape(o.shape),_.setStyle(o.style),v.bakeTransform?transformPath(_.path,o.getComputedTransform()):v.toLocal?_.setLocalTransform(o.getComputedTransform()):_.copyTransform(o),_.buildPath=o.buildPath,_.applyTransform=_.applyTransform,_.z=o.z,_.z2=o.z2,_.zlevel=o.zlevel,_}var CircleShape=function(){this.cx=0,this.cy=0,this.r=0},aL=function(o){function Circle(v){return o.call(this,v)||this}return __extends(Circle,o),Circle.prototype.getDefaultShape=function(){return new CircleShape},Circle.prototype.buildPath=function(o,v){o.moveTo(v.cx+v.r,v.cy),o.arc(v.cx,v.cy,v.r,0,2*Math.PI)},Circle}(rv);aL.prototype.type="circle";var aR=aL,EllipseShape=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},aN=function(o){function Ellipse(v){return o.call(this,v)||this}return __extends(Ellipse,o),Ellipse.prototype.getDefaultShape=function(){return new EllipseShape},Ellipse.prototype.buildPath=function(o,v){var _=v.cx,x=v.cy,w=v.rx,T=v.ry,L=.5522848*w,N=.5522848*T;o.moveTo(_-w,x),o.bezierCurveTo(_-w,x-N,_-L,x-T,_,x-T),o.bezierCurveTo(_+L,x-T,_+w,x-N,_+w,x),o.bezierCurveTo(_+w,x+N,_+L,x+T,_,x+T),o.bezierCurveTo(_-L,x+T,_-w,x+N,_-w,x),o.closePath()},Ellipse}(rv);aN.prototype.type="ellipse";var aF=aN,aV=Math.PI,aB=2*aV,az=Math.sin,aj=Math.cos,aH=Math.acos,aG=Math.atan2,aU=Math.abs,aW=Math.sqrt,aY=Math.max,aK=Math.min;function intersect(o,v,_,x,w,T,L,N){var B=_-o,H=x-v,Y=L-w,Z=N-T,X=Z*B-Y*H;if(!(X*X<1e-4))return X=(Y*(v-T)-Z*(o-w))/X,[o+X*B,v+X*H]}function computeCornerTangents(o,v,_,x,w,T,L){var N=o-_,B=v-x,H=(L?T:-T)/aW(N*N+B*B),Y=H*B,Z=-H*N,X=o+Y,et=v+Z,en=_+Y,er=x+Z,ei=(X+en)/2,ea=(et+er)/2,eo=en-X,el=er-et,eu=eo*eo+el*el,ec=w-T,ed=X*er-en*et,eh=(el<0?-1:1)*aW(aY(0,ec*ec*eu-ed*ed)),ep=(ed*el-eo*eh)/eu,ef=(-ed*eo-el*eh)/eu,eg=(ed*el+eo*eh)/eu,em=(-ed*eo+el*eh)/eu,ey=ep-ei,ev=ef-ea,e_=eg-ei,eb=em-ea;return ey*ey+ev*ev>e_*e_+eb*eb&&(ep=eg,ef=em),{cx:ep,cy:ef,x0:-Y,y0:-Z,x1:ep*(w/ec-1),y1:ef*(w/ec-1)}}function normalizeCornerRadius(o){var v;if(util_isArray(o)){var _=o.length;if(!_)return o;v=1===_?[o[0],o[0],0,0]:2===_?[o[0],o[0],o[1],o[1]]:3===_?o.concat(o[2]):o}else v=[o,o,o,o];return v}function roundSector_buildPath(o,v){var _,x=aY(v.r,0),w=aY(v.r0||0,0),T=x>0,L=w>0;if(T||L){if(T||(x=w,w=0),w>x){var N=x;x=w,w=N}var B=v.startAngle,H=v.endAngle;if(!(isNaN(B)||isNaN(H))){var Y=v.cx,Z=v.cy,X=!!v.clockwise,et=aU(H-B),en=et>aB&&et%aB;if(en>1e-4&&(et=en),x>1e-4){if(et>aB-1e-4)o.moveTo(Y+x*aj(B),Z+x*az(B)),o.arc(Y,Z,x,B,H,!X),w>1e-4&&(o.moveTo(Y+w*aj(H),Z+w*az(H)),o.arc(Y,Z,w,H,B,X));else{var er=void 0,ei=void 0,ea=void 0,eo=void 0,el=void 0,eu=void 0,ec=void 0,ed=void 0,eh=void 0,ep=void 0,ef=void 0,eg=void 0,em=void 0,ey=void 0,ev=void 0,e_=void 0,eb=x*aj(B),eS=x*az(B),ex=w*aj(H),ew=w*az(H),eC=et>1e-4;if(eC){var eT=v.cornerRadius;eT&&(er=(_=normalizeCornerRadius(eT))[0],ei=_[1],ea=_[2],eo=_[3]);var eM=aU(x-w)/2;if(el=aK(eM,ea),eu=aK(eM,eo),ec=aK(eM,er),ed=aK(eM,ei),ef=eh=aY(el,eu),eg=ep=aY(ec,ed),(eh>1e-4||ep>1e-4)&&(em=x*aj(H),ey=x*az(H),ev=w*aj(B),e_=w*az(B),et<aV)){var eP=intersect(eb,eS,ev,e_,em,ey,ex,ew);if(eP){var eI=eb-eP[0],eD=eS-eP[1],eE=em-eP[0],eO=ey-eP[1],eA=1/az(aH((eI*eE+eD*eO)/(aW(eI*eI+eD*eD)*aW(eE*eE+eO*eO)))/2),ek=aW(eP[0]*eP[0]+eP[1]*eP[1]);ef=aK(eh,(x-ek)/(eA+1)),eg=aK(ep,(w-ek)/(eA-1))}}}if(eC){if(ef>1e-4){var eL=aK(ea,ef),eR=aK(eo,ef),eN=computeCornerTangents(ev,e_,eb,eS,x,eL,X),eF=computeCornerTangents(em,ey,ex,ew,x,eR,X);o.moveTo(Y+eN.cx+eN.x0,Z+eN.cy+eN.y0),ef<eh&&eL===eR?o.arc(Y+eN.cx,Z+eN.cy,ef,aG(eN.y0,eN.x0),aG(eF.y0,eF.x0),!X):(eL>0&&o.arc(Y+eN.cx,Z+eN.cy,eL,aG(eN.y0,eN.x0),aG(eN.y1,eN.x1),!X),o.arc(Y,Z,x,aG(eN.cy+eN.y1,eN.cx+eN.x1),aG(eF.cy+eF.y1,eF.cx+eF.x1),!X),eR>0&&o.arc(Y+eF.cx,Z+eF.cy,eR,aG(eF.y1,eF.x1),aG(eF.y0,eF.x0),!X))}else o.moveTo(Y+eb,Z+eS),o.arc(Y,Z,x,B,H,!X)}else o.moveTo(Y+eb,Z+eS);if(w>1e-4&&eC){if(eg>1e-4){var eL=aK(er,eg),eR=aK(ei,eg),eN=computeCornerTangents(ex,ew,em,ey,w,-eR,X),eF=computeCornerTangents(eb,eS,ev,e_,w,-eL,X);o.lineTo(Y+eN.cx+eN.x0,Z+eN.cy+eN.y0),eg<ep&&eL===eR?o.arc(Y+eN.cx,Z+eN.cy,eg,aG(eN.y0,eN.x0),aG(eF.y0,eF.x0),!X):(eR>0&&o.arc(Y+eN.cx,Z+eN.cy,eR,aG(eN.y0,eN.x0),aG(eN.y1,eN.x1),!X),o.arc(Y,Z,w,aG(eN.cy+eN.y1,eN.cx+eN.x1),aG(eF.cy+eF.y1,eF.cx+eF.x1),X),eL>0&&o.arc(Y+eF.cx,Z+eF.cy,eL,aG(eF.y1,eF.x1),aG(eF.y0,eF.x0),!X))}else o.lineTo(Y+ex,Z+ew),o.arc(Y,Z,w,H,B,X)}else o.lineTo(Y+ex,Z+ew)}}else o.moveTo(Y,Z);o.closePath()}}}var SectorShape=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},aZ=function(o){function Sector(v){return o.call(this,v)||this}return __extends(Sector,o),Sector.prototype.getDefaultShape=function(){return new SectorShape},Sector.prototype.buildPath=function(o,v){roundSector_buildPath(o,v)},Sector.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},Sector}(rv);aZ.prototype.type="sector";var aq=aZ,RingShape=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},aX=function(o){function Ring(v){return o.call(this,v)||this}return __extends(Ring,o),Ring.prototype.getDefaultShape=function(){return new RingShape},Ring.prototype.buildPath=function(o,v){var _=v.cx,x=v.cy,w=2*Math.PI;o.moveTo(_+v.r,x),o.arc(_,x,v.r,0,w,!1),o.moveTo(_+v.r0,x),o.arc(_,x,v.r0,0,w,!0)},Ring}(rv);aX.prototype.type="ring";var a$=aX;function smoothBezier(o,v,_,x){var w,T,L,N,B=[],H=[],Y=[],Z=[];if(x){L=[1/0,1/0],N=[-1/0,-1/0];for(var X=0,et=o.length;X<et;X++)vector_min(L,L,o[X]),vector_max(N,N,o[X]);vector_min(L,L,x[0]),vector_max(N,N,x[1])}for(var X=0,et=o.length;X<et;X++){var en=o[X];if(_)w=o[X?X-1:et-1],T=o[(X+1)%et];else{if(0===X||X===et-1){B.push(vector_clone(o[X]));continue}w=o[X-1],T=o[X+1]}sub(H,T,w),scale(H,H,v);var er=distance(en,w),ei=distance(en,T),ea=er+ei;0!==ea&&(er/=ea,ei/=ea),scale(Y,H,-er),scale(Z,H,ei);var eo=add([],en,Y),el=add([],en,Z);x&&(vector_max(eo,eo,L),vector_min(eo,eo,N),vector_max(el,el,L),vector_min(el,el,N)),B.push(eo),B.push(el)}return _&&B.push(B.shift()),B}function poly_buildPath(o,v,_){var x=v.smooth,w=v.points;if(w&&w.length>=2){if(x){var T=smoothBezier(w,x,_,v.smoothConstraint);o.moveTo(w[0][0],w[0][1]);for(var L=w.length,N=0;N<(_?L:L-1);N++){var B=T[2*N],H=T[2*N+1],Y=w[(N+1)%L];o.bezierCurveTo(B[0],B[1],H[0],H[1],Y[0],Y[1])}}else{o.moveTo(w[0][0],w[0][1]);for(var N=1,Z=w.length;N<Z;N++)o.lineTo(w[N][0],w[N][1])}_&&o.closePath()}}var PolygonShape=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},aQ=function(o){function Polygon(v){return o.call(this,v)||this}return __extends(Polygon,o),Polygon.prototype.getDefaultShape=function(){return new PolygonShape},Polygon.prototype.buildPath=function(o,v){poly_buildPath(o,v,!0)},Polygon}(rv);aQ.prototype.type="polygon";var aJ=aQ,PolylineShape=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},a0=function(o){function Polyline(v){return o.call(this,v)||this}return __extends(Polyline,o),Polyline.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Polyline.prototype.getDefaultShape=function(){return new PolylineShape},Polyline.prototype.buildPath=function(o,v){poly_buildPath(o,v,!1)},Polyline}(rv);a0.prototype.type="polyline";var a1=a0,a2={},LineShape=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},a5=function(o){function Line(v){return o.call(this,v)||this}return __extends(Line,o),Line.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Line.prototype.getDefaultShape=function(){return new LineShape},Line.prototype.buildPath=function(o,v){if(this.subPixelOptimize){var _,x,w,T,L=subPixelOptimizeLine(a2,v,this.style);_=L.x1,x=L.y1,w=L.x2,T=L.y2}else _=v.x1,x=v.y1,w=v.x2,T=v.y2;var N=v.percent;0!==N&&(o.moveTo(_,x),N<1&&(w=_*(1-N)+w*N,T=x*(1-N)+T*N),o.lineTo(w,T))},Line.prototype.pointAt=function(o){var v=this.shape;return[v.x1*(1-o)+v.x2*o,v.y1*(1-o)+v.y2*o]},Line}(rv);a5.prototype.type="line";var a3=a5,a4=[],BezierCurveShape=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function someVectorAt(o,v,_){var x=o.cpx2,w=o.cpy2;return null!=x||null!=w?[(_?cubicDerivativeAt:curve_cubicAt)(o.x1,o.cpx1,o.cpx2,o.x2,v),(_?cubicDerivativeAt:curve_cubicAt)(o.y1,o.cpy1,o.cpy2,o.y2,v)]:[(_?curve_quadraticDerivativeAt:curve_quadraticAt)(o.x1,o.cpx1,o.x2,v),(_?curve_quadraticDerivativeAt:curve_quadraticAt)(o.y1,o.cpy1,o.y2,v)]}var a7=function(o){function BezierCurve(v){return o.call(this,v)||this}return __extends(BezierCurve,o),BezierCurve.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},BezierCurve.prototype.getDefaultShape=function(){return new BezierCurveShape},BezierCurve.prototype.buildPath=function(o,v){var _=v.x1,x=v.y1,w=v.x2,T=v.y2,L=v.cpx1,N=v.cpy1,B=v.cpx2,H=v.cpy2,Y=v.percent;0!==Y&&(o.moveTo(_,x),null==B||null==H?(Y<1&&(curve_quadraticSubdivide(_,L,w,Y,a4),L=a4[1],w=a4[2],curve_quadraticSubdivide(x,N,T,Y,a4),N=a4[1],T=a4[2]),o.quadraticCurveTo(L,N,w,T)):(Y<1&&(cubicSubdivide(_,L,B,w,Y,a4),L=a4[1],B=a4[2],w=a4[3],cubicSubdivide(x,N,H,T,Y,a4),N=a4[1],H=a4[2],T=a4[3]),o.bezierCurveTo(L,N,B,H,w,T)))},BezierCurve.prototype.pointAt=function(o){return someVectorAt(this.shape,o,!1)},BezierCurve.prototype.tangentAt=function(o){var v=someVectorAt(this.shape,o,!0);return normalize(v,v)},BezierCurve}(rv);a7.prototype.type="bezier-curve";var a6=a7,ArcShape=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},a9=function(o){function Arc(v){return o.call(this,v)||this}return __extends(Arc,o),Arc.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Arc.prototype.getDefaultShape=function(){return new ArcShape},Arc.prototype.buildPath=function(o,v){var _=v.cx,x=v.cy,w=Math.max(v.r,0),T=v.startAngle,L=v.endAngle,N=v.clockwise,B=Math.cos(T),H=Math.sin(T);o.moveTo(B*w+_,H*w+x),o.arc(_,x,w,T,L,!N)},Arc}(rv);a9.prototype.type="arc";var a8=a9,ot=function(o){function CompoundPath(){var v=null!==o&&o.apply(this,arguments)||this;return v.type="compound",v}return __extends(CompoundPath,o),CompoundPath.prototype._updatePathDirty=function(){for(var o=this.shape.paths,v=this.shapeChanged(),_=0;_<o.length;_++)v=v||o[_].shapeChanged();v&&this.dirtyShape()},CompoundPath.prototype.beforeBrush=function(){this._updatePathDirty();for(var o=this.shape.paths||[],v=this.getGlobalScale(),_=0;_<o.length;_++)o[_].path||o[_].createPathProxy(),o[_].path.setScale(v[0],v[1],o[_].segmentIgnoreThreshold)},CompoundPath.prototype.buildPath=function(o,v){for(var _=v.paths||[],x=0;x<_.length;x++)_[x].buildPath(o,_[x].shape,!0)},CompoundPath.prototype.afterBrush=function(){for(var o=this.shape.paths||[],v=0;v<o.length;v++)o[v].pathUpdated()},CompoundPath.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),rv.prototype.getBoundingRect.call(this)},CompoundPath}(rv),on=function(){function Gradient(o){this.colorStops=o||[]}return Gradient.prototype.addColorStop=function(o,v){this.colorStops.push({offset:o,color:v})},Gradient}(),or=function(o){function LinearGradient(v,_,x,w,T,L){var N=o.call(this,T)||this;return N.x=null==v?0:v,N.y=null==_?0:_,N.x2=null==x?1:x,N.y2=null==w?0:w,N.type="linear",N.global=L||!1,N}return __extends(LinearGradient,o),LinearGradient}(on),oi=function(o){function RadialGradient(v,_,x,w,T){var L=o.call(this,w)||this;return L.x=null==v?.5:v,L.y=null==_?.5:_,L.r=null==x?.5:x,L.type="radial",L.global=T||!1,L}return __extends(RadialGradient,o),RadialGradient}(on),oa=[0,0],oo=[0,0],os=new th,ol=new th,ou=function(){function OrientedBoundingRect(o,v){this._corners=[],this._axes=[],this._origin=[0,0];for(var _=0;_<4;_++)this._corners[_]=new th;for(var _=0;_<2;_++)this._axes[_]=new th;o&&this.fromBoundingRect(o,v)}return OrientedBoundingRect.prototype.fromBoundingRect=function(o,v){var _=this._corners,x=this._axes,w=o.x,T=o.y,L=w+o.width,N=T+o.height;if(_[0].set(w,T),_[1].set(L,T),_[2].set(L,N),_[3].set(w,N),v)for(var B=0;B<4;B++)_[B].transform(v);th.sub(x[0],_[1],_[0]),th.sub(x[1],_[3],_[0]),x[0].normalize(),x[1].normalize();for(var B=0;B<2;B++)this._origin[B]=x[B].dot(_[0])},OrientedBoundingRect.prototype.intersect=function(o,v){var _=!0,x=!v;return os.set(1/0,1/0),ol.set(0,0),!this._intersectCheckOneSide(this,o,os,ol,x,1)&&(_=!1,x)||!this._intersectCheckOneSide(o,this,os,ol,x,-1)&&(_=!1,x)||x||th.copy(v,_?os:ol),_},OrientedBoundingRect.prototype._intersectCheckOneSide=function(o,v,_,x,w,T){for(var L=!0,N=0;N<2;N++){var B=this._axes[N];if(this._getProjMinMaxOnAxis(N,o._corners,oa),this._getProjMinMaxOnAxis(N,v._corners,oo),oa[1]<oo[0]||oa[0]>oo[1]){if(L=!1,w)return L;var H=Math.abs(oo[0]-oa[1]),Y=Math.abs(oa[0]-oo[1]);Math.min(H,Y)>x.len()&&(H<Y?th.scale(x,B,-H*T):th.scale(x,B,Y*T))}else if(_){var H=Math.abs(oo[0]-oa[1]),Y=Math.abs(oa[0]-oo[1]);Math.min(H,Y)<_.len()&&(H<Y?th.scale(_,B,H*T):th.scale(_,B,-Y*T))}}return L},OrientedBoundingRect.prototype._getProjMinMaxOnAxis=function(o,v,_){for(var x=this._axes[o],w=this._origin,T=v[0].dot(x)+w[o],L=T,N=T,B=1;B<v.length;B++){var H=v[B].dot(x)+w[o];L=Math.min(H,L),N=Math.max(H,N)}_[0]=L,_[1]=N},OrientedBoundingRect}(),oc=[],od=function(o){function IncrementalDisplayable(){var v=null!==o&&o.apply(this,arguments)||this;return v.notClear=!0,v.incremental=!0,v._displayables=[],v._temporaryDisplayables=[],v._cursor=0,v}return __extends(IncrementalDisplayable,o),IncrementalDisplayable.prototype.traverse=function(o,v){o.call(v,this)},IncrementalDisplayable.prototype.useStyle=function(){this.style={}},IncrementalDisplayable.prototype.getCursor=function(){return this._cursor},IncrementalDisplayable.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},IncrementalDisplayable.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},IncrementalDisplayable.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},IncrementalDisplayable.prototype.addDisplayable=function(o,v){v?this._temporaryDisplayables.push(o):this._displayables.push(o),this.markRedraw()},IncrementalDisplayable.prototype.addDisplayables=function(o,v){v=v||!1;for(var _=0;_<o.length;_++)this.addDisplayable(o[_],v)},IncrementalDisplayable.prototype.getDisplayables=function(){return this._displayables},IncrementalDisplayable.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},IncrementalDisplayable.prototype.eachPendingDisplayable=function(o){for(var v=this._cursor;v<this._displayables.length;v++)o&&o(this._displayables[v]);for(var v=0;v<this._temporaryDisplayables.length;v++)o&&o(this._temporaryDisplayables[v])},IncrementalDisplayable.prototype.update=function(){this.updateTransform();for(var o=this._cursor;o<this._displayables.length;o++){var v=this._displayables[o];v.parent=this,v.update(),v.parent=null}for(var o=0;o<this._temporaryDisplayables.length;o++){var v=this._temporaryDisplayables[o];v.parent=this,v.update(),v.parent=null}},IncrementalDisplayable.prototype.getBoundingRect=function(){if(!this._rect){for(var o=new tS(1/0,1/0,-1/0,-1/0),v=0;v<this._displayables.length;v++){var _=this._displayables[v],x=_.getBoundingRect().clone();_.needLocalTransform()&&x.applyTransform(_.getLocalTransform(oc)),o.union(x)}this._rect=o}return this._rect},IncrementalDisplayable.prototype.contain=function(o,v){var _=this.transformCoordToLocal(o,v);if(this.getBoundingRect().contain(_[0],_[1])){for(var x=0;x<this._displayables.length;x++)if(this._displayables[x].contain(o,v))return!0}return!1},IncrementalDisplayable}(nz),oh=Math.max,op=Math.min,of={};function extendShape(o){return rv.extend(o)}var og=extendFromString;function extendPath(o,v){return og(o,v)}function registerShape(o,v){of[o]=v}function getShapeClass(o){if(of.hasOwnProperty(o))return of[o]}function makePath(o,v,_,x){var w=new ak(createPathOptions(o,v));return _&&("center"===x&&(_=centerGraphic(_,w.getBoundingRect())),resizePath(w,_)),w}function makeImage(o,v,_){var x=new rC({style:{image:o,x:v.x,y:v.y,width:v.width,height:v.height},onload:function(o){if("center"===_){var w={width:o.width,height:o.height};x.setStyle(centerGraphic(v,w))}}});return x}function centerGraphic(o,v){var _,x=v.width/v.height,w=o.height*x;return _=w<=o.width?o.height:(w=o.width)/x,{x:o.x+o.width/2-w/2,y:o.y+o.height/2-_/2,width:w,height:_}}var om=mergePath;function resizePath(o,v){if(o.applyTransform){var _=o.getBoundingRect().calculateTransform(v);o.applyTransform(_)}}function graphic_subPixelOptimizeLine(o,v){return subPixelOptimizeLine(o,o,{lineWidth:v}),o}function graphic_subPixelOptimizeRect(o){return subPixelOptimizeRect(o.shape,o.shape,o.style),o}var oy=subPixelOptimize;function getTransform(o,v){for(var _=identity([]);o&&o!==v;)matrix_mul(_,o.getLocalTransform(),_),o=o.parent;return _}function graphic_applyTransform(o,v,_){return v&&!isArrayLike(v)&&(v=no.getLocalTransform(v)),_&&(v=matrix_invert([],v)),applyTransform([],o,v)}function transformDirection(o,v,_){var x=0===v[4]||0===v[5]||0===v[0]?1:Math.abs(2*v[4]/v[0]),w=0===v[4]||0===v[5]||0===v[2]?1:Math.abs(2*v[4]/v[2]),T=["left"===o?-x:"right"===o?x:0,"top"===o?-w:"bottom"===o?w:0];return Math.abs((T=graphic_applyTransform(T,v,_))[0])>Math.abs(T[1])?T[0]>0?"right":"left":T[1]>0?"bottom":"top"}function isPath(o){return null!=o.shape}function groupTransition(o,v,_){if(o&&v){var x,w=(x={},o.traverse(function(o){!o.isGroup&&o.anid&&(x[o.anid]=o)}),x);v.traverse(function(o){if(!o.isGroup&&o.anid){var v=w[o.anid];if(v){var x=getAnimatableProps(o);o.attr(getAnimatableProps(v)),updateProps(o,x,_,rN(o).dataIndex)}}})}function getAnimatableProps(o){var v={x:o.x,y:o.y,rotation:o.rotation};return isPath(o)&&(v.shape=extend({},o.shape)),v}}function clipPointsByRect(o,v){return map(o,function(o){var _=o[0];_=op(_=oh(_,v.x),v.x+v.width);var x=o[1];return[_,x=op(x=oh(x,v.y),v.y+v.height)]})}function clipRectByRect(o,v){var _=oh(o.x,v.x),x=op(o.x+o.width,v.x+v.width),w=oh(o.y,v.y),T=op(o.y+o.height,v.y+v.height);if(x>=_&&T>=w)return{x:_,y:w,width:x-_,height:T-w}}function createIcon(o,v,_){var x=extend({rectHover:!0},v),w=x.style={strokeNoScale:!0};if(_=_||{x:-1,y:-1,width:2,height:2},o)return 0===o.indexOf("image://")?(w.image=o.slice(8),util_defaults(w,_),new rC(x)):makePath(o.replace("path://",""),x,_,"center")}function linePolygonIntersect(o,v,_,x,w){for(var T=0,L=w[w.length-1];T<w.length;T++){var N=w[T];if(lineLineIntersect(o,v,_,x,N[0],N[1],L[0],L[1]))return!0;L=N}}function lineLineIntersect(o,v,_,x,w,T,L,N){var B=_-o,H=x-v,Y=L-w,Z=N-T,X=Y*H-B*Z;if(nearZero(X))return!1;var et=o-w,en=v-T,er=(et*H-B*en)/X;if(er<0||er>1)return!1;var ei=(et*Z-Y*en)/X;return!(ei<0)&&!(ei>1)}function nearZero(o){return o<=1e-6&&o>=-.000001}function setTooltipConfig(o){var v=o.itemTooltipOption,_=o.componentModel,x=o.itemName,w=util_isString(v)?{formatter:v}:v,T=_.mainType,L=_.componentIndex,N={componentType:T,name:x,$vars:["name"]};N[T+"Index"]=L;var B=o.formatterParamsExtra;B&&util_each(keys(B),function(o){hasOwn(N,o)||(N[o]=B[o],N.$vars.push(o))});var H=rN(o.el);H.componentMainType=T,H.componentIndex=L,H.tooltipConfig={name:x,option:util_defaults({content:x,formatterParams:N},w)}}function traverseElement(o,v){var _;o.isGroup&&(_=v(o)),_||o.traverse(v)}function traverseElements(o,v){if(o){if(util_isArray(o))for(var _=0;_<o.length;_++)traverseElement(o[_],v);else traverseElement(o,v)}}of.circle=aR,of.ellipse=aF,of.sector=aq,of.ring=a$,of.polygon=aJ,of.polyline=a1,of.rect=rI,of.line=a3,of.bezierCurve=a6,of.arc=a8;var ov=makeInner(),o_=createRenderPlanner(),ob=function(){function ChartView(){this.group=new nm,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return ChartView.prototype.init=function(o,v){},ChartView.prototype.render=function(o,v,_,x){},ChartView.prototype.highlight=function(o,v,_,x){var w=o.getData(x&&x.dataType);w&&toggleHighlight(w,x,"emphasis")},ChartView.prototype.downplay=function(o,v,_,x){var w=o.getData(x&&x.dataType);w&&toggleHighlight(w,x,"normal")},ChartView.prototype.remove=function(o,v){this.group.removeAll()},ChartView.prototype.dispose=function(o,v){},ChartView.prototype.updateView=function(o,v,_,x){this.render(o,v,_,x)},ChartView.prototype.updateLayout=function(o,v,_,x){this.render(o,v,_,x)},ChartView.prototype.updateVisual=function(o,v,_,x){this.render(o,v,_,x)},ChartView.prototype.eachRendered=function(o){traverseElements(this.group,o)},ChartView.markUpdateMethod=function(o,v){ov(o).updateMethod=v},ChartView.protoInitialize=void(ChartView.prototype.type="chart"),ChartView}();function elSetState(o,v,_){o&&isHighDownDispatcher(o)&&("emphasis"===v?enterEmphasis:leaveEmphasis)(o,_)}function toggleHighlight(o,v,_){var x=queryDataIndex(o,v),w=v&&null!=v.highlightKey?getHighlightDigit(v.highlightKey):null;null!=x?util_each(normalizeToArray(x),function(v){elSetState(o.getItemGraphicEl(v),_,w)}):o.eachItemGraphicEl(function(o){elSetState(o,_,w)})}function renderTaskPlan(o){return o_(o.model)}function renderTaskReset(o){var v=o.model,_=o.ecModel,x=o.api,w=o.payload,T=v.pipelineContext.progressiveRender,L=o.view,N=w&&ov(w).updateMethod,B=T?"incrementalPrepareRender":N&&L[N]?N:"render";return"render"!==B&&L[B](v,_,x,w),oS[B]}enableClassExtend(ob,["dispose"]),enableClassManagement(ob);var oS={incrementalPrepareRender:{progress:function(o,v){v.view.incrementalRender(o,v.model,v.ecModel,v.api,v.payload)}},render:{forceFirstProgress:!0,progress:function(o,v){v.view.render(v.model,v.ecModel,v.api,v.payload)}}},ox="\x00__throttleOriginMethod",ow="\x00__throttleRate",oC="\x00__throttleType";function throttle(o,v,_){var x,w,T,L,N,B=0,H=0,Y=null;function exec(){H=new Date().getTime(),Y=null,o.apply(T,L||[])}v=v||0;var cb=function(){for(var o=[],Z=0;Z<arguments.length;Z++)o[Z]=arguments[Z];x=new Date().getTime(),T=this,L=o;var X=N||v,et=N||_;N=null,w=x-(et?B:H)-X,clearTimeout(Y),et?Y=setTimeout(exec,X):w>=0?exec():Y=setTimeout(exec,-w),B=x};return cb.clear=function(){Y&&(clearTimeout(Y),Y=null)},cb.debounceNextCall=function(o){N=o},cb}function createOrUpdate(o,v,_,x){var w=o[v];if(w){var T=w[ox]||w,L=w[oC];if(w[ow]!==_||L!==x){if(null==_||!x)return o[v]=T;(w=o[v]=throttle(T,_,"debounce"===x))[ox]=T,w[oC]=x,w[ow]=_}return w}}function clear(o,v){var _=o[v];_&&_[ox]&&(_.clear&&_.clear(),o[v]=_[ox])}var oT=makeInner(),oM={itemStyle:makeStyleMapper(ie,!0),lineStyle:makeStyleMapper(r6,!0)},oP={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(o,v){return o.visualStyleMapper||oM[v]||(console.warn("Unknown style type '"+v+"'."),oM.itemStyle)}function getDefaultColorKey(o,v){return o.visualDrawType||oP[v]||(console.warn("Unknown style type '"+v+"'."),"fill")}var oI=new ii,oD=Math.PI;function defaultLoading(o,v){util_defaults(v=v||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var _,x=new nm,w=new rI({style:{fill:v.maskColor},zlevel:v.zlevel,z:1e4});x.add(w);var T=new rR({style:{text:v.text,fill:v.textColor,fontSize:v.fontSize,fontWeight:v.fontWeight,fontStyle:v.fontStyle,fontFamily:v.fontFamily},zlevel:v.zlevel,z:10001}),L=new rI({style:{fill:"none"},textContent:T,textConfig:{position:"right",distance:10},zlevel:v.zlevel,z:10001});return x.add(L),v.showSpinner&&((_=new a8({shape:{startAngle:-oD/2,endAngle:-oD/2+.1,r:v.spinnerRadius},style:{stroke:v.color,lineCap:"round",lineWidth:v.lineWidth},zlevel:v.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*oD/2}).start("circularInOut"),_.animateShape(!0).when(1e3,{startAngle:3*oD/2}).delay(300).start("circularInOut"),x.add(_)),x.resize=function(){var x=T.getBoundingRect().width,N=v.showSpinner?v.spinnerRadius:0,B=(o.getWidth()-2*N-(v.showSpinner&&x?10:0)-x)/2-(v.showSpinner&&x?0:5+x/2)+(v.showSpinner?0:x/2)+(x?0:N),H=o.getHeight()/2;v.showSpinner&&_.setShape({cx:B,cy:H}),L.setShape({x:B-N,y:H-N,width:2*N,height:2*N}),w.setShape({x:0,y:0,width:o.getWidth(),height:o.getHeight()})},x.resize(),x}var oE=function(){function Scheduler(o,v,_,x){this._stageTaskMap=createHashMap(),this.ecInstance=o,this.api=v,_=this._dataProcessorHandlers=_.slice(),x=this._visualHandlers=x.slice(),this._allHandlers=_.concat(x)}return Scheduler.prototype.restoreData=function(o,v){o.restoreData(v),this._stageTaskMap.each(function(o){var v=o.overallTask;v&&v.dirty()})},Scheduler.prototype.getPerformArgs=function(o,v){if(o.__pipeline){var _=this._pipelineMap.get(o.__pipeline.id),x=_.context,w=!v&&_.progressiveEnabled&&(!x||x.progressiveRender)&&o.__idxInPipeline>_.blockIndex?_.step:null,T=x&&x.modDataCount;return{step:w,modBy:null!=T?Math.ceil(T/w):null,modDataCount:T}}},Scheduler.prototype.getPipeline=function(o){return this._pipelineMap.get(o)},Scheduler.prototype.updateStreamModes=function(o,v){var _=this._pipelineMap.get(o.uid),x=o.getData().count(),w=_.progressiveEnabled&&v.incrementalPrepareRender&&x>=_.threshold,T=o.get("large")&&x>=o.get("largeThreshold"),L="mod"===o.get("progressiveChunkMode")?x:null;o.pipelineContext=_.context={progressiveRender:w,modDataCount:L,large:T}},Scheduler.prototype.restorePipelines=function(o){var v=this,_=v._pipelineMap=createHashMap();o.eachSeries(function(o){var x=o.getProgressive(),w=o.uid;_.set(w,{id:w,head:null,tail:null,threshold:o.getProgressiveThreshold(),progressiveEnabled:x&&!(o.preventIncremental&&o.preventIncremental()),blockIndex:-1,step:Math.round(x||700),count:0}),v._pipe(o,o.dataTask)})},Scheduler.prototype.prepareStageTasks=function(){var o=this._stageTaskMap,v=this.api.getModel(),_=this.api;util_each(this._allHandlers,function(x){var w=o.get(x.uid)||o.set(x.uid,{});assert(!(x.reset&&x.overallReset),""),x.reset&&this._createSeriesStageTask(x,w,v,_),x.overallReset&&this._createOverallStageTask(x,w,v,_)},this)},Scheduler.prototype.prepareView=function(o,v,_,x){var w=o.renderTask,T=w.context;T.model=v,T.ecModel=_,T.api=x,w.__block=!o.incrementalPrepareRender,this._pipe(v,w)},Scheduler.prototype.performDataProcessorTasks=function(o,v){this._performStageTasks(this._dataProcessorHandlers,o,v,{block:!0})},Scheduler.prototype.performVisualTasks=function(o,v,_){this._performStageTasks(this._visualHandlers,o,v,_)},Scheduler.prototype._performStageTasks=function(o,v,_,x){x=x||{};var w=!1,T=this;function needSetDirty(o,v){return o.setDirty&&(!o.dirtyMap||o.dirtyMap.get(v.__pipeline.id))}util_each(o,function(o,L){if(!x.visualType||x.visualType===o.visualType){var N=T._stageTaskMap.get(o.uid),B=N.seriesTaskMap,H=N.overallTask;if(H){var Y,Z=H.agentStubMap;Z.each(function(o){needSetDirty(x,o)&&(o.dirty(),Y=!0)}),Y&&H.dirty(),T.updatePayload(H,_);var X=T.getPerformArgs(H,x.block);Z.each(function(o){o.perform(X)}),H.perform(X)&&(w=!0)}else B&&B.each(function(L,N){needSetDirty(x,L)&&L.dirty();var B=T.getPerformArgs(L,x.block);B.skip=!o.performRawSeries&&v.isSeriesFiltered(L.context.model),T.updatePayload(L,_),L.perform(B)&&(w=!0)})}}),this.unfinished=w||this.unfinished},Scheduler.prototype.performSeriesTasks=function(o){var v;o.eachSeries(function(o){v=o.dataTask.perform()||v}),this.unfinished=v||this.unfinished},Scheduler.prototype.plan=function(){this._pipelineMap.each(function(o){var v=o.tail;do{if(v.__block){o.blockIndex=v.__idxInPipeline;break}v=v.getUpstream()}while(v)})},Scheduler.prototype.updatePayload=function(o,v){"remain"!==v&&(o.context.payload=v)},Scheduler.prototype._createSeriesStageTask=function(o,v,_,x){var w=this,T=v.seriesTaskMap,L=v.seriesTaskMap=createHashMap(),N=o.seriesType,B=o.getTargetSeries;function create(v){var N=v.uid,B=L.set(N,T&&T.get(N)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));B.context={model:v,ecModel:_,api:x,useClearVisual:o.isVisual&&!o.isLayout,plan:o.plan,reset:o.reset,scheduler:w},w._pipe(v,B)}o.createOnAllSeries?_.eachRawSeries(create):N?_.eachRawSeriesByType(N,create):B&&B(_,x).each(create)},Scheduler.prototype._createOverallStageTask=function(o,v,_,x){var w=this,T=v.overallTask=v.overallTask||createTask({reset:overallTaskReset});T.context={ecModel:_,api:x,overallReset:o.overallReset,scheduler:w};var L=T.agentStubMap,N=T.agentStubMap=createHashMap(),B=o.seriesType,H=o.getTargetSeries,Y=!0,Z=!1;function createStub(o){var v=o.uid,_=N.set(v,L&&L.get(v)||(Z=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));_.context={model:o,overallProgress:Y},_.agent=T,_.__block=Y,w._pipe(o,_)}assert(!o.createOnAllSeries,""),B?_.eachRawSeriesByType(B,createStub):H?H(_,x).each(createStub):(Y=!1,util_each(_.getSeries(),createStub)),Z&&T.dirty()},Scheduler.prototype._pipe=function(o,v){var _=o.uid,x=this._pipelineMap.get(_);x.head||(x.head=v),x.tail&&x.tail.pipe(v),x.tail=v,v.__idxInPipeline=x.count++,v.__pipeline=x},Scheduler.wrapStageHandler=function(o,v){return isFunction(o)&&(o={overallReset:o,seriesType:detectSeriseType(o)}),o.uid=getUID("stageHandler"),v&&(o.visualType=v),o},Scheduler}();function overallTaskReset(o){o.overallReset(o.ecModel,o.api,o.payload)}function stubReset(o){return o.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(o){return o.plan?o.plan(o.model,o.ecModel,o.api,o.payload):null}function seriesTaskReset(o){o.useClearVisual&&o.data.clearAllVisual();var v=o.resetDefines=normalizeToArray(o.reset(o.model,o.ecModel,o.api,o.payload));return v.length>1?map(v,function(o,v){return makeSeriesTaskProgress(v)}):oO}var oO=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(o){return function(v,_){var x=_.data,w=_.resetDefines[o];if(w&&w.dataEach)for(var T=v.start;T<v.end;T++)w.dataEach(x,T);else w&&w.progress&&w.progress(v,x)}}function seriesTaskCount(o){return o.data.count()}function detectSeriseType(o){ec=null;try{o(oA,ok)}catch(o){}return ec}var oA={},ok={};function mockMethods(o,v){for(var _ in v.prototype)o[_]=noop}mockMethods(oA,ij),mockMethods(ok,core_ExtensionAPI),oA.eachSeriesByType=oA.eachRawSeriesByType=function(o){ec=o},oA.eachComponent=function(o){"series"===o.mainType&&o.subType&&(ec=o.subType)};var oL=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],oR="#B9B8CE",oN="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:oR}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},oF=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],oV={darkMode:!0,color:oF,backgroundColor:oN,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:oR}},textStyle:{color:oR},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:oR}},dataZoom:{borderColor:"#71708A",textStyle:{color:oR},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:oR}},timeline:{lineStyle:{color:oR},label:{color:oR},controlStyle:{color:oR,borderColor:oR}},calendar:{itemStyle:{color:oN},dayLabel:{color:oR},monthLabel:{color:oR},yearLabel:{color:oR}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:oF},gauge:{title:{color:oR},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:oR},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};oV.categoryAxis.splitLine.show=!1;var oB=function(){function ECEventProcessor(){}return ECEventProcessor.prototype.normalizeQuery=function(o){var v={},_={},x={};if(util_isString(o)){var w=parseClassType(o);v.mainType=w.main||null,v.subType=w.sub||null}else{var T=["Index","Name","Id"],L={name:1,dataIndex:1,dataType:1};util_each(o,function(o,w){for(var N=!1,B=0;B<T.length;B++){var H=T[B],Y=w.lastIndexOf(H);if(Y>0&&Y===w.length-H.length){var Z=w.slice(0,Y);"data"!==Z&&(v.mainType=Z,v[H.toLowerCase()]=o,N=!0)}}L.hasOwnProperty(w)&&(_[w]=o,N=!0),N||(x[w]=o)})}return{cptQuery:v,dataQuery:_,otherQuery:x}},ECEventProcessor.prototype.filter=function(o,v){var _=this.eventInfo;if(!_)return!0;var x=_.targetEl,w=_.packedEvent,T=_.model,L=_.view;if(!T||!L)return!0;var N=v.cptQuery,B=v.dataQuery;return check(N,T,"mainType")&&check(N,T,"subType")&&check(N,T,"index","componentIndex")&&check(N,T,"name")&&check(N,T,"id")&&check(B,w,"name")&&check(B,w,"dataIndex")&&check(B,w,"dataType")&&(!L.filterForExposedEvent||L.filterForExposedEvent(o,v.otherQuery,x,w));function check(o,v,_,x){return null==o[_]||v[x||_]===o[_]}},ECEventProcessor.prototype.afterTrigger=function(){this.eventInfo=null},ECEventProcessor}(),oz=["symbol","symbolSize","symbolRotate","symbolOffset"],oj=oz.concat(["symbolKeepAspect"]);function getItemVisualFromData(o,v,_){switch(_){case"color":return o.getItemVisual(v,"style")[o.getVisual("drawType")];case"opacity":return o.getItemVisual(v,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return o.getItemVisual(v,_)}}function getVisualFromData(o,v){switch(v){case"color":return o.getVisual("style")[o.getVisual("drawType")];case"opacity":return o.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return o.getVisual(v)}}function setItemVisualFromData(o,v,_,x){switch(_){case"color":o.ensureUniqueItemVisual(v,"style")[o.getVisual("drawType")]=x,o.setItemVisual(v,"colorFromPalette",!1);break;case"opacity":o.ensureUniqueItemVisual(v,"style").opacity=x;break;case"symbol":case"symbolSize":case"liftZ":o.setItemVisual(v,_,x)}}function createLegacyDataSelectAction(o,v){function getSeriesIndices(v,_){var x=[];return v.eachComponent({mainType:"series",subType:o,query:_},function(o){x.push(o.seriesIndex)}),x}util_each([[o+"ToggleSelect","toggleSelect"],[o+"Select","select"],[o+"UnSelect","unselect"]],function(o){v(o[0],function(v,_,x){v=extend({},v),x.dispatchAction(extend(v,{type:o[1],seriesIndex:getSeriesIndices(_,v)}))})})}function handleSeriesLegacySelectEvents(o,v,_,x,w){var T=o+v;_.isSilent(T)||x.eachComponent({mainType:"series",subType:"pie"},function(o){for(var v=o.seriesIndex,x=o.option.selectedMap,L=w.selected,N=0;N<L.length;N++)if(L[N].seriesIndex===v){var B=o.getData(),H=queryDataIndex(B,w.fromActionPayload);_.trigger(T,{type:T,seriesId:o.id,name:util_isArray(H)?B.getName(H[0]):B.getName(H),selected:util_isString(x)?x:extend({},x)})}})}function handleLegacySelectEvents(o,v,_){o.on("selectchanged",function(o){var x=_.getModel();o.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",v,x,o),handleSeriesLegacySelectEvents("pie","selectchanged",v,x,o)):"select"===o.fromAction?(handleSeriesLegacySelectEvents("map","selected",v,x,o),handleSeriesLegacySelectEvents("pie","selected",v,x,o)):"unselect"===o.fromAction&&(handleSeriesLegacySelectEvents("map","unselected",v,x,o),handleSeriesLegacySelectEvents("pie","unselected",v,x,o))})}function findEventDispatcher(o,v,_){for(var x;o&&(!v(o)||(x=o,!_));)o=o.__hostTarget||o.parent;return x}var oH=Math.round(9*Math.random()),oG="function"==typeof Object.defineProperty,oU=function(){function WeakMap(){this._id="__ec_inner_"+oH++}return WeakMap.prototype.get=function(o){return this._guard(o)[this._id]},WeakMap.prototype.set=function(o,v){var _=this._guard(o);return oG?Object.defineProperty(_,this._id,{value:v,enumerable:!1,configurable:!0}):_[this._id]=v,this},WeakMap.prototype.delete=function(o){return!!this.has(o)&&(delete this._guard(o)[this._id],!0)},WeakMap.prototype.has=function(o){return!!this._guard(o)[this._id]},WeakMap.prototype._guard=function(o){if(o!==Object(o))throw TypeError("Value of WeakMap is not a non-null object.");return o},WeakMap}(),oW=rv.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(o,v){var _=v.cx,x=v.cy,w=v.width/2,T=v.height/2;o.moveTo(_,x-T),o.lineTo(_+w,x+T),o.lineTo(_-w,x+T),o.closePath()}}),oY=rv.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(o,v){var _=v.cx,x=v.cy,w=v.width/2,T=v.height/2;o.moveTo(_,x-T),o.lineTo(_+w,x),o.lineTo(_,x+T),o.lineTo(_-w,x),o.closePath()}}),oK=rv.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(o,v){var _=v.x,x=v.y,w=v.width/5*3,T=Math.max(w,v.height),L=w/2,N=L*L/(T-L),B=x-T+L+N,H=Math.asin(N/L),Y=Math.cos(H)*L,Z=Math.sin(H),X=Math.cos(H),et=.6*L,en=.7*L;o.moveTo(_-Y,B+N),o.arc(_,B,L,Math.PI-H,2*Math.PI+H),o.bezierCurveTo(_+Y-Z*et,B+N+X*et,_,x-en,_,x),o.bezierCurveTo(_,x-en,_-Y+Z*et,B+N+X*et,_-Y,B+N),o.closePath()}}),oZ=rv.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(o,v){var _=v.height,x=v.width,w=v.x,T=v.y,L=x/3*2;o.moveTo(w,T),o.lineTo(w+L,T+_),o.lineTo(w,T+_/4*3),o.lineTo(w-L,T+_),o.lineTo(w,T),o.closePath()}}),oq={line:function(o,v,_,x,w){w.x1=o,w.y1=v+x/2,w.x2=o+_,w.y2=v+x/2},rect:function(o,v,_,x,w){w.x=o,w.y=v,w.width=_,w.height=x},roundRect:function(o,v,_,x,w){w.x=o,w.y=v,w.width=_,w.height=x,w.r=Math.min(_,x)/4},square:function(o,v,_,x,w){var T=Math.min(_,x);w.x=o,w.y=v,w.width=T,w.height=T},circle:function(o,v,_,x,w){w.cx=o+_/2,w.cy=v+x/2,w.r=Math.min(_,x)/2},diamond:function(o,v,_,x,w){w.cx=o+_/2,w.cy=v+x/2,w.width=_,w.height=x},pin:function(o,v,_,x,w){w.x=o+_/2,w.y=v+x/2,w.width=_,w.height=x},arrow:function(o,v,_,x,w){w.x=o+_/2,w.y=v+x/2,w.width=_,w.height=x},triangle:function(o,v,_,x,w){w.cx=o+_/2,w.cy=v+x/2,w.width=_,w.height=x}},oX={};util_each({line:a3,rect:rI,roundRect:rI,square:rI,circle:aR,diamond:oY,pin:oK,arrow:oZ,triangle:oW},function(o,v){oX[v]=new o});var o$=rv.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(o,v,_){var x=calculateTextPosition(o,v,_),w=this.shape;return w&&"pin"===w.symbolType&&"inside"===v.position&&(x.y=_.y+.4*_.height),x},buildPath:function(o,v,_){var x=v.symbolType;if("none"!==x){var w=oX[x];w||(w=oX[x="rect"]),oq[x](v.x,v.y,v.width,v.height,w.shape),w.buildPath(o,w.shape,_)}}});function symbolPathSetColor(o,v){if("image"!==this.type){var _=this.style;this.__isEmptyBrush?(_.stroke=o,_.fill=v||"#fff",_.lineWidth=2):"line"===this.shape.symbolType?_.stroke=o:_.fill=o,this.markRedraw()}}function symbol_createSymbol(o,v,_,x,w,T,L){var N,B=0===o.indexOf("empty");return B&&(o=o.substr(5,1).toLowerCase()+o.substr(6)),(N=0===o.indexOf("image://")?makeImage(o.slice(8),new tS(v,_,x,w),L?"center":"cover"):0===o.indexOf("path://")?makePath(o.slice(7),{},new tS(v,_,x,w),L?"center":"cover"):new o$({shape:{symbolType:o,x:v,y:_,width:x,height:w}})).__isEmptyBrush=B,N.setColor=symbolPathSetColor,T&&N.setColor(T),N}function normalizeSymbolSize(o){return util_isArray(o)||(o=[+o,+o]),[o[0]||0,o[1]||0]}function normalizeSymbolOffset(o,v){if(null!=o)return util_isArray(o)||(o=[o,o]),[number_parsePercent(o[0],v[0])||0,number_parsePercent(retrieve2(o[1],o[0]),v[1])||0]}function isSafeNum(o){return isFinite(o)}function createLinearGradient(o,v,_){var x=null==v.x?0:v.x,w=null==v.x2?1:v.x2,T=null==v.y?0:v.y,L=null==v.y2?0:v.y2;return v.global||(x=x*_.width+_.x,w=w*_.width+_.x,T=T*_.height+_.y,L=L*_.height+_.y),x=isSafeNum(x)?x:0,w=isSafeNum(w)?w:1,T=isSafeNum(T)?T:0,L=isSafeNum(L)?L:0,o.createLinearGradient(x,T,w,L)}function createRadialGradient(o,v,_){var x=_.width,w=_.height,T=null==v.x?.5:v.x,L=null==v.y?.5:v.y,N=null==v.r?.5:v.r;return v.global||(T=T*x+_.x,L=L*w+_.y,N*=Math.min(x,w)),T=isSafeNum(T)?T:.5,L=isSafeNum(L)?L:.5,N=N>=0&&isSafeNum(N)?N:.5,o.createRadialGradient(T,L,0,T,L,N)}function getCanvasGradient(o,v,_){for(var x="radial"===v.type?createRadialGradient(o,v,_):createLinearGradient(o,v,_),w=v.colorStops,T=0;T<w.length;T++)x.addColorStop(w[T].offset,w[T].color);return x}function isClipPathChanged(o,v){if(o===v||!o&&!v)return!1;if(!o||!v||o.length!==v.length)return!0;for(var _=0;_<o.length;_++)if(o[_]!==v[_])return!0;return!1}function parseInt10(o){return parseInt(o,10)}function getSize(o,v,_){var x=["width","height"][v],w=["clientWidth","clientHeight"][v],T=["paddingLeft","paddingTop"][v],L=["paddingRight","paddingBottom"][v];if(null!=_[x]&&"auto"!==_[x])return parseFloat(_[x]);var N=document.defaultView.getComputedStyle(o);return(o[w]||parseInt10(N[x])||parseInt10(o.style[x]))-(parseInt10(N[T])||0)-(parseInt10(N[L])||0)|0}function normalizeLineDash(o,v){return o&&"solid"!==o&&v>0?"dashed"===o?[4*v,2*v]:"dotted"===o?[v]:isNumber(o)?[o]:util_isArray(o)?o:null:null}function getLineDash(o){var v=o.style,_=v.lineDash&&v.lineWidth>0&&normalizeLineDash(v.lineDash,v.lineWidth),x=v.lineDashOffset;if(_){var w=v.strokeNoScale&&o.getLineScale?o.getLineScale():1;w&&1!==w&&(_=map(_,function(o){return o/w}),x/=w)}return[_,x]}var oQ=new rl(!0);function styleHasStroke(o){var v=o.stroke;return!(null==v||"none"===v||!(o.lineWidth>0))}function isValidStrokeFillStyle(o){return"string"==typeof o&&"none"!==o}function styleHasFill(o){var v=o.fill;return null!=v&&"none"!==v}function doFillPath(o,v){if(null!=v.fillOpacity&&1!==v.fillOpacity){var _=o.globalAlpha;o.globalAlpha=v.fillOpacity*v.opacity,o.fill(),o.globalAlpha=_}else o.fill()}function doStrokePath(o,v){if(null!=v.strokeOpacity&&1!==v.strokeOpacity){var _=o.globalAlpha;o.globalAlpha=v.strokeOpacity*v.opacity,o.stroke(),o.globalAlpha=_}else o.stroke()}function createCanvasPattern(o,v,_){var x=createOrUpdateImage(v.image,v.__image,_);if(isImageReady(x)){var w=o.createPattern(x,v.repeat||"repeat");if("function"==typeof DOMMatrix&&w&&w.setTransform){var T=new DOMMatrix;T.translateSelf(v.x||0,v.y||0),T.rotateSelf(0,0,(v.rotation||0)*e6),T.scaleSelf(v.scaleX||1,v.scaleY||1),w.setTransform(T)}return w}}function brushPath(o,v,_,x){var w,T,L,N=styleHasStroke(_),B=styleHasFill(_),H=_.strokePercent,Y=H<1,Z=!v.path;(!v.silent||Y)&&Z&&v.createPathProxy();var X=v.path||oQ,et=v.__dirty;if(!x){var en=_.fill,er=_.stroke,ei=B&&!!en.colorStops,ea=N&&!!er.colorStops,eo=B&&!!en.image,el=N&&!!er.image,eu=void 0,ec=void 0,ed=void 0,eh=void 0,ep=void 0;(ei||ea)&&(ep=v.getBoundingRect()),ei&&(eu=et?getCanvasGradient(o,en,ep):v.__canvasFillGradient,v.__canvasFillGradient=eu),ea&&(ec=et?getCanvasGradient(o,er,ep):v.__canvasStrokeGradient,v.__canvasStrokeGradient=ec),eo&&(ed=et||!v.__canvasFillPattern?createCanvasPattern(o,en,v):v.__canvasFillPattern,v.__canvasFillPattern=ed),el&&(eh=et||!v.__canvasStrokePattern?createCanvasPattern(o,er,v):v.__canvasStrokePattern,v.__canvasStrokePattern=ed),ei?o.fillStyle=eu:eo&&(ed?o.fillStyle=ed:B=!1),ea?o.strokeStyle=ec:el&&(eh?o.strokeStyle=eh:N=!1)}var ef=v.getGlobalScale();X.setScale(ef[0],ef[1],v.segmentIgnoreThreshold),o.setLineDash&&_.lineDash&&(T=(w=getLineDash(v))[0],L=w[1]);var eg=!0;(Z||4&et)&&(X.setDPR(o.dpr),Y?X.setContext(null):(X.setContext(o),eg=!1),X.reset(),v.buildPath(X,v.shape,x),X.toStatic(),v.pathUpdated()),eg&&X.rebuildPath(o,Y?H:1),T&&(o.setLineDash(T),o.lineDashOffset=L),!x&&(_.strokeFirst?(N&&doStrokePath(o,_),B&&doFillPath(o,_)):(B&&doFillPath(o,_),N&&doStrokePath(o,_))),T&&o.setLineDash([])}function brushImage(o,v,_){var x=v.__image=createOrUpdateImage(_.image,v.__image,v,v.onload);if(x&&isImageReady(x)){var w=_.x||0,T=_.y||0,L=v.getWidth(),N=v.getHeight(),B=x.width/x.height;if(null==L&&null!=N?L=N*B:null==N&&null!=L?N=L/B:null==L&&null==N&&(L=x.width,N=x.height),_.sWidth&&_.sHeight){var H=_.sx||0,Y=_.sy||0;o.drawImage(x,H,Y,_.sWidth,_.sHeight,w,T,L,N)}else if(_.sx&&_.sy){var H=_.sx,Y=_.sy,Z=L-H,X=N-Y;o.drawImage(x,H,Y,Z,X,w,T,L,N)}else o.drawImage(x,w,T,L,N)}}function brushText(o,v,_){var x,w=_.text;if(null!=w&&(w+=""),w){o.font=_.font||ez,o.textAlign=_.textAlign,o.textBaseline=_.textBaseline;var T=void 0,L=void 0;o.setLineDash&&_.lineDash&&(T=(x=getLineDash(v))[0],L=x[1]),T&&(o.setLineDash(T),o.lineDashOffset=L),_.strokeFirst?(styleHasStroke(_)&&o.strokeText(w,_.x,_.y),styleHasFill(_)&&o.fillText(w,_.x,_.y)):(styleHasFill(_)&&o.fillText(w,_.x,_.y),styleHasStroke(_)&&o.strokeText(w,_.x,_.y)),T&&o.setLineDash([])}}var oJ=["shadowBlur","shadowOffsetX","shadowOffsetY"],o0=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(o,v,_,x,w){var T=!1;if(!x&&v===(_=_||{}))return!1;if(x||v.opacity!==_.opacity){flushPathDrawn(o,w),T=!0;var L=Math.max(Math.min(v.opacity,1),0);o.globalAlpha=isNaN(L)?nN.opacity:L}(x||v.blend!==_.blend)&&(T||(flushPathDrawn(o,w),T=!0),o.globalCompositeOperation=v.blend||nN.blend);for(var N=0;N<oJ.length;N++){var B=oJ[N];(x||v[B]!==_[B])&&(T||(flushPathDrawn(o,w),T=!0),o[B]=o.dpr*(v[B]||0))}return(x||v.shadowColor!==_.shadowColor)&&(T||(flushPathDrawn(o,w),T=!0),o.shadowColor=v.shadowColor||nN.shadowColor),T}function bindPathAndTextCommonStyle(o,v,_,x,w){var T=getStyle(v,w.inHover),L=x?null:_&&getStyle(_,w.inHover)||{};if(T===L)return!1;var N=bindCommonProps(o,T,L,x,w);if((x||T.fill!==L.fill)&&(N||(flushPathDrawn(o,w),N=!0),isValidStrokeFillStyle(T.fill)&&(o.fillStyle=T.fill)),(x||T.stroke!==L.stroke)&&(N||(flushPathDrawn(o,w),N=!0),isValidStrokeFillStyle(T.stroke)&&(o.strokeStyle=T.stroke)),(x||T.opacity!==L.opacity)&&(N||(flushPathDrawn(o,w),N=!0),o.globalAlpha=null==T.opacity?1:T.opacity),v.hasStroke()){var B=T.lineWidth/(T.strokeNoScale&&v.getLineScale?v.getLineScale():1);o.lineWidth!==B&&(N||(flushPathDrawn(o,w),N=!0),o.lineWidth=B)}for(var H=0;H<o0.length;H++){var Y=o0[H],Z=Y[0];(x||T[Z]!==L[Z])&&(N||(flushPathDrawn(o,w),N=!0),o[Z]=T[Z]||Y[1])}return N}function bindImageStyle(o,v,_,x,w){return bindCommonProps(o,getStyle(v,w.inHover),_&&getStyle(_,w.inHover),x,w)}function setContextTransform(o,v){var _=v.transform,x=o.dpr||1;_?o.setTransform(x*_[0],x*_[1],x*_[2],x*_[3],x*_[4],x*_[5]):o.setTransform(x,0,0,x,0,0)}function updateClipStatus(o,v,_){for(var x=!1,w=0;w<o.length;w++){var T=o[w];x=x||T.isZeroArea(),setContextTransform(v,T),v.beginPath(),T.buildPath(v,T.shape),v.clip()}_.allClipped=x}function isTransformChanged(o,v){return o&&v?o[0]!==v[0]||o[1]!==v[1]||o[2]!==v[2]||o[3]!==v[3]||o[4]!==v[4]||o[5]!==v[5]:!!o||!!v}function canPathBatch(o){var v=styleHasFill(o),_=styleHasStroke(o);return!(o.lineDash||!(+v^+_)||v&&"string"!=typeof o.fill||_&&"string"!=typeof o.stroke||o.strokePercent<1||o.strokeOpacity<1||o.fillOpacity<1)}function flushPathDrawn(o,v){v.batchFill&&o.fill(),v.batchStroke&&o.stroke(),v.batchFill="",v.batchStroke=""}function getStyle(o,v){return v&&o.__hoverStyle||o.style}function brushSingle(o,v){brush(o,v,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush(o,v,_,x){var w=v.transform;if(!v.shouldBePainted(_.viewWidth,_.viewHeight,!1,!1)){v.__dirty&=-2,v.__isRendered=!1;return}var T=v.__clipPaths,L=_.prevElClipPaths,N=!1,B=!1;if((!L||isClipPathChanged(T,L))&&(L&&L.length&&(flushPathDrawn(o,_),o.restore(),B=N=!0,_.prevElClipPaths=null,_.allClipped=!1,_.prevEl=null),T&&T.length&&(flushPathDrawn(o,_),o.save(),updateClipStatus(T,o,_),N=!0),_.prevElClipPaths=T),_.allClipped){v.__isRendered=!1;return}v.beforeBrush&&v.beforeBrush(),v.innerBeforeBrush();var H=_.prevEl;H||(B=N=!0);var Y=v instanceof rv&&v.autoBatch&&canPathBatch(v.style);N||isTransformChanged(w,H.transform)?(flushPathDrawn(o,_),setContextTransform(o,v)):Y||flushPathDrawn(o,_);var Z=getStyle(v,_.inHover);v instanceof rv?(1!==_.lastDrawType&&(B=!0,_.lastDrawType=1),bindPathAndTextCommonStyle(o,v,H,B,_),Y&&(_.batchFill||_.batchStroke)||o.beginPath(),brushPath(o,v,Z,Y),Y&&(_.batchFill=Z.fill||"",_.batchStroke=Z.stroke||"")):v instanceof rb?(3!==_.lastDrawType&&(B=!0,_.lastDrawType=3),bindPathAndTextCommonStyle(o,v,H,B,_),brushText(o,v,Z)):v instanceof rC?(2!==_.lastDrawType&&(B=!0,_.lastDrawType=2),bindImageStyle(o,v,H,B,_),brushImage(o,v,Z)):v.getTemporalDisplayables&&(4!==_.lastDrawType&&(B=!0,_.lastDrawType=4),brushIncremental(o,v,_)),Y&&x&&flushPathDrawn(o,_),v.innerAfterBrush(),v.afterBrush&&v.afterBrush(),_.prevEl=v,v.__dirty=0,v.__isRendered=!0}function brushIncremental(o,v,_){var x,w,T=v.getDisplayables(),L=v.getTemporalDisplayables();o.save();var N={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:_.viewWidth,viewHeight:_.viewHeight,inHover:_.inHover};for(x=v.getCursor(),w=T.length;x<w;x++){var B=T[x];B.beforeBrush&&B.beforeBrush(),B.innerBeforeBrush(),brush(o,B,N,x===w-1),B.innerAfterBrush(),B.afterBrush&&B.afterBrush(),N.prevEl=B}for(var H=0,Y=L.length;H<Y;H++){var B=L[H];B.beforeBrush&&B.beforeBrush(),B.innerBeforeBrush(),brush(o,B,N,H===Y-1),B.innerAfterBrush(),B.afterBrush&&B.afterBrush(),N.prevEl=B}v.clearTemporalDisplayables(),v.notClear=!0,o.restore()}var o1=new oU,o2=new tz(100),o5=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(o,v){if("none"===o)return null;var _=v.getDevicePixelRatio(),x=v.getZr(),w="svg"===x.painter.type;o.dirty&&o1.delete(o);var T=o1.get(o);if(T)return T;var L=util_defaults(o,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===L.backgroundColor&&(L.backgroundColor=null);var N={repeat:"repeat"};return setPatternnSource(N),N.rotation=L.rotation,N.scaleX=N.scaleY=w?1:1/_,o1.set(o,N),o.dirty=!1,N;function setPatternnSource(o){for(var v,T,N=[_],B=!0,H=0;H<o5.length;++H){var Y=L[o5[H]];if(null!=Y&&!util_isArray(Y)&&!util_isString(Y)&&!isNumber(Y)&&"boolean"!=typeof Y){B=!1;break}N.push(Y)}if(B){v=N.join(",")+(w?"-svg":"");var Z=o2.get(v);Z&&(w?o.svgElement=Z:o.image=Z)}var X=normalizeDashArrayX(L.dashArrayX),et=normalizeDashArrayY(L.dashArrayY),en=normalizeSymbolArray(L.symbol),er=getLineBlockLengthX(X),ei=getLineBlockLengthY(et),ea=!w&&eH.createCanvas(),eo=w&&{tag:"g",attrs:{},key:"dcl",children:[]},el=getPatternSize();function getPatternSize(){for(var o=1,v=0,_=er.length;v<_;++v)o=getLeastCommonMultiple(o,er[v]);for(var x=1,v=0,_=en.length;v<_;++v)x=getLeastCommonMultiple(x,en[v].length);o*=x;var w=ei*er.length*en.length;return{width:Math.max(1,Math.min(o,L.maxTileWidth)),height:Math.max(1,Math.min(w,L.maxTileHeight))}}function brushDecal(){T&&(T.clearRect(0,0,ea.width,ea.height),L.backgroundColor&&(T.fillStyle=L.backgroundColor,T.fillRect(0,0,ea.width,ea.height)));for(var o=0,v=0;v<et.length;++v)o+=et[v];if(!(o<=0))for(var N=-ei,B=0,H=0,Y=0;N<el.height;){if(B%2==0){for(var Z=H/2%en.length,er=0,eu=0,ec=0;er<2*el.width;){for(var ed=0,v=0;v<X[Y].length;++v)ed+=X[Y][v];if(ed<=0)break;if(eu%2==0){var eh=(1-L.symbolSize)*.5,ep=er+X[Y][eu]*eh,ef=N+et[B]*eh,eg=X[Y][eu]*L.symbolSize,em=et[B]*L.symbolSize,ey=ec/2%en[Z].length;brushSymbol(ep,ef,eg,em,en[Z][ey])}er+=X[Y][eu],++ec,++eu===X[Y].length&&(eu=0)}++Y===X.length&&(Y=0)}N+=et[B],++H,++B===et.length&&(B=0)}function brushSymbol(o,v,N,B,H){var Y=w?1:_,Z=symbol_createSymbol(H,o*Y,v*Y,N*Y,B*Y,L.color,L.symbolKeepAspect);if(w){var X=x.painter.renderOneToVNode(Z);X&&eo.children.push(X)}else brushSingle(T,Z)}}ea&&(ea.width=el.width*_,ea.height=el.height*_,T=ea.getContext("2d")),brushDecal(),B&&o2.put(v,ea||eo),o.image=ea,o.svgElement=eo,o.svgWidth=el.width,o.svgHeight=el.height}}function normalizeSymbolArray(o){if(!o||0===o.length)return[["rect"]];if(util_isString(o))return[[o]];for(var v=!0,_=0;_<o.length;++_)if(!util_isString(o[_])){v=!1;break}if(v)return normalizeSymbolArray([o]);for(var x=[],_=0;_<o.length;++_)util_isString(o[_])?x.push([o[_]]):x.push(o[_]);return x}function normalizeDashArrayX(o){if(!o||0===o.length)return[[0,0]];if(isNumber(o)){var v=Math.ceil(o);return[[v,v]]}for(var _=!0,x=0;x<o.length;++x)if(!isNumber(o[x])){_=!1;break}if(_)return normalizeDashArrayX([o]);for(var w=[],x=0;x<o.length;++x)if(isNumber(o[x])){var v=Math.ceil(o[x]);w.push([v,v])}else{var v=map(o[x],function(o){return Math.ceil(o)});v.length%2==1?w.push(v.concat(v)):w.push(v)}return w}function normalizeDashArrayY(o){if(!o||"object"==typeof o&&0===o.length)return[0,0];if(isNumber(o)){var v=Math.ceil(o);return[v,v]}var _=map(o,function(o){return Math.ceil(o)});return o.length%2?_.concat(_):_}function getLineBlockLengthX(o){return map(o,function(o){return getLineBlockLengthY(o)})}function getLineBlockLengthY(o){for(var v=0,_=0;_<o.length;++_)v+=o[_];return o.length%2==1?2*v:v}function decalVisual(o,v){o.eachRawSeries(function(_){if(!o.isSeriesFiltered(_)){var x=_.getData();x.hasItemVisual()&&x.each(function(o){var _=x.getItemVisual(o,"decal");_&&(x.ensureUniqueItemVisual(o,"style").decal=createOrUpdatePatternFromDecal(_,v))});var w=x.getVisual("decal");w&&(x.getVisual("style").decal=createOrUpdatePatternFromDecal(w,v))}})}var o3=new te,o4={};function registerImpl(o,v){o4[o]=v}function impl_getImpl(o){return o4[o]}var o7="__flagInMainProcess",o6="__pendingUpdate",o9="__needsUpdateStatus",o8=/^[a-zA-Z0-9_]+$/,sn="__connectUpdateStatus";function createRegisterEventWithLowercaseECharts(o){return function(){for(var v=[],_=0;_<arguments.length;_++)v[_]=arguments[_];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,o,v)}}function createRegisterEventWithLowercaseMessageCenter(o){return function(){for(var v=[],_=0;_<arguments.length;_++)v[_]=arguments[_];return toLowercaseNameAndCallEventful(this,o,v)}}function toLowercaseNameAndCallEventful(o,v,_){return _[0]=_[0]&&_[0].toLowerCase(),te.prototype[v].apply(o,_)}var si=function(o){function MessageCenter(){return null!==o&&o.apply(this,arguments)||this}return __extends(MessageCenter,o),MessageCenter}(te),sa=si.prototype;sa.on=createRegisterEventWithLowercaseMessageCenter("on"),sa.off=createRegisterEventWithLowercaseMessageCenter("off");var so=function(o){function ECharts(v,_,x){var w=o.call(this,new oB)||this;w._chartsViews=[],w._chartsMap={},w._componentsViews=[],w._componentsMap={},w._pendingActions=[],x=x||{},util_isString(_)&&(_=sf[_]),w._dom=v;var T=w._zr=init(v,{renderer:x.renderer||"canvas",devicePixelRatio:x.devicePixelRatio,width:x.width,height:x.height,ssr:x.ssr,useDirtyRect:retrieve2(x.useDirtyRect,!1),useCoarsePointer:retrieve2(x.useCoarsePointer,"auto"),pointerSize:x.pointerSize});w._ssr=x.ssr,w._throttledZrFlush=throttle(e2(T.flush,T),17),(_=clone(_))&&globalBackwardCompat(_,!0),w._theme=_,w._locale=createLocaleObject(x.locale||il),w._coordSysMgr=new iU;var L=w._api=eT(w);function prioritySortFunc(o,v){return o.__prio-v.__prio}return sort(sp,prioritySortFunc),sort(sd,prioritySortFunc),w._scheduler=new oE(w,L,sd,sp),w._messageCenter=new si,w._initEvents(),w.resize=e2(w.resize,w),T.animation.on("frame",w._onframe,w),eb(T,w),eS(T,w),w[e5]=!0,w}return __extends(ECharts,o),ECharts.prototype._onframe=function(){if(!this._disposed){eI(this);var o=this._scheduler;if(this[o6]){var v=this[o6].silent;this[o7]=!0;try{ed(this),ef.update.call(this,null,this[o6].updateParams)}catch(o){throw this[o7]=!1,this[o6]=null,o}this._zr.flush(),this[o7]=!1,this[o6]=null,ev.call(this,v),e_.call(this,v)}else if(o.unfinished){var _=1,x=this._model,w=this._api;o.unfinished=!1;do{var T=+new Date;o.performSeriesTasks(x),o.performDataProcessorTasks(x),em(this,x),o.performVisualTasks(x),eC(this,this._model,w,"remain",{}),_-=+new Date-T}while(_>0&&o.unfinished);o.unfinished||this._zr.flush()}}},ECharts.prototype.getDom=function(){return this._dom},ECharts.prototype.getId=function(){return this.id},ECharts.prototype.getZr=function(){return this._zr},ECharts.prototype.isSSR=function(){return this._ssr},ECharts.prototype.setOption=function(o,v,_){if(!this[o7]){if(this._disposed){this.id;return}if(util_isObject(v)&&(_=v.lazyUpdate,x=v.silent,w=v.replaceMerge,T=v.transition,v=v.notMerge),this[o7]=!0,!this._model||v){var x,w,T,L=new iY(this._api),N=this._theme,B=this._model=new ij;B.scheduler=this._scheduler,B.ssr=this._ssr,B.init(null,null,null,N,this._locale,L)}this._model.setOption(o,{replaceMerge:w},sh);var H={seriesTransition:T,optionChanged:!0};if(_)this[o6]={silent:x,updateParams:H},this[o7]=!1,this.getZr().wakeUp();else{try{ed(this),ef.update.call(this,null,H)}catch(o){throw this[o6]=null,this[o7]=!1,o}this._ssr||this._zr.flush(),this[o6]=null,this[o7]=!1,ev.call(this,x),e_.call(this,x)}}},ECharts.prototype.setTheme=function(){},ECharts.prototype.getModel=function(){return this._model},ECharts.prototype.getOption=function(){return this._model&&this._model.getOption()},ECharts.prototype.getWidth=function(){return this._zr.getWidth()},ECharts.prototype.getHeight=function(){return this._zr.getHeight()},ECharts.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||eV.hasGlobalWindow&&window.devicePixelRatio||1},ECharts.prototype.getRenderedCanvas=function(o){return this.renderToCanvas(o)},ECharts.prototype.renderToCanvas=function(o){return o=o||{},this._zr.painter.getRenderedCanvas({backgroundColor:o.backgroundColor||this._model.get("backgroundColor"),pixelRatio:o.pixelRatio||this.getDevicePixelRatio()})},ECharts.prototype.renderToSVGString=function(o){return o=o||{},this._zr.painter.renderToString({useViewBox:o.useViewBox})},ECharts.prototype.getSvgDataURL=function(){if(eV.svgSupported){var o=this._zr;return util_each(o.storage.getDisplayList(),function(o){o.stopAnimation(null,!0)}),o.painter.toDataURL()}},ECharts.prototype.getDataURL=function(o){if(this._disposed){this.id;return}var v=(o=o||{}).excludeComponents,_=this._model,x=[],w=this;util_each(v,function(o){_.eachComponent({mainType:o},function(o){var v=w._componentsMap[o.__viewId];v.group.ignore||(x.push(v),v.group.ignore=!0)})});var T="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(o).toDataURL("image/"+(o&&o.type||"png"));return util_each(x,function(o){o.group.ignore=!1}),T},ECharts.prototype.getConnectedDataURL=function(o){if(this._disposed){this.id;return}var v="svg"===o.type,_=this.group,x=Math.min,w=Math.max,T=1/0;if(!sy[_])return this.getDataURL(o);var L=T,N=T,B=-T,H=-T,Y=[],Z=o&&o.pixelRatio||this.getDevicePixelRatio();util_each(sm,function(T,Z){if(T.group===_){var X=v?T.getZr().painter.getSvgDom().innerHTML:T.renderToCanvas(clone(o)),et=T.getDom().getBoundingClientRect();L=x(et.left,L),N=x(et.top,N),B=w(et.right,B),H=w(et.bottom,H),Y.push({dom:X,left:et.left,top:et.top})}}),L*=Z,N*=Z,B*=Z,H*=Z;var X=B-L,et=H-N,en=eH.createCanvas(),er=init(en,{renderer:v?"svg":"canvas"});if(er.resize({width:X,height:et}),!v)return o.connectedBackgroundColor&&er.add(new rI({shape:{x:0,y:0,width:X,height:et},style:{fill:o.connectedBackgroundColor}})),util_each(Y,function(o){var v=new rC({style:{x:o.left*Z-L,y:o.top*Z-N,image:o.dom}});er.add(v)}),er.refreshImmediately(),en.toDataURL("image/"+(o&&o.type||"png"));var ei="";return util_each(Y,function(o){var v=o.left-L,_=o.top-N;ei+='<g transform="translate('+v+","+_+')">'+o.dom+"</g>"}),er.painter.getSvgRoot().innerHTML=ei,o.connectedBackgroundColor&&er.painter.setBackgroundColor(o.connectedBackgroundColor),er.refreshImmediately(),er.painter.toDataURL()},ECharts.prototype.convertToPixel=function(o,v){return eg(this,"convertToPixel",o,v)},ECharts.prototype.convertFromPixel=function(o,v){return eg(this,"convertFromPixel",o,v)},ECharts.prototype.containPixel=function(o,v){var _;if(this._disposed){this.id;return}return util_each(parseFinder(this._model,o),function(o,x){x.indexOf("Models")>=0&&util_each(o,function(o){var w=o.coordinateSystem;if(w&&w.containPoint)_=_||!!w.containPoint(v);else if("seriesModels"===x){var T=this._chartsMap[o.__viewId];T&&T.containPoint&&(_=_||T.containPoint(v,o))}},this)},this),!!_},ECharts.prototype.getVisual=function(o,v){var _=parseFinder(this._model,o,{defaultMainType:"series"}),x=_.seriesModel.getData(),w=_.hasOwnProperty("dataIndexInside")?_.dataIndexInside:_.hasOwnProperty("dataIndex")?x.indexOfRawIndex(_.dataIndex):null;return null!=w?getItemVisualFromData(x,w,v):getVisualFromData(x,v)},ECharts.prototype.getViewOfComponentModel=function(o){return this._componentsMap[o.__viewId]},ECharts.prototype.getViewOfSeriesModel=function(o){return this._chartsMap[o.__viewId]},ECharts.prototype._initEvents=function(){var o=this;util_each(sl,function(v){var handler=function(_){var x,w=o.getModel(),T=_.target;if("globalout"===v?x={}:T&&findEventDispatcher(T,function(o){var v=rN(o);if(v&&null!=v.dataIndex){var _=v.dataModel||w.getSeriesByIndex(v.seriesIndex);return x=_&&_.getDataParams(v.dataIndex,v.dataType,T)||{},!0}if(v.eventData)return x=extend({},v.eventData),!0},!0),x){var L=x.componentType,N=x.componentIndex;("markLine"===L||"markPoint"===L||"markArea"===L)&&(L="series",N=x.seriesIndex);var B=L&&null!=N&&w.getComponent(L,N),H=B&&o["series"===B.mainType?"_chartsMap":"_componentsMap"][B.__viewId];x.event=_,x.type=v,o._$eventProcessor.eventInfo={targetEl:T,packedEvent:x,model:B,view:H},o.trigger(v,x)}};handler.zrEventfulCallAtLast=!0,o._zr.on(v,handler,o)}),util_each(sc,function(v,_){o._messageCenter.on(_,function(o){this.trigger(_,o)},o)}),util_each(["selectchanged"],function(v){o._messageCenter.on(v,function(o){this.trigger(v,o)},o)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},ECharts.prototype.isDisposed=function(){return this._disposed},ECharts.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},ECharts.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0,this.getDom()&&setAttribute(this.getDom(),s_,"");var o=this._api,v=this._model;util_each(this._componentsViews,function(_){_.dispose(v,o)}),util_each(this._chartsViews,function(_){_.dispose(v,o)}),this._zr.dispose(),this._dom=this._model=this._chartsMap=this._componentsMap=this._chartsViews=this._componentsViews=this._scheduler=this._api=this._zr=this._throttledZrFlush=this._theme=this._coordSysMgr=this._messageCenter=null,delete sm[this.id]},ECharts.prototype.resize=function(o){if(!this[o7]){if(this._disposed){this.id;return}this._zr.resize(o);var v=this._model;if(this._loadingFX&&this._loadingFX.resize(),v){var _=v.resetOption("media"),x=o&&o.silent;this[o6]&&(null==x&&(x=this[o6].silent),_=!0,this[o6]=null),this[o7]=!0;try{_&&ed(this),ef.update.call(this,{type:"resize",animation:extend({duration:0},o&&o.animation)})}catch(o){throw this[o7]=!1,o}this[o7]=!1,ev.call(this,x),e_.call(this,x)}}},ECharts.prototype.showLoading=function(o,v){if(this._disposed){this.id;return}if(util_isObject(o)&&(v=o,o=""),o=o||"default",this.hideLoading(),sg[o]){var _=sg[o](this._api,v),x=this._zr;this._loadingFX=_,x.add(_)}},ECharts.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},ECharts.prototype.makeActionFromEvent=function(o){var v=extend({},o);return v.type=sc[o.type],v},ECharts.prototype.dispatchAction=function(o,v){if(this._disposed){this.id;return}if(util_isObject(v)||(v={silent:!!v}),su[o.type]&&this._model){if(this[o7]){this._pendingActions.push(o);return}var _=v.silent;ey.call(this,o,_);var x=v.flush;x?this._zr.flush():!1!==x&&eV.browser.weChat&&this._throttledZrFlush(),ev.call(this,_),e_.call(this,_)}},ECharts.prototype.updateLabelLayout=function(){o3.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},ECharts.prototype.appendData=function(o){if(this._disposed){this.id;return}var v=o.seriesIndex;this.getModel().getSeriesByIndex(v).appendData(o),this._scheduler.unfinished=!0,this.getZr().wakeUp()},ECharts.internalField=function(){function clearColorPalette(o){o.clearColorPalette(),o.eachSeries(function(o){o.clearColorPalette()})}function allocateZlevels(o){var v=[],_=[],x=!1;if(o.eachComponent(function(o,w){var T=w.get("zlevel")||0,L=w.get("z")||0,N=w.getZLevelKey();x=x||!!N,("series"===o?_:v).push({zlevel:T,z:L,idx:w.componentIndex,type:o,key:N})}),x){var w,T,L=v.concat(_);sort(L,function(o,v){return o.zlevel===v.zlevel?o.z-v.z:o.zlevel-v.zlevel}),util_each(L,function(v){var _=o.getComponent(v.type,v.idx),x=v.zlevel,L=v.key;null!=w&&(x=Math.max(w,x)),L?(x===w&&L!==T&&x++,T=L):T&&(x===w&&x++,T=""),w=x,_.setZLevel(x)})}}function applyElementStates(o){for(var v=[],_=o.currentStates,x=0;x<_.length;x++){var w=_[x];"emphasis"===w||"blur"===w||"select"===w||v.push(w)}o.selected&&o.states.select&&v.push("select"),2===o.hoverState&&o.states.emphasis?v.push("emphasis"):1===o.hoverState&&o.states.blur&&v.push("blur"),o.useStates(v)}function updateHoverLayerStatus(o,v){var _=o._zr.storage,x=0;_.traverse(function(o){!o.isGroup&&x++}),!(x>v.get("hoverLayerThreshold"))||eV.node||eV.worker||v.eachSeries(function(v){if(!v.preventUsingHoverLayer){var _=o._chartsMap[v.__viewId];_.__alive&&_.eachRendered(function(o){o.states.emphasis&&(o.states.emphasis.hoverLayer=!0)})}})}function updateBlend(o,v){var _=o.get("blendMode")||null;v.eachRendered(function(o){o.isGroup||(o.style.blend=_)})}function updateZ(o,v){if(!o.preventAutoZ){var _=o.get("z")||0,x=o.get("zlevel")||0;v.eachRendered(function(o){return doUpdateZ(o,_,x,-1/0),!0})}}function doUpdateZ(o,v,_,x){var w=o.getTextContent(),T=o.getTextGuideLine();if(o.isGroup)for(var L=o.childrenRef(),N=0;N<L.length;N++)x=Math.max(doUpdateZ(L[N],v,_,x),x);else o.z=v,o.zlevel=_,x=Math.max(o.z2,x);if(w&&(w.z=v,w.zlevel=_,isFinite(x)&&(w.z2=x+2)),T){var B=o.textGuideLineConfig;T.z=v,T.zlevel=_,isFinite(x)&&(T.z2=x+(B&&B.showAbove?1:-1))}return x}function clearStates(o,v){v.eachRendered(function(o){if(!isElementRemoved(o)){var v=o.getTextContent(),_=o.getTextGuideLine();o.stateTransition&&(o.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),o.hasState()?(o.prevStates=o.currentStates,o.clearStates()):o.prevStates&&(o.prevStates=null)}})}function updateStates(o,v){var _=o.getModel("stateAnimation"),x=o.isAnimationEnabled(),w=_.get("duration"),T=w>0?{duration:w,delay:_.get("delay"),easing:_.get("easing")}:null;v.eachRendered(function(o){if(o.states&&o.states.emphasis&&!isElementRemoved(o)){if(o instanceof rv&&savePathStates(o),o.__dirty){var v=o.prevStates;v&&o.useStates(v)}if(x){o.stateTransition=T;var _=o.getTextContent(),w=o.getTextGuideLine();_&&(_.stateTransition=T),w&&(w.stateTransition=T)}o.__dirty&&applyElementStates(o)}})}ed=function(o){var v=o._scheduler;v.restorePipelines(o._model),v.prepareStageTasks(),eh(o,!0),eh(o,!1),v.plan()},eh=function(o,v){for(var _=o._model,x=o._scheduler,w=v?o._componentsViews:o._chartsViews,T=v?o._componentsMap:o._chartsMap,L=o._zr,N=o._api,B=0;B<w.length;B++)w[B].__alive=!1;function doPrepare(o){var B=o.__requireNewView;o.__requireNewView=!1;var H="_ec_"+o.id+"_"+o.type,Y=!B&&T[H];if(!Y){var Z=parseClassType(o.type);(Y=new(v?ax.getClass(Z.main,Z.sub):ob.getClass(Z.sub))).init(_,N),T[H]=Y,w.push(Y),L.add(Y.group)}o.__viewId=Y.__id=H,Y.__alive=!0,Y.__model=o,Y.group.__ecComponentInfo={mainType:o.mainType,index:o.componentIndex},v||x.prepareView(Y,o,_,N)}v?_.eachComponent(function(o,v){"series"!==o&&doPrepare(v)}):_.eachSeries(doPrepare);for(var B=0;B<w.length;){var H=w[B];H.__alive?B++:(v||H.renderTask.dispose(),L.remove(H.group),H.dispose(_,N),w.splice(B,1),T[H.__id]===H&&delete T[H.__id],H.__id=H.group.__ecComponentInfo=null)}},ep=function(o,v,_,x,w){var T,L=o._model;if(L.setUpdatePayload(_),!x){util_each([].concat(o._componentsViews).concat(o._chartsViews),callView);return}var N={};N[x+"Id"]=_[x+"Id"],N[x+"Index"]=_[x+"Index"],N[x+"Name"]=_[x+"Name"];var B={mainType:x,query:N};w&&(B.subType=w);var H=_.excludeSeriesId;function callView(x){x&&x.__alive&&x[v]&&x[v](x.__model,L,o._api,_)}null!=H&&(T=createHashMap(),util_each(normalizeToArray(H),function(o){var v=convertOptionIdName(o,null);null!=v&&T.set(v,!0)})),L&&L.eachComponent(B,function(v){if(!T||null==T.get(v.id)){if(isHighDownPayload(_)){if(v instanceof aS)_.type!==rG||_.notBlur||v.get(["emphasis","disabled"])||blurSeriesFromHighlightPayload(v,_,o._api);else{var x=findComponentHighDownDispatchers(v.mainType,v.componentIndex,_.name,o._api),w=x.focusSelf,L=x.dispatchers;_.type===rG&&w&&!_.notBlur&&blurComponent(v.mainType,v.componentIndex,o._api),L&&util_each(L,function(o){_.type===rG?enterEmphasis(o):leaveEmphasis(o)})}}else isSelectChangePayload(_)&&v instanceof aS&&(toggleSelectionFromPayload(v,_,o._api),updateSeriesElementSelection(v),eP(o))}},o),L&&L.eachComponent(B,function(v){T&&null!=T.get(v.id)||callView(o["series"===x?"_chartsMap":"_componentsMap"][v.__viewId])},o)},ef={prepareAndUpdate:function(o){ed(this),ef.update.call(this,o,{optionChanged:null!=o.newOption})},update:function(o,v){var _=this._model,x=this._api,w=this._zr,T=this._coordSysMgr,L=this._scheduler;if(_){_.setUpdatePayload(o),L.restoreData(_,o),L.performSeriesTasks(_),T.create(_,x),L.performDataProcessorTasks(_,o),em(this,_),T.update(_,x),clearColorPalette(_),L.performVisualTasks(_,o),ex(this,_,x,o,v);var N=_.get("backgroundColor")||"transparent",B=_.get("darkMode");w.setBackgroundColor(N),null!=B&&"auto"!==B&&w.setDarkMode(B),o3.trigger("afterupdate",_,x)}},updateTransform:function(o){var v=this,_=this._model,x=this._api;if(_){_.setUpdatePayload(o);var w=[];_.eachComponent(function(T,L){if("series"!==T){var N=v.getViewOfComponentModel(L);if(N&&N.__alive){if(N.updateTransform){var B=N.updateTransform(L,_,x,o);B&&B.update&&w.push(N)}else w.push(N)}}});var T=createHashMap();_.eachSeries(function(w){var L=v._chartsMap[w.__viewId];if(L.updateTransform){var N=L.updateTransform(w,_,x,o);N&&N.update&&T.set(w.uid,1)}else T.set(w.uid,1)}),clearColorPalette(_),this._scheduler.performVisualTasks(_,o,{setDirty:!0,dirtyMap:T}),eC(this,_,x,o,{},T),o3.trigger("afterupdate",_,x)}},updateView:function(o){var v=this._model;v&&(v.setUpdatePayload(o),ob.markUpdateMethod(o,"updateView"),clearColorPalette(v),this._scheduler.performVisualTasks(v,o,{setDirty:!0}),ex(this,v,this._api,o,{}),o3.trigger("afterupdate",v,this._api))},updateVisual:function(o){var v=this,_=this._model;_&&(_.setUpdatePayload(o),_.eachSeries(function(o){o.getData().clearAllVisual()}),ob.markUpdateMethod(o,"updateVisual"),clearColorPalette(_),this._scheduler.performVisualTasks(_,o,{visualType:"visual",setDirty:!0}),_.eachComponent(function(x,w){if("series"!==x){var T=v.getViewOfComponentModel(w);T&&T.__alive&&T.updateVisual(w,_,v._api,o)}}),_.eachSeries(function(x){v._chartsMap[x.__viewId].updateVisual(x,_,v._api,o)}),o3.trigger("afterupdate",_,this._api))},updateLayout:function(o){ef.update.call(this,o)}},eg=function(o,v,_,x){if(o._disposed){o.id;return}for(var w,T=o._model,L=o._coordSysMgr.getCoordinateSystems(),N=parseFinder(T,_),B=0;B<L.length;B++){var H=L[B];if(H[v]&&null!=(w=H[v](T,N,x)))return w}},em=function(o,v){var _=o._chartsMap,x=o._scheduler;v.eachSeries(function(o){x.updateStreamModes(o,_[o.__viewId])})},ey=function(o,v){var _,x=this,w=this.getModel(),T=o.type,L=o.escapeConnect,N=su[T],B=N.actionInfo,H=(B.update||"update").split(":"),Y=H.pop(),Z=null!=H[0]&&parseClassType(H[0]);this[o7]=!0;var X=[o],et=!1;o.batch&&(et=!0,X=map(o.batch,function(v){return(v=util_defaults(extend({},v),o)).batch=null,v}));var en=[],er=isSelectChangePayload(o),ei=isHighDownPayload(o);if(ei&&allLeaveBlur(this._api),util_each(X,function(v){if((_=(_=N.action(v,x._model,x._api))||extend({},v)).type=B.event||_.type,en.push(_),ei){var w=preParseFinder(o),T=w.queryOptionMap;ep(x,Y,v,w.mainTypeSpecified?T.keys()[0]:"series"),eP(x)}else er?(ep(x,Y,v,"series"),eP(x)):Z&&ep(x,Y,v,Z.main,Z.sub)}),"none"!==Y&&!ei&&!er&&!Z)try{this[o6]?(ed(this),ef.update.call(this,o),this[o6]=null):ef[Y].call(this,o)}catch(o){throw this[o7]=!1,o}if(_=et?{type:B.event||T,escapeConnect:L,batch:en}:en[0],this[o7]=!1,!v){var ea=this._messageCenter;if(ea.trigger(_.type,_),er){var eo={type:"selectchanged",escapeConnect:L,selected:getAllSelectedIndices(w),isFromClick:o.isFromClick||!1,fromAction:o.type,fromActionPayload:o};ea.trigger(eo.type,eo)}}},ev=function(o){for(var v=this._pendingActions;v.length;){var _=v.shift();ey.call(this,_,o)}},e_=function(o){o||this.trigger("updated")},eb=function(o,v){o.on("rendered",function(_){v.trigger("rendered",_),!o.animation.isFinished()||v[o6]||v._scheduler.unfinished||v._pendingActions.length||v.trigger("finished")})},eS=function(o,v){o.on("mouseover",function(o){var _=findEventDispatcher(o.target,isHighDownDispatcher);_&&(handleGlobalMouseOverForHighDown(_,o,v._api),eP(v))}).on("mouseout",function(o){var _=findEventDispatcher(o.target,isHighDownDispatcher);_&&(handleGlobalMouseOutForHighDown(_,o,v._api),eP(v))}).on("click",function(o){var _=findEventDispatcher(o.target,function(o){return null!=rN(o).dataIndex},!0);if(_){var x=_.selected?"unselect":"select",w=rN(_);v._api.dispatchAction({type:x,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})},ex=function(o,v,_,x,w){allocateZlevels(v),ew(o,v,_,x,w),util_each(o._chartsViews,function(o){o.__alive=!1}),eC(o,v,_,x,w),util_each(o._chartsViews,function(o){o.__alive||o.remove(v,_)})},ew=function(o,v,_,x,w,T){util_each(T||o._componentsViews,function(o){var w=o.__model;clearStates(w,o),o.render(w,v,_,x),updateZ(w,o),updateStates(w,o)})},eC=function(o,v,_,x,w,T){var L=o._scheduler;w=extend(w||{},{updatedSeries:v.getSeries()}),o3.trigger("series:beforeupdate",v,_,w);var N=!1;v.eachSeries(function(v){var _=o._chartsMap[v.__viewId];_.__alive=!0;var w=_.renderTask;L.updatePayload(w,x),clearStates(v,_),T&&T.get(v.uid)&&w.dirty(),w.perform(L.getPerformArgs(w))&&(N=!0),_.group.silent=!!v.get("silent"),updateBlend(v,_),updateSeriesElementSelection(v)}),L.unfinished=N||L.unfinished,o3.trigger("series:layoutlabels",v,_,w),o3.trigger("series:transition",v,_,w),v.eachSeries(function(v){var _=o._chartsMap[v.__viewId];updateZ(v,_),updateStates(v,_)}),updateHoverLayerStatus(o,v),o3.trigger("series:afterupdate",v,_,w)},eP=function(o){o[o9]=!0,o.getZr().wakeUp()},eI=function(o){o[o9]&&(o.getZr().storage.traverse(function(o){isElementRemoved(o)||applyElementStates(o)}),o[o9]=!1)},eT=function(o){return new(function(v){function class_1(){return null!==v&&v.apply(this,arguments)||this}return __extends(class_1,v),class_1.prototype.getCoordinateSystems=function(){return o._coordSysMgr.getCoordinateSystems()},class_1.prototype.getComponentByElement=function(v){for(;v;){var _=v.__ecComponentInfo;if(null!=_)return o._model.getComponent(_.mainType,_.index);v=v.parent}},class_1.prototype.enterEmphasis=function(v,_){enterEmphasis(v,_),eP(o)},class_1.prototype.leaveEmphasis=function(v,_){leaveEmphasis(v,_),eP(o)},class_1.prototype.enterBlur=function(v){traverseUpdateState(v,singleEnterBlur),eP(o)},class_1.prototype.leaveBlur=function(v){traverseUpdateState(v,singleLeaveBlur),eP(o)},class_1.prototype.enterSelect=function(v){traverseUpdateState(v,singleEnterSelect),eP(o)},class_1.prototype.leaveSelect=function(v){traverseUpdateState(v,singleLeaveSelect),eP(o)},class_1.prototype.getModel=function(){return o.getModel()},class_1.prototype.getViewOfComponentModel=function(v){return o.getViewOfComponentModel(v)},class_1.prototype.getViewOfSeriesModel=function(v){return o.getViewOfSeriesModel(v)},class_1}(core_ExtensionAPI))(o)},eM=function(o){function updateConnectedChartsStatus(o,v){for(var _=0;_<o.length;_++)o[_][sn]=v}util_each(sc,function(v,_){o._messageCenter.on(_,function(v){if(sy[o.group]&&0!==o[sn]&&(!v||!v.escapeConnect)){var _=o.makeActionFromEvent(v),x=[];util_each(sm,function(v){v!==o&&v.group===o.group&&x.push(v)}),updateConnectedChartsStatus(x,0),util_each(x,function(o){1!==o[sn]&&o.dispatchAction(_)}),updateConnectedChartsStatus(x,2)}})})}}(),ECharts}(te),ss=so.prototype;ss.on=createRegisterEventWithLowercaseECharts("on"),ss.off=createRegisterEventWithLowercaseECharts("off"),ss.one=function(o,v,_){var x=this;function wrapped(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];v&&v.apply&&v.apply(this,_),x.off(o,wrapped)}this.on.call(this,o,wrapped,_)};var sl=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],su={},sc={},sd=[],sh=[],sp=[],sf={},sg={},sm={},sy={},sv=+new Date-0,s_="_echarts_instance_";function echarts_init(o,v,_){var x=!(_&&_.ssr);if(x){var w=getInstanceByDom(o);if(w)return w}var T=new so(o,v,_);return T.id="ec_"+sv++,sm[T.id]=T,x&&setAttribute(o,s_,T.id),eM(T),o3.trigger("afterinit",T),T}function getInstanceByDom(o){return sm[getAttribute(o,s_)]}function registerPreprocessor(o){0>indexOf(sh,o)&&sh.push(o)}function registerProcessor(o,v){normalizeRegister(sd,o,v,2e3)}function registerPostInit(o){registerUpdateLifecycle("afterinit",o)}function registerPostUpdate(o){registerUpdateLifecycle("afterupdate",o)}function registerUpdateLifecycle(o,v){o3.on(o,v)}function registerAction(o,v,_){isFunction(v)&&(_=v,v="");var x=util_isObject(o)?o.type:[o,o={event:v}][0];o.event=(o.event||x).toLowerCase(),sc[v=o.event]||(assert(o8.test(x)&&o8.test(v)),su[x]||(su[x]={action:_,actionInfo:o}),sc[v]=x)}function registerCoordinateSystem(o,v){iU.register(o,v)}function registerLayout(o,v){normalizeRegister(sp,o,v,1e3,"layout")}function registerVisual(o,v){normalizeRegister(sp,o,v,3e3,"visual")}var sb=[];function normalizeRegister(o,v,_,x,w){if((isFunction(v)||util_isObject(v))&&(_=v,v=x),!(indexOf(sb,_)>=0)){sb.push(_);var T=oE.wrapStageHandler(_,w);T.__prio=v,T.__raw=_,o.push(T)}}function registerLoading(o,v){sg[o]=v}function registerMap(o,v,_){var x=impl_getImpl("registerMap");x&&x(o,v,_)}var sS=registerExternalTransform;registerVisual(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(o,v){var _=o.getData(),x=o.visualStyleAccessPath||"itemStyle",w=o.getModel(x),T=getStyleMapper(o,x)(w),L=w.getShallow("decal");L&&(_.setVisual("decal",L),L.dirty=!0);var N=getDefaultColorKey(o,x),B=T[N],H=isFunction(B)?B:null,Y="auto"===T.fill||"auto"===T.stroke;if(!T[N]||H||Y){var Z=o.getColorFromPalette(o.name,null,v.getSeriesCount());T[N]||(T[N]=Z,_.setVisual("colorFromPalette",!0)),T.fill="auto"===T.fill||isFunction(T.fill)?Z:T.fill,T.stroke="auto"===T.stroke||isFunction(T.stroke)?Z:T.stroke}if(_.setVisual("style",T),_.setVisual("drawType",N),!v.isSeriesFiltered(o)&&H)return _.setVisual("colorFromPalette",!1),{dataEach:function(v,_){var x=o.getDataParams(_),w=extend({},T);w[N]=H(x),v.setItemVisual(_,"style",w)}}}}),registerVisual(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(o,v){if(!(o.ignoreStyleOnData||v.isSeriesFiltered(o))){var _=o.getData(),x=o.visualStyleAccessPath||"itemStyle",w=getStyleMapper(o,x),T=_.getVisual("drawType");return{dataEach:_.hasItemOption?function(o,v){var _=o.getRawDataItem(v);if(_&&_[x]){oI.option=_[x];var L=w(oI);extend(o.ensureUniqueItemVisual(v,"style"),L),oI.option.decal&&(o.setItemVisual(v,"decal",oI.option.decal),oI.option.decal.dirty=!0),T in L&&o.setItemVisual(v,"colorFromPalette",!1)}}:null}}}}),registerVisual(4500,{performRawSeries:!0,overallReset:function(o){var v=createHashMap();o.eachSeries(function(o){var _=o.getColorBy();if(!o.isColorBySeries()){var x=o.type+"-"+_,w=v.get(x);w||(w={},v.set(x,w)),oT(o).scope=w}}),o.eachSeries(function(v){if(!(v.isColorBySeries()||o.isSeriesFiltered(v))){var _=v.getRawData(),x={},w=v.getData(),T=oT(v).scope,L=v.visualStyleAccessPath||"itemStyle",N=getDefaultColorKey(v,L);w.each(function(o){x[w.getRawIndex(o)]=o}),_.each(function(o){var L=x[o];if(w.getItemVisual(L,"colorFromPalette")){var B=w.ensureUniqueItemVisual(L,"style"),H=_.getName(o)||o+"",Y=_.count();B[N]=v.getColorFromPalette(H,T,Y)}})}})}}),registerVisual(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(o,v){var _=o.getData();if(o.legendIcon&&_.setVisual("legendIcon",o.legendIcon),o.hasSymbolVisual){for(var x={},w={},T=!1,L=0;L<oz.length;L++){var N=oz[L],B=o.get(N);isFunction(B)?(T=!0,w[N]=B):x[N]=B}if(x.symbol=x.symbol||o.defaultSymbol,_.setVisual(extend({legendIcon:o.legendIcon||x.symbol,symbolKeepAspect:o.get("symbolKeepAspect")},x)),!v.isSeriesFiltered(o)){var H=keys(w);return{dataEach:T?dataEach:null}}}function dataEach(v,_){for(var x=o.getRawValue(_),T=o.getDataParams(_),L=0;L<H.length;L++){var N=H[L];v.setItemVisual(_,N,w[N](x,T))}}}}),registerVisual(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(o,v){if(!(!o.hasSymbolVisual||v.isSeriesFiltered(o)))return{dataEach:o.getData().hasItemOption?dataEach:null};function dataEach(o,v){for(var _=o.getItemModel(v),x=0;x<oj.length;x++){var w=oj[x],T=_.getShallow(w,!0);null!=T&&o.setItemVisual(v,w,T)}}}}),registerVisual(7e3,decalVisual),registerPreprocessor(globalBackwardCompat),registerProcessor(900,dataStack),Y=defaultLoading,sg.default=Y,registerAction({type:rG,event:rG,update:rG},noop),registerAction({type:rU,event:rU,update:rU},noop),registerAction({type:rW,event:rW,update:rW},noop),registerAction({type:rY,event:rY,update:rY},noop),registerAction({type:rK,event:rK,update:rK},noop),sf.light={color:oL,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],oL]},sf.dark=oV;var sx=[],sw={registerPreprocessor:registerPreprocessor,registerProcessor:registerProcessor,registerPostInit:registerPostInit,registerPostUpdate:registerPostUpdate,registerUpdateLifecycle:registerUpdateLifecycle,registerAction:registerAction,registerCoordinateSystem:registerCoordinateSystem,registerLayout:registerLayout,registerVisual:registerVisual,registerTransform:sS,registerLoading:registerLoading,registerMap:registerMap,registerImpl:registerImpl,PRIORITY:{PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},ComponentModel:ix,ComponentView:ax,SeriesModel:aS,ChartView:ob,registerComponentModel:function(o){ix.registerClass(o)},registerComponentView:function(o){ax.registerClass(o)},registerSeriesModel:function(o){aS.registerClass(o)},registerChartView:function(o){ob.registerClass(o)},registerSubTypeDefaulter:function(o,v){ix.registerSubTypeDefaulter(o,v)},registerPainter:function(o,v){registerPainter(o,v)}};function use(o){if(util_isArray(o)){util_each(o,function(o){use(o)});return}indexOf(sx,o)>=0||(sx.push(o),isFunction(o)&&(o={install:o}),o.install(sw))}var sC=2*Math.PI,sT=rl.CMD,sM=["top","right","bottom","left"];function getCandidateAnchor(o,v,_,x,w){var T=_.width,L=_.height;switch(o){case"top":x.set(_.x+T/2,_.y-v),w.set(0,-1);break;case"bottom":x.set(_.x+T/2,_.y+L+v),w.set(0,1);break;case"left":x.set(_.x-v,_.y+L/2),w.set(-1,0);break;case"right":x.set(_.x+T+v,_.y+L/2),w.set(1,0)}}function projectPointToArc(o,v,_,x,w,T,L,N,B){var H=Math.sqrt((L-=o)*L+(N-=v)*N),Y=(L/=H)*_+o,Z=(N/=H)*_+v;if(Math.abs(x-w)%sC<1e-4)return B[0]=Y,B[1]=Z,H-_;if(T){var X=x;x=normalizeRadian(w),w=normalizeRadian(X)}else x=normalizeRadian(x),w=normalizeRadian(w);x>w&&(w+=sC);var et=Math.atan2(N,L);if(et<0&&(et+=sC),et>=x&&et<=w||et+sC>=x&&et+sC<=w)return B[0]=Y,B[1]=Z,H-_;var en=_*Math.cos(x)+o,er=_*Math.sin(x)+v,ei=_*Math.cos(w)+o,ea=_*Math.sin(w)+v,eo=(en-L)*(en-L)+(er-N)*(er-N),el=(ei-L)*(ei-L)+(ea-N)*(ea-N);return eo<el?(B[0]=en,B[1]=er,Math.sqrt(eo)):(B[0]=ei,B[1]=ea,Math.sqrt(el))}function projectPointToLine(o,v,_,x,w,T,L,N){var B=_-o,H=x-v,Y=Math.sqrt(B*B+H*H),Z=((w-o)*(B/=Y)+(T-v)*(H/=Y))/Y;N&&(Z=Math.min(Math.max(Z,0),1)),Z*=Y;var X=L[0]=o+Z*B,et=L[1]=v+Z*H;return Math.sqrt((X-w)*(X-w)+(et-T)*(et-T))}function projectPointToRect(o,v,_,x,w,T,L){_<0&&(o+=_,_=-_),x<0&&(v+=x,x=-x);var N=o+_,B=v+x,H=L[0]=Math.min(Math.max(w,o),N),Y=L[1]=Math.min(Math.max(T,v),B);return Math.sqrt((H-w)*(H-w)+(Y-T)*(Y-T))}var sP=[];function nearestPointOnRect(o,v,_){var x=projectPointToRect(v.x,v.y,v.width,v.height,o.x,o.y,sP);return _.set(sP[0],sP[1]),x}function nearestPointOnPath(o,v,_){for(var x,w,T=0,L=0,N=0,B=0,H=1/0,Y=v.data,Z=o.x,X=o.y,et=0;et<Y.length;){var en=Y[et++];1===et&&(T=Y[et],L=Y[et+1],N=T,B=L);var er=H;switch(en){case sT.M:N=Y[et++],B=Y[et++],T=N,L=B;break;case sT.L:er=projectPointToLine(T,L,Y[et],Y[et+1],Z,X,sP,!0),T=Y[et++],L=Y[et++];break;case sT.C:er=cubicProjectPoint(T,L,Y[et++],Y[et++],Y[et++],Y[et++],Y[et],Y[et+1],Z,X,sP),T=Y[et++],L=Y[et++];break;case sT.Q:er=quadraticProjectPoint(T,L,Y[et++],Y[et++],Y[et],Y[et+1],Z,X,sP),T=Y[et++],L=Y[et++];break;case sT.A:var ei=Y[et++],ea=Y[et++],eo=Y[et++],el=Y[et++],eu=Y[et++],ec=Y[et++];et+=1;var ed=!!(1-Y[et++]);x=Math.cos(eu)*eo+ei,w=Math.sin(eu)*el+ea,et<=1&&(N=x,B=w);var eh=(Z-ei)*el/eo+ei;er=projectPointToArc(ei,ea,el,eu,eu+ec,ed,eh,X,sP),T=Math.cos(eu+ec)*eo+ei,L=Math.sin(eu+ec)*el+ea;break;case sT.R:er=projectPointToRect(N=T=Y[et++],B=L=Y[et++],Y[et++],Y[et++],Z,X,sP);break;case sT.Z:er=projectPointToLine(T,L,N,B,Z,X,sP,!0),T=N,L=B}er<H&&(H=er,_.set(sP[0],sP[1]))}return H}var sI=new th,sD=new th,sE=new th,sO=new th,sA=new th;function updateLabelLinePoints(o,v){if(o){var _=o.getTextGuideLine(),x=o.getTextContent();if(x&&_){var w=o.textGuideLineConfig||{},T=[[0,0],[0,0],[0,0]],L=w.candidates||sM,N=x.getBoundingRect().clone();N.applyTransform(x.getComputedTransform());var B=1/0,H=w.anchor,Y=o.getComputedTransform(),Z=Y&&matrix_invert([],Y),X=v.get("length2")||0;H&&sE.copy(H);for(var et=0;et<L.length;et++){getCandidateAnchor(L[et],0,N,sI,sO),th.scaleAndAdd(sD,sI,sO,X),sD.transform(Z);var en=o.getBoundingRect(),er=H?H.distance(sD):o instanceof rv?nearestPointOnPath(sD,o.path,sE):nearestPointOnRect(sD,en,sE);er<B&&(B=er,sD.transform(Y),sE.transform(Y),sE.toArray(T[0]),sD.toArray(T[1]),sI.toArray(T[2]))}limitTurnAngle(T,v.get("minTurnAngle")),_.setShape({points:T})}}}var sk=[],sL=new th;function limitTurnAngle(o,v){if(v<=180&&v>0){v=v/180*Math.PI,sI.fromArray(o[0]),sD.fromArray(o[1]),sE.fromArray(o[2]),th.sub(sO,sI,sD),th.sub(sA,sE,sD);var _=sO.len(),x=sA.len();if(!(_<.001)&&!(x<.001)&&(sO.scale(1/_),sA.scale(1/x),Math.cos(v)<sO.dot(sA))){var w=projectPointToLine(sD.x,sD.y,sE.x,sE.y,sI.x,sI.y,sk,!1);sL.fromArray(sk),sL.scaleAndAdd(sA,w/Math.tan(Math.PI-v));var T=sE.x!==sD.x?(sL.x-sD.x)/(sE.x-sD.x):(sL.y-sD.y)/(sE.y-sD.y);if(isNaN(T))return;T<0?th.copy(sL,sD):T>1&&th.copy(sL,sE),sL.toArray(o[1])}}}function limitSurfaceAngle(o,v,_){if(_<=180&&_>0){_=_/180*Math.PI,sI.fromArray(o[0]),sD.fromArray(o[1]),sE.fromArray(o[2]),th.sub(sO,sD,sI),th.sub(sA,sE,sD);var x=sO.len(),w=sA.len();if(!(x<.001)&&!(w<.001)&&(sO.scale(1/x),sA.scale(1/w),sO.dot(v)<Math.cos(_))){var T=projectPointToLine(sD.x,sD.y,sE.x,sE.y,sI.x,sI.y,sk,!1);sL.fromArray(sk);var L=Math.PI/2,N=L+Math.acos(sA.dot(v))-_;if(N>=L)th.copy(sL,sE);else{sL.scaleAndAdd(sA,T/Math.tan(Math.PI/2-N));var B=sE.x!==sD.x?(sL.x-sD.x)/(sE.x-sD.x):(sL.y-sD.y)/(sE.y-sD.y);if(isNaN(B))return;B<0?th.copy(sL,sD):B>1&&th.copy(sL,sE)}sL.toArray(o[1])}}}function setLabelLineState(o,v,_,x){var w="normal"===_,T=w?o:o.ensureState(_);T.ignore=v;var L=x.get("smooth");L&&!0===L&&(L=.3),T.shape=T.shape||{},L>0&&(T.shape.smooth=L);var N=x.getModel("lineStyle").getLineStyle();w?o.useStyle(N):T.style=N}function buildLabelLinePath(o,v){var _=v.smooth,x=v.points;if(x){if(o.moveTo(x[0][0],x[0][1]),_>0&&x.length>=3){var w=e9(x[0],x[1]),T=e9(x[1],x[2]);if(!w||!T){o.lineTo(x[1][0],x[1][1]),o.lineTo(x[2][0],x[2][1]);return}var L=Math.min(w,T)*_,N=lerp([],x[1],x[0],L/w),B=lerp([],x[1],x[2],L/T),H=lerp([],N,B,.5);o.bezierCurveTo(N[0],N[1],N[0],N[1],H[0],H[1]),o.bezierCurveTo(B[0],B[1],B[0],B[1],x[2][0],x[2][1])}else for(var Y=1;Y<x.length;Y++)o.lineTo(x[Y][0],x[Y][1])}}function setLabelLineStyle(o,v,_){var x=o.getTextGuideLine(),w=o.getTextContent();if(!w){x&&o.removeTextGuideLine();return}for(var T=v.normal,L=T.get("show"),N=w.ignore,B=0;B<rH.length;B++){var H=rH[B],Y=v[H],Z="normal"===H;if(Y){var X=Y.get("show");if((Z?N:retrieve2(w.states[H]&&w.states[H].ignore,N))||!retrieve2(X,L)){var et=Z?x:x&&x.states[H];et&&(et.ignore=!0);continue}!x&&(x=new a1,o.setTextGuideLine(x),Z||!N&&L||setLabelLineState(x,!0,"normal",v.normal),o.stateProxy&&(x.stateProxy=o.stateProxy)),setLabelLineState(x,!1,H,Y)}}if(x){util_defaults(x.style,_),x.style.fill=null;var en=T.get("showAbove");(o.textGuideLineConfig=o.textGuideLineConfig||{}).showAbove=en||!1,x.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(o,v){v=v||"labelLine";for(var _={normal:o.getModel(v)},x=0;x<rj.length;x++){var w=rj[x];_[w]=o.getModel([w,v])}return _}function prepareLayoutList(o){for(var v=[],_=0;_<o.length;_++){var x=o[_];if(!x.defaultAttr.ignore){var w=x.label,T=w.getComputedTransform(),L=w.getBoundingRect(),N=!T||T[1]<1e-5&&T[2]<1e-5,B=w.style.margin||0,H=L.clone();H.applyTransform(T),H.x-=B/2,H.y-=B/2,H.width+=B,H.height+=B;var Y=N?new ou(L,T):null;v.push({label:w,labelLine:x.labelLine,rect:H,localRect:L,obb:Y,priority:x.priority,defaultAttr:x.defaultAttr,layoutOption:x.computedLayoutOption,axisAligned:N,transform:T})}}return v}function shiftLayout(o,v,_,x,w,T){var L,N,B,H=o.length;if(!(H<2)){o.sort(function(o,_){return o.rect[v]-_.rect[v]});for(var Y=0,Z=!1,X=[],et=0,en=0;en<H;en++){var er=o[en],ei=er.rect;(L=ei[v]-Y)<0&&(ei[v]-=L,er.label[v]-=L,Z=!0);var ea=Math.max(-L,0);X.push(ea),et+=ea,Y=ei[v]+ei[_]}et>0&&T&&shiftList(-et/H,0,H);var eo=o[0],el=o[H-1];return updateMinMaxGap(),N<0&&squeezeGaps(-N,.8),B<0&&squeezeGaps(B,.8),updateMinMaxGap(),takeBoundsGap(N,B,1),takeBoundsGap(B,N,-1),updateMinMaxGap(),N<0&&squeezeWhenBailout(-N),B<0&&squeezeWhenBailout(B),Z}function updateMinMaxGap(){N=eo.rect[v]-x,B=w-el.rect[v]-el.rect[_]}function takeBoundsGap(o,v,_){if(o<0){var x=Math.min(v,-o);if(x>0){shiftList(x*_,0,H);var w=x+o;w<0&&squeezeGaps(-w*_,1)}else squeezeGaps(-o*_,1)}}function shiftList(_,x,w){0!==_&&(Z=!0);for(var T=x;T<w;T++){var L=o[T],N=L.rect;N[v]+=_,L.label[v]+=_}}function squeezeGaps(x,w){for(var T=[],L=0,N=1;N<H;N++){var B=o[N-1].rect,Y=Math.max(o[N].rect[v]-B[v]-B[_],0);T.push(Y),L+=Y}if(L){var Z=Math.min(Math.abs(x)/L,w);if(x>0)for(var N=0;N<H-1;N++){var X=T[N]*Z;shiftList(X,0,N+1)}else for(var N=H-1;N>0;N--){var X=T[N-1]*Z;shiftList(-X,N,H)}}}function squeezeWhenBailout(o){for(var v=o<0?-1:1,_=Math.ceil((o=Math.abs(o))/(H-1)),x=0;x<H-1;x++)if(v>0?shiftList(_,0,x+1):shiftList(-_,H-x-1,H),(o-=_)<=0)return}}function shiftLayoutOnX(o,v,_,x){return shiftLayout(o,"x","width",v,_,x)}function shiftLayoutOnY(o,v,_,x){return shiftLayout(o,"y","height",v,_,x)}function hideOverlap(o){var v=[];o.sort(function(o,v){return v.priority-o.priority});var _=new tS(0,0,0,0);function hideEl(o){if(!o.ignore){var v=o.ensureState("emphasis");null==v.ignore&&(v.ignore=!1)}o.ignore=!0}for(var x=0;x<o.length;x++){var w=o[x],T=w.axisAligned,L=w.localRect,N=w.transform,B=w.label,H=w.labelLine;_.copy(w.rect),_.width-=.1,_.height-=.1,_.x+=.05,_.y+=.05;for(var Y=w.obb,Z=!1,X=0;X<v.length;X++){var et=v[X];if(_.intersect(et.rect)&&(T&&et.axisAligned||(et.obb||(et.obb=new ou(et.localRect,et.transform)),Y||(Y=new ou(L,N)),Y.intersect(et.obb)))){Z=!0;break}}Z?(hideEl(B),H&&hideEl(H)):(B.attr("ignore",w.defaultAttr.ignore),H&&H.attr("ignore",w.defaultAttr.labelGuideIgnore),v.push(w))}}function cloneArr(o){if(o){for(var v=[],_=0;_<o.length;_++)v.push(o[_].slice());return v}}function prepareLayoutCallbackParams(o,v){var _=o.label,x=v&&v.getTextGuideLine();return{dataIndex:o.dataIndex,dataType:o.dataType,seriesIndex:o.seriesModel.seriesIndex,text:o.label.style.text,rect:o.hostRect,labelRect:o.rect,align:_.style.align,verticalAlign:_.style.verticalAlign,labelLinePoints:cloneArr(x&&x.shape.points)}}var sR=["align","verticalAlign","width","height","fontSize"],sN=new no,sF=makeInner(),sV=makeInner();function extendWithKeys(o,v,_){for(var x=0;x<_.length;x++){var w=_[x];null!=v[w]&&(o[w]=v[w])}}var sB=["x","y","rotation"],sz=function(){function LabelManager(){this._labelList=[],this._chartViewList=[]}return LabelManager.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},LabelManager.prototype._addLabel=function(o,v,_,x,w){var T,L=x.style,N=x.__hostTarget.textConfig||{},B=x.getComputedTransform(),H=x.getBoundingRect().plain();tS.applyTransform(H,H,B),B?sN.setLocalTransform(B):(sN.x=sN.y=sN.rotation=sN.originX=sN.originY=0,sN.scaleX=sN.scaleY=1),sN.rotation=normalizeRadian(sN.rotation);var Y=x.__hostTarget;if(Y){T=Y.getBoundingRect().plain();var Z=Y.getComputedTransform();tS.applyTransform(T,T,Z)}var X=T&&Y.getTextGuideLine();this._labelList.push({label:x,labelLine:X,seriesModel:_,dataIndex:o,dataType:v,layoutOption:w,computedLayoutOption:null,rect:H,hostRect:T,priority:T?T.width*T.height:0,defaultAttr:{ignore:x.ignore,labelGuideIgnore:X&&X.ignore,x:sN.x,y:sN.y,scaleX:sN.scaleX,scaleY:sN.scaleY,rotation:sN.rotation,style:{x:L.x,y:L.y,align:L.align,verticalAlign:L.verticalAlign,width:L.width,height:L.height,fontSize:L.fontSize},cursor:x.cursor,attachedPos:N.position,attachedRot:N.rotation}})},LabelManager.prototype.addLabelsOfSeries=function(o){var v=this;this._chartViewList.push(o);var _=o.__model,x=_.get("labelLayout");(isFunction(x)||keys(x).length)&&o.group.traverse(function(o){if(o.ignore)return!0;var w=o.getTextContent(),T=rN(o);w&&!w.disableLabelLayout&&v._addLabel(T.dataIndex,T.dataType,_,w,x)})},LabelManager.prototype.updateLayoutConfig=function(o){var v=o.getWidth(),_=o.getHeight();function createDragHandler(o,v){return function(){updateLabelLinePoints(o,v)}}for(var x=0;x<this._labelList.length;x++){var w=this._labelList[x],T=w.label,L=T.__hostTarget,N=w.defaultAttr,B=void 0;B=(B=isFunction(w.layoutOption)?w.layoutOption(prepareLayoutCallbackParams(w,L)):w.layoutOption)||{},w.computedLayoutOption=B;var H=Math.PI/180;L&&L.setTextConfig({local:!1,position:null!=B.x||null!=B.y?null:N.attachedPos,rotation:null!=B.rotate?B.rotate*H:N.attachedRot,offset:[B.dx||0,B.dy||0]});var Y=!1;if(null!=B.x?(T.x=number_parsePercent(B.x,v),T.setStyle("x",0),Y=!0):(T.x=N.x,T.setStyle("x",N.style.x)),null!=B.y?(T.y=number_parsePercent(B.y,_),T.setStyle("y",0),Y=!0):(T.y=N.y,T.setStyle("y",N.style.y)),B.labelLinePoints){var Z=L.getTextGuideLine();Z&&(Z.setShape({points:B.labelLinePoints}),Y=!1)}sF(T).needsUpdateLabelLine=Y,T.rotation=null!=B.rotate?B.rotate*H:N.rotation,T.scaleX=N.scaleX,T.scaleY=N.scaleY;for(var X=0;X<sR.length;X++){var et=sR[X];T.setStyle(et,null!=B[et]?B[et]:N.style[et])}if(B.draggable){if(T.draggable=!0,T.cursor="move",L){var en=w.seriesModel;null!=w.dataIndex&&(en=w.seriesModel.getData(w.dataType).getItemModel(w.dataIndex)),T.on("drag",createDragHandler(L,en.getModel("labelLine")))}}else T.off("drag"),T.cursor=N.cursor}},LabelManager.prototype.layout=function(o){var v=o.getWidth(),_=o.getHeight(),x=prepareLayoutList(this._labelList),w=filter(x,function(o){return"shiftX"===o.layoutOption.moveOverlap}),T=filter(x,function(o){return"shiftY"===o.layoutOption.moveOverlap});shiftLayoutOnX(w,0,v),shiftLayoutOnY(T,0,_),hideOverlap(filter(x,function(o){return o.layoutOption.hideOverlap}))},LabelManager.prototype.processLabelsOverall=function(){var o=this;util_each(this._chartViewList,function(v){var _=v.__model,x=v.ignoreLabelLineUpdate,w=_.isAnimationEnabled();v.group.traverse(function(v){if(v.ignore&&!v.forceLabelAnimation)return!0;var T=!x,L=v.getTextContent();!T&&L&&(T=sF(L).needsUpdateLabelLine),T&&o._updateLabelLine(v,_),w&&o._animateLabels(v,_)})})},LabelManager.prototype._updateLabelLine=function(o,v){var _=o.getTextContent(),x=rN(o),w=x.dataIndex;if(_&&null!=w){var T=v.getData(x.dataType),L=T.getItemModel(w),N={},B=T.getItemVisual(w,"style");if(B){var H=T.getVisual("drawType");N.stroke=B[H]}var Y=L.getModel("labelLine");setLabelLineStyle(o,getLabelLineStatesModels(L),N),updateLabelLinePoints(o,Y)}},LabelManager.prototype._animateLabels=function(o,v){var _=o.getTextContent(),x=o.getTextGuideLine();if(_&&(o.forceLabelAnimation||!_.ignore&&!_.invisible&&!o.disableLabelAnimation&&!isElementRemoved(o))){var w=sF(_),T=w.oldLayout,L=rN(o),N=L.dataIndex,B={x:_.x,y:_.y,rotation:_.rotation},H=v.getData(L.dataType);if(T){_.attr(T);var Y=o.prevStates;Y&&(indexOf(Y,"select")>=0&&_.attr(w.oldLayoutSelect),indexOf(Y,"emphasis")>=0&&_.attr(w.oldLayoutEmphasis)),updateProps(_,B,v,N)}else if(_.attr(B),!r2(_).valueAnimation){var Z=retrieve2(_.style.opacity,1);_.style.opacity=0,initProps(_,{style:{opacity:Z}},v,N)}if(w.oldLayout=B,_.states.select){var X=w.oldLayoutSelect={};extendWithKeys(X,B,sB),extendWithKeys(X,_.states.select,sB)}if(_.states.emphasis){var et=w.oldLayoutEmphasis={};extendWithKeys(et,B,sB),extendWithKeys(et,_.states.emphasis,sB)}animateLabelValue(_,N,H,v,v)}if(x&&!x.ignore&&!x.invisible){var w=sV(x),T=w.oldLayout,en={points:x.shape.points};T?(x.attr({shape:T}),updateProps(x,{shape:en},v)):(x.setShape(en),x.style.strokePercent=0,initProps(x,{style:{strokePercent:1}},v)),w.oldLayout=en}},LabelManager}(),sj=makeInner();function installLabelLayout(o){o.registerUpdateLifecycle("series:beforeupdate",function(o,v,_){var x=sj(v).labelManager;x||(x=sj(v).labelManager=new sz),x.clearLabels()}),o.registerUpdateLifecycle("series:layoutlabels",function(o,v,_){var x=sj(v).labelManager;_.updatedSeries.forEach(function(o){x.addLabelsOfSeries(v.getViewOfSeriesModel(o))}),x.updateLayoutConfig(v),x.layout(v),x.processLabelsOverall()})}function createDom(o,v,_){var x=eH.createCanvas(),w=v.getWidth(),T=v.getHeight(),L=x.style;return L&&(L.position="absolute",L.left="0",L.top="0",L.width=w+"px",L.height=T+"px",x.setAttribute("data-zr-dom-id",o)),x.width=w*_,x.height=T*_,x}use(installLabelLayout);var sH=function(o){function Layer(v,_,x){var w,T=o.call(this)||this;T.motionBlur=!1,T.lastFrameAlpha=.7,T.dpr=1,T.virtual=!1,T.config={},T.incremental=!1,T.zlevel=0,T.maxRepaintRectCount=5,T.__dirty=!0,T.__firstTimePaint=!0,T.__used=!1,T.__drawIndex=0,T.__startIndex=0,T.__endIndex=0,T.__prevStartIndex=null,T.__prevEndIndex=null,x=x||t6,"string"==typeof v?w=createDom(v,_,x):util_isObject(v)&&(v=(w=v).id),T.id=v,T.dom=w;var L=w.style;return L&&(disableUserSelect(w),w.onselectstart=function(){return!1},L.padding="0",L.margin="0",L.borderWidth="0"),T.painter=_,T.dpr=x,T}return __extends(Layer,o),Layer.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},Layer.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},Layer.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},Layer.prototype.setUnpainted=function(){this.__firstTimePaint=!0},Layer.prototype.createBackBuffer=function(){var o=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,o),this.ctxBack=this.domBack.getContext("2d"),1!==o&&this.ctxBack.scale(o,o)},Layer.prototype.createRepaintRects=function(o,v,_,x){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var w,T=[],L=this.maxRepaintRectCount,N=!1,B=new tS(0,0,0,0);function addRectToMergePool(o){if(!(!o.isFinite()||o.isZero())){if(0===T.length){var v=new tS(0,0,0,0);v.copy(o),T.push(v)}else{for(var _=!1,x=1/0,w=0,H=0;H<T.length;++H){var Y=T[H];if(Y.intersect(o)){var Z=new tS(0,0,0,0);Z.copy(Y),Z.union(o),T[H]=Z,_=!0;break}if(N){B.copy(o),B.union(Y);var X=o.width*o.height,et=Y.width*Y.height,en=B.width*B.height-X-et;en<x&&(x=en,w=H)}}if(N&&(T[w].union(o),_=!0),!_){var v=new tS(0,0,0,0);v.copy(o),T.push(v)}N||(N=T.length>=L)}}}for(var H=this.__startIndex;H<this.__endIndex;++H){var Y=o[H];if(Y){var Z=Y.shouldBePainted(_,x,!0,!0),X=Y.__isRendered&&(1&Y.__dirty||!Z)?Y.getPrevPaintRect():null;X&&addRectToMergePool(X);var et=Z&&(1&Y.__dirty||!Y.__isRendered)?Y.getPaintRect():null;et&&addRectToMergePool(et)}}for(var H=this.__prevStartIndex;H<this.__prevEndIndex;++H){var Y=v[H],Z=Y.shouldBePainted(_,x,!0,!0);if(Y&&(!Z||!Y.__zr)&&Y.__isRendered){var X=Y.getPrevPaintRect();X&&addRectToMergePool(X)}}do{w=!1;for(var H=0;H<T.length;){if(T[H].isZero()){T.splice(H,1);continue}for(var en=H+1;en<T.length;)T[H].intersect(T[en])?(w=!0,T[H].union(T[en]),T.splice(en,1)):en++;H++}}while(w);return this._paintRects=T,T},Layer.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},Layer.prototype.resize=function(o,v){var _=this.dpr,x=this.dom,w=x.style,T=this.domBack;w&&(w.width=o+"px",w.height=v+"px"),x.width=o*_,x.height=v*_,T&&(T.width=o*_,T.height=v*_,1!==_&&this.ctxBack.scale(_,_))},Layer.prototype.clear=function(o,v,_){var x=this.dom,w=this.ctx,T=x.width,L=x.height;v=v||this.clearColor;var N=this.motionBlur&&!o,B=this.lastFrameAlpha,H=this.dpr,Y=this;N&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(x,0,0,T/H,L/H));var Z=this.domBack;function doClear(o,_,x,T){if(w.clearRect(o,_,x,T),v&&"transparent"!==v){var L=void 0;isGradientObject(v)?(L=(v.global||v.__width===x&&v.__height===T)&&v.__canvasGradient||getCanvasGradient(w,v,{x:0,y:0,width:x,height:T}),v.__canvasGradient=L,v.__width=x,v.__height=T):isImagePatternObject(v)&&(v.scaleX=v.scaleX||H,v.scaleY=v.scaleY||H,L=createCanvasPattern(w,v,{dirty:function(){Y.setUnpainted(),Y.__painter.refresh()}})),w.save(),w.fillStyle=L||v,w.fillRect(o,_,x,T),w.restore()}N&&(w.save(),w.globalAlpha=B,w.drawImage(Z,o,_,x,T),w.restore())}!_||N?doClear(0,0,T,L):_.length&&util_each(_,function(o){doClear(o.x*H,o.y*H,o.width*H,o.height*H)})},Layer}(te);function isLayerValid(o){return!!o&&(!!o.__builtin__||"function"==typeof o.resize&&"function"==typeof o.refresh)}function createRoot(o,v){var _=document.createElement("div");return _.style.cssText=["position:relative","width:"+o+"px","height:"+v+"px","padding:0","margin:0","border-width:0"].join(";")+";",_}var sG=function(){function CanvasPainter(o,v,_,x){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var w=!o.nodeName||"CANVAS"===o.nodeName.toUpperCase();this._opts=_=extend({},_||{}),this.dpr=_.devicePixelRatio||t6,this._singleCanvas=w,this.root=o,o.style&&(disableUserSelect(o),o.innerHTML=""),this.storage=v;var T=this._zlevelList;this._prevDisplayList=[];var L=this._layers;if(w){var N=o.width,B=o.height;null!=_.width&&(N=_.width),null!=_.height&&(B=_.height),this.dpr=_.devicePixelRatio||1,o.width=N*this.dpr,o.height=B*this.dpr,this._width=N,this._height=B;var H=new sH(o,this,this.dpr);H.__builtin__=!0,H.initContext(),L[314159]=H,H.zlevel=314159,T.push(314159),this._domRoot=o}else{this._width=getSize(o,0,_),this._height=getSize(o,1,_);var Y=this._domRoot=createRoot(this._width,this._height);o.appendChild(Y)}}return CanvasPainter.prototype.getType=function(){return"canvas"},CanvasPainter.prototype.isSingleCanvas=function(){return this._singleCanvas},CanvasPainter.prototype.getViewportRoot=function(){return this._domRoot},CanvasPainter.prototype.getViewportRootOffset=function(){var o=this.getViewportRoot();if(o)return{offsetLeft:o.offsetLeft||0,offsetTop:o.offsetTop||0}},CanvasPainter.prototype.refresh=function(o){var v=this.storage.getDisplayList(!0),_=this._prevDisplayList,x=this._zlevelList;this._redrawId=Math.random(),this._paintList(v,_,o,this._redrawId);for(var w=0;w<x.length;w++){var T=x[w],L=this._layers[T];if(!L.__builtin__&&L.refresh){var N=0===w?this._backgroundColor:null;L.refresh(N)}}return this._opts.useDirtyRect&&(this._prevDisplayList=v.slice()),this},CanvasPainter.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},CanvasPainter.prototype._paintHoverList=function(o){var v,_=o.length,x=this._hoverlayer;if(x&&x.clear(),_){for(var w={inHover:!0,viewWidth:this._width,viewHeight:this._height},T=0;T<_;T++){var L=o[T];L.__inHover&&(x||(x=this._hoverlayer=this.getLayer(1e5)),v||(v=x.ctx).save(),brush(v,L,w,T===_-1))}v&&v.restore()}},CanvasPainter.prototype.getHoverLayer=function(){return this.getLayer(1e5)},CanvasPainter.prototype.paintOne=function(o,v){brushSingle(o,v)},CanvasPainter.prototype._paintList=function(o,v,_,x){if(this._redrawId===x){_=_||!1,this._updateLayerStatus(o);var w=this._doPaintList(o,v,_),T=w.finished,L=w.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),L&&this._paintHoverList(o),T)this.eachLayer(function(o){o.afterBrush&&o.afterBrush()});else{var N=this;Z(function(){N._paintList(o,v,_,x)})}}},CanvasPainter.prototype._compositeManually=function(){var o=this.getLayer(314159).ctx,v=this._domRoot.width,_=this._domRoot.height;o.clearRect(0,0,v,_),this.eachBuiltinLayer(function(x){x.virtual&&o.drawImage(x.dom,0,0,v,_)})},CanvasPainter.prototype._doPaintList=function(o,v,_){for(var x=this,w=[],T=this._opts.useDirtyRect,L=0;L<this._zlevelList.length;L++){var N=this._zlevelList[L],B=this._layers[N];B.__builtin__&&B!==this._hoverlayer&&(B.__dirty||_)&&w.push(B)}for(var H=!0,Y=!1,Z=this,X=0;X<w.length;X++)!function(L){var N,B=w[L],X=B.ctx,et=T&&B.createRepaintRects(o,v,Z._width,Z._height),en=_?B.__startIndex:B.__drawIndex,er=!_&&B.incremental&&Date.now,ei=er&&Date.now(),ea=B.zlevel===Z._zlevelList[0]?Z._backgroundColor:null;if(B.__startIndex===B.__endIndex)B.clear(!1,ea,et);else if(en===B.__startIndex){var eo=o[en];eo.incremental&&eo.notClear&&!_||B.clear(!1,ea,et)}-1===en&&(console.error("For some unknown reason. drawIndex is -1"),en=B.__startIndex);var repaint=function(v){var _={inHover:!1,allClipped:!1,prevEl:null,viewWidth:x._width,viewHeight:x._height};for(N=en;N<B.__endIndex;N++){var w=o[N];if(w.__inHover&&(Y=!0),x._doPaintEl(w,B,T,v,_,N===B.__endIndex-1),er&&Date.now()-ei>15)break}_.prevElClipPaths&&X.restore()};if(et){if(0===et.length)N=B.__endIndex;else for(var el=Z.dpr,eu=0;eu<et.length;++eu){var ec=et[eu];X.save(),X.beginPath(),X.rect(ec.x*el,ec.y*el,ec.width*el,ec.height*el),X.clip(),repaint(ec),X.restore()}}else X.save(),repaint(),X.restore();B.__drawIndex=N,B.__drawIndex<B.__endIndex&&(H=!1)}(X);return eV.wxa&&util_each(this._layers,function(o){o&&o.ctx&&o.ctx.draw&&o.ctx.draw()}),{finished:H,needsRefreshHover:Y}},CanvasPainter.prototype._doPaintEl=function(o,v,_,x,w,T){var L=v.ctx;if(_){var N=o.getPaintRect();(!x||N&&N.intersect(x))&&(brush(L,o,w,T),o.setPrevPaintRect(N))}else brush(L,o,w,T)},CanvasPainter.prototype.getLayer=function(o,v){this._singleCanvas&&!this._needsManuallyCompositing&&(o=314159);var _=this._layers[o];return _||((_=new sH("zr_"+o,this,this.dpr)).zlevel=o,_.__builtin__=!0,this._layerConfig[o]?merge(_,this._layerConfig[o],!0):this._layerConfig[o-.01]&&merge(_,this._layerConfig[o-.01],!0),v&&(_.virtual=v),this.insertLayer(o,_),_.initContext()),_},CanvasPainter.prototype.insertLayer=function(o,v){var _=this._layers,x=this._zlevelList,w=x.length,T=this._domRoot,L=null,N=-1;if(!_[o]&&isLayerValid(v)){if(w>0&&o>x[0]){for(N=0;N<w-1&&(!(x[N]<o)||!(x[N+1]>o));N++);L=_[x[N]]}if(x.splice(N+1,0,o),_[o]=v,!v.virtual){if(L){var B=L.dom;B.nextSibling?T.insertBefore(v.dom,B.nextSibling):T.appendChild(v.dom)}else T.firstChild?T.insertBefore(v.dom,T.firstChild):T.appendChild(v.dom)}v.__painter=this}},CanvasPainter.prototype.eachLayer=function(o,v){for(var _=this._zlevelList,x=0;x<_.length;x++){var w=_[x];o.call(v,this._layers[w],w)}},CanvasPainter.prototype.eachBuiltinLayer=function(o,v){for(var _=this._zlevelList,x=0;x<_.length;x++){var w=_[x],T=this._layers[w];T.__builtin__&&o.call(v,T,w)}},CanvasPainter.prototype.eachOtherLayer=function(o,v){for(var _=this._zlevelList,x=0;x<_.length;x++){var w=_[x],T=this._layers[w];T.__builtin__||o.call(v,T,w)}},CanvasPainter.prototype.getLayers=function(){return this._layers},CanvasPainter.prototype._updateLayerStatus=function(o){function updatePrevLayer(o){T&&(T.__endIndex!==o&&(T.__dirty=!0),T.__endIndex=o)}if(this.eachBuiltinLayer(function(o,v){o.__dirty=o.__used=!1}),this._singleCanvas)for(var v,_,x=1;x<o.length;x++){var w=o[x];if(w.zlevel!==o[x-1].zlevel||w.incremental){this._needsManuallyCompositing=!0;break}}var T=null,L=0;for(_=0;_<o.length;_++){var w=o[_],N=w.zlevel,B=void 0;v!==N&&(v=N,L=0),w.incremental?((B=this.getLayer(N+.001,this._needsManuallyCompositing)).incremental=!0,L=1):B=this.getLayer(N+(L>0?.01:0),this._needsManuallyCompositing),B.__builtin__||logError("ZLevel "+N+" has been used by unkown layer "+B.id),B!==T&&(B.__used=!0,B.__startIndex!==_&&(B.__dirty=!0),B.__startIndex=_,B.incremental?B.__drawIndex=-1:B.__drawIndex=_,updatePrevLayer(_),T=B),1&w.__dirty&&!w.__inHover&&(B.__dirty=!0,B.incremental&&B.__drawIndex<0&&(B.__drawIndex=_))}updatePrevLayer(_),this.eachBuiltinLayer(function(o,v){!o.__used&&o.getElementCount()>0&&(o.__dirty=!0,o.__startIndex=o.__endIndex=o.__drawIndex=0),o.__dirty&&o.__drawIndex<0&&(o.__drawIndex=o.__startIndex)})},CanvasPainter.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},CanvasPainter.prototype._clearLayer=function(o){o.clear()},CanvasPainter.prototype.setBackgroundColor=function(o){this._backgroundColor=o,util_each(this._layers,function(o){o.setUnpainted()})},CanvasPainter.prototype.configLayer=function(o,v){if(v){var _=this._layerConfig;_[o]?merge(_[o],v,!0):_[o]=v;for(var x=0;x<this._zlevelList.length;x++){var w=this._zlevelList[x];(w===o||w===o+.01)&&merge(this._layers[w],_[o],!0)}}},CanvasPainter.prototype.delLayer=function(o){var v=this._layers,_=this._zlevelList,x=v[o];x&&(x.dom.parentNode.removeChild(x.dom),delete v[o],_.splice(indexOf(_,o),1))},CanvasPainter.prototype.resize=function(o,v){if(this._domRoot.style){var _=this._domRoot;_.style.display="none";var x=this._opts,w=this.root;if(null!=o&&(x.width=o),null!=v&&(x.height=v),o=getSize(w,0,x),v=getSize(w,1,x),_.style.display="",this._width!==o||v!==this._height){for(var T in _.style.width=o+"px",_.style.height=v+"px",this._layers)this._layers.hasOwnProperty(T)&&this._layers[T].resize(o,v);this.refresh(!0)}this._width=o,this._height=v}else{if(null==o||null==v)return;this._width=o,this._height=v,this.getLayer(314159).resize(o,v)}return this},CanvasPainter.prototype.clearLayer=function(o){var v=this._layers[o];v&&v.clear()},CanvasPainter.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},CanvasPainter.prototype.getRenderedCanvas=function(o){if(o=o||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var v=new sH("image",this,o.pixelRatio||this.dpr);v.initContext(),v.clear(!1,o.backgroundColor||this._backgroundColor);var _=v.ctx;if(o.pixelRatio<=this.dpr){this.refresh();var x=v.dom.width,w=v.dom.height;this.eachLayer(function(o){o.__builtin__?_.drawImage(o.dom,0,0,x,w):o.renderToCanvas&&(_.save(),o.renderToCanvas(_),_.restore())})}else for(var T={inHover:!1,viewWidth:this._width,viewHeight:this._height},L=this.storage.getDisplayList(!0),N=0,B=L.length;N<B;N++)brush(_,L[N],T,N===B-1);return v.dom},CanvasPainter.prototype.getWidth=function(){return this._width},CanvasPainter.prototype.getHeight=function(){return this._height},CanvasPainter}();function install(o){o.registerPainter("canvas",sG)}var sU=Math.sin,sW=Math.cos,sY=Math.PI,sK=2*Math.PI,sZ=180/sY,sq=function(){function SVGPathRebuilder(){}return SVGPathRebuilder.prototype.reset=function(o){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,o||4)},SVGPathRebuilder.prototype.moveTo=function(o,v){this._add("M",o,v)},SVGPathRebuilder.prototype.lineTo=function(o,v){this._add("L",o,v)},SVGPathRebuilder.prototype.bezierCurveTo=function(o,v,_,x,w,T){this._add("C",o,v,_,x,w,T)},SVGPathRebuilder.prototype.quadraticCurveTo=function(o,v,_,x){this._add("Q",o,v,_,x)},SVGPathRebuilder.prototype.arc=function(o,v,_,x,w,T){this.ellipse(o,v,_,_,0,x,w,T)},SVGPathRebuilder.prototype.ellipse=function(o,v,_,x,w,T,L,N){var B=L-T,H=!N,Y=Math.abs(B),Z=helper_isAroundZero(Y-sK)||(H?B>=sK:-B>=sK),X=B>0?B%sK:B%sK+sK,et=!1;et=!!Z||!helper_isAroundZero(Y)&&X>=sY==!!H;var en=o+_*sW(T),er=v+x*sU(T);this._start&&this._add("M",en,er);var ei=Math.round(w*sZ);if(Z){var ea=1/this._p,eo=(H?1:-1)*(sK-ea);this._add("A",_,x,ei,1,+H,o+_*sW(T+eo),v+x*sU(T+eo)),ea>.01&&this._add("A",_,x,ei,0,+H,en,er)}else{var el=o+_*sW(L),eu=v+x*sU(L);this._add("A",_,x,ei,+et,+H,el,eu)}},SVGPathRebuilder.prototype.rect=function(o,v,_,x){this._add("M",o,v),this._add("l",_,0),this._add("l",0,x),this._add("l",-_,0),this._add("Z")},SVGPathRebuilder.prototype.closePath=function(){this._d.length>0&&this._add("Z")},SVGPathRebuilder.prototype._add=function(o,v,_,x,w,T,L,N,B){for(var H=[],Y=this._p,Z=1;Z<arguments.length;Z++){var X=arguments[Z];if(isNaN(X)){this._invalid=!0;return}H.push(Math.round(X*Y)/Y)}this._d.push(o+H.join(" ")),this._start="Z"===o},SVGPathRebuilder.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},SVGPathRebuilder.prototype.getStr=function(){return this._str},SVGPathRebuilder}(),sX="none",s$=Math.round;function pathHasFill(o){var v=o.fill;return null!=v&&v!==sX}function pathHasStroke(o){var v=o.stroke;return null!=v&&v!==sX}var sQ=["lineCap","miterLimit","lineJoin"],sJ=map(sQ,function(o){return"stroke-"+o.toLowerCase()});function mapStyleToAttrs(o,v,_,x){var w=null==v.opacity?1:v.opacity;if(_ instanceof rC){o("opacity",w);return}if(pathHasFill(v)){var T=normalizeColor(v.fill);o("fill",T.color);var L=null!=v.fillOpacity?v.fillOpacity*T.opacity*w:T.opacity*w;(x||L<1)&&o("fill-opacity",L)}else o("fill",sX);if(pathHasStroke(v)){var N=normalizeColor(v.stroke);o("stroke",N.color);var B=v.strokeNoScale?_.getLineScale():1,H=B?(v.lineWidth||0)/B:0,Y=null!=v.strokeOpacity?v.strokeOpacity*N.opacity*w:N.opacity*w,Z=v.strokeFirst;if((x||1!==H)&&o("stroke-width",H),(x||Z)&&o("paint-order",Z?"stroke":"fill"),(x||Y<1)&&o("stroke-opacity",Y),v.lineDash){var X=getLineDash(_),et=X[0],en=X[1];et&&(en=s$(en||0),o("stroke-dasharray",et.join(",")),(en||x)&&o("stroke-dashoffset",en))}else x&&o("stroke-dasharray",sX);for(var er=0;er<sQ.length;er++){var ei=sQ[er];if(x||v[ei]!==rg[ei]){var ea=v[ei]||rg[ei];ea&&o(sJ[er],ea)}}}else x&&o("stroke",sX)}var s0="http://www.w3.org/2000/svg",s1="http://www.w3.org/1999/xlink";function createElement(o){return document.createElementNS(s0,o)}function createVNode(o,v,_,x,w){return{tag:o,attrs:_||{},children:x,text:w,key:v}}function createElementOpen(o,v){var _=[];if(v)for(var x in v){var w=v[x],T=x;!1!==w&&(!0!==w&&null!=w&&(T+='="'+w+'"'),_.push(T))}return"<"+o+" "+_.join(" ")+">"}function createElementClose(o){return"</"+o+">"}function vNodeToString(o,v){var _=(v=v||{}).newline?"\n":"";function convertElToString(o){var v=o.children,x=o.tag,w=o.attrs,T=o.text;return createElementOpen(x,w)+("style"!==x?encodeHTML(T):T||"")+(v?""+_+map(v,function(o){return convertElToString(o)}).join(_)+_:"")+createElementClose(x)}return convertElToString(o)}function getCssString(o,v,_){var x=(_=_||{}).newline?"\n":"",w=" {"+x,T=x+"}",L=map(keys(o),function(v){return v+w+map(keys(o[v]),function(_){return _+":"+o[v][_]+";"}).join(x)+T}).join(x),N=map(keys(v),function(o){return"@keyframes "+o+w+map(keys(v[o]),function(_){return _+w+map(keys(v[o][_]),function(x){var w=v[o][_][x];return"d"===x&&(w='path("'+w+'")'),x+":"+w+";"}).join(x)+T}).join(x)+T}).join(x);return L||N?["<![CDATA[",L,N,"]]>"].join(x):""}function createBrushScope(o){return{zrId:o,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(o,v,_,x){return createVNode("svg","root",{width:o,height:v,xmlns:s0,"xmlns:xlink":s1,version:"1.1",baseProfile:"full",viewBox:!!x&&"0 0 "+o+" "+v},_)}var s2={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},s5="transform-origin";function buildPathString(o,v,_){var x=extend({},o.shape);extend(x,v),o.buildPath(_,x);var w=new sq;return w.reset(getPathPrecision(o)),_.rebuildPath(w,1),w.generateStr(),w.getStr()}function setTransformOrigin(o,v){var _=v.originX,x=v.originY;(_||x)&&(o[s5]=_+"px "+x+"px")}var s3={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(o,v){var _=v.zrId+"-ani-"+v.cssAnimIdx++;return v.cssAnims[_]=o,_}function createCompoundPathCSSAnimation(o,v,_){var x,w,T=o.shape.paths,L={};if(util_each(T,function(o){var v=createBrushScope(_.zrId);v.animation=!0,createCSSAnimation(o,{},v,!0);var T=v.cssAnims,N=v.cssNodes,B=keys(T),H=B.length;if(H){var Y=T[w=B[H-1]];for(var Z in Y){var X=Y[Z];L[Z]=L[Z]||{d:""},L[Z].d+=X.d||""}for(var et in N){var en=N[et].animation;en.indexOf(w)>=0&&(x=en)}}}),x){v.d=!1;var N=addAnimation(L,_);return x.replace(w,N)}}function getEasingFunc(o){return util_isString(o)?s2[o]?"cubic-bezier("+s2[o]+")":createCubicEasingFunc(o)?o:"":""}function createCSSAnimation(o,v,_,x){var w=o.animators,T=w.length,L=[];if(o instanceof ot){var N=createCompoundPathCSSAnimation(o,v,_);if(N)L.push(N);else if(!T)return}else if(!T)return;for(var B={},H=0;H<T;H++){var Y=w[H],Z=[Y.getMaxTime()/1e3+"s"],X=getEasingFunc(Y.getClip().easing),et=Y.getDelay();X?Z.push(X):Z.push("linear"),et&&Z.push(et/1e3+"s"),Y.getLoop()&&Z.push("infinite");var en=Z.join(" ");B[en]=B[en]||[en,[]],B[en][1].push(Y)}function createSingleCSSAnimation(w){var T,L,N=w[1],B=N.length,H={},Y={},Z={},X="animation-timing-function";function saveAnimatorTrackToCssKfs(o,v,_){for(var x=o.getTracks(),w=o.getMaxTime(),T=0;T<x.length;T++){var L=x[T];if(L.needsAnimate()){var N=L.keyframes,B=L.propName;if(_&&(B=_(B)),B)for(var H=0;H<N.length;H++){var Y=N[H],Z=Math.round(Y.time/w*100)+"%",et=getEasingFunc(Y.easing),en=Y.rawValue;(util_isString(en)||isNumber(en))&&(v[Z]=v[Z]||{},v[Z][B]=Y.rawValue,et&&(v[Z][X]=et))}}}}for(var et=0;et<B;et++){var en=N[et],er=en.targetName;er?"shape"===er&&saveAnimatorTrackToCssKfs(en,Y):x||saveAnimatorTrackToCssKfs(en,H)}for(var ei in H){var ea={};copyTransform(ea,o),extend(ea,H[ei]);var eo=getSRTTransformString(ea),el=H[ei][X];Z[ei]=eo?{transform:eo}:{},setTransformOrigin(Z[ei],ea),el&&(Z[ei][X]=el)}var eu=!0;for(var ei in Y){Z[ei]=Z[ei]||{};var ec=!T,el=Y[ei][X];ec&&(T=new rl);var ed=T.len();T.reset(),Z[ei].d=buildPathString(o,Y[ei],T);var eh=T.len();if(!ec&&ed!==eh){eu=!1;break}el&&(Z[ei][X]=el)}if(!eu)for(var ei in Z)delete Z[ei].d;if(!x)for(var et=0;et<B;et++){var en=N[et],er=en.targetName;"style"===er&&saveAnimatorTrackToCssKfs(en,Z,function(o){return s3[o]})}for(var ep=keys(Z),ef=!0,et=1;et<ep.length;et++){var eg=ep[et-1],em=ep[et];if(Z[eg][s5]!==Z[em][s5]){ef=!1;break}L=Z[eg][s5]}if(ef&&L){for(var ei in Z)Z[ei][s5]&&delete Z[ei][s5];v[s5]=L}if(filter(ep,function(o){return keys(Z[o]).length>0}).length)return addAnimation(Z,_)+" "+w[0]+" both"}for(var er in B){var N=createSingleCSSAnimation(B[er]);N&&L.push(N)}if(L.length){var ei=_.zrId+"-cls-"+_.cssClassIdx++;_.cssNodes["."+ei]={animation:L.join(",")},v.class=ei}}var s4=Math.round;function isCanvasLike(o){return o&&isFunction(o.toDataURL)}function setStyleAttrs(o,v,_,x){mapStyleToAttrs(function(w,T){var L="fill"===w||"stroke"===w;L&&isGradient(T)?setGradient(v,o,w,x):L&&isPattern(T)?setPattern(_,o,w,x):o[w]=T},v,_,!1),setShadow(_,o,x)}function noRotateScale(o){return helper_isAroundZero(o[0]-1)&&helper_isAroundZero(o[1])&&helper_isAroundZero(o[2])&&helper_isAroundZero(o[3]-1)}function noTranslate(o){return helper_isAroundZero(o[4])&&helper_isAroundZero(o[5])}function setTransform(o,v,_){if(v&&!(noTranslate(v)&&noRotateScale(v))){var x=_?10:1e4;o.transform=noRotateScale(v)?"translate("+s4(v[4]*x)/x+" "+s4(v[5]*x)/x+")":getMatrixStr(v)}}function convertPolyShape(o,v,_){for(var x=o.points,w=[],T=0;T<x.length;T++)w.push(s4(x[T][0]*_)/_),w.push(s4(x[T][1]*_)/_);v.points=w.join(" ")}function validatePolyShape(o){return!o.smooth}var s7={circle:[(x=map(["cx","cy","r"],function(o){return"string"==typeof o?[o,o]:o}),function(o,v,_){for(var w=0;w<x.length;w++){var T=x[w],L=o[T[0]];null!=L&&(v[T[1]]=s4(L*_)/_)}})],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(o){for(var v=o.animators,_=0;_<v.length;_++)if("shape"===v[_].targetName)return!0;return!1}function brushSVGPath(o,v){var _=o.style,x=o.shape,w=s7[o.type],T={},L=v.animation,N="path",B=o.style.strokePercent,H=v.compress&&getPathPrecision(o)||4;if(!w||v.willUpdate||w[1]&&!w[1](x)||L&&hasShapeAnimation(o)||B<1){var Y=!o.path||o.shapeChanged();o.path||o.createPathProxy();var Z=o.path;Y&&(Z.beginPath(),o.buildPath(Z,o.shape),o.pathUpdated());var X=Z.getVersion(),et=o.__svgPathBuilder;o.__svgPathVersion===X&&et&&B===o.__svgPathStrokePercent||(et||(et=o.__svgPathBuilder=new sq),et.reset(H),Z.rebuildPath(et,B),et.generateStr(),o.__svgPathVersion=X,o.__svgPathStrokePercent=B),T.d=et.getStr()}else{N=o.type;var en=Math.pow(10,H);w[0](x,T,en)}return setTransform(T,o.transform),setStyleAttrs(T,_,o,v),v.animation&&createCSSAnimation(o,T,v),createVNode(N,o.id+"",T)}function brushSVGImage(o,v){var _,x=o.style,w=x.image;if(w&&!util_isString(w)&&((_=w)&&util_isString(_.src)?w=w.src:isCanvasLike(w)&&(w=w.toDataURL())),w){var T=x.x||0,L=x.y||0,N={href:w,width:x.width,height:x.height};return T&&(N.x=T),L&&(N.y=L),setTransform(N,o.transform),setStyleAttrs(N,x,o,v),v.animation&&createCSSAnimation(o,N,v),createVNode("image",o.id+"",N)}}function brushSVGTSpan(o,v){var _=o.style,x=_.text;if(null!=x&&(x+=""),!(!x||isNaN(_.x)||isNaN(_.y))){var w=_.font||ez,T=_.x||0,L=adjustTextY(_.y||0,getLineHeight(w),_.textBaseline),N={"dominant-baseline":"central","text-anchor":tY[_.textAlign]||_.textAlign};if(hasSeparateFont(_)){var B="",H=_.fontStyle,Y=parseFontSize(_.fontSize);if(!parseFloat(Y))return;var Z=_.fontFamily||eB,X=_.fontWeight;B+="font-size:"+Y+";font-family:"+Z+";",H&&"normal"!==H&&(B+="font-style:"+H+";"),X&&"normal"!==X&&(B+="font-weight:"+X+";"),N.style=B}else N.style="font: "+w;return x.match(/\s/)&&(N["xml:space"]="preserve"),T&&(N.x=T),L&&(N.y=L),setTransform(N,o.transform),setStyleAttrs(N,_,o,v),v.animation&&createCSSAnimation(o,N,v),createVNode("text",o.id+"",N,void 0,x)}}function graphic_brush(o,v){return o instanceof rv?brushSVGPath(o,v):o instanceof rC?brushSVGImage(o,v):o instanceof rb?brushSVGTSpan(o,v):void 0}function setShadow(o,v,_){var x=o.style;if(hasShadow(x)){var w=getShadowKey(o),T=_.shadowCache,L=T[w];if(!L){var N=o.getGlobalScale(),B=N[0],H=N[1];if(!B||!H)return;var Y=x.shadowOffsetX||0,Z=x.shadowOffsetY||0,X=x.shadowBlur,et=normalizeColor(x.shadowColor),en=et.opacity,er=et.color;L=_.zrId+"-s"+_.shadowIdx++,_.defs[L]=createVNode("filter",L,{id:L,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:Y/B,dy:Z/H,stdDeviation:X/2/B+" "+X/2/H,"flood-color":er,"flood-opacity":en})]),T[w]=L}v.filter=getIdURL(L)}}function setGradient(o,v,_,x){var w,T=o[_],L={gradientUnits:T.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(T))w="linearGradient",L.x1=T.x,L.y1=T.y,L.x2=T.x2,L.y2=T.y2;else{if(!isRadialGradient(T))return;w="radialGradient",L.cx=retrieve2(T.x,.5),L.cy=retrieve2(T.y,.5),L.r=retrieve2(T.r,.5)}for(var N=T.colorStops,B=[],H=0,Y=N.length;H<Y;++H){var Z=100*round4(N[H].offset)+"%",X=normalizeColor(N[H].color),et=X.color,en=X.opacity,er={offset:Z};er["stop-color"]=et,en<1&&(er["stop-opacity"]=en),B.push(createVNode("stop",H+"",er))}var ei=vNodeToString(createVNode(w,"",L,B)),ea=x.gradientCache,eo=ea[ei];eo||(eo=x.zrId+"-g"+x.gradientIdx++,ea[ei]=eo,L.id=eo,x.defs[eo]=createVNode(w,eo,L,B)),v[_]=getIdURL(eo)}function setPattern(o,v,_,x){var w,T,L,N=o.style[_],B=o.getBoundingRect(),H={},Y=N.repeat,Z="no-repeat"===Y,X="repeat-x"===Y,et="repeat-y"===Y;if(isImagePattern(N)){var en=N.imageWidth,er=N.imageHeight,ei=void 0,ea=N.image;if(util_isString(ea)?ei=ea:ea&&util_isString(ea.src)?ei=ea.src:isCanvasLike(ea)&&(ei=ea.toDataURL()),"undefined"==typeof Image){var eo="Image width/height must been given explictly in svg-ssr renderer.";assert(en,eo),assert(er,eo)}else if(null==en||null==er){var setSizeToVNode_1=function(o,v){if(o){var _=o.elm,x=en||v.width,w=er||v.height;"pattern"===o.tag&&(X?(w=1,x/=B.width):et&&(x=1,w/=B.height)),o.attrs.width=x,o.attrs.height=w,_&&(_.setAttribute("width",x),_.setAttribute("height",w))}},el=createOrUpdateImage(ei,null,o,function(o){Z||setSizeToVNode_1(ec,o),setSizeToVNode_1(w,o)});el&&el.width&&el.height&&(en=en||el.width,er=er||el.height)}w=createVNode("image","img",{href:ei,width:en,height:er}),H.width=en,H.height=er}else N.svgElement&&(w=clone(N.svgElement),H.width=N.svgWidth,H.height=N.svgHeight);if(w){Z?T=L=1:X?(L=1,T=H.width/B.width):et?(T=1,L=H.height/B.height):H.patternUnits="userSpaceOnUse",null==T||isNaN(T)||(H.width=T),null==L||isNaN(L)||(H.height=L);var eu=getSRTTransformString(N);eu&&(H.patternTransform=eu);var ec=createVNode("pattern","",H,[w]),ed=vNodeToString(ec),eh=x.patternCache,ep=eh[ed];ep||(ep=x.zrId+"-p"+x.patternIdx++,eh[ed]=ep,H.id=ep,ec=x.defs[ep]=createVNode("pattern",ep,H,[w])),v[_]=getIdURL(ep)}}function setClipPath(o,v,_){var x=_.clipPathCache,w=_.defs,T=x[o.id];if(!T){var L={id:T=_.zrId+"-c"+_.clipPathIdx++};x[o.id]=T,w[T]=createVNode("clipPath",T,L,[brushSVGPath(o,_)])}v["clip-path"]=getIdURL(T)}function createTextNode(o){return document.createTextNode(o)}function insertBefore(o,v,_){o.insertBefore(v,_)}function removeChild(o,v){o.removeChild(v)}function appendChild(o,v){o.appendChild(v)}function parentNode(o){return o.parentNode}function nextSibling(o){return o.nextSibling}function setTextContent(o,v){o.textContent=v}var s6=createVNode("","");function isUndef(o){return void 0===o}function isDef(o){return void 0!==o}function createKeyToOldIdx(o,v,_){for(var x={},w=v;w<=_;++w){var T=o[w].key;void 0!==T&&(x[T]=w)}return x}function sameVnode(o,v){var _=o.key===v.key;return o.tag===v.tag&&_}function createElm(o){var v,_=o.children,x=o.tag;if(isDef(x)){var w=o.elm=createElement(x);if(updateAttrs(s6,o),util_isArray(_))for(v=0;v<_.length;++v){var T=_[v];null!=T&&appendChild(w,createElm(T))}else isDef(o.text)&&!util_isObject(o.text)&&appendChild(w,createTextNode(o.text))}else o.elm=createTextNode(o.text);return o.elm}function addVnodes(o,v,_,x,w){for(;x<=w;++x){var T=_[x];null!=T&&insertBefore(o,createElm(T),v)}}function removeVnodes(o,v,_,x){for(;_<=x;++_){var w=v[_];null!=w&&(isDef(w.tag)?removeChild(parentNode(w.elm),w.elm):removeChild(o,w.elm))}}function updateAttrs(o,v){var _,x=v.elm,w=o&&o.attrs||{},T=v.attrs||{};if(w!==T){for(_ in T){var L=T[_];w[_]!==L&&(!0===L?x.setAttribute(_,""):!1===L?x.removeAttribute(_):120!==_.charCodeAt(0)?x.setAttribute(_,L):"xmlns:xlink"===_||"xmlns"===_?x.setAttributeNS("http://www.w3.org/2000/xmlns/",_,L):58===_.charCodeAt(3)?x.setAttributeNS("http://www.w3.org/XML/1998/namespace",_,L):58===_.charCodeAt(5)?x.setAttributeNS(s1,_,L):x.setAttribute(_,L))}for(_ in w)_ in T||x.removeAttribute(_)}}function updateChildren(o,v,_){for(var x,w,T,L=0,N=0,B=v.length-1,H=v[0],Y=v[B],Z=_.length-1,X=_[0],et=_[Z];L<=B&&N<=Z;)null==H?H=v[++L]:null==Y?Y=v[--B]:null==X?X=_[++N]:null==et?et=_[--Z]:sameVnode(H,X)?(patchVnode(H,X),H=v[++L],X=_[++N]):sameVnode(Y,et)?(patchVnode(Y,et),Y=v[--B],et=_[--Z]):sameVnode(H,et)?(patchVnode(H,et),insertBefore(o,H.elm,nextSibling(Y.elm)),H=v[++L],et=_[--Z]):(sameVnode(Y,X)?(patchVnode(Y,X),insertBefore(o,Y.elm,H.elm),Y=v[--B]):(isUndef(x)&&(x=createKeyToOldIdx(v,L,B)),isUndef(w=x[X.key])?insertBefore(o,createElm(X),H.elm):(T=v[w]).tag!==X.tag?insertBefore(o,createElm(X),H.elm):(patchVnode(T,X),v[w]=void 0,insertBefore(o,T.elm,H.elm))),X=_[++N]);(L<=B||N<=Z)&&(L>B?addVnodes(o,null==_[Z+1]?null:_[Z+1].elm,_,N,Z):removeVnodes(o,v,L,B))}function patchVnode(o,v){var _=v.elm=o.elm,x=o.children,w=v.children;o!==v&&(updateAttrs(o,v),isUndef(v.text)?isDef(x)&&isDef(w)?x!==w&&updateChildren(_,x,w):isDef(w)?(isDef(o.text)&&setTextContent(_,""),addVnodes(_,null,w,0,w.length-1)):isDef(x)?removeVnodes(_,x,0,x.length-1):isDef(o.text)&&setTextContent(_,""):o.text!==v.text&&(isDef(x)&&removeVnodes(_,x,0,x.length-1),setTextContent(_,v.text)))}function patch(o,v){if(sameVnode(o,v))patchVnode(o,v);else{var _=o.elm,x=parentNode(_);createElm(v),null!==x&&(insertBefore(x,v.elm,nextSibling(_)),removeVnodes(x,[o],0,0))}return v}var s9=0,s8=function(){function SVGPainter(o,v,_){if(this.type="svg",this.refreshHover=createMethodNotSupport("refreshHover"),this.configLayer=createMethodNotSupport("configLayer"),this.storage=v,this._opts=_=extend({},_),this.root=o,this._id="zr"+s9++,this._oldVNode=createSVGVNode(_.width,_.height),o&&!_.ssr){var x=this._viewport=document.createElement("div");x.style.cssText="position:relative;overflow:hidden";var w=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),x.appendChild(w),o.appendChild(x)}this.resize(_.width,_.height)}return SVGPainter.prototype.getType=function(){return this.type},SVGPainter.prototype.getViewportRoot=function(){return this._viewport},SVGPainter.prototype.getViewportRootOffset=function(){var o=this.getViewportRoot();if(o)return{offsetLeft:o.offsetLeft||0,offsetTop:o.offsetTop||0}},SVGPainter.prototype.getSvgDom=function(){return this._svgDom},SVGPainter.prototype.refresh=function(){if(this.root){var o=this.renderToVNode({willUpdate:!0});o.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,o),this._oldVNode=o}},SVGPainter.prototype.renderOneToVNode=function(o){return graphic_brush(o,createBrushScope(this._id))},SVGPainter.prototype.renderToVNode=function(o){o=o||{};var v=this.storage.getDisplayList(!0),_=this._width,x=this._height,w=createBrushScope(this._id);w.animation=o.animation,w.willUpdate=o.willUpdate,w.compress=o.compress;var T=[],L=this._bgVNode=createBackgroundVNode(_,x,this._backgroundColor,w);L&&T.push(L);var N=o.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(v,w,N?N.children:T),N&&T.push(N);var B=map(keys(w.defs),function(o){return w.defs[o]});if(B.length&&T.push(createVNode("defs","defs",{},B)),o.animation){var H=getCssString(w.cssNodes,w.cssAnims,{newline:!0});if(H){var Y=createVNode("style","stl",{},[],H);T.push(Y)}}return createSVGVNode(_,x,T,o.useViewBox)},SVGPainter.prototype.renderToString=function(o){return o=o||{},vNodeToString(this.renderToVNode({animation:retrieve2(o.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(o.useViewBox,!0)}),{newline:!0})},SVGPainter.prototype.setBackgroundColor=function(o){this._backgroundColor=o},SVGPainter.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},SVGPainter.prototype._paintList=function(o,v,_){for(var x,w,T=o.length,L=[],N=0,B=0,H=0;H<T;H++){var Y=o[H];if(!Y.invisible){var Z=Y.__clipPaths,X=Z&&Z.length||0,et=w&&w.length||0,en=void 0;for(en=Math.max(X-1,et-1);en>=0&&(!Z||!w||Z[en]!==w[en]);en--);for(var er=et-1;er>en;er--)x=L[--N-1];for(var ei=en+1;ei<X;ei++){var ea={};setClipPath(Z[ei],ea,v);var eo=createVNode("g","clip-g-"+B++,ea,[]);(x?x.children:_).push(eo),L[N++]=eo,x=eo}w=Z;var el=graphic_brush(Y,v);el&&(x?x.children:_).push(el)}}},SVGPainter.prototype.resize=function(o,v){var _=this._opts,x=this.root,w=this._viewport;if(null!=o&&(_.width=o),null!=v&&(_.height=v),x&&w&&(w.style.display="none",o=getSize(x,0,_),v=getSize(x,1,_),w.style.display=""),this._width!==o||this._height!==v){if(this._width=o,this._height=v,w){var T=w.style;T.width=o+"px",T.height=v+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var L=this._svgDom;L&&(L.setAttribute("width",o),L.setAttribute("height",v));var N=this._bgVNode&&this._bgVNode.elm;N&&(N.setAttribute("width",o),N.setAttribute("height",v))}}},SVGPainter.prototype.getWidth=function(){return this._width},SVGPainter.prototype.getHeight=function(){return this._height},SVGPainter.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},SVGPainter.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},SVGPainter.prototype.toDataURL=function(o){var v=this.renderToString(),_="data:image/svg+xml;";return o?(v=tK(v))&&_+"base64,"+v:_+"charset=UTF-8,"+encodeURIComponent(v)},SVGPainter}();function createMethodNotSupport(o){return function(){}}function createBackgroundVNode(o,v,_,x){var w;if(_&&"none"!==_){if(w=createVNode("rect","bg",{width:o,height:v,x:"0",y:"0",id:"0"}),isGradient(_))setGradient({fill:_},w.attrs,"fill",x);else if(isPattern(_))setPattern({style:{fill:_},dirty:noop,getBoundingRect:function(){return{width:o,height:v}}},w.attrs,"fill",x);else{var T=normalizeColor(_),L=T.color,N=T.opacity;w.attrs.fill=L,N<1&&(w.attrs["fill-opacity"]=N)}}return w}function installSVGRenderer_install(o){o.registerPainter("svg",s8)}function dataIndexMapValueLength(o){return null==o?0:o.length||1}function defaultKeyGetter(o){return o}var ln=function(){function DataDiffer(o,v,_,x,w,T){this._old=o,this._new=v,this._oldKeyGetter=_||defaultKeyGetter,this._newKeyGetter=x||defaultKeyGetter,this.context=w,this._diffModeMultiple="multiple"===T}return DataDiffer.prototype.add=function(o){return this._add=o,this},DataDiffer.prototype.update=function(o){return this._update=o,this},DataDiffer.prototype.updateManyToOne=function(o){return this._updateManyToOne=o,this},DataDiffer.prototype.updateOneToMany=function(o){return this._updateOneToMany=o,this},DataDiffer.prototype.updateManyToMany=function(o){return this._updateManyToMany=o,this},DataDiffer.prototype.remove=function(o){return this._remove=o,this},DataDiffer.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},DataDiffer.prototype._executeOneToOne=function(){var o=this._old,v=this._new,_={},x=Array(o.length),w=Array(v.length);this._initIndexMap(o,null,x,"_oldKeyGetter"),this._initIndexMap(v,_,w,"_newKeyGetter");for(var T=0;T<o.length;T++){var L=x[T],N=_[L],B=dataIndexMapValueLength(N);if(B>1){var H=N.shift();1===N.length&&(_[L]=N[0]),this._update&&this._update(H,T)}else 1===B?(_[L]=null,this._update&&this._update(N,T)):this._remove&&this._remove(T)}this._performRestAdd(w,_)},DataDiffer.prototype._executeMultiple=function(){var o=this._old,v=this._new,_={},x={},w=[],T=[];this._initIndexMap(o,_,w,"_oldKeyGetter"),this._initIndexMap(v,x,T,"_newKeyGetter");for(var L=0;L<w.length;L++){var N=w[L],B=_[N],H=x[N],Y=dataIndexMapValueLength(B),Z=dataIndexMapValueLength(H);if(Y>1&&1===Z)this._updateManyToOne&&this._updateManyToOne(H,B),x[N]=null;else if(1===Y&&Z>1)this._updateOneToMany&&this._updateOneToMany(H,B),x[N]=null;else if(1===Y&&1===Z)this._update&&this._update(H,B),x[N]=null;else if(Y>1&&Z>1)this._updateManyToMany&&this._updateManyToMany(H,B),x[N]=null;else if(Y>1)for(var X=0;X<Y;X++)this._remove&&this._remove(B[X]);else this._remove&&this._remove(B)}this._performRestAdd(T,x)},DataDiffer.prototype._performRestAdd=function(o,v){for(var _=0;_<o.length;_++){var x=o[_],w=v[x],T=dataIndexMapValueLength(w);if(T>1)for(var L=0;L<T;L++)this._add&&this._add(w[L]);else 1===T&&this._add&&this._add(w);v[x]=null}},DataDiffer.prototype._initIndexMap=function(o,v,_,x){for(var w=this._diffModeMultiple,T=0;T<o.length;T++){var L="_ec_"+this[x](o[T],T);if(w||(_[T]=L),v){var N=v[L],B=dataIndexMapValueLength(N);0===B?(v[L]=T,w&&_.push(L)):1===B?v[L]=[N,T]:N.push(T)}}},DataDiffer}(),lr=function(){function DimensionUserOuput(o,v){this._encode=o,this._schema=v}return DimensionUserOuput.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},DimensionUserOuput.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},DimensionUserOuput}();function summarizeDimensions(o,v){var _={},x=_.encode={},w=createHashMap(),T=[],L=[],N={};util_each(o.dimensions,function(v){var _=o.getDimensionInfo(v),B=_.coordDim;if(B){var H=_.coordDimIndex;getOrCreateEncodeArr(x,B)[H]=v,_.isExtraCoord||(w.set(B,1),mayLabelDimType(_.type)&&(T[0]=v),getOrCreateEncodeArr(N,B)[H]=o.getDimensionIndex(_.name)),_.defaultTooltip&&L.push(v)}iM.each(function(o,v){var w=getOrCreateEncodeArr(x,v),T=_.otherDims[v];null!=T&&!1!==T&&(w[T]=_.name)})});var B=[],H={};w.each(function(o,v){var _=x[v];H[v]=_[0],B=B.concat(_)}),_.dataDimsOnCoord=B,_.dataDimIndicesOnCoord=map(B,function(v){return o.getDimensionInfo(v).storeDimIndex}),_.encodeFirstDimNotExtra=H;var Y=x.label;Y&&Y.length&&(T=Y.slice());var Z=x.tooltip;return Z&&Z.length?L=Z.slice():L.length||(L=T.slice()),x.defaultedLabel=T,x.defaultedTooltip=L,_.userOutput=new lr(N,v),_}function getOrCreateEncodeArr(o,v){return o.hasOwnProperty(v)||(o[v]=[]),o[v]}function getDimensionTypeByAxis(o){return"category"===o?"ordinal":"time"===o?"time":"float"}function mayLabelDimType(o){return!("ordinal"===o||"time"===o)}var data_SeriesDimensionDefine=function(o){this.otherDims={},null!=o&&extend(this,o)},li=makeInner(),la={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},lo=function(){function SeriesDataSchema(o){this.dimensions=o.dimensions,this._dimOmitted=o.dimensionOmitted,this.source=o.source,this._fullDimCount=o.fullDimensionCount,this._updateDimOmitted(o.dimensionOmitted)}return SeriesDataSchema.prototype.isDimensionOmitted=function(){return this._dimOmitted},SeriesDataSchema.prototype._updateDimOmitted=function(o){this._dimOmitted=o,o&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},SeriesDataSchema.prototype.getSourceDimensionIndex=function(o){return retrieve2(this._dimNameMap.get(o),-1)},SeriesDataSchema.prototype.getSourceDimension=function(o){var v=this.source.dimensionsDefine;if(v)return v[o]},SeriesDataSchema.prototype.makeStoreSchema=function(){for(var o=this._fullDimCount,v=shouldRetrieveDataByName(this.source),_=!(o>30),x="",w=[],T=0,L=0;T<o;T++){var N=void 0,B=void 0,H=void 0,Y=this.dimensions[L];if(Y&&Y.storeDimIndex===T)N=v?Y.name:null,B=Y.type,H=Y.ordinalMeta,L++;else{var Z=this.getSourceDimension(T);Z&&(N=v?Z.name:null,B=Z.type)}w.push({property:N,type:B,ordinalMeta:H}),!v||null==N||Y&&Y.isCalculationCoord||(x+=_?N.replace(/\`/g,"`1").replace(/\$/g,"`2"):N),x+="$"+(la[B]||"f"),H&&(x+=H.uid),x+="$"}var X=this.source;return{dimensions:w,hash:[X.seriesLayoutBy,X.startIndex,x].join("$$")}},SeriesDataSchema.prototype.makeOutputDimensionNames=function(){for(var o=[],v=0,_=0;v<this._fullDimCount;v++){var x=void 0,w=this.dimensions[_];if(w&&w.storeDimIndex===v)w.isCalculationCoord||(x=w.name),_++;else{var T=this.getSourceDimension(v);T&&(x=T.name)}o.push(x)}return o},SeriesDataSchema.prototype.appendCalculationDimension=function(o){this.dimensions.push(o),o.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},SeriesDataSchema}();function isSeriesDataSchema(o){return o instanceof lo}function createDimNameMap(o){for(var v=createHashMap(),_=0;_<(o||[]).length;_++){var x=o[_],w=util_isObject(x)?x.name:x;null!=w&&null==v.get(w)&&v.set(w,_)}return v}function ensureSourceDimNameMap(o){var v=li(o);return v.dimNameMap||(v.dimNameMap=createDimNameMap(o.dimensionsDefine))}var ls=util_isObject,ll=map,lu="undefined"==typeof Int32Array?Array:Int32Array,lc=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],ld=["_approximateExtent"],lh=function(){function SeriesData(o,v){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var _,x=!1;isSeriesDataSchema(o)?(_=o.dimensions,this._dimOmitted=o.isDimensionOmitted(),this._schema=o):(x=!0,_=o),_=_||["x","y"];for(var w={},T=[],L={},N=!1,B={},H=0;H<_.length;H++){var Y=_[H],Z=util_isString(Y)?new data_SeriesDimensionDefine({name:Y}):Y instanceof data_SeriesDimensionDefine?Y:new data_SeriesDimensionDefine(Y),X=Z.name;Z.type=Z.type||"float",Z.coordDim||(Z.coordDim=X,Z.coordDimIndex=0);var et=Z.otherDims=Z.otherDims||{};T.push(X),w[X]=Z,null!=B[X]&&(N=!0),Z.createInvertedIndices&&(L[X]=[]),0===et.itemName&&(this._nameDimIdx=H),0===et.itemId&&(this._idDimIdx=H),x&&(Z.storeDimIndex=H)}if(this.dimensions=T,this._dimInfos=w,this._initGetDimensionInfo(N),this.hostModel=v,this._invertedIndicesMap=L,this._dimOmitted){var en=this._dimIdxToName=createHashMap();util_each(T,function(o){en.set(w[o].storeDimIndex,o)})}}return SeriesData.prototype.getDimension=function(o){var v=this._recognizeDimIndex(o);if(null==v)return o;if(v=o,!this._dimOmitted)return this.dimensions[v];var _=this._dimIdxToName.get(v);if(null!=_)return _;var x=this._schema.getSourceDimension(v);if(x)return x.name},SeriesData.prototype.getDimensionIndex=function(o){var v=this._recognizeDimIndex(o);if(null!=v)return v;if(null==o)return -1;var _=this._getDimInfo(o);return _?_.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(o):-1},SeriesData.prototype._recognizeDimIndex=function(o){if(isNumber(o)||null!=o&&!isNaN(o)&&!this._getDimInfo(o)&&(!this._dimOmitted||0>this._schema.getSourceDimensionIndex(o)))return+o},SeriesData.prototype._getStoreDimIndex=function(o){return this.getDimensionIndex(o)},SeriesData.prototype.getDimensionInfo=function(o){return this._getDimInfo(this.getDimension(o))},SeriesData.prototype._initGetDimensionInfo=function(o){var v=this._dimInfos;this._getDimInfo=o?function(o){return v.hasOwnProperty(o)?v[o]:void 0}:function(o){return v[o]}},SeriesData.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},SeriesData.prototype.mapDimension=function(o,v){var _=this._dimSummary;if(null==v)return _.encodeFirstDimNotExtra[o];var x=_.encode[o];return x?x[v]:null},SeriesData.prototype.mapDimensionsAll=function(o){return(this._dimSummary.encode[o]||[]).slice()},SeriesData.prototype.getStore=function(){return this._store},SeriesData.prototype.initData=function(o,v,_){var x,w=this;if(o instanceof ap&&(x=o),!x){var T=this.dimensions,L=isSourceInstance(o)||isArrayLike(o)?new iJ(o,T.length):o;x=new ap;var N=ll(T,function(o){return{type:w._dimInfos[o].type,property:o}});x.initData(L,N,_)}this._store=x,this._nameList=(v||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,x.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},SeriesData.prototype.appendData=function(o){var v=this._store.appendData(o);this._doInit(v[0],v[1])},SeriesData.prototype.appendValues=function(o,v){var _=this._store.appendValues(o,v.length),x=_.start,w=_.end,T=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),v)for(var L=x;L<w;L++){var N=L-x;this._nameList[L]=v[N],T&&eR(this,L)}},SeriesData.prototype._updateOrdinalMeta=function(){for(var o=this._store,v=this.dimensions,_=0;_<v.length;_++){var x=this._dimInfos[v[_]];x.ordinalMeta&&o.collectOrdinalMeta(x.storeDimIndex,x.ordinalMeta)}},SeriesData.prototype._shouldMakeIdFromName=function(){var o=this._store.getProvider();return null==this._idDimIdx&&o.getSource().sourceFormat!==iO&&!o.fillStorage},SeriesData.prototype._doInit=function(o,v){if(!(o>=v)){var _=this._store.getProvider();this._updateOrdinalMeta();var x=this._nameList,w=this._idList;if(_.getSource().sourceFormat===iP&&!_.pure)for(var T=[],L=o;L<v;L++){var N=_.getItem(L,T);if(!this.hasItemOption&&isDataItemOption(N)&&(this.hasItemOption=!0),N){var B=N.name;null==x[L]&&null!=B&&(x[L]=convertOptionIdName(B,null));var H=N.id;null==w[L]&&null!=H&&(w[L]=convertOptionIdName(H,null))}}if(this._shouldMakeIdFromName())for(var L=o;L<v;L++)eR(this,L);eD(this)}},SeriesData.prototype.getApproximateExtent=function(o){return this._approximateExtent[o]||this._store.getDataExtent(this._getStoreDimIndex(o))},SeriesData.prototype.setApproximateExtent=function(o,v){v=this.getDimension(v),this._approximateExtent[v]=o.slice()},SeriesData.prototype.getCalculationInfo=function(o){return this._calculationInfo[o]},SeriesData.prototype.setCalculationInfo=function(o,v){ls(o)?extend(this._calculationInfo,o):this._calculationInfo[o]=v},SeriesData.prototype.getName=function(o){var v=this.getRawIndex(o),_=this._nameList[v];return null==_&&null!=this._nameDimIdx&&(_=eO(this,this._nameDimIdx,v)),null==_&&(_=""),_},SeriesData.prototype._getCategory=function(o,v){var _=this._store.get(o,v),x=this._store.getOrdinalMeta(o);return x?x.categories[_]:_},SeriesData.prototype.getId=function(o){return eE(this,this.getRawIndex(o))},SeriesData.prototype.count=function(){return this._store.count()},SeriesData.prototype.get=function(o,v){var _=this._store,x=this._dimInfos[o];if(x)return _.get(x.storeDimIndex,v)},SeriesData.prototype.getByRawIndex=function(o,v){var _=this._store,x=this._dimInfos[o];if(x)return _.getByRawIndex(x.storeDimIndex,v)},SeriesData.prototype.getIndices=function(){return this._store.getIndices()},SeriesData.prototype.getDataExtent=function(o){return this._store.getDataExtent(this._getStoreDimIndex(o))},SeriesData.prototype.getSum=function(o){return this._store.getSum(this._getStoreDimIndex(o))},SeriesData.prototype.getMedian=function(o){return this._store.getMedian(this._getStoreDimIndex(o))},SeriesData.prototype.getValues=function(o,v){var _=this,x=this._store;return util_isArray(o)?x.getValues(ll(o,function(o){return _._getStoreDimIndex(o)}),v):x.getValues(o)},SeriesData.prototype.hasValue=function(o){for(var v=this._dimSummary.dataDimIndicesOnCoord,_=0,x=v.length;_<x;_++)if(isNaN(this._store.get(v[_],o)))return!1;return!0},SeriesData.prototype.indexOfName=function(o){for(var v=0,_=this._store.count();v<_;v++)if(this.getName(v)===o)return v;return -1},SeriesData.prototype.getRawIndex=function(o){return this._store.getRawIndex(o)},SeriesData.prototype.indexOfRawIndex=function(o){return this._store.indexOfRawIndex(o)},SeriesData.prototype.rawIndexOf=function(o,v){var _=(o&&this._invertedIndicesMap[o])[v];return null==_||isNaN(_)?-1:_},SeriesData.prototype.indicesOfNearest=function(o,v,_){return this._store.indicesOfNearest(this._getStoreDimIndex(o),v,_)},SeriesData.prototype.each=function(o,v,_){isFunction(o)&&(_=v,v=o,o=[]);var x=_||this,w=ll(eA(o),this._getStoreDimIndex,this);this._store.each(w,x?e2(v,x):v)},SeriesData.prototype.filterSelf=function(o,v,_){isFunction(o)&&(_=v,v=o,o=[]);var x=_||this,w=ll(eA(o),this._getStoreDimIndex,this);return this._store=this._store.filter(w,x?e2(v,x):v),this},SeriesData.prototype.selectRange=function(o){var v=this,_={},x=keys(o),w=[];return util_each(x,function(x){var T=v._getStoreDimIndex(x);_[T]=o[x],w.push(T)}),this._store=this._store.selectRange(_),this},SeriesData.prototype.mapArray=function(o,v,_){isFunction(o)&&(_=v,v=o,o=[]),_=_||this;var x=[];return this.each(o,function(){x.push(v&&v.apply(this,arguments))},_),x},SeriesData.prototype.map=function(o,v,_,x){var w=_||x||this,T=ll(eA(o),this._getStoreDimIndex,this),L=eL(this);return L._store=this._store.map(T,w?e2(v,w):v),L},SeriesData.prototype.modify=function(o,v,_,x){var w=_||x||this,T=ll(eA(o),this._getStoreDimIndex,this);this._store.modify(T,w?e2(v,w):v)},SeriesData.prototype.downSample=function(o,v,_,x){var w=eL(this);return w._store=this._store.downSample(this._getStoreDimIndex(o),v,_,x),w},SeriesData.prototype.lttbDownSample=function(o,v){var _=eL(this);return _._store=this._store.lttbDownSample(this._getStoreDimIndex(o),v),_},SeriesData.prototype.getRawDataItem=function(o){return this._store.getRawDataItem(o)},SeriesData.prototype.getItemModel=function(o){var v=this.hostModel;return new ii(this.getRawDataItem(o),v,v&&v.ecModel)},SeriesData.prototype.diff=function(o){var v=this;return new ln(o?o.getStore().getIndices():[],this.getStore().getIndices(),function(v){return eE(o,v)},function(o){return eE(v,o)})},SeriesData.prototype.getVisual=function(o){var v=this._visual;return v&&v[o]},SeriesData.prototype.setVisual=function(o,v){this._visual=this._visual||{},ls(o)?extend(this._visual,o):this._visual[o]=v},SeriesData.prototype.getItemVisual=function(o,v){var _=this._itemVisuals[o],x=_&&_[v];return null==x?this.getVisual(v):x},SeriesData.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},SeriesData.prototype.ensureUniqueItemVisual=function(o,v){var _=this._itemVisuals,x=_[o];x||(x=_[o]={});var w=x[v];return null==w&&(util_isArray(w=this.getVisual(v))?w=w.slice():ls(w)&&(w=extend({},w)),x[v]=w),w},SeriesData.prototype.setItemVisual=function(o,v,_){var x=this._itemVisuals[o]||{};this._itemVisuals[o]=x,ls(v)?extend(x,v):x[v]=_},SeriesData.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},SeriesData.prototype.setLayout=function(o,v){ls(o)?extend(this._layout,o):this._layout[o]=v},SeriesData.prototype.getLayout=function(o){return this._layout[o]},SeriesData.prototype.getItemLayout=function(o){return this._itemLayouts[o]},SeriesData.prototype.setItemLayout=function(o,v,_){this._itemLayouts[o]=_?extend(this._itemLayouts[o]||{},v):v},SeriesData.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},SeriesData.prototype.setItemGraphicEl=function(o,v){setCommonECData(this.hostModel&&this.hostModel.seriesIndex,this.dataType,o,v),this._graphicEls[o]=v},SeriesData.prototype.getItemGraphicEl=function(o){return this._graphicEls[o]},SeriesData.prototype.eachItemGraphicEl=function(o,v){util_each(this._graphicEls,function(_,x){_&&o&&o.call(v,_,x)})},SeriesData.prototype.cloneShallow=function(o){return o||(o=new SeriesData(this._schema?this._schema:ll(this.dimensions,this._getDimInfo,this),this.hostModel)),ek(o,this),o._store=this._store,o},SeriesData.prototype.wrapMethod=function(o,v){var _=this[o];isFunction(_)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(o),this[o]=function(){var o=_.apply(this,arguments);return v.apply(this,[o].concat(slice(arguments)))})},SeriesData.internalField=void(eD=function(o){var v=o._invertedIndicesMap;util_each(v,function(_,x){var w=o._dimInfos[x],T=w.ordinalMeta,L=o._store;if(T){_=v[x]=new lu(T.categories.length);for(var N=0;N<_.length;N++)_[N]=-1;for(var N=0;N<L.count();N++)_[L.get(w.storeDimIndex,N)]=N}})},eO=function(o,v,_){return convertOptionIdName(o._getCategory(v,_),null)},eE=function(o,v){var _=o._idList[v];return null==_&&null!=o._idDimIdx&&(_=eO(o,o._idDimIdx,v)),null==_&&(_="e\x00\x00"+v),_},eA=function(o){return util_isArray(o)||(o=null!=o?[o]:[]),o},eL=function(o){var v=new SeriesData(o._schema?o._schema:ll(o.dimensions,o._getDimInfo,o),o.hostModel);return ek(v,o),v},ek=function(o,v){util_each(lc.concat(v.__wrappedMethods||[]),function(_){v.hasOwnProperty(_)&&(o[_]=v[_])}),o.__wrappedMethods=v.__wrappedMethods,util_each(ld,function(_){o[_]=clone(v[_])}),o._calculationInfo=extend({},v._calculationInfo)},eR=function(o,v){var _=o._nameList,x=o._idList,w=o._nameDimIdx,T=o._idDimIdx,L=_[v],N=x[v];if(null==L&&null!=w&&(_[v]=L=eO(o,w,v)),null==N&&null!=T&&(x[v]=N=eO(o,T,v)),null==N&&null!=L){var B=o._nameRepeatCount,H=B[L]=(B[L]||0)+1;N=L,H>1&&(N+="__ec__"+H),x[v]=N}}),SeriesData}();function prepareSeriesDataSchema(o,v){isSourceInstance(o)||(o=createSourceFromSeriesDataOption(o));var _=(v=v||{}).coordDimensions||[],x=v.dimensionsDefine||o.dimensionsDefine||[],w=createHashMap(),T=[],L=getDimCount(o,_,x,v.dimensionsCount),N=v.canOmitUnusedDimensions&&L>30,B=x===o.dimensionsDefine,H=B?ensureSourceDimNameMap(o):createDimNameMap(x),Y=v.encodeDefine;!Y&&v.encodeDefaulter&&(Y=v.encodeDefaulter(o,L));for(var Z=createHashMap(Y),X=new ac(L),et=0;et<X.length;et++)X[et]=-1;function getResultItem(o){var v=X[o];if(v<0){var _=x[o],w=util_isObject(_)?_:{name:_},L=new data_SeriesDimensionDefine,N=w.name;null!=N&&null!=H.get(N)&&(L.name=L.displayName=N),null!=w.type&&(L.type=w.type),null!=w.displayName&&(L.displayName=w.displayName);var B=T.length;return X[o]=B,L.storeDimIndex=o,T.push(L),L}return T[v]}if(!N)for(var et=0;et<L;et++)getResultItem(et);Z.each(function(o,v){var _=normalizeToArray(o).slice();if(1===_.length&&!util_isString(_[0])&&_[0]<0){Z.set(v,!1);return}var x=Z.set(v,[]);util_each(_,function(o,_){var w=util_isString(o)?H.get(o):o;null!=w&&w<L&&(x[_]=w,applyDim(getResultItem(w),v,_))})});var en=0;function applyDim(o,v,_){null!=iM.get(v)?o.otherDims[v]=_:(o.coordDim=v,o.coordDimIndex=_,w.set(v,!0))}util_each(_,function(o){if(util_isString(o))v=o,w={};else{v=(w=o).name;var v,_,x,w,T=w.ordinalMeta;w.ordinalMeta=null,(w=extend({},w)).ordinalMeta=T,_=w.dimsDef,x=w.otherDims,w.name=w.coordDim=w.coordDimIndex=w.dimsDef=w.otherDims=null}var N=Z.get(v);if(!1!==N){if(!(N=normalizeToArray(N)).length)for(var H=0;H<(_&&_.length||1);H++){for(;en<L&&null!=getResultItem(en).coordDim;)en++;en<L&&N.push(en++)}util_each(N,function(o,T){var L=getResultItem(o);if(B&&null!=w.type&&(L.type=w.type),applyDim(util_defaults(L,w),v,T),null==L.name&&_){var N=_[T];util_isObject(N)||(N={name:N}),L.name=L.displayName=N.name,L.defaultTooltip=N.defaultTooltip}x&&util_defaults(L.otherDims,x)})}});var er=v.generateCoord,ei=v.generateCoordCount,ea=null!=ei;ei=er?ei||1:0;var eo=er||"value";function ifNoNameFillWithCoordName(o){null==o.name&&(o.name=o.coordDim)}if(N)util_each(T,function(o){ifNoNameFillWithCoordName(o)}),T.sort(function(o,v){return o.storeDimIndex-v.storeDimIndex});else for(var el=0;el<L;el++){var eu=getResultItem(el);null==eu.coordDim&&(eu.coordDim=genCoordDimName(eo,w,ea),eu.coordDimIndex=0,(!er||ei<=0)&&(eu.isExtraCoord=!0),ei--),ifNoNameFillWithCoordName(eu),null==eu.type&&(guessOrdinal(o,el)===iL.Must||eu.isExtraCoord&&(null!=eu.otherDims.itemName||null!=eu.otherDims.seriesName))&&(eu.type="ordinal")}return removeDuplication(T),new lo({source:o,dimensions:T,fullDimensionCount:L,dimensionOmitted:N})}function removeDuplication(o){for(var v=createHashMap(),_=0;_<o.length;_++){var x=o[_],w=x.name,T=v.get(w)||0;T>0&&(x.name=w+(T-1)),T++,v.set(w,T)}}function getDimCount(o,v,_,x){var w=Math.max(o.dimensionsDetectedCount||1,v.length,_.length,x||0);return util_each(v,function(o){var v;util_isObject(o)&&(v=o.dimsDef)&&(w=Math.max(w,v.length))}),w}function genCoordDimName(o,v,_){if(_||v.hasKey(o)){for(var x=0;v.hasKey(o+x);)x++;o+=x}return v.set(o,!0),o}var CoordSysInfo=function(o){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=o};function getCoordSysInfoBySeries(o){var v=o.get("coordinateSystem"),_=new CoordSysInfo(v),x=lp[v];if(x)return x(o,_,_.axisMap,_.categoryAxisMap),_}var lp={cartesian2d:function(o,v,_,x){var w=o.getReferringComponents("xAxis",nT).models[0],T=o.getReferringComponents("yAxis",nT).models[0];v.coordSysDims=["x","y"],_.set("x",w),_.set("y",T),isCategory(w)&&(x.set("x",w),v.firstCategoryDimIndex=0),isCategory(T)&&(x.set("y",T),null==v.firstCategoryDimIndex&&(v.firstCategoryDimIndex=1))},singleAxis:function(o,v,_,x){var w=o.getReferringComponents("singleAxis",nT).models[0];v.coordSysDims=["single"],_.set("single",w),isCategory(w)&&(x.set("single",w),v.firstCategoryDimIndex=0)},polar:function(o,v,_,x){var w=o.getReferringComponents("polar",nT).models[0],T=w.findAxisModel("radiusAxis"),L=w.findAxisModel("angleAxis");v.coordSysDims=["radius","angle"],_.set("radius",T),_.set("angle",L),isCategory(T)&&(x.set("radius",T),v.firstCategoryDimIndex=0),isCategory(L)&&(x.set("angle",L),null==v.firstCategoryDimIndex&&(v.firstCategoryDimIndex=1))},geo:function(o,v,_,x){v.coordSysDims=["lng","lat"]},parallel:function(o,v,_,x){var w=o.ecModel,T=w.getComponent("parallel",o.get("parallelIndex")),L=v.coordSysDims=T.dimensions.slice();util_each(T.parallelAxisIndex,function(o,T){var N=w.getComponent("parallelAxis",o),B=L[T];_.set(B,N),isCategory(N)&&(x.set(B,N),null==v.firstCategoryDimIndex&&(v.firstCategoryDimIndex=T))})}};function isCategory(o){return"category"===o.get("type")}function enableDataStack(o,v,_){var x,w,T,L,N,B,H,Y=(_=_||{}).byIndex,Z=_.stackedCoordDimension;isLegacyDimensionsInput(v)?x=v:(x=(w=v.schema).dimensions,T=v.store);var X=!!(o&&o.get("stack"));if(util_each(x,function(o,v){util_isString(o)&&(x[v]=o={name:o}),!X||o.isExtraCoord||(Y||L||!o.ordinalMeta||(L=o),N||"ordinal"===o.type||"time"===o.type||Z&&Z!==o.coordDim||(N=o))}),!N||Y||L||(Y=!0),N){B="__\x00ecstackresult_"+o.id,H="__\x00ecstackedover_"+o.id,L&&(L.createInvertedIndices=!0);var et=N.coordDim,en=N.type,er=0;util_each(x,function(o){o.coordDim===et&&er++});var ei={name:B,coordDim:et,coordDimIndex:er,type:en,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:x.length},ea={name:H,coordDim:H,coordDimIndex:er+1,type:en,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:x.length+1};w?(T&&(ei.storeDimIndex=T.ensureCalculationDimension(H,en),ea.storeDimIndex=T.ensureCalculationDimension(B,en)),w.appendCalculationDimension(ei),w.appendCalculationDimension(ea)):(x.push(ei),x.push(ea))}return{stackedDimension:N&&N.name,stackedByDimension:L&&L.name,isStackedByIndex:Y,stackedOverDimension:H,stackResultDimension:B}}function isLegacyDimensionsInput(o){return!isSeriesDataSchema(o.schema)}function isDimensionStacked(o,v){return!!v&&v===o.getCalculationInfo("stackedDimension")}function getStackedDimension(o,v){return isDimensionStacked(o,v)?o.getCalculationInfo("stackResultDimension"):v}function getCoordSysDimDefs(o,v){var _,x=o.get("coordinateSystem"),w=iU.get(x);return v&&v.coordSysDims&&(_=map(v.coordSysDims,function(o){var _={name:o},x=v.axisMap.get(o);if(x){var w=x.get("type");_.type=getDimensionTypeByAxis(w)}return _})),_||(_=w&&(w.getDimensionsInfo?w.getDimensionsInfo():w.dimensions.slice())||["x","y"]),_}function injectOrdinalMeta(o,v,_){var x,w;return _&&util_each(o,function(o,T){var L=o.coordDim,N=_.categoryAxisMap.get(L);N&&(null==x&&(x=T),o.ordinalMeta=N.getOrdinalMeta(),v&&(o.createInvertedIndices=!0)),null!=o.otherDims.itemName&&(w=!0)}),w||null==x||(o[x].otherDims.itemName=0),x}function isNeedCompleteOrdinalData(o){if(o.sourceFormat===iP)return!util_isArray(getDataItemValue(firstDataNotNull(o.data||[])))}function firstDataNotNull(o){for(var v=0;v<o.length&&null==o[v];)v++;return o[v]}var helper_createSeriesData=function(o,v,_){_=_||{};var x,w=v.getSourceManager(),T=!1;o?(T=!0,x=createSourceFromSeriesDataOption(o)):T=(x=w.getSource()).sourceFormat===iP;var L=getCoordSysInfoBySeries(v),N=getCoordSysDimDefs(v,L),B=_.useEncodeDefaulter,H=isFunction(B)?B:B?curry(makeSeriesEncodeForAxisCoordSys,N,v):null,Y=prepareSeriesDataSchema(x,{coordDimensions:N,generateCoord:_.generateCoord,encodeDefine:v.getEncode(),encodeDefaulter:H,canOmitUnusedDimensions:!T}),Z=injectOrdinalMeta(Y.dimensions,_.createInvertedIndices,L),X=T?null:w.getSharedDataStore(Y),et=enableDataStack(v,{schema:Y,store:X}),en=new lh(Y,v);en.setCalculationInfo(et);var er=null!=Z&&isNeedCompleteOrdinalData(x)?function(o,v,_,x){return x===Z?_:this.defaultDimValueGetter(o,v,_,x)}:null;return en.hasItemOption=!1,en.initData(T?x:X,null,er),en},lf=function(o){function LineSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=LineSeriesModel.type,v.hasSymbolVisual=!0,v}return __extends(LineSeriesModel,o),LineSeriesModel.prototype.getInitialData=function(o){return helper_createSeriesData(null,this,{useEncodeDefaulter:!0})},LineSeriesModel.prototype.getLegendIcon=function(o){var v=new nm,_=symbol_createSymbol("line",0,o.itemHeight/2,o.itemWidth,0,o.lineStyle.stroke,!1);v.add(_),_.setStyle(o.lineStyle);var x=this.getData().getVisual("symbol"),w=this.getData().getVisual("symbolRotate"),T="none"===x?"circle":x,L=.8*o.itemHeight,N=symbol_createSymbol(T,(o.itemWidth-L)/2,(o.itemHeight-L)/2,L,L,o.itemStyle.fill);v.add(N),N.setStyle(o.itemStyle);var B="inherit"===o.iconRotate?w:o.iconRotate||0;return N.rotation=B*Math.PI/180,N.setOrigin([o.itemWidth/2,o.itemHeight/2]),T.indexOf("empty")>-1&&(N.style.stroke=N.style.fill,N.style.fill="#fff",N.style.lineWidth=2),v},LineSeriesModel.type="series.line",LineSeriesModel.dependencies=["grid","polar"],LineSeriesModel.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},LineSeriesModel}(aS);function getDefaultLabel(o,v){var _=o.mapDimensionsAll("defaultedLabel"),x=_.length;if(1===x){var w=retrieveRawValue(o,v,_[0]);return null!=w?w+"":null}if(x){for(var T=[],L=0;L<_.length;L++)T.push(retrieveRawValue(o,v,_[L]));return T.join(" ")}}function getDefaultInterpolatedLabel(o,v){var _=o.mapDimensionsAll("defaultedLabel");if(!util_isArray(v))return v+"";for(var x=[],w=0;w<_.length;w++){var T=o.getDimensionIndex(_[w]);T>=0&&x.push(v[T])}return x.join(" ")}var lg=function(o){function Symbol(v,_,x,w){var T=o.call(this)||this;return T.updateData(v,_,x,w),T}return __extends(Symbol,o),Symbol.prototype._createSymbol=function(o,v,_,x,w){this.removeAll();var T=symbol_createSymbol(o,-1,-1,2,2,null,w);T.attr({z2:100,culling:!0,scaleX:x[0]/2,scaleY:x[1]/2}),T.drift=driftSymbol,this._symbolType=o,this.add(T)},Symbol.prototype.stopSymbolAnimation=function(o){this.childAt(0).stopAnimation(null,o)},Symbol.prototype.getSymbolType=function(){return this._symbolType},Symbol.prototype.getSymbolPath=function(){return this.childAt(0)},Symbol.prototype.highlight=function(){enterEmphasis(this.childAt(0))},Symbol.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},Symbol.prototype.setZ=function(o,v){var _=this.childAt(0);_.zlevel=o,_.z=v},Symbol.prototype.setDraggable=function(o,v){var _=this.childAt(0);_.draggable=o,_.cursor=!v&&o?"move":_.cursor},Symbol.prototype.updateData=function(o,v,_,x){this.silent=!1;var w=o.getItemVisual(v,"symbol")||"circle",T=o.hostModel,L=Symbol.getSymbolSize(o,v),N=w!==this._symbolType,B=x&&x.disableAnimation;if(N){var H=o.getItemVisual(v,"symbolKeepAspect");this._createSymbol(w,o,v,L,H)}else{var Y=this.childAt(0);Y.silent=!1;var Z={scaleX:L[0]/2,scaleY:L[1]/2};B?Y.attr(Z):updateProps(Y,Z,T,v),saveOldStyle(Y)}if(this._updateCommon(o,v,L,_,x),N){var Y=this.childAt(0);if(!B){var Z={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:Y.style.opacity}};Y.scaleX=Y.scaleY=0,Y.style.opacity=0,initProps(Y,Z,T,v)}}B&&this.childAt(0).stopAnimation("leave")},Symbol.prototype._updateCommon=function(o,v,_,x,w){var T,L,N,B,H,Y,Z,X,et,en=this.childAt(0),er=o.hostModel;if(x&&(T=x.emphasisItemStyle,L=x.blurItemStyle,N=x.selectItemStyle,B=x.focus,H=x.blurScope,Z=x.labelStatesModels,X=x.hoverScale,et=x.cursorStyle,Y=x.emphasisDisabled),!x||o.hasItemOption){var ei=x&&x.itemModel?x.itemModel:o.getItemModel(v),ea=ei.getModel("emphasis");T=ea.getModel("itemStyle").getItemStyle(),N=ei.getModel(["select","itemStyle"]).getItemStyle(),L=ei.getModel(["blur","itemStyle"]).getItemStyle(),B=ea.get("focus"),H=ea.get("blurScope"),Y=ea.get("disabled"),Z=getLabelStatesModels(ei),X=ea.getShallow("scale"),et=ei.getShallow("cursor")}var eo=o.getItemVisual(v,"symbolRotate");en.attr("rotation",(eo||0)*Math.PI/180||0);var el=normalizeSymbolOffset(o.getItemVisual(v,"symbolOffset"),_);el&&(en.x=el[0],en.y=el[1]),et&&en.attr("cursor",et);var eu=o.getItemVisual(v,"style"),ec=eu.fill;if(en instanceof rC){var ed=en.style;en.useStyle(extend({image:ed.image,x:ed.x,y:ed.y,width:ed.width,height:ed.height},eu))}else en.__isEmptyBrush?en.useStyle(extend({},eu)):en.useStyle(eu),en.style.decal=null,en.setColor(ec,w&&w.symbolInnerColor),en.style.strokeNoScale=!0;var eh=o.getItemVisual(v,"liftZ"),ep=this._z2;null!=eh?null==ep&&(this._z2=en.z2,en.z2+=eh):null!=ep&&(en.z2=ep,this._z2=null);var ef=w&&w.useNameLabel;setLabelStyle(en,Z,{labelFetcher:er,labelDataIndex:v,defaultText:function(v){return ef?o.getName(v):getDefaultLabel(o,v)},inheritColor:ec,defaultOpacity:eu.opacity}),this._sizeX=_[0]/2,this._sizeY=_[1]/2;var eg=en.ensureState("emphasis");eg.style=T,en.ensureState("select").style=N,en.ensureState("blur").style=L;var em=null==X||!0===X?Math.max(1.1,3/this._sizeY):isFinite(X)&&X>0?+X:1;eg.scaleX=this._sizeX*em,eg.scaleY=this._sizeY*em,this.setSymbolScale(1),toggleHoverEmphasis(this,B,H,Y)},Symbol.prototype.setSymbolScale=function(o){this.scaleX=this.scaleY=o},Symbol.prototype.fadeOut=function(o,v,_){var x=this.childAt(0),w=rN(this).dataIndex,T=_&&_.animation;if(this.silent=x.silent=!0,_&&_.fadeLabel){var L=x.getTextContent();L&&removeElement(L,{style:{opacity:0}},v,{dataIndex:w,removeOpt:T,cb:function(){x.removeTextContent()}})}else x.removeTextContent();removeElement(x,{style:{opacity:0},scaleX:0,scaleY:0},v,{dataIndex:w,cb:o,removeOpt:T})},Symbol.getSymbolSize=function(o,v){return normalizeSymbolSize(o.getItemVisual(v,"symbolSize"))},Symbol}(nm);function driftSymbol(o,v){this.parent.drift(o,v)}function symbolNeedsDraw(o,v,_,x){return v&&!isNaN(v[0])&&!isNaN(v[1])&&!(x.isIgnore&&x.isIgnore(_))&&!(x.clipShape&&!x.clipShape.contain(v[0],v[1]))&&"none"!==o.getItemVisual(_,"symbol")}function normalizeUpdateOpt(o){return null==o||util_isObject(o)||(o={isIgnore:o}),o||{}}function makeSeriesScope(o){var v=o.hostModel,_=v.getModel("emphasis");return{emphasisItemStyle:_.getModel("itemStyle").getItemStyle(),blurItemStyle:v.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:v.getModel(["select","itemStyle"]).getItemStyle(),focus:_.get("focus"),blurScope:_.get("blurScope"),emphasisDisabled:_.get("disabled"),hoverScale:_.get("scale"),labelStatesModels:getLabelStatesModels(v),cursorStyle:v.get("cursor")}}var lm=function(){function SymbolDraw(o){this.group=new nm,this._SymbolCtor=o||lg}return SymbolDraw.prototype.updateData=function(o,v){this._progressiveEls=null,v=normalizeUpdateOpt(v);var _=this.group,x=o.hostModel,w=this._data,T=this._SymbolCtor,L=v.disableAnimation,N=makeSeriesScope(o),B={disableAnimation:L},H=v.getSymbolPoint||function(v){return o.getItemLayout(v)};w||_.removeAll(),o.diff(w).add(function(x){var w=H(x);if(symbolNeedsDraw(o,w,x,v)){var L=new T(o,x,N,B);L.setPosition(w),o.setItemGraphicEl(x,L),_.add(L)}}).update(function(Y,Z){var X=w.getItemGraphicEl(Z),et=H(Y);if(!symbolNeedsDraw(o,et,Y,v)){_.remove(X);return}var en=o.getItemVisual(Y,"symbol")||"circle",er=X&&X.getSymbolType&&X.getSymbolType();if(!X||er&&er!==en)_.remove(X),(X=new T(o,Y,N,B)).setPosition(et);else{X.updateData(o,Y,N,B);var ei={x:et[0],y:et[1]};L?X.attr(ei):updateProps(X,ei,x)}_.add(X),o.setItemGraphicEl(Y,X)}).remove(function(o){var v=w.getItemGraphicEl(o);v&&v.fadeOut(function(){_.remove(v)},x)}).execute(),this._getSymbolPoint=H,this._data=o},SymbolDraw.prototype.updateLayout=function(){var o=this,v=this._data;v&&v.eachItemGraphicEl(function(v,_){var x=o._getSymbolPoint(_);v.setPosition(x),v.markRedraw()})},SymbolDraw.prototype.incrementalPrepareUpdate=function(o){this._seriesScope=makeSeriesScope(o),this._data=null,this.group.removeAll()},SymbolDraw.prototype.incrementalUpdate=function(o,v,_){function updateIncrementalAndHover(o){o.isGroup||(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],_=normalizeUpdateOpt(_);for(var x=o.start;x<o.end;x++){var w=v.getItemLayout(x);if(symbolNeedsDraw(v,w,x,_)){var T=new this._SymbolCtor(v,x,this._seriesScope);T.traverse(updateIncrementalAndHover),T.setPosition(w),this.group.add(T),v.setItemGraphicEl(x,T),this._progressiveEls.push(T)}}},SymbolDraw.prototype.eachRendered=function(o){traverseElements(this._progressiveEls||this.group,o)},SymbolDraw.prototype.remove=function(o){var v=this.group,_=this._data;_&&o?_.eachItemGraphicEl(function(o){o.fadeOut(function(){v.remove(o)},_.hostModel)}):v.removeAll()},SymbolDraw}();function prepareDataCoordInfo(o,v,_){var x=o.getBaseAxis(),w=o.getOtherAxis(x),T=getValueStart(w,_),L=x.dim,N=w.dim,B=v.mapDimension(N),H=v.mapDimension(L),Y="x"===N||"radius"===N?1:0,Z=map(o.dimensions,function(o){return v.mapDimension(o)}),X=!1,et=v.getCalculationInfo("stackResultDimension");return isDimensionStacked(v,Z[0])&&(X=!0,Z[0]=et),isDimensionStacked(v,Z[1])&&(X=!0,Z[1]=et),{dataDimsForPoint:Z,valueStart:T,valueAxisDim:N,baseAxisDim:L,stacked:!!X,valueDim:B,baseDim:H,baseDataOffset:Y,stackedOverDimension:v.getCalculationInfo("stackedOverDimension")}}function getValueStart(o,v){var _=0,x=o.scale.getExtent();return"start"===v?_=x[0]:"end"===v?_=x[1]:isNumber(v)&&!isNaN(v)?_=v:x[0]>0?_=x[0]:x[1]<0&&(_=x[1]),_}function getStackedOnPoint(o,v,_,x){var w=NaN;o.stacked&&(w=_.get(_.getCalculationInfo("stackedOverDimension"),x)),isNaN(w)&&(w=o.valueStart);var T=o.baseDataOffset,L=[];return L[T]=_.get(o.baseDim,x),L[1-T]=w,v.dataToPoint(L)}var ly="undefined"!=typeof Float32Array,lv=ly?Float32Array:Array;function createFloat32Array(o){return util_isArray(o)?ly?new Float32Array(o):o:new lv(o)}function diffData(o,v){var _=[];return v.diff(o).add(function(o){_.push({cmd:"+",idx:o})}).update(function(o,v){_.push({cmd:"=",idx:v,idx1:o})}).remove(function(o){_.push({cmd:"-",idx:o})}).execute(),_}function lineAnimationDiff(o,v,_,x,w,T,L,N){for(var B=diffData(o,v),H=[],Y=[],Z=[],X=[],et=[],en=[],er=[],ei=prepareDataCoordInfo(w,v,L),ea=o.getLayout("points")||[],eo=v.getLayout("points")||[],el=0;el<B.length;el++){var eu=B[el],ec=!0,ed=void 0,eh=void 0;switch(eu.cmd){case"=":ed=2*eu.idx,eh=2*eu.idx1;var ep=ea[ed],ef=ea[ed+1],eg=eo[eh],em=eo[eh+1];(isNaN(ep)||isNaN(ef))&&(ep=eg,ef=em),H.push(ep,ef),Y.push(eg,em),Z.push(_[ed],_[ed+1]),X.push(x[eh],x[eh+1]),er.push(v.getRawIndex(eu.idx1));break;case"+":var ey=eu.idx,ev=ei.dataDimsForPoint,e_=w.dataToPoint([v.get(ev[0],ey),v.get(ev[1],ey)]);eh=2*ey,H.push(e_[0],e_[1]),Y.push(eo[eh],eo[eh+1]);var eb=getStackedOnPoint(ei,w,v,ey);Z.push(eb[0],eb[1]),X.push(x[eh],x[eh+1]),er.push(v.getRawIndex(ey));break;case"-":ec=!1}ec&&(et.push(eu),en.push(en.length))}en.sort(function(o,v){return er[o]-er[v]});for(var eS=H.length,ex=createFloat32Array(eS),ew=createFloat32Array(eS),eC=createFloat32Array(eS),eT=createFloat32Array(eS),eM=[],el=0;el<en.length;el++){var eP=en[el],eI=2*el,eD=2*eP;ex[eI]=H[eD],ex[eI+1]=H[eD+1],ew[eI]=Y[eD],ew[eI+1]=Y[eD+1],eC[eI]=Z[eD],eC[eI+1]=Z[eD+1],eT[eI]=X[eD],eT[eI+1]=X[eD+1],eM[el]=et[eP]}return{current:ex,next:ew,stackedOnCurrent:eC,stackedOnNext:eT,status:eM}}var l_=Math.min,lb=Math.max;function isPointNull(o,v){return isNaN(o)||isNaN(v)}function drawSegment(o,v,_,x,w,T,L,N,B){for(var H,Y,Z,X,et,en,er=_,ei=0;ei<x;ei++){var ea=v[2*er],eo=v[2*er+1];if(er>=w||er<0)break;if(isPointNull(ea,eo)){if(B){er+=T;continue}break}if(er===_)o[T>0?"moveTo":"lineTo"](ea,eo),Z=ea,X=eo;else{var el=ea-H,eu=eo-Y;if(el*el+eu*eu<.5){er+=T;continue}if(L>0){for(var ec=er+T,ed=v[2*ec],eh=v[2*ec+1];ed===ea&&eh===eo&&ei<x;)ei++,ec+=T,er+=T,ed=v[2*ec],eh=v[2*ec+1],ea=v[2*er],eo=v[2*er+1],el=ea-H,eu=eo-Y;var ep=ei+1;if(B)for(;isPointNull(ed,eh)&&ep<x;)ep++,ec+=T,ed=v[2*ec],eh=v[2*ec+1];var ef=.5,eg=0,em=0,ey=void 0,ev=void 0;if(ep>=x||isPointNull(ed,eh))et=ea,en=eo;else{eg=ed-H,em=eh-Y;var e_=ea-H,eb=ed-ea,eS=eo-Y,ex=eh-eo,ew=void 0,eC=void 0;if("x"===N){ew=Math.abs(e_),eC=Math.abs(eb);var eT=eg>0?1:-1;et=ea-eT*ew*L,en=eo,ey=ea+eT*eC*L,ev=eo}else if("y"===N){ew=Math.abs(eS),eC=Math.abs(ex);var eM=em>0?1:-1;et=ea,en=eo-eM*ew*L,ey=ea,ev=eo+eM*eC*L}else ew=Math.sqrt(e_*e_+eS*eS),et=ea-eg*L*(1-(ef=(eC=Math.sqrt(eb*eb+ex*ex))/(eC+ew))),en=eo-em*L*(1-ef),ey=ea+eg*L*ef,ev=eo+em*L*ef,ey=l_(ey,lb(ed,ea)),ev=l_(ev,lb(eh,eo)),ey=lb(ey,l_(ed,ea)),ev=lb(ev,l_(eh,eo)),eg=ey-ea,em=ev-eo,et=ea-eg*ew/eC,en=eo-em*ew/eC,et=l_(et,lb(H,ea)),en=l_(en,lb(Y,eo)),et=lb(et,l_(H,ea)),en=lb(en,l_(Y,eo)),eg=ea-et,em=eo-en,ey=ea+eg*eC/ew,ev=eo+em*eC/ew}o.bezierCurveTo(Z,X,et,en,ea,eo),Z=ey,X=ev}else o.lineTo(ea,eo)}H=ea,Y=eo,er+=T}return ei}var ECPolylineShape=function(){this.smooth=0,this.smoothConstraint=!0},lS=function(o){function ECPolyline(v){var _=o.call(this,v)||this;return _.type="ec-polyline",_}return __extends(ECPolyline,o),ECPolyline.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ECPolyline.prototype.getDefaultShape=function(){return new ECPolylineShape},ECPolyline.prototype.buildPath=function(o,v){var _=v.points,x=0,w=_.length/2;if(v.connectNulls){for(;w>0&&isPointNull(_[2*w-2],_[2*w-1]);w--);for(;x<w&&isPointNull(_[2*x],_[2*x+1]);x++);}for(;x<w;)x+=drawSegment(o,_,x,w,w,1,v.smooth,v.smoothMonotone,v.connectNulls)+1},ECPolyline.prototype.getPointOn=function(o,v){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var _,x,w=this.path.data,T=rl.CMD,L="x"===v,N=[],B=0;B<w.length;){var H=w[B++],Y=void 0,Z=void 0,X=void 0,et=void 0,en=void 0,er=void 0,ei=void 0;switch(H){case T.M:_=w[B++],x=w[B++];break;case T.L:if(Y=w[B++],Z=w[B++],(ei=L?(o-_)/(Y-_):(o-x)/(Z-x))<=1&&ei>=0){var ea=L?(Z-x)*ei+x:(Y-_)*ei+_;return L?[o,ea]:[ea,o]}_=Y,x=Z;break;case T.C:Y=w[B++],Z=w[B++],X=w[B++],et=w[B++],en=w[B++],er=w[B++];var eo=L?cubicRootAt(_,Y,X,en,o,N):cubicRootAt(x,Z,et,er,o,N);if(eo>0)for(var el=0;el<eo;el++){var eu=N[el];if(eu<=1&&eu>=0){var ea=L?curve_cubicAt(x,Z,et,er,eu):curve_cubicAt(_,Y,X,en,eu);return L?[o,ea]:[ea,o]}}_=en,x=er}}},ECPolyline}(rv),lx=function(o){function ECPolygonShape(){return null!==o&&o.apply(this,arguments)||this}return __extends(ECPolygonShape,o),ECPolygonShape}(ECPolylineShape),lw=function(o){function ECPolygon(v){var _=o.call(this,v)||this;return _.type="ec-polygon",_}return __extends(ECPolygon,o),ECPolygon.prototype.getDefaultShape=function(){return new lx},ECPolygon.prototype.buildPath=function(o,v){var _=v.points,x=v.stackedOnPoints,w=0,T=_.length/2,L=v.smoothMonotone;if(v.connectNulls){for(;T>0&&isPointNull(_[2*T-2],_[2*T-1]);T--);for(;w<T&&isPointNull(_[2*w],_[2*w+1]);w++);}for(;w<T;){var N=drawSegment(o,_,w,T,T,1,v.smooth,L,v.connectNulls);drawSegment(o,x,w+N-1,N,T,-1,v.stackedOnSmooth,L,v.connectNulls),w+=N+1,o.closePath()}},ECPolygon}(rv);function createGridClipPath(o,v,_,x,w){var T=o.getArea(),L=T.x,N=T.y,B=T.width,H=T.height,Y=_.get(["lineStyle","width"])||2;L-=Y/2,N-=Y/2,B+=Y,H+=Y;var Z=new rI({shape:{x:L=Math.floor(L),y:N,width:B=Math.round(B),height:H}});if(v){var X=o.getBaseAxis(),et=X.isHorizontal(),en=X.inverse;et?(en&&(Z.shape.x+=B),Z.shape.width=0):(en||(Z.shape.y+=H),Z.shape.height=0);var er=isFunction(w)?function(o){w(o,Z)}:null;initProps(Z,{shape:{width:B,height:H,x:L,y:N}},_,null,x,er)}return Z}function createPolarClipPath(o,v,_){var x=o.getArea(),w=round(x.r0,1),T=round(x.r,1),L=new aq({shape:{cx:round(o.cx,1),cy:round(o.cy,1),r0:w,r:T,startAngle:x.startAngle,endAngle:x.endAngle,clockwise:x.clockwise}});return v&&("angle"===o.getBaseAxis().dim?L.shape.endAngle=x.startAngle:L.shape.r=w,initProps(L,{shape:{endAngle:x.endAngle,r:T}},_)),L}function createClipPath(o,v,_,x,w){if(o){if("polar"===o.type)return createPolarClipPath(o,v,_);if("cartesian2d"===o.type)return createGridClipPath(o,v,_,x,w)}return null}function isCoordinateSystemType(o,v){return o.type===v}function isPointsSame(o,v){if(o.length===v.length){for(var _=0;_<o.length;_++)if(o[_]!==v[_])return;return!0}}function bboxFromPoints(o){for(var v=1/0,_=1/0,x=-1/0,w=-1/0,T=0;T<o.length;){var L=o[T++],N=o[T++];isNaN(L)||(v=Math.min(L,v),x=Math.max(L,x)),isNaN(N)||(_=Math.min(N,_),w=Math.max(N,w))}return[[v,_],[x,w]]}function getBoundingDiff(o,v){var _=bboxFromPoints(o),x=_[0],w=_[1],T=bboxFromPoints(v),L=T[0],N=T[1];return Math.max(Math.abs(x[0]-L[0]),Math.abs(x[1]-L[1]),Math.abs(w[0]-N[0]),Math.abs(w[1]-N[1]))}function getSmooth(o){return isNumber(o)?o:o?.5:0}function getStackedOnPoints(o,v,_){if(!_.valueDim)return[];for(var x=v.count(),w=createFloat32Array(2*x),T=0;T<x;T++){var L=getStackedOnPoint(_,o,v,T);w[2*T]=L[0],w[2*T+1]=L[1]}return w}function turnPointsIntoStep(o,v,_,x){var w=v.getBaseAxis(),T="x"===w.dim||"radius"===w.dim?0:1,L=[],N=0,B=[],H=[],Y=[],Z=[];if(x){for(N=0;N<o.length;N+=2)isNaN(o[N])||isNaN(o[N+1])||Z.push(o[N],o[N+1]);o=Z}for(N=0;N<o.length-2;N+=2)switch(Y[0]=o[N+2],Y[1]=o[N+3],H[0]=o[N],H[1]=o[N+1],L.push(H[0],H[1]),_){case"end":B[T]=Y[T],B[1-T]=H[1-T],L.push(B[0],B[1]);break;case"middle":var X=(H[T]+Y[T])/2,et=[];B[T]=et[T]=X,B[1-T]=H[1-T],et[1-T]=Y[1-T],L.push(B[0],B[1]),L.push(et[0],et[1]);break;default:B[T]=H[T],B[1-T]=Y[1-T],L.push(B[0],B[1])}return L.push(o[N++],o[N++]),L}function clipColorStops(o,v){var _,x,w=[],T=o.length;function lerpStop(o,v,_){var x=o.coord,w=color_lerp((_-x)/(v.coord-x),[o.color,v.color]);return{coord:_,color:w}}for(var L=0;L<T;L++){var N=o[L],B=N.coord;if(B<0)_=N;else if(B>v){x?w.push(lerpStop(x,N,v)):_&&w.push(lerpStop(_,N,0),lerpStop(_,N,v));break}else _&&(w.push(lerpStop(_,N,0)),_=null),w.push(N),x=N}return w}function getVisualGradient(o,v,_){var x,w,T=o.getVisual("visualMeta");if(T&&T.length&&o.count()&&"cartesian2d"===v.type){for(var L=T.length-1;L>=0;L--){var N=o.getDimensionInfo(T[L].dimension);if("x"===(x=N&&N.coordDim)||"y"===x){w=T[L];break}}if(w){var B=v.getAxis(x),H=map(w.stops,function(o){return{coord:B.toGlobalCoord(B.dataToCoord(o.value)),color:o.color}}),Y=H.length,Z=w.outerColors.slice();Y&&H[0].coord>H[Y-1].coord&&(H.reverse(),Z.reverse());var X=clipColorStops(H,"x"===x?_.getWidth():_.getHeight()),et=X.length;if(!et&&Y)return H[0].coord<0?Z[1]?Z[1]:H[Y-1].color:Z[0]?Z[0]:H[0].color;var en=X[0].coord-10,er=X[et-1].coord+10,ei=er-en;if(ei<.001)return"transparent";util_each(X,function(o){o.offset=(o.coord-en)/ei}),X.push({offset:et?X[et-1].offset:.5,color:Z[1]||"transparent"}),X.unshift({offset:et?X[0].offset:.5,color:Z[0]||"transparent"});var ea=new or(0,0,0,0,X,!0);return ea[x]=en,ea[x+"2"]=er,ea}}}function getIsIgnoreFunc(o,v,_){var x=o.get("showAllSymbol"),w="auto"===x;if(!x||w){var T=_.getAxesByScale("ordinal")[0];if(!(!T||w&&canShowAllSymbolForCategory(T,v))){var L=v.mapDimension(T.dim),N={};return util_each(T.getViewLabels(),function(o){N[T.scale.getRawOrdinalNumber(o.tickValue)]=1}),function(o){return!N.hasOwnProperty(v.get(L,o))}}}}function canShowAllSymbolForCategory(o,v){var _=o.getExtent(),x=Math.abs(_[1]-_[0])/o.scale.count();isNaN(x)&&(x=0);for(var w=v.count(),T=Math.max(1,Math.round(w/5)),L=0;L<w;L+=T)if(1.5*lg.getSymbolSize(v,L)[o.isHorizontal()?1:0]>x)return!1;return!0}function LineView_isPointNull(o,v){return isNaN(o)||isNaN(v)}function getLastIndexNotNull(o){for(var v=o.length/2;v>0&&LineView_isPointNull(o[2*v-2],o[2*v-1]);v--);return v-1}function getPointAtIndex(o,v){return[o[2*v],o[2*v+1]]}function getIndexRange(o,v,_){for(var x,w,T=o.length/2,L="x"===_?0:1,N=0,B=-1,H=0;H<T;H++)if(!(isNaN(w=o[2*H+L])||isNaN(o[2*H+1-L]))){if(0===H){x=w;continue}if(x<=v&&w>=v||x>=v&&w<=v){B=H;break}N=H,x=w}return{range:[N,B],t:(v-x)/(w-x)}}function anyStateShowEndLabel(o){if(o.get(["endLabel","show"]))return!0;for(var v=0;v<rj.length;v++)if(o.get([rj[v],"endLabel","show"]))return!0;return!1}function createLineClipPath(o,v,_,x){if(!isCoordinateSystemType(v,"cartesian2d"))return createPolarClipPath(v,_,x);var w=x.getModel("endLabel"),T=w.get("valueAnimation"),L=x.getData(),N={lastFrameIndex:0},B=anyStateShowEndLabel(x)?function(_,x){o._endLabelOnDuring(_,x,L,N,T,w,v)}:null,H=v.getBaseAxis().isHorizontal(),Y=createGridClipPath(v,_,x,function(){var v=o._endLabel;v&&_&&null!=N.originalX&&v.attr({x:N.originalX,y:N.originalY})},B);if(!x.get("clip",!0)){var Z=Y.shape,X=Math.max(Z.width,Z.height);H?(Z.y-=X,Z.height+=2*X):(Z.x-=X,Z.width+=2*X)}return B&&B(1,Y),Y}function getEndLabelStateSpecified(o,v){var _=v.getBaseAxis(),x=_.isHorizontal(),w=_.inverse;return{normal:{align:o.get("align")||(x?w?"right":"left":"center"),verticalAlign:o.get("verticalAlign")||(x?"middle":w?"top":"bottom")}}}var lC=function(o){function LineView(){return null!==o&&o.apply(this,arguments)||this}return __extends(LineView,o),LineView.prototype.init=function(){var o=new nm,v=new lm;this.group.add(v.group),this._symbolDraw=v,this._lineGroup=o},LineView.prototype.render=function(o,v,_){var x,w=this,T=o.coordinateSystem,L=this.group,N=o.getData(),B=o.getModel("lineStyle"),H=o.getModel("areaStyle"),Y=N.getLayout("points")||[],Z="polar"===T.type,X=this._coordSys,et=this._symbolDraw,en=this._polyline,er=this._polygon,ei=this._lineGroup,ea=!v.ssr&&o.isAnimationEnabled(),eo=!H.isEmpty(),el=H.get("origin"),eu=prepareDataCoordInfo(T,N,el),ec=eo&&getStackedOnPoints(T,N,eu),ed=o.get("showSymbol"),eh=o.get("connectNulls"),ep=ed&&!Z&&getIsIgnoreFunc(o,N,T),ef=this._data;ef&&ef.eachItemGraphicEl(function(o,v){o.__temp&&(L.remove(o),ef.setItemGraphicEl(v,null))}),ed||et.remove(),L.add(ei);var eg=!Z&&o.get("step");T&&T.getArea&&o.get("clip",!0)&&(null!=(x=T.getArea()).width?(x.x-=.1,x.y-=.1,x.width+=.2,x.height+=.2):x.r0&&(x.r0-=.5,x.r+=.5)),this._clipShapeForSymbol=x;var em=getVisualGradient(N,T,_)||N.getVisual("style")[N.getVisual("drawType")];if(en&&X.type===T.type&&eg===this._step){eo&&!er?er=this._newPolygon(Y,ec):er&&!eo&&(ei.remove(er),er=this._polygon=null),Z||this._initOrUpdateEndLabel(o,T,convertToColorString(em));var ey=ei.getClipPath();ey?initProps(ey,{shape:createLineClipPath(this,T,!1,o).shape},o):ei.setClipPath(createLineClipPath(this,T,!0,o)),ed&&et.updateData(N,{isIgnore:ep,clipShape:x,disableAnimation:!0,getSymbolPoint:function(o){return[Y[2*o],Y[2*o+1]]}}),isPointsSame(this._stackedOnPoints,ec)&&isPointsSame(this._points,Y)||(ea?this._doUpdateAnimation(N,ec,T,_,eg,el,eh):(eg&&(Y=turnPointsIntoStep(Y,T,eg,eh),ec&&(ec=turnPointsIntoStep(ec,T,eg,eh))),en.setShape({points:Y}),er&&er.setShape({points:Y,stackedOnPoints:ec})))}else ed&&et.updateData(N,{isIgnore:ep,clipShape:x,disableAnimation:!0,getSymbolPoint:function(o){return[Y[2*o],Y[2*o+1]]}}),ea&&this._initSymbolLabelAnimation(N,T,x),eg&&(Y=turnPointsIntoStep(Y,T,eg,eh),ec&&(ec=turnPointsIntoStep(ec,T,eg,eh))),en=this._newPolyline(Y),eo?er=this._newPolygon(Y,ec):er&&(ei.remove(er),er=this._polygon=null),Z||this._initOrUpdateEndLabel(o,T,convertToColorString(em)),ei.setClipPath(createLineClipPath(this,T,!0,o));var ev=o.getModel("emphasis"),e_=ev.get("focus"),eb=ev.get("blurScope"),eS=ev.get("disabled");en.useStyle(util_defaults(B.getLineStyle(),{fill:"none",stroke:em,lineJoin:"bevel"})),setStatesStylesFromModel(en,o,"lineStyle"),en.style.lineWidth>0&&"bolder"===o.get(["emphasis","lineStyle","width"])&&(en.getState("emphasis").style.lineWidth=+en.style.lineWidth+1),rN(en).seriesIndex=o.seriesIndex,toggleHoverEmphasis(en,e_,eb,eS);var ex=getSmooth(o.get("smooth")),ew=o.get("smoothMonotone");if(en.setShape({smooth:ex,smoothMonotone:ew,connectNulls:eh}),er){var eC=N.getCalculationInfo("stackedOnSeries"),eT=0;er.useStyle(util_defaults(H.getAreaStyle(),{fill:em,opacity:.7,lineJoin:"bevel",decal:N.getVisual("style").decal})),eC&&(eT=getSmooth(eC.get("smooth"))),er.setShape({smooth:ex,stackedOnSmooth:eT,smoothMonotone:ew,connectNulls:eh}),setStatesStylesFromModel(er,o,"areaStyle"),rN(er).seriesIndex=o.seriesIndex,toggleHoverEmphasis(er,e_,eb,eS)}var changePolyState=function(o){w._changePolyState(o)};N.eachItemGraphicEl(function(o){o&&(o.onHoverStateChange=changePolyState)}),this._polyline.onHoverStateChange=changePolyState,this._data=N,this._coordSys=T,this._stackedOnPoints=ec,this._points=Y,this._step=eg,this._valueOrigin=el,o.get("triggerLineEvent")&&(this.packEventData(o,en),er&&this.packEventData(o,er))},LineView.prototype.packEventData=function(o,v){rN(v).eventData={componentType:"series",componentSubType:"line",componentIndex:o.componentIndex,seriesIndex:o.seriesIndex,seriesName:o.name,seriesType:"line"}},LineView.prototype.highlight=function(o,v,_,x){var w=o.getData(),T=queryDataIndex(w,x);if(this._changePolyState("emphasis"),T instanceof Array||null==T||!(T>=0))ob.prototype.highlight.call(this,o,v,_,x);else{var L=w.getLayout("points"),N=w.getItemGraphicEl(T);if(!N){var B=L[2*T],H=L[2*T+1];if(isNaN(B)||isNaN(H)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(B,H))return;var Y=o.get("zlevel")||0,Z=o.get("z")||0;(N=new lg(w,T)).x=B,N.y=H,N.setZ(Y,Z);var X=N.getSymbolPath().getTextContent();X&&(X.zlevel=Y,X.z=Z,X.z2=this._polyline.z2+1),N.__temp=!0,w.setItemGraphicEl(T,N),N.stopSymbolAnimation(!0),this.group.add(N)}N.highlight()}},LineView.prototype.downplay=function(o,v,_,x){var w=o.getData(),T=queryDataIndex(w,x);if(this._changePolyState("normal"),null!=T&&T>=0){var L=w.getItemGraphicEl(T);L&&(L.__temp?(w.setItemGraphicEl(T,null),this.group.remove(L)):L.downplay())}else ob.prototype.downplay.call(this,o,v,_,x)},LineView.prototype._changePolyState=function(o){var v=this._polygon;setStatesFlag(this._polyline,o),v&&setStatesFlag(v,o)},LineView.prototype._newPolyline=function(o){var v=this._polyline;return v&&this._lineGroup.remove(v),v=new lS({shape:{points:o},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(v),this._polyline=v,v},LineView.prototype._newPolygon=function(o,v){var _=this._polygon;return _&&this._lineGroup.remove(_),_=new lw({shape:{points:o,stackedOnPoints:v},segmentIgnoreThreshold:2}),this._lineGroup.add(_),this._polygon=_,_},LineView.prototype._initSymbolLabelAnimation=function(o,v,_){var x,w,T=v.getBaseAxis(),L=T.inverse;"cartesian2d"===v.type?(x=T.isHorizontal(),w=!1):"polar"===v.type&&(x="angle"===T.dim,w=!0);var N=o.hostModel,B=N.get("animationDuration");isFunction(B)&&(B=B(null));var H=N.get("animationDelay")||0,Y=isFunction(H)?H(null):H;o.eachItemGraphicEl(function(o,T){if(o){var N=[o.x,o.y],Z=void 0,X=void 0,et=void 0;if(_){if(w){var en=v.pointToCoord(N);x?(Z=_.startAngle,X=_.endAngle,et=-en[1]/180*Math.PI):(Z=_.r0,X=_.r,et=en[0])}else x?(Z=_.x,X=_.x+_.width,et=o.x):(Z=_.y+_.height,X=_.y,et=o.y)}var er=X===Z?0:(et-Z)/(X-Z);L&&(er=1-er);var ei=isFunction(H)?H(T):B*er+Y,ea=o.getSymbolPath(),eo=ea.getTextContent();o.attr({scaleX:0,scaleY:0}),o.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:ei}),eo&&eo.animateFrom({style:{opacity:0}},{duration:300,delay:ei}),ea.disableLabelAnimation=!0}})},LineView.prototype._initOrUpdateEndLabel=function(o,v,_){var x=o.getModel("endLabel");if(anyStateShowEndLabel(o)){var w=o.getData(),T=this._polyline,L=w.getLayout("points");if(!L){T.removeTextContent(),this._endLabel=null;return}var N=this._endLabel;N||((N=this._endLabel=new rR({z2:200})).ignoreClip=!0,T.setTextContent(this._endLabel),T.disableLabelAnimation=!0);var B=getLastIndexNotNull(L);B>=0&&(setLabelStyle(T,getLabelStatesModels(o,"endLabel"),{inheritColor:_,labelFetcher:o,labelDataIndex:B,defaultText:function(o,v,_){return null!=_?getDefaultInterpolatedLabel(w,_):getDefaultLabel(w,o)},enableTextSetter:!0},getEndLabelStateSpecified(x,v)),T.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},LineView.prototype._endLabelOnDuring=function(o,v,_,x,w,T,L){var N=this._endLabel,B=this._polyline;if(N){o<1&&null==x.originalX&&(x.originalX=N.x,x.originalY=N.y);var H=_.getLayout("points"),Y=_.hostModel,Z=Y.get("connectNulls"),X=T.get("precision"),et=T.get("distance")||0,en=L.getBaseAxis(),er=en.isHorizontal(),ei=en.inverse,ea=v.shape,eo=ei?er?ea.x:ea.y+ea.height:er?ea.x+ea.width:ea.y,el=(er?et:0)*(ei?-1:1),eu=(er?0:-et)*(ei?-1:1),ec=er?"x":"y",ed=getIndexRange(H,eo,ec),eh=ed.range,ep=eh[1]-eh[0],ef=void 0;if(ep>=1){if(ep>1&&!Z){var eg=getPointAtIndex(H,eh[0]);N.attr({x:eg[0]+el,y:eg[1]+eu}),w&&(ef=Y.getRawValue(eh[0]))}else{var eg=B.getPointOn(eo,ec);eg&&N.attr({x:eg[0]+el,y:eg[1]+eu});var em=Y.getRawValue(eh[0]),ey=Y.getRawValue(eh[1]);w&&(ef=interpolateRawValues(_,X,em,ey,ed.t))}x.lastFrameIndex=eh[0]}else{var ev=1===o||x.lastFrameIndex>0?eh[0]:0,eg=getPointAtIndex(H,ev);w&&(ef=Y.getRawValue(ev)),N.attr({x:eg[0]+el,y:eg[1]+eu})}if(w){var e_=r2(N);"function"==typeof e_.setLabelText&&e_.setLabelText(ef)}}},LineView.prototype._doUpdateAnimation=function(o,v,_,x,w,T,L){var N=this._polyline,B=this._polygon,H=o.hostModel,Y=lineAnimationDiff(this._data,o,this._stackedOnPoints,v,this._coordSys,_,this._valueOrigin,T),Z=Y.current,X=Y.stackedOnCurrent,et=Y.next,en=Y.stackedOnNext;if(w&&(Z=turnPointsIntoStep(Y.current,_,w,L),X=turnPointsIntoStep(Y.stackedOnCurrent,_,w,L),et=turnPointsIntoStep(Y.next,_,w,L),en=turnPointsIntoStep(Y.stackedOnNext,_,w,L)),getBoundingDiff(Z,et)>3e3||B&&getBoundingDiff(X,en)>3e3){N.stopAnimation(),N.setShape({points:et}),B&&(B.stopAnimation(),B.setShape({points:et,stackedOnPoints:en}));return}N.shape.__points=Y.current,N.shape.points=Z;var er={shape:{points:et}};Y.current!==Z&&(er.shape.__points=Y.next),N.stopAnimation(),updateProps(N,er,H),B&&(B.setShape({points:Z,stackedOnPoints:X}),B.stopAnimation(),updateProps(B,{shape:{stackedOnPoints:en}},H),N.shape.points!==B.shape.points&&(B.shape.points=N.shape.points));for(var ei=[],ea=Y.status,eo=0;eo<ea.length;eo++)if("="===ea[eo].cmd){var el=o.getItemGraphicEl(ea[eo].idx1);el&&ei.push({el:el,ptIdx:eo})}N.animators&&N.animators.length&&N.animators[0].during(function(){B&&B.dirtyShape();for(var o=N.shape.__points,v=0;v<ei.length;v++){var _=ei[v].el,x=2*ei[v].ptIdx;_.x=o[x],_.y=o[x+1],_.markRedraw()}})},LineView.prototype.remove=function(o){var v=this.group,_=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),_&&_.eachItemGraphicEl(function(o,x){o.__temp&&(v.remove(o),_.setItemGraphicEl(x,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},LineView.type="line",LineView}(ob);function pointsLayout(o,v){return{seriesType:o,plan:createRenderPlanner(),reset:function(o){var _=o.getData(),x=o.coordinateSystem,w=o.pipelineContext,T=v||w.large;if(x){var L=map(x.dimensions,function(o){return _.mapDimension(o)}).slice(0,2),N=L.length,B=_.getCalculationInfo("stackResultDimension");isDimensionStacked(_,L[0])&&(L[0]=B),isDimensionStacked(_,L[1])&&(L[1]=B);var H=_.getStore(),Y=_.getDimensionIndex(L[0]),Z=_.getDimensionIndex(L[1]);return N&&{progress:function(o,v){for(var _=o.end-o.start,w=T&&createFloat32Array(_*N),L=[],B=[],X=o.start,et=0;X<o.end;X++){var en=void 0;if(1===N){var er=H.get(Y,X);en=x.dataToPoint(er,null,B)}else L[0]=H.get(Y,X),L[1]=H.get(Z,X),en=x.dataToPoint(L,null,B);T?(w[et++]=en[0],w[et++]=en[1]):v.setItemLayout(X,en.slice())}T&&v.setLayout("points",w)}}}}}}var lT={average:function(o){for(var v=0,_=0,x=0;x<o.length;x++)!isNaN(o[x])&&(v+=o[x],_++);return 0===_?NaN:v/_},sum:function(o){for(var v=0,_=0;_<o.length;_++)v+=o[_]||0;return v},max:function(o){for(var v=-1/0,_=0;_<o.length;_++)o[_]>v&&(v=o[_]);return isFinite(v)?v:NaN},min:function(o){for(var v=1/0,_=0;_<o.length;_++)o[_]<v&&(v=o[_]);return isFinite(v)?v:NaN},nearest:function(o){return o[0]}},indexSampler=function(o){return Math.round(o.length/2)};function dataSample(o){return{seriesType:o,reset:function(o,v,_){var x=o.getData(),w=o.get("sampling"),T=o.coordinateSystem,L=x.count();if(L>10&&"cartesian2d"===T.type&&w){var N=T.getBaseAxis(),B=T.getOtherAxis(N),H=N.getExtent(),Y=_.getDevicePixelRatio(),Z=Math.round(L/(Math.abs(H[1]-H[0])*(Y||1)));if(isFinite(Z)&&Z>1){"lttb"===w&&o.setData(x.lttbDownSample(x.mapDimension(B.dim),1/Z));var X=void 0;util_isString(w)?X=lT[w]:isFunction(w)&&(X=w),X&&o.setData(x.downSample(x.mapDimension(B.dim),1/Z,X,indexSampler))}}}}}function install_install(o){o.registerChartView(lC),o.registerSeriesModel(lf),o.registerLayout(pointsLayout("line",!0)),o.registerVisual({seriesType:"line",reset:function(o){var v=o.getData(),_=o.getModel("lineStyle").getLineStyle();_&&!_.stroke&&(_.stroke=v.getVisual("style").fill),v.setVisual("legendLineStyle",_)}}),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var lM="__ec_stack_";function getSeriesStackId(o){return o.get("stack")||lM+o.seriesIndex}function getAxisKey(o){return o.dim+o.index}function getLayoutOnAxis(o){var v=[],_=o.axis,x="axis0";if("category"===_.type){for(var w=_.getBandWidth(),T=0;T<o.count;T++)v.push(util_defaults({bandWidth:w,axisKey:x,stackId:lM+T},o));for(var L=doCalBarWidthAndOffset(v),N=[],T=0;T<o.count;T++){var B=L[x][lM+T];B.offsetCenter=B.offset+B.width/2,N.push(B)}return N}}function prepareLayoutBarSeries(o,v){var _=[];return v.eachSeriesByType(o,function(o){isOnCartesian(o)&&_.push(o)}),_}function getValueAxesMinGaps(o){var v={};util_each(o,function(o){var _=o.coordinateSystem.getBaseAxis();if("time"===_.type||"value"===_.type)for(var x=o.getData(),w=_.dim+"_"+_.index,T=x.getDimensionIndex(x.mapDimension(_.dim)),L=x.getStore(),N=0,B=L.count();N<B;++N){var H=L.get(T,N);v[w]?v[w].push(H):v[w]=[H]}});var _={};for(var x in v)if(v.hasOwnProperty(x)){var w=v[x];if(w){w.sort(function(o,v){return o-v});for(var T=null,L=1;L<w.length;++L){var N=w[L]-w[L-1];N>0&&(T=null===T?N:Math.min(T,N))}_[x]=T}}return _}function makeColumnLayout(o){var v=getValueAxesMinGaps(o),_=[];return util_each(o,function(o){var x,w=o.coordinateSystem.getBaseAxis(),T=w.getExtent();if("category"===w.type)x=w.getBandWidth();else if("value"===w.type||"time"===w.type){var L=v[w.dim+"_"+w.index],N=Math.abs(T[1]-T[0]),B=w.scale.getExtent(),H=Math.abs(B[1]-B[0]);x=L?N/H*L:N}else{var Y=o.getData();x=Math.abs(T[1]-T[0])/Y.count()}var Z=number_parsePercent(o.get("barWidth"),x),X=number_parsePercent(o.get("barMaxWidth"),x),et=number_parsePercent(o.get("barMinWidth")||(isInLargeMode(o)?.5:1),x),en=o.get("barGap"),er=o.get("barCategoryGap");_.push({bandWidth:x,barWidth:Z,barMaxWidth:X,barMinWidth:et,barGap:en,barCategoryGap:er,axisKey:getAxisKey(w),stackId:getSeriesStackId(o)})}),doCalBarWidthAndOffset(_)}function doCalBarWidthAndOffset(o){var v={};util_each(o,function(o,_){var x=o.axisKey,w=o.bandWidth,T=v[x]||{bandWidth:w,remainedWidth:w,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},L=T.stacks;v[x]=T;var N=o.stackId;!L[N]&&T.autoWidthCount++,L[N]=L[N]||{width:0,maxWidth:0};var B=o.barWidth;B&&!L[N].width&&(L[N].width=B,B=Math.min(T.remainedWidth,B),T.remainedWidth-=B);var H=o.barMaxWidth;H&&(L[N].maxWidth=H);var Y=o.barMinWidth;Y&&(L[N].minWidth=Y);var Z=o.barGap;null!=Z&&(T.gap=Z);var X=o.barCategoryGap;null!=X&&(T.categoryGap=X)});var _={};return util_each(v,function(o,v){_[v]={};var x,w=o.stacks,T=o.bandWidth,L=o.categoryGap;null==L&&(L=Math.max(35-4*keys(w).length,15)+"%");var N=number_parsePercent(L,T),B=number_parsePercent(o.gap,1),H=o.remainedWidth,Y=o.autoWidthCount,Z=(H-N)/(Y+(Y-1)*B);Z=Math.max(Z,0),util_each(w,function(o){var v=o.maxWidth,_=o.minWidth;if(o.width){var x=o.width;v&&(x=Math.min(x,v)),_&&(x=Math.max(x,_)),o.width=x,H-=x+B*x,Y--}else{var x=Z;v&&v<x&&(x=Math.min(v,H)),_&&_>x&&(x=_),x!==Z&&(o.width=x,H-=x+B*x,Y--)}}),Z=Math.max(Z=(H-N)/(Y+(Y-1)*B),0);var X=0;util_each(w,function(o,v){o.width||(o.width=Z),x=o,X+=o.width*(1+B)}),x&&(X-=x.width*B);var et=-X/2;util_each(w,function(o,x){_[v][x]=_[v][x]||{bandWidth:T,offset:et,width:o.width},et+=o.width*(1+B)})}),_}function retrieveColumnLayout(o,v,_){if(o&&v){var x=o[getAxisKey(v)];return null!=x&&null!=_?x[getSeriesStackId(_)]:x}}function layout(o,v){var _=prepareLayoutBarSeries(o,v),x=makeColumnLayout(_);util_each(_,function(o){var v=o.getData(),_=o.coordinateSystem.getBaseAxis(),w=getSeriesStackId(o),T=x[getAxisKey(_)][w],L=T.offset,N=T.width;v.setLayout({bandWidth:T.bandWidth,offset:L,size:N})})}function createProgressiveLayout(o){return{seriesType:o,plan:createRenderPlanner(),reset:function(o){if(isOnCartesian(o)){var v=o.getData(),_=o.coordinateSystem,x=_.getBaseAxis(),w=_.getOtherAxis(x),T=v.getDimensionIndex(v.mapDimension(w.dim)),L=v.getDimensionIndex(v.mapDimension(x.dim)),N=o.get("showBackground",!0),B=v.mapDimension(w.dim),H=v.getCalculationInfo("stackResultDimension"),Y=isDimensionStacked(v,B)&&!!v.getCalculationInfo("stackedOnSeries"),Z=w.isHorizontal(),X=getValueAxisStart(x,w),et=isInLargeMode(o),en=o.get("barMinHeight")||0,er=H&&v.getDimensionIndex(H),ei=v.getLayout("size"),ea=v.getLayout("offset");return{progress:function(o,v){for(var x,w=o.count,B=et&&createFloat32Array(3*w),H=et&&N&&createFloat32Array(3*w),eo=et&&createFloat32Array(w),el=_.master.getRect(),eu=Z?el.width:el.height,ec=v.getStore(),ed=0;null!=(x=o.next());){var eh=ec.get(Y?er:T,x),ep=ec.get(L,x),ef=X,eg=void 0;Y&&(eg=+eh-ec.get(T,x));var em=void 0,ey=void 0,ev=void 0,e_=void 0;if(Z){var eb=_.dataToPoint([eh,ep]);if(Y){var eS=_.dataToPoint([eg,ep]);ef=eS[0]}em=ef,ey=eb[1]+ea,ev=eb[0]-ef,e_=ei,Math.abs(ev)<en&&(ev=(ev<0?-1:1)*en)}else{var eb=_.dataToPoint([ep,eh]);if(Y){var eS=_.dataToPoint([ep,eg]);ef=eS[1]}em=eb[0]+ea,ey=ef,ev=ei,Math.abs(e_=eb[1]-ef)<en&&(e_=(e_<=0?-1:1)*en)}et?(B[ed]=em,B[ed+1]=ey,B[ed+2]=Z?ev:e_,H&&(H[ed]=Z?el.x:em,H[ed+1]=Z?ey:el.y,H[ed+2]=eu),eo[x]=x):v.setItemLayout(x,{x:em,y:ey,width:ev,height:e_}),ed+=3}et&&v.setLayout({largePoints:B,largeDataIndices:eo,largeBackgroundPoints:H,valueAxisHorizontal:Z})}}}}}}function isOnCartesian(o){return o.coordinateSystem&&"cartesian2d"===o.coordinateSystem.type}function isInLargeMode(o){return o.pipelineContext&&o.pipelineContext.large}function getValueAxisStart(o,v){return v.toGlobalCoord(v.dataToCoord("log"===v.type?1:0))}var lP=function(o){function BaseBarSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=BaseBarSeriesModel.type,v}return __extends(BaseBarSeriesModel,o),BaseBarSeriesModel.prototype.getInitialData=function(o,v){return helper_createSeriesData(null,this,{useEncodeDefaulter:!0})},BaseBarSeriesModel.prototype.getMarkerPosition=function(o,v,_){var x=this.coordinateSystem;if(x&&x.clampData){var w=x.clampData(o),T=x.dataToPoint(w);if(_)util_each(x.getAxes(),function(o,_){if("category"===o.type&&null!=v){var x=o.getTicksCoords(),L=w[_],N="x1"===v[_]||"y1"===v[_];if(N&&(L+=1),!(x.length<2)){if(2===x.length){T[_]=o.toGlobalCoord(o.getExtent()[N?1:0]);return}for(var B=void 0,H=void 0,Y=1,Z=0;Z<x.length;Z++){var X=x[Z].coord,et=Z===x.length-1?x[Z-1].tickValue+Y:x[Z].tickValue;if(et===L){H=X;break}if(et<L)B=X;else if(null!=B&&et>L){H=(X+B)/2;break}1===Z&&(Y=et-x[0].tickValue)}null==H&&(B?B&&(H=x[x.length-1].coord):H=x[0].coord),T[_]=o.toGlobalCoord(H)}}});else{var L=this.getData(),N=L.getLayout("offset"),B=L.getLayout("size"),H=x.getBaseAxis().isHorizontal()?0:1;T[H]+=N+B/2}return T}return[NaN,NaN]},BaseBarSeriesModel.type="series.__base_bar__",BaseBarSeriesModel.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},BaseBarSeriesModel}(aS);aS.registerClass(lP);var lI=function(o){function BarSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=BarSeriesModel.type,v}return __extends(BarSeriesModel,o),BarSeriesModel.prototype.getInitialData=function(){return helper_createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},BarSeriesModel.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},BarSeriesModel.prototype.getProgressiveThreshold=function(){var o=this.get("progressiveThreshold"),v=this.get("largeThreshold");return v>o&&(o=v),o},BarSeriesModel.prototype.brushSelector=function(o,v,_){return _.rect(v.getItemLayout(o))},BarSeriesModel.type="series.bar",BarSeriesModel.dependencies=["grid","polar"],BarSeriesModel.defaultOption=inheritDefaultOption(lP.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),BarSeriesModel}(lP),SausageShape=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},lD=function(o){function SausagePath(v){var _=o.call(this,v)||this;return _.type="sausage",_}return __extends(SausagePath,o),SausagePath.prototype.getDefaultShape=function(){return new SausageShape},SausagePath.prototype.buildPath=function(o,v){var _=v.cx,x=v.cy,w=Math.max(v.r0||0,0),T=Math.max(v.r,0),L=(T-w)*.5,N=w+L,B=v.startAngle,H=v.endAngle,Y=v.clockwise,Z=2*Math.PI,X=Y?H-B<Z:B-H<Z;X||(B=H-(Y?Z:-Z));var et=Math.cos(B),en=Math.sin(B),er=Math.cos(H),ei=Math.sin(H);X?(o.moveTo(et*w+_,en*w+x),o.arc(et*N+_,en*N+x,L,-Math.PI+B,B,!Y)):o.moveTo(et*T+_,en*T+x),o.arc(_,x,T,B,H,!Y),o.arc(er*N+_,ei*N+x,L,H-2*Math.PI,H-Math.PI,!Y),0!==w&&o.arc(_,x,w,H,B,Y)},SausagePath}(rv);function createSectorCalculateTextPosition(o,v){var _=(v=v||{}).isRoundCap;return function(v,x,w){var T=x.position;if(!T||T instanceof Array)return calculateTextPosition(v,x,w);var L=o(T),N=null!=x.distance?x.distance:5,B=this.shape,H=B.cx,Y=B.cy,Z=B.r,X=B.r0,et=(Z+X)/2,en=B.startAngle,er=B.endAngle,ei=(en+er)/2,ea=_?Math.abs(Z-X)/2:0,eo=Math.cos,el=Math.sin,eu=H+Z*eo(en),ec=Y+Z*el(en),ed="left",eh="top";switch(L){case"startArc":eu=H+(X-N)*eo(ei),ec=Y+(X-N)*el(ei),ed="center",eh="top";break;case"insideStartArc":eu=H+(X+N)*eo(ei),ec=Y+(X+N)*el(ei),ed="center",eh="bottom";break;case"startAngle":eu=H+et*eo(en)+adjustAngleDistanceX(en,N+ea,!1),ec=Y+et*el(en)+adjustAngleDistanceY(en,N+ea,!1),ed="right",eh="middle";break;case"insideStartAngle":eu=H+et*eo(en)+adjustAngleDistanceX(en,-N+ea,!1),ec=Y+et*el(en)+adjustAngleDistanceY(en,-N+ea,!1),ed="left",eh="middle";break;case"middle":eu=H+et*eo(ei),ec=Y+et*el(ei),ed="center",eh="middle";break;case"endArc":eu=H+(Z+N)*eo(ei),ec=Y+(Z+N)*el(ei),ed="center",eh="bottom";break;case"insideEndArc":eu=H+(Z-N)*eo(ei),ec=Y+(Z-N)*el(ei),ed="center",eh="top";break;case"endAngle":eu=H+et*eo(er)+adjustAngleDistanceX(er,N+ea,!0),ec=Y+et*el(er)+adjustAngleDistanceY(er,N+ea,!0),ed="left",eh="middle";break;case"insideEndAngle":eu=H+et*eo(er)+adjustAngleDistanceX(er,-N+ea,!0),ec=Y+et*el(er)+adjustAngleDistanceY(er,-N+ea,!0),ed="right",eh="middle";break;default:return calculateTextPosition(v,x,w)}return(v=v||{}).x=eu,v.y=ec,v.align=ed,v.verticalAlign=eh,v}}function setSectorTextRotation(o,v,_,x){if(isNumber(x)){o.setTextConfig({rotation:x});return}if(util_isArray(v)){o.setTextConfig({rotation:0});return}var w,T=o.shape,L=T.clockwise?T.startAngle:T.endAngle,N=T.clockwise?T.endAngle:T.startAngle,B=_(v);switch(B){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":w=(L+N)/2;break;case"startAngle":case"insideStartAngle":w=L;break;case"endAngle":case"insideEndAngle":w=N;break;default:o.setTextConfig({rotation:0});return}var H=1.5*Math.PI-w;"middle"===B&&H>Math.PI/2&&H<1.5*Math.PI&&(H-=Math.PI),o.setTextConfig({rotation:H})}function adjustAngleDistanceX(o,v,_){return v*Math.sin(o)*(_?-1:1)}function adjustAngleDistanceY(o,v,_){return v*Math.cos(o)*(_?1:-1)}function getSectorCornerRadius(o,v,_){var x=o.get("borderRadius");if(null==x)return _?{cornerRadius:0}:null;util_isArray(x)||(x=[x,x,x,x]);var w=Math.abs(v.r||0-v.r0||0);return{cornerRadius:map(x,function(o){return parsePercent(o,w)})}}var lE=Math.max,lO=Math.min;function getClipArea(o,v){var _=o.getArea&&o.getArea();if(isCoordinateSystemType(o,"cartesian2d")){var x=o.getBaseAxis();if("category"!==x.type||!x.onBand){var w=v.getLayout("bandWidth");x.isHorizontal()?(_.x-=w,_.width+=2*w):(_.y-=w,_.height+=2*w)}}return _}var lA=function(o){function BarView(){var v=o.call(this)||this;return v.type=BarView.type,v._isFirstFrame=!0,v}return __extends(BarView,o),BarView.prototype.render=function(o,v,_,x){this._model=o,this._removeOnRenderedListener(_),this._updateDrawMode(o);var w=o.get("coordinateSystem");("cartesian2d"===w||"polar"===w)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(o,v,_):this._renderNormal(o,v,_,x))},BarView.prototype.incrementalPrepareRender=function(o){this._clear(),this._updateDrawMode(o),this._updateLargeClip(o)},BarView.prototype.incrementalRender=function(o,v){this._progressiveEls=[],this._incrementalRenderLarge(o,v)},BarView.prototype.eachRendered=function(o){traverseElements(this._progressiveEls||this.group,o)},BarView.prototype._updateDrawMode=function(o){var v=o.pipelineContext.large;(null==this._isLargeDraw||v!==this._isLargeDraw)&&(this._isLargeDraw=v,this._clear())},BarView.prototype._renderNormal=function(o,v,_,x){var w,T=this.group,L=o.getData(),N=this._data,B=o.coordinateSystem,H=B.getBaseAxis();"cartesian2d"===B.type?w=H.isHorizontal():"polar"===B.type&&(w="angle"===H.dim);var Y=o.isAnimationEnabled()?o:null,Z=shouldRealtimeSort(o,B);Z&&this._enableRealtimeSort(Z,L,_);var X=o.get("clip",!0)||Z,et=getClipArea(B,L);T.removeClipPath();var en=o.get("roundCap",!0),er=o.get("showBackground",!0),ei=o.getModel("backgroundStyle"),ea=ei.get("borderRadius")||0,eo=[],el=this._backgroundEls,eu=x&&x.isInitSort,ec=x&&"changeAxisOrder"===x.type;function createBackground(o){var v=lV[B.type](L,o),_=createBackgroundEl(B,w,v);return _.useStyle(ei.getItemStyle()),"cartesian2d"===B.type?_.setShape("r",ea):_.setShape("cornerRadius",ea),eo[o]=_,_}L.diff(N).add(function(v){var _=L.getItemModel(v),x=lV[B.type](L,v,_);if(er&&createBackground(v),L.hasValue(v)&&lF[B.type](x)){var N=!1;X&&(N=lk[B.type](et,x));var ei=lL[B.type](o,L,v,x,w,Y,H.model,!1,en);Z&&(ei.forceLabelAnimation=!0),updateStyle(ei,L,v,_,x,o,w,"polar"===B.type),eu?ei.attr({shape:x}):Z?updateRealtimeAnimation(Z,Y,ei,x,v,w,!1,!1):initProps(ei,{shape:x},o,v),L.setItemGraphicEl(v,ei),T.add(ei),ei.ignore=N}}).update(function(v,_){var x=L.getItemModel(v),ed=lV[B.type](L,v,x);if(er){var eh=void 0;0===el.length?eh=createBackground(_):((eh=el[_]).useStyle(ei.getItemStyle()),"cartesian2d"===B.type?eh.setShape("r",ea):eh.setShape("cornerRadius",ea),eo[v]=eh);var ep=lV[B.type](L,v);updateProps(eh,{shape:createBackgroundShape(w,ep,B)},Y,v)}var ef=N.getItemGraphicEl(_);if(!L.hasValue(v)||!lF[B.type](ed)){T.remove(ef);return}var eg=!1;if(X&&(eg=lk[B.type](et,ed))&&T.remove(ef),ef?saveOldStyle(ef):ef=lL[B.type](o,L,v,ed,w,Y,H.model,!!ef,en),Z&&(ef.forceLabelAnimation=!0),ec){var em=ef.getTextContent();if(em){var ey=r2(em);null!=ey.prevValue&&(ey.prevValue=ey.value)}}else updateStyle(ef,L,v,x,ed,o,w,"polar"===B.type);eu?ef.attr({shape:ed}):Z?updateRealtimeAnimation(Z,Y,ef,ed,v,w,!0,ec):updateProps(ef,{shape:ed},o,v,null),L.setItemGraphicEl(v,ef),ef.ignore=eg,T.add(ef)}).remove(function(v){var _=N.getItemGraphicEl(v);_&&removeElementWithFadeOut(_,o,v)}).execute();var ed=this._backgroundGroup||(this._backgroundGroup=new nm);ed.removeAll();for(var eh=0;eh<eo.length;++eh)ed.add(eo[eh]);T.add(ed),this._backgroundEls=eo,this._data=L},BarView.prototype._renderLarge=function(o,v,_){this._clear(),createLarge(o,this.group),this._updateLargeClip(o)},BarView.prototype._incrementalRenderLarge=function(o,v){this._removeBackground(),createLarge(v,this.group,this._progressiveEls,!0)},BarView.prototype._updateLargeClip=function(o){var v=o.get("clip",!0)&&createClipPath(o.coordinateSystem,!1,o),_=this.group;v?_.setClipPath(v):_.removeClipPath()},BarView.prototype._enableRealtimeSort=function(o,v,_){var x=this;if(v.count()){var w=o.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(v,o,_),this._isFirstFrame=!1;else{var orderMapping_1=function(o){var _=v.getItemGraphicEl(o),x=_&&_.shape;return x&&Math.abs(w.isHorizontal()?x.height:x.width)||0};this._onRendered=function(){x._updateSortWithinSameData(v,orderMapping_1,w,_)},_.getZr().on("rendered",this._onRendered)}}},BarView.prototype._dataSort=function(o,v,_){var x=[];return o.each(o.mapDimension(v.dim),function(o,v){var w=_(v);w=null==w?NaN:w,x.push({dataIndex:v,mappedValue:w,ordinalNumber:o})}),x.sort(function(o,v){return v.mappedValue-o.mappedValue}),{ordinalNumbers:map(x,function(o){return o.ordinalNumber})}},BarView.prototype._isOrderChangedWithinSameData=function(o,v,_){for(var x=_.scale,w=o.mapDimension(_.dim),T=Number.MAX_VALUE,L=0,N=x.getOrdinalMeta().categories.length;L<N;++L){var B=o.rawIndexOf(w,x.getRawOrdinalNumber(L)),H=B<0?Number.MIN_VALUE:v(o.indexOfRawIndex(B));if(H>T)return!0;T=H}return!1},BarView.prototype._isOrderDifferentInView=function(o,v){for(var _=v.scale,x=_.getExtent(),w=Math.max(0,x[0]),T=Math.min(x[1],_.getOrdinalMeta().categories.length-1);w<=T;++w)if(o.ordinalNumbers[w]!==_.getRawOrdinalNumber(w))return!0},BarView.prototype._updateSortWithinSameData=function(o,v,_,x){if(this._isOrderChangedWithinSameData(o,v,_)){var w=this._dataSort(o,_,v);this._isOrderDifferentInView(w,_)&&(this._removeOnRenderedListener(x),x.dispatchAction({type:"changeAxisOrder",componentType:_.dim+"Axis",axisId:_.index,sortInfo:w}))}},BarView.prototype._dispatchInitSort=function(o,v,_){var x=v.baseAxis,w=this._dataSort(o,x,function(_){return o.get(o.mapDimension(v.otherAxis.dim),_)});_.dispatchAction({type:"changeAxisOrder",componentType:x.dim+"Axis",isInitSort:!0,axisId:x.index,sortInfo:w})},BarView.prototype.remove=function(o,v){this._clear(this._model),this._removeOnRenderedListener(v)},BarView.prototype.dispose=function(o,v){this._removeOnRenderedListener(v)},BarView.prototype._removeOnRenderedListener=function(o){this._onRendered&&(o.getZr().off("rendered",this._onRendered),this._onRendered=null)},BarView.prototype._clear=function(o){var v=this.group,_=this._data;o&&o.isAnimationEnabled()&&_&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],_.eachItemGraphicEl(function(v){removeElementWithFadeOut(v,o,rN(v).dataIndex)})):v.removeAll(),this._data=null,this._isFirstFrame=!0},BarView.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},BarView.type="bar",BarView}(ob),lk={cartesian2d:function(o,v){var _=v.width<0?-1:1,x=v.height<0?-1:1;_<0&&(v.x+=v.width,v.width=-v.width),x<0&&(v.y+=v.height,v.height=-v.height);var w=o.x+o.width,T=o.y+o.height,L=lE(v.x,o.x),N=lO(v.x+v.width,w),B=lE(v.y,o.y),H=lO(v.y+v.height,T),Y=N<L,Z=H<B;return v.x=Y&&L>w?N:L,v.y=Z&&B>T?H:B,v.width=Y?0:N-L,v.height=Z?0:H-B,_<0&&(v.x+=v.width,v.width=-v.width),x<0&&(v.y+=v.height,v.height=-v.height),Y||Z},polar:function(o,v){var _=v.r0<=v.r?1:-1;if(_<0){var x=v.r;v.r=v.r0,v.r0=x}var w=lO(v.r,o.r),T=lE(v.r0,o.r0);v.r=w,v.r0=T;var L=w-T<0;if(_<0){var x=v.r;v.r=v.r0,v.r0=x}return L}},lL={cartesian2d:function(o,v,_,x,w,T,L,N,B){var H=new rI({shape:extend({},x),z2:1});return H.__dataIndex=_,H.name="item",T&&(H.shape[w?"height":"width"]=0),H},polar:function(o,v,_,x,w,T,L,N,B){var H=!w&&B?lD:aq,Y=new H({shape:x,z2:1});Y.name="item";var Z=createPolarPositionMapping(w);if(Y.calculateTextPosition=createSectorCalculateTextPosition(Z,{isRoundCap:H===lD}),T){var X=Y.shape,et=w?"r":"endAngle",en={};X[et]=w?x.r0:x.startAngle,en[et]=x[et],(N?updateProps:initProps)(Y,{shape:en},T)}return Y}};function shouldRealtimeSort(o,v){var _=o.get("realtimeSort",!0),x=v.getBaseAxis();if(_&&"category"===x.type&&"cartesian2d"===v.type)return{baseAxis:x,otherAxis:v.getOtherAxis(x)}}function updateRealtimeAnimation(o,v,_,x,w,T,L,N){var B,H;T?(H={x:x.x,width:x.width},B={y:x.y,height:x.height}):(H={y:x.y,height:x.height},B={x:x.x,width:x.width}),N||(L?updateProps:initProps)(_,{shape:B},v,w,null),(L?updateProps:initProps)(_,{shape:H},v?o.baseAxis.model:null,w)}function checkPropertiesNotValid(o,v){for(var _=0;_<v.length;_++)if(!isFinite(o[v[_]]))return!0;return!1}var lR=["x","y","width","height"],lN=["cx","cy","r","startAngle","endAngle"],lF={cartesian2d:function(o){return!checkPropertiesNotValid(o,lR)},polar:function(o){return!checkPropertiesNotValid(o,lN)}},lV={cartesian2d:function(o,v,_){var x=o.getItemLayout(v),w=_?getLineWidth(_,x):0,T=x.width>0?1:-1,L=x.height>0?1:-1;return{x:x.x+T*w/2,y:x.y+L*w/2,width:x.width-T*w,height:x.height-L*w}},polar:function(o,v,_){var x=o.getItemLayout(v);return{cx:x.cx,cy:x.cy,r0:x.r0,r:x.r,startAngle:x.startAngle,endAngle:x.endAngle,clockwise:x.clockwise}}};function isZeroOnPolar(o){return null!=o.startAngle&&null!=o.endAngle&&o.startAngle===o.endAngle}function createPolarPositionMapping(o){var v;return v=o?"Arc":"Angle",function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+v;default:return o}}}function updateStyle(o,v,_,x,w,T,L,N){var B=v.getItemVisual(_,"style");if(N){if(!T.get("roundCap")){var H=o.shape,Y=getSectorCornerRadius(x.getModel("itemStyle"),H,!0);extend(H,Y),o.setShape(H)}}else{var Z=x.get(["itemStyle","borderRadius"])||0;o.setShape("r",Z)}o.useStyle(B);var X=x.getShallow("cursor");X&&o.attr("cursor",X);var et=N?L?w.r>=w.r0?"endArc":"startArc":w.endAngle>=w.startAngle?"endAngle":"startAngle":L?w.height>=0?"bottom":"top":w.width>=0?"right":"left",en=getLabelStatesModels(x);setLabelStyle(o,en,{labelFetcher:T,labelDataIndex:_,defaultText:getDefaultLabel(T.getData(),_),inheritColor:B.fill,defaultOpacity:B.opacity,defaultOutsidePosition:et});var er=o.getTextContent();if(N&&er){var ei=x.get(["label","position"]);o.textConfig.inside="middle"===ei||null,setSectorTextRotation(o,"outside"===ei?et:ei,createPolarPositionMapping(L),x.get(["label","rotate"]))}setLabelValueAnimation(er,en,T.getRawValue(_),function(o){return getDefaultInterpolatedLabel(v,o)});var ea=x.getModel(["emphasis"]);toggleHoverEmphasis(o,ea.get("focus"),ea.get("blurScope"),ea.get("disabled")),setStatesStylesFromModel(o,x),isZeroOnPolar(w)&&(o.style.fill="none",o.style.stroke="none",util_each(o.states,function(o){o.style&&(o.style.fill=o.style.stroke="none")}))}function getLineWidth(o,v){var _=o.get(["itemStyle","borderColor"]);return _&&"none"!==_?Math.min(o.get(["itemStyle","borderWidth"])||0,isNaN(v.width)?Number.MAX_VALUE:Math.abs(v.width),isNaN(v.height)?Number.MAX_VALUE:Math.abs(v.height)):0}var LagePathShape=function(){},lB=function(o){function LargePath(v){var _=o.call(this,v)||this;return _.type="largeBar",_}return __extends(LargePath,o),LargePath.prototype.getDefaultShape=function(){return new LagePathShape},LargePath.prototype.buildPath=function(o,v){for(var _=v.points,x=this.baseDimIdx,w=1-this.baseDimIdx,T=[],L=[],N=this.barWidth,B=0;B<_.length;B+=3)L[x]=N,L[w]=_[B+2],T[x]=_[B+x],T[w]=_[B+w],o.rect(T[0],T[1],L[0],L[1])},LargePath}(rv);function createLarge(o,v,_,x){var w=o.getData(),T=w.getLayout("valueAxisHorizontal")?1:0,L=w.getLayout("largeDataIndices"),N=w.getLayout("size"),B=o.getModel("backgroundStyle"),H=w.getLayout("largeBackgroundPoints");if(H){var Y=new lB({shape:{points:H},incremental:!!x,silent:!0,z2:0});Y.baseDimIdx=T,Y.largeDataIndices=L,Y.barWidth=N,Y.useStyle(B.getItemStyle()),v.add(Y),_&&_.push(Y)}var Z=new lB({shape:{points:w.getLayout("largePoints")},incremental:!!x,ignoreCoarsePointer:!0,z2:1});Z.baseDimIdx=T,Z.largeDataIndices=L,Z.barWidth=N,v.add(Z),Z.useStyle(w.getVisual("style")),rN(Z).seriesIndex=o.seriesIndex,o.get("silent")||(Z.on("mousedown",lz),Z.on("mousemove",lz)),_&&_.push(Z)}var lz=throttle(function(o){var v=largePathFindDataIndex(this,o.offsetX,o.offsetY);rN(this).dataIndex=v>=0?v:null},30,!1);function largePathFindDataIndex(o,v,_){for(var x=o.baseDimIdx,w=1-x,T=o.shape.points,L=o.largeDataIndices,N=[],B=[],H=o.barWidth,Y=0,Z=T.length/3;Y<Z;Y++){var X=3*Y;if(B[x]=H,B[w]=T[X+2],N[x]=T[X+x],N[w]=T[X+w],B[w]<0&&(N[w]+=B[w],B[w]=-B[w]),v>=N[0]&&v<=N[0]+B[0]&&_>=N[1]&&_<=N[1]+B[1])return L[Y]}return -1}function createBackgroundShape(o,v,_){if(isCoordinateSystemType(_,"cartesian2d")){var x=_.getArea();return{x:o?v.x:x.x,y:o?x.y:v.y,width:o?v.width:x.width,height:o?x.height:v.height}}var x=_.getArea();return{cx:x.cx,cy:x.cy,r0:o?x.r0:v.r0,r:o?x.r:v.r,startAngle:o?v.startAngle:0,endAngle:o?v.endAngle:2*Math.PI}}function createBackgroundEl(o,v,_){return new("polar"===o.type?aq:rI)({shape:createBackgroundShape(v,_,o),silent:!0,z2:0})}function bar_install_install(o){o.registerChartView(lA),o.registerSeriesModel(lI),o.registerLayout(o.PRIORITY.VISUAL.LAYOUT,curry(layout,"bar")),o.registerLayout(o.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),o.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(o,v){var _=o.componentType||"series";v.eachComponent({mainType:_,query:o},function(v){o.sortInfo&&v.axis.setCategorySortInfo(o.sortInfo)})})}var lj=2*Math.PI,lH=Math.PI/180;function getViewRect(o,v){return getLayoutRect(o.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()})}function getBasicPieLayout(o,v){var _,x,w=getViewRect(o,v),T=o.get("center"),L=o.get("radius");util_isArray(L)||(L=[0,L]);var N=number_parsePercent(w.width,v.getWidth()),B=number_parsePercent(w.height,v.getHeight()),H=Math.min(N,B),Y=number_parsePercent(L[0],H/2),Z=number_parsePercent(L[1],H/2),X=o.coordinateSystem;if(X){var et=X.dataToPoint(T);_=et[0]||0,x=et[1]||0}else util_isArray(T)||(T=[T,T]),_=number_parsePercent(T[0],N)+w.x,x=number_parsePercent(T[1],B)+w.y;return{cx:_,cy:x,r0:Y,r:Z}}function pieLayout(o,v,_){v.eachSeriesByType(o,function(o){var v=o.getData(),x=v.mapDimension("value"),w=getViewRect(o,_),T=getBasicPieLayout(o,_),L=T.cx,N=T.cy,B=T.r,H=T.r0,Y=-o.get("startAngle")*lH,Z=o.get("minAngle")*lH,X=0;v.each(x,function(o){!isNaN(o)&&X++});var et=v.getSum(x),en=Math.PI/(et||X)*2,er=o.get("clockwise"),ei=o.get("roseType"),ea=o.get("stillShowZeroSum"),eo=v.getDataExtent(x);eo[0]=0;var el=lj,eu=0,ec=Y,ed=er?1:-1;if(v.setLayout({viewRect:w,r:B}),v.each(x,function(o,_){if(isNaN(o)){v.setItemLayout(_,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:er,cx:L,cy:N,r0:H,r:ei?NaN:B});return}(x="area"!==ei?0===et&&ea?en:o*en:lj/X)<Z?(x=Z,el-=Z):eu+=o;var x,w=ec+ed*x;v.setItemLayout(_,{angle:x,startAngle:ec,endAngle:w,clockwise:er,cx:L,cy:N,r0:H,r:ei?linearMap(o,eo,[H,B]):B}),ec=w}),el<lj&&X){if(el<=.001){var eh=lj/X;v.each(x,function(o,_){if(!isNaN(o)){var x=v.getItemLayout(_);x.angle=eh,x.startAngle=Y+ed*_*eh,x.endAngle=Y+ed*(_+1)*eh}})}else en=el/eu,ec=Y,v.each(x,function(o,_){if(!isNaN(o)){var x=v.getItemLayout(_),w=x.angle===Z?Z:o*en;x.startAngle=ec,x.endAngle=ec+ed*w,ec+=ed*w}})}})}function dataFilter(o){return{seriesType:o,reset:function(o,v){var _=v.findComponents({mainType:"legend"});if(_&&_.length){var x=o.getData();x.filterSelf(function(o){for(var v=x.getName(o),w=0;w<_.length;w++)if(!_[w].isSelected(v))return!1;return!0})}}}}var lG=Math.PI/180;function adjustSingleSide(o,v,_,x,w,T,L,N,B,H){if(!(o.length<2)){for(var Y=o.length,Z=0;Z<Y;Z++)if("outer"===o[Z].position&&"labelLine"===o[Z].labelAlignTo){var X=o[Z].label.x-H;o[Z].linePoints[1][0]+=X,o[Z].label.x=H}shiftLayoutOnY(o,B,B+L)&&recalculateX(o)}function recalculateXOnSemiToAlignOnEllipseCurve(o){for(var T=o.rB,L=T*T,N=0;N<o.list.length;N++){var B=o.list[N],H=Math.abs(B.label.y-_),Y=x+B.len,Z=v+(Math.sqrt((1-Math.abs(H*H/L))*(Y*Y))+B.len2)*w,X=Z-B.label.x,et=B.targetTextWidth-X*w;constrainTextWidth(B,et,!0),B.label.x=Z}}function recalculateX(o){for(var T={list:[],maxY:0},L={list:[],maxY:0},N=0;N<o.length;N++)if("none"===o[N].labelAlignTo){var B=o[N],H=B.label.y>_?L:T,Y=Math.abs(B.label.y-_);if(Y>=H.maxY){var Z=B.label.x-v-B.len2*w,X=x+B.len,et=Math.abs(Z)<X?Math.sqrt(Y*Y/(1-Z*Z/X/X)):X;H.rB=et,H.maxY=Y}H.list.push(B)}recalculateXOnSemiToAlignOnEllipseCurve(T),recalculateXOnSemiToAlignOnEllipseCurve(L)}}function avoidOverlap(o,v,_,x,w,T,L,N){for(var B=[],H=[],Y=Number.MAX_VALUE,Z=-Number.MAX_VALUE,X=0;X<o.length;X++){var et=o[X].label;isPositionCenter(o[X])||(et.x<v?(Y=Math.min(Y,et.x),B.push(o[X])):(Z=Math.max(Z,et.x),H.push(o[X])))}for(var X=0;X<o.length;X++){var en=o[X];if(!isPositionCenter(en)&&en.linePoints){if(null!=en.labelStyleWidth)continue;var et=en.label,er=en.linePoints,ei=void 0;ei="edge"===en.labelAlignTo?et.x<v?er[2][0]-en.labelDistance-L-en.edgeDistance:L+w-en.edgeDistance-er[2][0]-en.labelDistance:"labelLine"===en.labelAlignTo?et.x<v?Y-L-en.bleedMargin:L+w-Z-en.bleedMargin:et.x<v?et.x-L-en.bleedMargin:L+w-et.x-en.bleedMargin,en.targetTextWidth=ei,constrainTextWidth(en,ei)}}adjustSingleSide(H,v,_,x,1,w,T,L,N,Z),adjustSingleSide(B,v,_,x,-1,w,T,L,N,Y);for(var X=0;X<o.length;X++){var en=o[X];if(!isPositionCenter(en)&&en.linePoints){var et=en.label,er=en.linePoints,ea="edge"===en.labelAlignTo,eo=et.style.padding,el=eo?eo[1]+eo[3]:0,eu=et.style.backgroundColor?0:el,ec=en.rect.width+eu,ed=er[1][0]-er[2][0];ea?et.x<v?er[2][0]=L+en.edgeDistance+ec+en.labelDistance:er[2][0]=L+w-en.edgeDistance-ec-en.labelDistance:(et.x<v?er[2][0]=et.x+en.labelDistance:er[2][0]=et.x-en.labelDistance,er[1][0]=er[2][0]+ed),er[1][1]=er[2][1]=et.y}}}function constrainTextWidth(o,v,_){if(void 0===_&&(_=!1),null==o.labelStyleWidth){var x=o.label,w=x.style,T=o.rect,L=w.backgroundColor,N=w.padding,B=N?N[1]+N[3]:0,H=w.overflow,Y=T.width+(L?0:B);if(v<Y||_){var Z=T.height;if(H&&H.match("break")){x.setStyle("backgroundColor",null),x.setStyle("width",v-B);var X=x.getBoundingRect();x.setStyle("width",Math.ceil(X.width)),x.setStyle("backgroundColor",L)}else{var et=v-B,en=v<Y?et:_?et>o.unconstrainedWidth?null:et:null;x.setStyle("width",en)}var er=x.getBoundingRect();T.width=er.width;var ei=(x.style.margin||0)+2.1;T.height=er.height+ei,T.y-=(T.height-Z)/2}}}function isPositionCenter(o){return"center"===o.position}function pieLabelLayout(o){var v,_,x=o.getData(),w=[],T=!1,L=(o.get("minShowLabelAngle")||0)*lG,N=x.getLayout("viewRect"),B=x.getLayout("r"),H=N.width,Y=N.x,Z=N.y,X=N.height;function setNotShow(o){o.ignore=!0}function isLabelShown(o){if(!o.ignore)return!0;for(var v in o.states)if(!1===o.states[v].ignore)return!0;return!1}x.each(function(o){var N,Z,X,et,en=x.getItemGraphicEl(o),er=en.shape,ei=en.getTextContent(),ea=en.getTextGuideLine(),eo=x.getItemModel(o),el=eo.getModel("label"),eu=el.get("position")||eo.get(["emphasis","label","position"]),ec=el.get("distanceToLabelLine"),ed=el.get("alignTo"),eh=number_parsePercent(el.get("edgeDistance"),H),ep=el.get("bleedMargin"),ef=eo.getModel("labelLine"),eg=ef.get("length");eg=number_parsePercent(eg,H);var em=ef.get("length2");if(em=number_parsePercent(em,H),Math.abs(er.endAngle-er.startAngle)<L){util_each(ei.states,setNotShow),ei.ignore=!0,ea&&(util_each(ea.states,setNotShow),ea.ignore=!0);return}if(isLabelShown(ei)){var ey=(er.startAngle+er.endAngle)/2,ev=Math.cos(ey),e_=Math.sin(ey);v=er.cx,_=er.cy;var eb="inside"===eu||"inner"===eu;if("center"===eu)N=er.cx,Z=er.cy,et="center";else{var eS=(eb?(er.r+er.r0)/2*ev:er.r*ev)+v,ex=(eb?(er.r+er.r0)/2*e_:er.r*e_)+_;if(N=eS+3*ev,Z=ex+3*e_,!eb){var ew=eS+ev*(eg+B-er.r),eC=ex+e_*(eg+B-er.r),eT=ew+(ev<0?-1:1)*em;N="edge"===ed?ev<0?Y+eh:Y+H-eh:eT+(ev<0?-ec:ec),Z=eC,X=[[eS,ex],[ew,eC],[eT,eC]]}et=eb?"center":"edge"===ed?ev>0?"right":"left":ev>0?"left":"right"}var eM=Math.PI,eP=0,eI=el.get("rotate");if(isNumber(eI))eP=eI*(eM/180);else if("center"===eu)eP=0;else if("radial"===eI||!0===eI)eP=ev<0?-ey+eM:-ey;else if("tangential"===eI&&"outside"!==eu&&"outer"!==eu){var eD=Math.atan2(ev,e_);eD<0&&(eD=2*eM+eD),e_>0&&(eD=eM+eD),eP=eD-eM}if(T=!!eP,ei.x=N,ei.y=Z,ei.rotation=eP,ei.setStyle({verticalAlign:"middle"}),eb){ei.setStyle({align:et});var eE=ei.states.select;eE&&(eE.x+=ei.x,eE.y+=ei.y)}else{var eO=ei.getBoundingRect().clone();eO.applyTransform(ei.getComputedTransform());var eA=(ei.style.margin||0)+2.1;eO.y-=eA/2,eO.height+=eA,w.push({label:ei,labelLine:ea,position:eu,len:eg,len2:em,minTurnAngle:ef.get("minTurnAngle"),maxSurfaceAngle:ef.get("maxSurfaceAngle"),surfaceNormal:new th(ev,e_),linePoints:X,textAlign:et,labelDistance:ec,labelAlignTo:ed,edgeDistance:eh,bleedMargin:ep,rect:eO,unconstrainedWidth:eO.width,labelStyleWidth:ei.style.width})}en.setTextConfig({inside:eb})}}),!T&&o.get("avoidLabelOverlap")&&avoidOverlap(w,v,_,B,H,X,Y,Z);for(var et=0;et<w.length;et++){var en=w[et],er=en.label,ei=en.labelLine,ea=isNaN(er.x)||isNaN(er.y);if(er){er.setStyle({align:en.textAlign}),ea&&(util_each(er.states,setNotShow),er.ignore=!0);var eo=er.states.select;eo&&(eo.x+=er.x,eo.y+=er.y)}if(ei){var el=en.linePoints;ea||!el?(util_each(ei.states,setNotShow),ei.ignore=!0):(limitTurnAngle(el,en.minTurnAngle),limitSurfaceAngle(el,en.surfaceNormal,en.maxSurfaceAngle),ei.setShape({points:el}),er.__hostTarget.textGuideLineConfig={anchor:new th(el[0][0],el[0][1])})}}}var lU=function(o){function PiePiece(v,_,x){var w=o.call(this)||this;w.z2=2;var T=new rR;return w.setTextContent(T),w.updateData(v,_,x,!0),w}return __extends(PiePiece,o),PiePiece.prototype.updateData=function(o,v,_,x){var w=o.hostModel,T=o.getItemModel(v),L=T.getModel("emphasis"),N=o.getItemLayout(v),B=extend(getSectorCornerRadius(T.getModel("itemStyle"),N,!0),N);if(isNaN(B.startAngle)){this.setShape(B);return}if(x){this.setShape(B);var H=w.getShallow("animationType");w.ecModel.ssr?(initProps(this,{scaleX:0,scaleY:0},w,{dataIndex:v,isFrom:!0}),this.originX=B.cx,this.originY=B.cy):"scale"===H?(this.shape.r=N.r0,initProps(this,{shape:{r:N.r}},w,v)):null!=_?(this.setShape({startAngle:_,endAngle:_}),initProps(this,{shape:{startAngle:N.startAngle,endAngle:N.endAngle}},w,v)):(this.shape.endAngle=N.startAngle,updateProps(this,{shape:{endAngle:N.endAngle}},w,v))}else saveOldStyle(this),updateProps(this,{shape:B},w,v);this.useStyle(o.getItemVisual(v,"style")),setStatesStylesFromModel(this,T);var Y=(N.startAngle+N.endAngle)/2,Z=w.get("selectedOffset"),X=Math.cos(Y)*Z,et=Math.sin(Y)*Z,en=T.getShallow("cursor");en&&this.attr("cursor",en),this._updateLabel(w,o,v),this.ensureState("emphasis").shape=extend({r:N.r+(L.get("scale")&&L.get("scaleSize")||0)},getSectorCornerRadius(L.getModel("itemStyle"),N)),extend(this.ensureState("select"),{x:X,y:et,shape:getSectorCornerRadius(T.getModel(["select","itemStyle"]),N)}),extend(this.ensureState("blur"),{shape:getSectorCornerRadius(T.getModel(["blur","itemStyle"]),N)});var er=this.getTextGuideLine(),ei=this.getTextContent();er&&extend(er.ensureState("select"),{x:X,y:et}),extend(ei.ensureState("select"),{x:X,y:et}),toggleHoverEmphasis(this,L.get("focus"),L.get("blurScope"),L.get("disabled"))},PiePiece.prototype._updateLabel=function(o,v,_){var x=v.getItemModel(_),w=x.getModel("labelLine"),T=v.getItemVisual(_,"style"),L=T&&T.fill,N=T&&T.opacity;setLabelStyle(this,getLabelStatesModels(x),{labelFetcher:v.hostModel,labelDataIndex:_,inheritColor:L,defaultOpacity:N,defaultText:o.getFormattedLabel(_,"normal")||v.getName(_)});var B=this.getTextContent();this.setTextConfig({position:null,rotation:null}),B.attr({z2:10});var H=o.get(["label","position"]);if("outside"!==H&&"outer"!==H)this.removeTextGuideLine();else{var Y=this.getTextGuideLine();Y||(Y=new a1,this.setTextGuideLine(Y)),setLabelLineStyle(this,getLabelLineStatesModels(x),{stroke:L,opacity:retrieve3(w.get(["lineStyle","opacity"]),N,1)})}},PiePiece}(aq),lW=function(o){function PieView(){var v=null!==o&&o.apply(this,arguments)||this;return v.ignoreLabelLineUpdate=!0,v}return __extends(PieView,o),PieView.prototype.render=function(o,v,_,x){var w,T=o.getData(),L=this._data,N=this.group;if(!L&&T.count()>0){for(var B=T.getItemLayout(0),H=1;isNaN(B&&B.startAngle)&&H<T.count();++H)B=T.getItemLayout(H);B&&(w=B.startAngle)}if(this._emptyCircleSector&&N.remove(this._emptyCircleSector),0===T.count()&&o.get("showEmptyCircle")){var Y=new aq({shape:getBasicPieLayout(o,_)});Y.useStyle(o.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=Y,N.add(Y)}T.diff(L).add(function(o){var v=new lU(T,o,w);T.setItemGraphicEl(o,v),N.add(v)}).update(function(o,v){var _=L.getItemGraphicEl(v);_.updateData(T,o,w),_.off("click"),N.add(_),T.setItemGraphicEl(o,_)}).remove(function(v){removeElementWithFadeOut(L.getItemGraphicEl(v),o,v)}).execute(),pieLabelLayout(o),"expansion"!==o.get("animationTypeUpdate")&&(this._data=T)},PieView.prototype.dispose=function(){},PieView.prototype.containPoint=function(o,v){var _=v.getData().getItemLayout(0);if(_){var x=o[0]-_.cx,w=o[1]-_.cy,T=Math.sqrt(x*x+w*w);return T<=_.r&&T>=_.r0}},PieView.type="pie",PieView}(ob);function createSeriesDataSimply(o,v,_){v=util_isArray(v)&&{coordDimensions:v}||extend({encodeDefine:o.getEncode()},v);var x=o.getSource(),w=new lh(prepareSeriesDataSchema(x,v).dimensions,o);return w.initData(x,_),w}var lY=function(){function LegendVisualProvider(o,v){this._getDataWithEncodedVisual=o,this._getRawData=v}return LegendVisualProvider.prototype.getAllNames=function(){var o=this._getRawData();return o.mapArray(o.getName)},LegendVisualProvider.prototype.containName=function(o){return this._getRawData().indexOfName(o)>=0},LegendVisualProvider.prototype.indexOfName=function(o){return this._getDataWithEncodedVisual().indexOfName(o)},LegendVisualProvider.prototype.getItemVisual=function(o,v){return this._getDataWithEncodedVisual().getItemVisual(o,v)},LegendVisualProvider}(),lK=makeInner(),lZ=function(o){function PieSeriesModel(){return null!==o&&o.apply(this,arguments)||this}return __extends(PieSeriesModel,o),PieSeriesModel.prototype.init=function(v){o.prototype.init.apply(this,arguments),this.legendVisualProvider=new lY(e2(this.getData,this),e2(this.getRawData,this)),this._defaultLabelLine(v)},PieSeriesModel.prototype.mergeOption=function(){o.prototype.mergeOption.apply(this,arguments)},PieSeriesModel.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry(makeSeriesEncodeForNameBased,this)})},PieSeriesModel.prototype.getDataParams=function(v){var _=this.getData(),x=lK(_),w=x.seats;if(!w){var T=[];_.each(_.mapDimension("value"),function(o){T.push(o)}),w=x.seats=getPercentSeats(T,_.hostModel.get("percentPrecision"))}var L=o.prototype.getDataParams.call(this,v);return L.percent=w[v]||0,L.$vars.push("percent"),L},PieSeriesModel.prototype._defaultLabelLine=function(o){defaultEmphasis(o,"labelLine",["show"]);var v=o.labelLine,_=o.emphasis.labelLine;v.show=v.show&&o.label.show,_.show=_.show&&o.emphasis.label.show},PieSeriesModel.type="series.pie",PieSeriesModel.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},PieSeriesModel}(aS);function negativeDataFilter(o){return{seriesType:o,reset:function(o,v){var _=o.getData();_.filterSelf(function(o){var v=_.mapDimension("value"),x=_.get(v,o);return!isNumber(x)||!!isNaN(x)||!(x<0)})}}}function pie_install_install(o){o.registerChartView(lW),o.registerSeriesModel(lZ),createLegacyDataSelectAction("pie",o.registerAction),o.registerLayout(curry(pieLayout,"pie")),o.registerProcessor(dataFilter("pie")),o.registerProcessor(negativeDataFilter("pie"))}var lq=function(o){function ScatterSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ScatterSeriesModel.type,v.hasSymbolVisual=!0,v}return __extends(ScatterSeriesModel,o),ScatterSeriesModel.prototype.getInitialData=function(o,v){return helper_createSeriesData(null,this,{useEncodeDefaulter:!0})},ScatterSeriesModel.prototype.getProgressive=function(){var o=this.option.progressive;return null==o?this.option.large?5e3:this.get("progressive"):o},ScatterSeriesModel.prototype.getProgressiveThreshold=function(){var o=this.option.progressiveThreshold;return null==o?this.option.large?1e4:this.get("progressiveThreshold"):o},ScatterSeriesModel.prototype.brushSelector=function(o,v,_){return _.point(v.getItemLayout(o))},ScatterSeriesModel.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},ScatterSeriesModel.type="series.scatter",ScatterSeriesModel.dependencies=["grid","polar","geo","singleAxis","calendar"],ScatterSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},ScatterSeriesModel}(aS),LargeSymbolPathShape=function(){},lX=function(o){function LargeSymbolPath(v){var _=o.call(this,v)||this;return _._off=0,_.hoverDataIdx=-1,_}return __extends(LargeSymbolPath,o),LargeSymbolPath.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},LargeSymbolPath.prototype.reset=function(){this.notClear=!1,this._off=0},LargeSymbolPath.prototype.buildPath=function(o,v){var _,x=v.points,w=v.size,T=this.symbolProxy,L=T.shape,N=o.getContext?o.getContext():o,B=N&&w[0]<4,H=this.softClipShape;if(B){this._ctx=N;return}for(this._ctx=null,_=this._off;_<x.length;){var Y=x[_++],Z=x[_++];!(isNaN(Y)||isNaN(Z))&&(!H||H.contain(Y,Z))&&(L.x=Y-w[0]/2,L.y=Z-w[1]/2,L.width=w[0],L.height=w[1],T.buildPath(o,L,!0))}this.incremental&&(this._off=_,this.notClear=!0)},LargeSymbolPath.prototype.afterBrush=function(){var o,v=this.shape,_=v.points,x=v.size,w=this._ctx,T=this.softClipShape;if(w){for(o=this._off;o<_.length;){var L=_[o++],N=_[o++];!(isNaN(L)||isNaN(N))&&(!T||T.contain(L,N))&&w.fillRect(L-x[0]/2,N-x[1]/2,x[0],x[1])}this.incremental&&(this._off=o,this.notClear=!0)}},LargeSymbolPath.prototype.findDataIndex=function(o,v){for(var _=this.shape,x=_.points,w=_.size,T=Math.max(w[0],4),L=Math.max(w[1],4),N=x.length/2-1;N>=0;N--){var B=2*N,H=x[B]-T/2,Y=x[B+1]-L/2;if(o>=H&&v>=Y&&o<=H+T&&v<=Y+L)return N}return -1},LargeSymbolPath.prototype.contain=function(o,v){var _=this.transformCoordToLocal(o,v),x=this.getBoundingRect();return(o=_[0],v=_[1],x.contain(o,v))?(this.hoverDataIdx=this.findDataIndex(o,v))>=0:(this.hoverDataIdx=-1,!1)},LargeSymbolPath.prototype.getBoundingRect=function(){var o=this._rect;if(!o){for(var v=this.shape,_=v.points,x=v.size,w=x[0],T=x[1],L=1/0,N=1/0,B=-1/0,H=-1/0,Y=0;Y<_.length;){var Z=_[Y++],X=_[Y++];L=Math.min(Z,L),B=Math.max(Z,B),N=Math.min(X,N),H=Math.max(X,H)}o=this._rect=new tS(L-w/2,N-T/2,B-L+w,H-N+T)}return o},LargeSymbolPath}(rv),l$=function(){function LargeSymbolDraw(){this.group=new nm}return LargeSymbolDraw.prototype.updateData=function(o,v){this._clear();var _=this._create();_.setShape({points:o.getLayout("points")}),this._setCommon(_,o,v)},LargeSymbolDraw.prototype.updateLayout=function(o){var v=o.getLayout("points");this.group.eachChild(function(o){if(null!=o.startIndex){var _=(o.endIndex-o.startIndex)*2,x=8*o.startIndex;v=new Float32Array(v.buffer,x,_)}o.setShape("points",v),o.reset()})},LargeSymbolDraw.prototype.incrementalPrepareUpdate=function(o){this._clear()},LargeSymbolDraw.prototype.incrementalUpdate=function(o,v,_){var x=this._newAdded[0],w=v.getLayout("points"),T=x&&x.shape.points;if(T&&T.length<2e4){var L=T.length,N=new Float32Array(L+w.length);N.set(T),N.set(w,L),x.endIndex=o.end,x.setShape({points:N})}else{this._newAdded=[];var B=this._create();B.startIndex=o.start,B.endIndex=o.end,B.incremental=!0,B.setShape({points:w}),this._setCommon(B,v,_)}},LargeSymbolDraw.prototype.eachRendered=function(o){this._newAdded[0]&&o(this._newAdded[0])},LargeSymbolDraw.prototype._create=function(){var o=new lX({cursor:"default"});return o.ignoreCoarsePointer=!0,this.group.add(o),this._newAdded.push(o),o},LargeSymbolDraw.prototype._setCommon=function(o,v,_){var x=v.hostModel;_=_||{};var w=v.getVisual("symbolSize");o.setShape("size",w instanceof Array?w:[w,w]),o.softClipShape=_.clipShape||null,o.symbolProxy=symbol_createSymbol(v.getVisual("symbol"),0,0,0,0),o.setColor=o.symbolProxy.setColor;var T=o.shape.size[0]<4;o.useStyle(x.getModel("itemStyle").getItemStyle(T?["color","shadowBlur","shadowColor"]:["color"]));var L=v.getVisual("style"),N=L&&L.fill;N&&o.setColor(N);var B=rN(o);B.seriesIndex=x.seriesIndex,o.on("mousemove",function(v){B.dataIndex=null;var _=o.hoverDataIdx;_>=0&&(B.dataIndex=_+(o.startIndex||0))})},LargeSymbolDraw.prototype.remove=function(){this._clear()},LargeSymbolDraw.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},LargeSymbolDraw}(),lQ=function(o){function ScatterView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ScatterView.type,v}return __extends(ScatterView,o),ScatterView.prototype.render=function(o,v,_){var x=o.getData();this._updateSymbolDraw(x,o).updateData(x,{clipShape:this._getClipShape(o)}),this._finished=!0},ScatterView.prototype.incrementalPrepareRender=function(o,v,_){var x=o.getData();this._updateSymbolDraw(x,o).incrementalPrepareUpdate(x),this._finished=!1},ScatterView.prototype.incrementalRender=function(o,v,_){this._symbolDraw.incrementalUpdate(o,v.getData(),{clipShape:this._getClipShape(v)}),this._finished=o.end===v.getData().count()},ScatterView.prototype.updateTransform=function(o,v,_){var x=o.getData();if(this.group.dirty(),!this._finished||x.count()>1e4)return{update:!0};var w=pointsLayout("").reset(o,v,_);w.progress&&w.progress({start:0,end:x.count(),count:x.count()},x),this._symbolDraw.updateLayout(x)},ScatterView.prototype.eachRendered=function(o){this._symbolDraw&&this._symbolDraw.eachRendered(o)},ScatterView.prototype._getClipShape=function(o){var v=o.coordinateSystem,_=v&&v.getArea&&v.getArea();return o.get("clip",!0)?_:null},ScatterView.prototype._updateSymbolDraw=function(o,v){var _=this._symbolDraw,x=v.pipelineContext.large;return _&&x===this._isLargeDraw||(_&&_.remove(),_=this._symbolDraw=x?new l$:new lm,this._isLargeDraw=x,this.group.removeAll()),this.group.add(_.group),_},ScatterView.prototype.remove=function(o,v){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},ScatterView.prototype.dispose=function(){},ScatterView.type="scatter",ScatterView}(ob),lJ=function(o){function GridModel(){return null!==o&&o.apply(this,arguments)||this}return __extends(GridModel,o),GridModel.type="grid",GridModel.dependencies=["xAxis","yAxis"],GridModel.layoutMode="box",GridModel.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},GridModel}(ix),l0=function(){function AxisModelCommonMixin(){}return AxisModelCommonMixin.prototype.getNeedCrossZero=function(){return!this.option.scale},AxisModelCommonMixin.prototype.getCoordSysModel=function(){},AxisModelCommonMixin}(),l1=function(o){function CartesianAxisModel(){return null!==o&&o.apply(this,arguments)||this}return __extends(CartesianAxisModel,o),CartesianAxisModel.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",nT).models[0]},CartesianAxisModel.type="cartesian2dAxis",CartesianAxisModel}(ix);mixin(l1,l0);var l2={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},l5=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},l2),l3=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},l2),l4=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},l3),l7=util_defaults({logBase:10},l3),l6={category:l5,value:l3,time:l4,log:l7},l9=0,l8=function(){function OrdinalMeta(o){this.categories=o.categories||[],this._needCollect=o.needCollect,this._deduplication=o.deduplication,this.uid=++l9}return OrdinalMeta.createByAxisModel=function(o){var v=o.option,_=v.data,x=_&&map(_,getName);return new OrdinalMeta({categories:x,needCollect:!x,deduplication:!1!==v.dedplication})},OrdinalMeta.prototype.getOrdinal=function(o){return this._getOrCreateMap().get(o)},OrdinalMeta.prototype.parseAndCollect=function(o){var v,_=this._needCollect;if(!util_isString(o)&&!_)return o;if(_&&!this._deduplication)return v=this.categories.length,this.categories[v]=o,v;var x=this._getOrCreateMap();return null==(v=x.get(o))&&(_?(v=this.categories.length,this.categories[v]=o,x.set(o,v)):v=NaN),v},OrdinalMeta.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},OrdinalMeta}();function getName(o){return util_isObject(o)&&null!=o.value?o.value:o+""}var ue={value:1,category:1,time:1,log:1};function axisModelCreator(o,v,_,x){util_each(ue,function(w,T){var L=merge(merge({},l6[T],!0),x,!0),N=function(o){function AxisModel(){var _=null!==o&&o.apply(this,arguments)||this;return _.type=v+"Axis."+T,_}return __extends(AxisModel,o),AxisModel.prototype.mergeDefaultAndTheme=function(o,v){var _=fetchLayoutMode(this),x=_?getLayoutParams(o):{};merge(o,v.getTheme().get(T+"Axis")),merge(o,this.getDefaultOption()),o.type=getAxisType(o),_&&mergeLayoutParam(o,x,_)},AxisModel.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=l8.createByAxisModel(this))},AxisModel.prototype.getCategories=function(o){var v=this.option;if("category"===v.type)return o?v.data:this.__ordinalMeta.categories},AxisModel.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},AxisModel.type=v+"Axis."+T,AxisModel.defaultOption=L,AxisModel}(_);o.registerComponentModel(N)}),o.registerSubTypeDefaulter(v+"Axis",getAxisType)}function getAxisType(o){return o.type||(o.data?"category":"value")}var ut=function(){function Scale(o){this._setting=o||{},this._extent=[1/0,-1/0]}return Scale.prototype.getSetting=function(o){return this._setting[o]},Scale.prototype.unionExtent=function(o){var v=this._extent;o[0]<v[0]&&(v[0]=o[0]),o[1]>v[1]&&(v[1]=o[1])},Scale.prototype.unionExtentFromData=function(o,v){this.unionExtent(o.getApproximateExtent(v))},Scale.prototype.getExtent=function(){return this._extent.slice()},Scale.prototype.setExtent=function(o,v){var _=this._extent;isNaN(o)||(_[0]=o),isNaN(v)||(_[1]=v)},Scale.prototype.isInExtentRange=function(o){return this._extent[0]<=o&&this._extent[1]>=o},Scale.prototype.isBlank=function(){return this._isBlank},Scale.prototype.setBlank=function(o){this._isBlank=o},Scale}();function isIntervalOrLogScale(o){return"interval"===o.type||"log"===o.type}function intervalScaleNiceTicks(o,v,_,x){var w,T={},L=o[1]-o[0],N=T.interval=nice(L/v,!0);null!=_&&N<_&&(N=T.interval=_),null!=x&&N>x&&(N=T.interval=x);var B=T.intervalPrecision=getPrecision(N)+2;return fixExtent(T.niceTickExtent=[round(Math.ceil(o[0]/N)*N,B),round(Math.floor(o[1]/N)*N,B)],o),T}function increaseInterval(o){var v=Math.pow(10,number_quantityExponent(o)),_=o/v;return _?2===_?_=3:3===_?_=5:_*=2:_=1,round(_*v)}function clamp(o,v,_){o[v]=Math.max(Math.min(o[v],_[1]),_[0])}function fixExtent(o,v){isFinite(o[0])||(o[0]=v[0]),isFinite(o[1])||(o[1]=v[1]),clamp(o,0,v),clamp(o,1,v),o[0]>o[1]&&(o[0]=o[1])}function helper_contain(o,v){return o>=v[0]&&o<=v[1]}function helper_normalize(o,v){return v[1]===v[0]?.5:(o-v[0])/(v[1]-v[0])}function helper_scale(o,v){return o*(v[1]-v[0])+v[0]}enableClassManagement(ut);var un=function(o){function OrdinalScale(v){var _=o.call(this,v)||this;_.type="ordinal";var x=_.getSetting("ordinalMeta");return x||(x=new l8({})),util_isArray(x)&&(x=new l8({categories:map(x,function(o){return util_isObject(o)?o.value:o})})),_._ordinalMeta=x,_._extent=_.getSetting("extent")||[0,x.categories.length-1],_}return __extends(OrdinalScale,o),OrdinalScale.prototype.parse=function(o){return null==o?NaN:util_isString(o)?this._ordinalMeta.getOrdinal(o):Math.round(o)},OrdinalScale.prototype.contain=function(o){return helper_contain(o=this.parse(o),this._extent)&&null!=this._ordinalMeta.categories[o]},OrdinalScale.prototype.normalize=function(o){return helper_normalize(o=this._getTickNumber(this.parse(o)),this._extent)},OrdinalScale.prototype.scale=function(o){return o=Math.round(helper_scale(o,this._extent)),this.getRawOrdinalNumber(o)},OrdinalScale.prototype.getTicks=function(){for(var o=[],v=this._extent,_=v[0];_<=v[1];)o.push({value:_}),_++;return o},OrdinalScale.prototype.getMinorTicks=function(o){},OrdinalScale.prototype.setSortInfo=function(o){if(null==o){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var v=o.ordinalNumbers,_=this._ordinalNumbersByTick=[],x=this._ticksByOrdinalNumber=[],w=0,T=this._ordinalMeta.categories.length,L=Math.min(T,v.length);w<L;++w){var N=v[w];_[w]=N,x[N]=w}for(var B=0;w<T;++w){for(;null!=x[B];)B++;_.push(B),x[B]=w}},OrdinalScale.prototype._getTickNumber=function(o){var v=this._ticksByOrdinalNumber;return v&&o>=0&&o<v.length?v[o]:o},OrdinalScale.prototype.getRawOrdinalNumber=function(o){var v=this._ordinalNumbersByTick;return v&&o>=0&&o<v.length?v[o]:o},OrdinalScale.prototype.getLabel=function(o){if(!this.isBlank()){var v=this.getRawOrdinalNumber(o.value),_=this._ordinalMeta.categories[v];return null==_?"":_+""}},OrdinalScale.prototype.count=function(){return this._extent[1]-this._extent[0]+1},OrdinalScale.prototype.unionExtentFromData=function(o,v){this.unionExtent(o.getApproximateExtent(v))},OrdinalScale.prototype.isInExtentRange=function(o){return o=this._getTickNumber(o),this._extent[0]<=o&&this._extent[1]>=o},OrdinalScale.prototype.getOrdinalMeta=function(){return this._ordinalMeta},OrdinalScale.prototype.calcNiceTicks=function(){},OrdinalScale.prototype.calcNiceExtent=function(){},OrdinalScale.type="ordinal",OrdinalScale}(ut);ut.registerClass(un);var ur=round,ui=function(o){function IntervalScale(){var v=null!==o&&o.apply(this,arguments)||this;return v.type="interval",v._interval=0,v._intervalPrecision=2,v}return __extends(IntervalScale,o),IntervalScale.prototype.parse=function(o){return o},IntervalScale.prototype.contain=function(o){return helper_contain(o,this._extent)},IntervalScale.prototype.normalize=function(o){return helper_normalize(o,this._extent)},IntervalScale.prototype.scale=function(o){return helper_scale(o,this._extent)},IntervalScale.prototype.setExtent=function(o,v){var _=this._extent;isNaN(o)||(_[0]=parseFloat(o)),isNaN(v)||(_[1]=parseFloat(v))},IntervalScale.prototype.unionExtent=function(o){var v=this._extent;o[0]<v[0]&&(v[0]=o[0]),o[1]>v[1]&&(v[1]=o[1]),this.setExtent(v[0],v[1])},IntervalScale.prototype.getInterval=function(){return this._interval},IntervalScale.prototype.setInterval=function(o){this._interval=o,this._niceExtent=this._extent.slice(),this._intervalPrecision=getPrecision(o)+2},IntervalScale.prototype.getTicks=function(o){var v=this._interval,_=this._extent,x=this._niceExtent,w=this._intervalPrecision,T=[];if(!v)return T;_[0]<x[0]&&(o?T.push({value:ur(x[0]-v,w)}):T.push({value:_[0]}));for(var L=x[0];L<=x[1]&&(T.push({value:L}),(L=ur(L+v,w))!==T[T.length-1].value);)if(T.length>1e4)return[];var N=T.length?T[T.length-1].value:x[1];return _[1]>N&&(o?T.push({value:ur(N+v,w)}):T.push({value:_[1]})),T},IntervalScale.prototype.getMinorTicks=function(o){for(var v=this.getTicks(!0),_=[],x=this.getExtent(),w=1;w<v.length;w++){for(var T=v[w],L=v[w-1],N=0,B=[],H=(T.value-L.value)/o;N<o-1;){var Y=ur(L.value+(N+1)*H);Y>x[0]&&Y<x[1]&&B.push(Y),N++}_.push(B)}return _},IntervalScale.prototype.getLabel=function(o,v){if(null==o)return"";var _=v&&v.precision;return null==_?_=getPrecision(o.value)||0:"auto"===_&&(_=this._intervalPrecision),addCommas(ur(o.value,_,!0))},IntervalScale.prototype.calcNiceTicks=function(o,v,_){o=o||5;var x=this._extent,w=x[1]-x[0];if(isFinite(w)){w<0&&(w=-w,x.reverse());var T=intervalScaleNiceTicks(x,o,v,_);this._intervalPrecision=T.intervalPrecision,this._interval=T.interval,this._niceExtent=T.niceTickExtent}},IntervalScale.prototype.calcNiceExtent=function(o){var v=this._extent;if(v[0]===v[1]){if(0!==v[0]){var _=Math.abs(v[0]);o.fixMax||(v[1]+=_/2),v[0]-=_/2}else v[1]=1}isFinite(v[1]-v[0])||(v[0]=0,v[1]=1),this.calcNiceTicks(o.splitNumber,o.minInterval,o.maxInterval);var x=this._interval;o.fixMin||(v[0]=ur(Math.floor(v[0]/x)*x)),o.fixMax||(v[1]=ur(Math.ceil(v[1]/x)*x))},IntervalScale.prototype.setNiceExtent=function(o,v){this._niceExtent=[o,v]},IntervalScale.type="interval",IntervalScale}(ut);ut.registerClass(ui);var bisect=function(o,v,_,x){for(;_<x;){var w=_+x>>>1;o[w][1]<v?_=w+1:x=w}return _},ua=function(o){function TimeScale(v){var _=o.call(this,v)||this;return _.type="time",_}return __extends(TimeScale,o),TimeScale.prototype.getLabel=function(o){var v=this.getSetting("useUTC");return format(o.value,id[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||id.second,v,this.getSetting("locale"))},TimeScale.prototype.getFormattedLabel=function(o,v,_){var x=this.getSetting("useUTC");return leveledFormat(o,v,_,this.getSetting("locale"),x)},TimeScale.prototype.getTicks=function(){var o=this._interval,v=this._extent,_=[];if(!o)return _;_.push({value:v[0],level:0});var x=this.getSetting("useUTC"),w=getIntervalTicks(this._minLevelUnit,this._approxInterval,x,v);return(_=_.concat(w)).push({value:v[1],level:0}),_},TimeScale.prototype.calcNiceExtent=function(o){var v=this._extent;if(v[0]===v[1]&&(v[0]-=864e5,v[1]+=864e5),v[1]===-1/0&&v[0]===1/0){var _=new Date;v[1]=+new Date(_.getFullYear(),_.getMonth(),_.getDate()),v[0]=v[1]-864e5}this.calcNiceTicks(o.splitNumber,o.minInterval,o.maxInterval)},TimeScale.prototype.calcNiceTicks=function(o,v,_){o=o||10;var x=this._extent,w=x[1]-x[0];this._approxInterval=w/o,null!=v&&this._approxInterval<v&&(this._approxInterval=v),null!=_&&this._approxInterval>_&&(this._approxInterval=_);var T=uo.length,L=Math.min(bisect(uo,this._approxInterval,0,T),T-1);this._interval=uo[L][1],this._minLevelUnit=uo[Math.max(L-1,0)][0]},TimeScale.prototype.parse=function(o){return isNumber(o)?o:+number_parseDate(o)},TimeScale.prototype.contain=function(o){return helper_contain(this.parse(o),this._extent)},TimeScale.prototype.normalize=function(o){return helper_normalize(this.parse(o),this._extent)},TimeScale.prototype.scale=function(o){return helper_scale(o,this._extent)},TimeScale.type="time",TimeScale}(ui),uo=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",15768e6],["year",31536e6]];function isUnitValueSame(o,v,_,x){var w=number_parseDate(v),T=number_parseDate(_),isSame=function(o){return getUnitValue(w,o,x)===getUnitValue(T,o,x)},isSameYear=function(){return isSame("year")},isSameMonth=function(){return isSameYear()&&isSame("month")},isSameDay=function(){return isSameMonth()&&isSame("day")},isSameHour=function(){return isSameDay()&&isSame("hour")},isSameMinute=function(){return isSameHour()&&isSame("minute")},isSameSecond=function(){return isSameMinute()&&isSame("second")};switch(o){case"year":return isSameYear();case"month":return isSameMonth();case"day":return isSameDay();case"hour":return isSameHour();case"minute":return isSameMinute();case"second":return isSameSecond();case"millisecond":return isSameSecond()&&isSame("millisecond")}}function getDateInterval(o,v){return(o/=864e5)>16?16:o>7.5?7:o>3.5?4:o>1.5?2:1}function getMonthInterval(o){return(o/=2592e6)>6?6:o>3?3:o>2?2:1}function getHourInterval(o){return(o/=36e5)>12?12:o>6?6:o>3.5?4:o>2?2:1}function getMinutesAndSecondsInterval(o,v){return(o/=v?6e4:1e3)>30?30:o>20?20:o>15?15:o>10?10:o>5?5:o>2?2:1}function getMillisecondsInterval(o){return nice(o,!0)}function getFirstTimestampOfUnit(o,v,_){var x=new Date(o);switch(getPrimaryTimeUnit(v)){case"year":case"month":x[monthSetterName(_)](0);case"day":x[dateSetterName(_)](1);case"hour":x[hoursSetterName(_)](0);case"minute":x[minutesSetterName(_)](0);case"second":x[secondsSetterName(_)](0),x[millisecondsSetterName(_)](0)}return x.getTime()}function getIntervalTicks(o,v,_,x){var w=0;function addTicksInSpan(o,v,_,w,T,L,N){for(var B=new Date(v),H=v,Y=B[w]();H<_&&H<=x[1];)N.push({value:H}),Y+=o,B[T](Y),H=B.getTime();N.push({value:H,notAdd:!0})}function addLevelTicks(o,w,T){var L=[],N=!w.length;if(!isUnitValueSame(getPrimaryTimeUnit(o),x[0],x[1],_)){N&&(w=[{value:getFirstTimestampOfUnit(new Date(x[0]),o,_)},{value:x[1]}]);for(var B=0;B<w.length-1;B++){var H=w[B].value,Y=w[B+1].value;if(H!==Y){var Z=void 0,X=void 0,et=void 0,en=!1;switch(o){case"year":Z=Math.max(1,Math.round(v/864e5/365)),X=fullYearGetterName(_),et=fullYearSetterName(_);break;case"half-year":case"quarter":case"month":Z=getMonthInterval(v),X=monthGetterName(_),et=monthSetterName(_);break;case"week":case"half-week":case"day":Z=getDateInterval(v,31),X=dateGetterName(_),et=dateSetterName(_),en=!0;break;case"half-day":case"quarter-day":case"hour":Z=getHourInterval(v),X=hoursGetterName(_),et=hoursSetterName(_);break;case"minute":Z=getMinutesAndSecondsInterval(v,!0),X=minutesGetterName(_),et=minutesSetterName(_);break;case"second":Z=getMinutesAndSecondsInterval(v,!1),X=secondsGetterName(_),et=secondsSetterName(_);break;case"millisecond":Z=getMillisecondsInterval(v),X=millisecondsGetterName(_),et=millisecondsSetterName(_)}addTicksInSpan(Z,H,Y,X,et,en,L),"year"===o&&T.length>1&&0===B&&T.unshift({value:T[0].value-Z})}}for(var B=0;B<L.length;B++)T.push(L[B]);return L}}for(var T=[],L=[],N=0,B=0,H=0;H<ip.length&&w++<1e4;++H){var Y=getPrimaryTimeUnit(ip[H]);if(isPrimaryTimeUnit(ip[H])&&(addLevelTicks(ip[H],T[T.length-1]||[],L),Y!==(ip[H+1]?getPrimaryTimeUnit(ip[H+1]):null))){if(L.length){B=N,L.sort(function(o,v){return o.value-v.value});for(var Z=[],X=0;X<L.length;++X){var et=L[X].value;(0===X||L[X-1].value!==et)&&(Z.push(L[X]),et>=x[0]&&et<=x[1]&&N++)}var en=(x[1]-x[0])/v;if(N>1.5*en&&B>en/1.5||(T.push(Z),N>en||o===ip[H]))break}L=[]}}for(var er=filter(map(T,function(o){return filter(o,function(o){return o.value>=x[0]&&o.value<=x[1]&&!o.notAdd})}),function(o){return o.length>0}),ei=[],ea=er.length-1,H=0;H<er.length;++H)for(var eo=er[H],el=0;el<eo.length;++el)ei.push({value:eo[el].value,level:ea-H});ei.sort(function(o,v){return o.value-v.value});for(var eu=[],H=0;H<ei.length;++H)(0===H||ei[H].value!==ei[H-1].value)&&eu.push(ei[H]);return eu}ut.registerClass(ua);var us=ut.prototype,ul=ui.prototype,uu=round,uc=Math.floor,ud=Math.ceil,uh=Math.pow,up=Math.log,uf=function(o){function LogScale(){var v=null!==o&&o.apply(this,arguments)||this;return v.type="log",v.base=10,v._originalScale=new ui,v._interval=0,v}return __extends(LogScale,o),LogScale.prototype.getTicks=function(o){var v=this._originalScale,_=this._extent,x=v.getExtent();return map(ul.getTicks.call(this,o),function(o){var v,w,T,L,N=o.value,B=round(uh(this.base,N));return B=N===_[0]&&this._fixMin?uu(B,getPrecision(x[0])):B,{value:B=N===_[1]&&this._fixMax?uu(B,getPrecision(x[1])):B}},this)},LogScale.prototype.setExtent=function(o,v){var _=up(this.base);o=up(Math.max(0,o))/_,v=up(Math.max(0,v))/_,ul.setExtent.call(this,o,v)},LogScale.prototype.getExtent=function(){var o,v,_=this.base,x=us.getExtent.call(this);x[0]=uh(_,x[0]),x[1]=uh(_,x[1]);var w=this._originalScale.getExtent();return this._fixMin&&(x[0]=uu(x[0],getPrecision(w[0]))),this._fixMax&&(x[1]=uu(x[1],getPrecision(w[1]))),x},LogScale.prototype.unionExtent=function(o){this._originalScale.unionExtent(o);var v=this.base;o[0]=up(o[0])/up(v),o[1]=up(o[1])/up(v),us.unionExtent.call(this,o)},LogScale.prototype.unionExtentFromData=function(o,v){this.unionExtent(o.getApproximateExtent(v))},LogScale.prototype.calcNiceTicks=function(o){o=o||10;var v=this._extent,_=v[1]-v[0];if(_!==1/0&&!(_<=0)){var x=quantity(_);for(o/_*x<=.5&&(x*=10);!isNaN(x)&&1>Math.abs(x)&&Math.abs(x)>0;)x*=10;var w=[round(ud(v[0]/x)*x),round(uc(v[1]/x)*x)];this._interval=x,this._niceExtent=w}},LogScale.prototype.calcNiceExtent=function(o){ul.calcNiceExtent.call(this,o),this._fixMin=o.fixMin,this._fixMax=o.fixMax},LogScale.prototype.parse=function(o){return o},LogScale.prototype.contain=function(o){return helper_contain(o=up(o)/up(this.base),this._extent)},LogScale.prototype.normalize=function(o){return helper_normalize(o=up(o)/up(this.base),this._extent)},LogScale.prototype.scale=function(o){return o=helper_scale(o,this._extent),uh(this.base,o)},LogScale.type="log",LogScale}(ut),ug=uf.prototype;ug.getMinorTicks=ul.getMinorTicks,ug.getLabel=ul.getLabel,ut.registerClass(uf);var um=function(){function ScaleRawExtentInfo(o,v,_){this._prepareParams(o,v,_)}return ScaleRawExtentInfo.prototype._prepareParams=function(o,v,_){_[1]<_[0]&&(_=[NaN,NaN]),this._dataMin=_[0],this._dataMax=_[1];var x=this._isOrdinal="ordinal"===o.type;this._needCrossZero="interval"===o.type&&v.getNeedCrossZero&&v.getNeedCrossZero();var w=this._modelMinRaw=v.get("min",!0);isFunction(w)?this._modelMinNum=parseAxisModelMinMax(o,w({min:_[0],max:_[1]})):"dataMin"!==w&&(this._modelMinNum=parseAxisModelMinMax(o,w));var T=this._modelMaxRaw=v.get("max",!0);if(isFunction(T)?this._modelMaxNum=parseAxisModelMinMax(o,T({min:_[0],max:_[1]})):"dataMax"!==T&&(this._modelMaxNum=parseAxisModelMinMax(o,T)),x)this._axisDataLen=v.getCategories().length;else{var L=v.get("boundaryGap"),N=util_isArray(L)?L:[L||0,L||0];"boolean"==typeof N[0]||"boolean"==typeof N[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent(N[0],1),parsePercent(N[1],1)]}},ScaleRawExtentInfo.prototype.calculate=function(){var o,v,_=this._isOrdinal,x=this._dataMin,w=this._dataMax,T=this._axisDataLen,L=this._boundaryGapInner,N=_?null:w-x||Math.abs(x),B="dataMin"===this._modelMinRaw?x:this._modelMinNum,H="dataMax"===this._modelMaxRaw?w:this._modelMaxNum,Y=null!=B,Z=null!=H;null==B&&(B=_?T?0:NaN:x-L[0]*N),null==H&&(H=_?T?T-1:NaN:w+L[1]*N),null!=B&&isFinite(B)||(B=NaN),null!=H&&isFinite(H)||(H=NaN);var X=(o=B)!=o||(v=H)!=v||_&&!T;this._needCrossZero&&(B>0&&H>0&&!Y&&(B=0),B<0&&H<0&&!Z&&(H=0));var et=this._determinedMin,en=this._determinedMax;return null!=et&&(B=et,Y=!0),null!=en&&(H=en,Z=!0),{min:B,max:H,minFixed:Y,maxFixed:Z,isBlank:X}},ScaleRawExtentInfo.prototype.modifyDataMinMax=function(o,v){this[uv[o]]=v},ScaleRawExtentInfo.prototype.setDeterminedMinMax=function(o,v){this[uy[o]]=v},ScaleRawExtentInfo.prototype.freeze=function(){this.frozen=!0},ScaleRawExtentInfo}(),uy={min:"_determinedMin",max:"_determinedMax"},uv={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(o,v,_){var x=o.rawExtentInfo;return x||(x=new um(o,v,_),o.rawExtentInfo=x),x}function parseAxisModelMinMax(o,v){return null==v?null:v!=v?NaN:o.parse(v)}function getScaleExtent(o,v){var _=o.type,x=ensureScaleRawExtentInfo(o,v,o.getExtent()).calculate();o.setBlank(x.isBlank);var w=x.min,T=x.max,L=v.ecModel;if(L&&"time"===_){var N=prepareLayoutBarSeries("bar",L),B=!1;if(util_each(N,function(o){B=B||o.getBaseAxis()===v.axis}),B){var H=adjustScaleForOverflow(w,T,v,makeColumnLayout(N));w=H.min,T=H.max}}return{extent:[w,T],fixMin:x.minFixed,fixMax:x.maxFixed}}function adjustScaleForOverflow(o,v,_,x){var w=_.axis.getExtent(),T=w[1]-w[0],L=retrieveColumnLayout(x,_.axis);if(void 0===L)return{min:o,max:v};var N=1/0;util_each(L,function(o){N=Math.min(o.offset,N)});var B=-1/0;util_each(L,function(o){B=Math.max(o.offset+o.width,B)});var H=(N=Math.abs(N))+(B=Math.abs(B)),Y=v-o,Z=Y/(1-(N+B)/T)-Y;return v+=Z*(B/H),{min:o-=Z*(N/H),max:v}}function niceScaleExtent(o,v){var _=getScaleExtent(o,v),x=_.extent,w=v.get("splitNumber");o instanceof uf&&(o.base=v.get("logBase"));var T=o.type,L=v.get("interval"),N="interval"===T||"time"===T;o.setExtent(x[0],x[1]),o.calcNiceExtent({splitNumber:w,fixMin:_.fixMin,fixMax:_.fixMax,minInterval:N?v.get("minInterval"):null,maxInterval:N?v.get("maxInterval"):null}),null!=L&&o.setInterval&&o.setInterval(L)}function createScaleByModel(o,v){if(v=v||o.get("type"))switch(v){case"category":return new un({ordinalMeta:o.getOrdinalMeta?o.getOrdinalMeta():o.getCategories(),extent:[1/0,-1/0]});case"time":return new ua({locale:o.ecModel.getLocaleModel(),useUTC:o.ecModel.get("useUTC")});default:return new(ut.getClass(v)||ui)}}function ifAxisCrossZero(o){var v=o.scale.getExtent(),_=v[0],x=v[1];return!(_>0&&x>0||_<0&&x<0)}function makeLabelFormatter(o){var v=o.getLabelModel().get("formatter"),_="category"===o.type?o.scale.getExtent()[0]:null;return"time"===o.scale.type?function(_,x){return o.scale.getFormattedLabel(_,x,v)}:util_isString(v)?function(_){var x=o.scale.getLabel(_);return v.replace("{value}",null!=x?x:"")}:isFunction(v)?function(x,w){return null!=_&&(w=x.value-_),v(getAxisRawValue(o,x),w,null!=x.level?{level:x.level}:null)}:function(v){return o.scale.getLabel(v)}}function getAxisRawValue(o,v){return"category"===o.type?o.scale.getLabel(v):v.value}function estimateLabelUnionRect(o){var v,_,x,w=o.model,T=o.scale;if(!(!w.get(["axisLabel","show"])||T.isBlank())){var L=T.getExtent();_=T instanceof un?T.count():(v=T.getTicks()).length;var N=o.getLabelModel(),B=makeLabelFormatter(o),H=1;_>40&&(H=Math.ceil(_/40));for(var Y=0;Y<_;Y+=H){var Z=B(v?v[Y]:{value:L[0]+Y},Y),X=rotateTextRect(N.getTextRect(Z),N.get("rotate")||0);x?x.union(X):x=X}return x}}function rotateTextRect(o,v){var _=v*Math.PI/180,x=o.width,w=o.height,T=x*Math.abs(Math.cos(_))+Math.abs(w*Math.sin(_)),L=x*Math.abs(Math.sin(_))+Math.abs(w*Math.cos(_));return new tS(o.x,o.y,T,L)}function getOptionCategoryInterval(o){var v=o.get("interval");return null==v?"auto":v}function shouldShowAllLabels(o){return"category"===o.type&&0===getOptionCategoryInterval(o.getLabelModel())}function getDataDimensionsOnAxis(o,v){var _={};return util_each(o.mapDimensionsAll(v),function(v){_[getStackedDimension(o,v)]=!0}),keys(_)}function unionAxisExtentFromData(o,v,_){v&&util_each(getDataDimensionsOnAxis(v,_),function(_){var x=v.getApproximateExtent(_);x[0]<o[0]&&(o[0]=x[0]),x[1]>o[1]&&(o[1]=x[1])})}var u_=function(){function Cartesian(o){this.type="cartesian",this._dimList=[],this._axes={},this.name=o||""}return Cartesian.prototype.getAxis=function(o){return this._axes[o]},Cartesian.prototype.getAxes=function(){return map(this._dimList,function(o){return this._axes[o]},this)},Cartesian.prototype.getAxesByScale=function(o){return o=o.toLowerCase(),filter(this.getAxes(),function(v){return v.scale.type===o})},Cartesian.prototype.addAxis=function(o){var v=o.dim;this._axes[v]=o,this._dimList.push(v)},Cartesian}(),ub=["x","y"];function canCalculateAffineTransform(o){return"interval"===o.type||"time"===o.type}var uS=function(o){function Cartesian2D(){var v=null!==o&&o.apply(this,arguments)||this;return v.type="cartesian2d",v.dimensions=ub,v}return __extends(Cartesian2D,o),Cartesian2D.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var o=this.getAxis("x").scale,v=this.getAxis("y").scale;if(canCalculateAffineTransform(o)&&canCalculateAffineTransform(v)){var _=o.getExtent(),x=v.getExtent(),w=this.dataToPoint([_[0],x[0]]),T=this.dataToPoint([_[1],x[1]]),L=_[1]-_[0],N=x[1]-x[0];if(L&&N){var B=(T[0]-w[0])/L,H=(T[1]-w[1])/N,Y=w[0]-_[0]*B,Z=w[1]-x[0]*H,X=this._transform=[B,0,0,H,Y,Z];this._invTransform=matrix_invert([],X)}}},Cartesian2D.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},Cartesian2D.prototype.containPoint=function(o){var v=this.getAxis("x"),_=this.getAxis("y");return v.contain(v.toLocalCoord(o[0]))&&_.contain(_.toLocalCoord(o[1]))},Cartesian2D.prototype.containData=function(o){return this.getAxis("x").containData(o[0])&&this.getAxis("y").containData(o[1])},Cartesian2D.prototype.containZone=function(o,v){var _=this.dataToPoint(o),x=this.dataToPoint(v),w=this.getArea(),T=new tS(_[0],_[1],x[0]-_[0],x[1]-_[1]);return w.intersect(T)},Cartesian2D.prototype.dataToPoint=function(o,v,_){_=_||[];var x=o[0],w=o[1];if(this._transform&&null!=x&&isFinite(x)&&null!=w&&isFinite(w))return applyTransform(_,o,this._transform);var T=this.getAxis("x"),L=this.getAxis("y");return _[0]=T.toGlobalCoord(T.dataToCoord(x,v)),_[1]=L.toGlobalCoord(L.dataToCoord(w,v)),_},Cartesian2D.prototype.clampData=function(o,v){var _=this.getAxis("x").scale,x=this.getAxis("y").scale,w=_.getExtent(),T=x.getExtent(),L=_.parse(o[0]),N=x.parse(o[1]);return(v=v||[])[0]=Math.min(Math.max(Math.min(w[0],w[1]),L),Math.max(w[0],w[1])),v[1]=Math.min(Math.max(Math.min(T[0],T[1]),N),Math.max(T[0],T[1])),v},Cartesian2D.prototype.pointToData=function(o,v){var _=[];if(this._invTransform)return applyTransform(_,o,this._invTransform);var x=this.getAxis("x"),w=this.getAxis("y");return _[0]=x.coordToData(x.toLocalCoord(o[0]),v),_[1]=w.coordToData(w.toLocalCoord(o[1]),v),_},Cartesian2D.prototype.getOtherAxis=function(o){return this.getAxis("x"===o.dim?"y":"x")},Cartesian2D.prototype.getArea=function(){var o=this.getAxis("x").getGlobalExtent(),v=this.getAxis("y").getGlobalExtent(),_=Math.min(o[0],o[1]),x=Math.min(v[0],v[1]),w=Math.max(o[0],o[1])-_,T=Math.max(v[0],v[1])-x;return new tS(_,x,w,T)},Cartesian2D}(u_),ux=makeInner();function createAxisLabels(o){return"category"===o.type?makeCategoryLabels(o):makeRealNumberLabels(o)}function createAxisTicks(o,v){return"category"===o.type?makeCategoryTicks(o,v):{ticks:map(o.scale.getTicks(),function(o){return o.value})}}function makeCategoryLabels(o){var v=o.getLabelModel(),_=makeCategoryLabelsActually(o,v);return!v.get("show")||o.scale.isBlank()?{labels:[],labelCategoryInterval:_.labelCategoryInterval}:_}function makeCategoryLabelsActually(o,v){var _,x,w=getListCache(o,"labels"),T=getOptionCategoryInterval(v);return listCacheGet(w,T)||(isFunction(T)?_=makeLabelsByCustomizedCategoryInterval(o,T):(x="auto"===T?makeAutoCategoryInterval(o):T,_=makeLabelsByNumericCategoryInterval(o,x)),listCacheSet(w,T,{labels:_,labelCategoryInterval:x}))}function makeCategoryTicks(o,v){var _,x,w=getListCache(o,"ticks"),T=getOptionCategoryInterval(v),L=listCacheGet(w,T);if(L)return L;if((!v.get("show")||o.scale.isBlank())&&(_=[]),isFunction(T))_=makeLabelsByCustomizedCategoryInterval(o,T,!0);else if("auto"===T){var N=makeCategoryLabelsActually(o,o.getLabelModel());x=N.labelCategoryInterval,_=map(N.labels,function(o){return o.tickValue})}else _=makeLabelsByNumericCategoryInterval(o,x=T,!0);return listCacheSet(w,T,{ticks:_,tickCategoryInterval:x})}function makeRealNumberLabels(o){var v=o.scale.getTicks(),_=makeLabelFormatter(o);return{labels:map(v,function(v,x){return{level:v.level,formattedLabel:_(v,x),rawLabel:o.scale.getLabel(v),tickValue:v.value}})}}function getListCache(o,v){return ux(o)[v]||(ux(o)[v]=[])}function listCacheGet(o,v){for(var _=0;_<o.length;_++)if(o[_].key===v)return o[_].value}function listCacheSet(o,v,_){return o.push({key:v,value:_}),_}function makeAutoCategoryInterval(o){var v=ux(o).autoInterval;return null!=v?v:ux(o).autoInterval=o.calculateCategoryInterval()}function calculateCategoryInterval(o){var v=fetchAutoCategoryIntervalCalculationParams(o),_=makeLabelFormatter(o),x=(v.axisRotate-v.labelRotate)/180*Math.PI,w=o.scale,T=w.getExtent(),L=w.count();if(T[1]-T[0]<1)return 0;var N=1;L>40&&(N=Math.max(1,Math.floor(L/40)));for(var B=T[0],H=o.dataToCoord(B+1)-o.dataToCoord(B),Y=0,Z=0;B<=T[1];B+=N){var X=0,et=0,en=getBoundingRect(_({value:B}),v.font,"center","top");X=1.3*en.width,et=1.3*en.height,Y=Math.max(Y,X,7),Z=Math.max(Z,et,7)}var er=Y/Math.abs(H*Math.cos(x)),ei=Z/Math.abs(H*Math.sin(x));isNaN(er)&&(er=1/0),isNaN(ei)&&(ei=1/0);var ea=Math.max(0,Math.floor(Math.min(er,ei))),eo=ux(o.model),el=o.getExtent(),eu=eo.lastAutoInterval,ec=eo.lastTickCount;return null!=eu&&null!=ec&&1>=Math.abs(eu-ea)&&1>=Math.abs(ec-L)&&eu>ea&&eo.axisExtent0===el[0]&&eo.axisExtent1===el[1]?ea=eu:(eo.lastTickCount=L,eo.lastAutoInterval=ea,eo.axisExtent0=el[0],eo.axisExtent1=el[1]),ea}function fetchAutoCategoryIntervalCalculationParams(o){var v=o.getLabelModel();return{axisRotate:o.getRotate?o.getRotate():o.isHorizontal&&!o.isHorizontal()?90:0,labelRotate:v.get("rotate")||0,font:v.getFont()}}function makeLabelsByNumericCategoryInterval(o,v,_){var x=makeLabelFormatter(o),w=o.scale,T=w.getExtent(),L=o.getLabelModel(),N=[],B=Math.max((v||0)+1,1),H=T[0],Y=w.count();0!==H&&B>1&&Y/B>2&&(H=Math.round(Math.ceil(H/B)*B));var Z=shouldShowAllLabels(o),X=L.get("showMinLabel")||Z,et=L.get("showMaxLabel")||Z;X&&H!==T[0]&&addItem(T[0]);for(var en=H;en<=T[1];en+=B)addItem(en);function addItem(o){var v={value:o};N.push(_?o:{formattedLabel:x(v),rawLabel:w.getLabel(v),tickValue:o})}return et&&en-B!==T[1]&&addItem(T[1]),N}function makeLabelsByCustomizedCategoryInterval(o,v,_){var x=o.scale,w=makeLabelFormatter(o),T=[];return util_each(x.getTicks(),function(o){var L=x.getLabel(o),N=o.value;v(o.value,L)&&T.push(_?N:{formattedLabel:w(o),rawLabel:L,tickValue:N})}),T}var uw=[0,1],uC=function(){function Axis(o,v,_){this.onBand=!1,this.inverse=!1,this.dim=o,this.scale=v,this._extent=_||[0,0]}return Axis.prototype.contain=function(o){var v=this._extent,_=Math.min(v[0],v[1]),x=Math.max(v[0],v[1]);return o>=_&&o<=x},Axis.prototype.containData=function(o){return this.scale.contain(o)},Axis.prototype.getExtent=function(){return this._extent.slice()},Axis.prototype.getPixelPrecision=function(o){return getPixelPrecision(o||this.scale.getExtent(),this._extent)},Axis.prototype.setExtent=function(o,v){var _=this._extent;_[0]=o,_[1]=v},Axis.prototype.dataToCoord=function(o,v){var _=this._extent,x=this.scale;return o=x.normalize(o),this.onBand&&"ordinal"===x.type&&fixExtentWithBands(_=_.slice(),x.count()),linearMap(o,uw,_,v)},Axis.prototype.coordToData=function(o,v){var _=this._extent,x=this.scale;this.onBand&&"ordinal"===x.type&&fixExtentWithBands(_=_.slice(),x.count());var w=linearMap(o,_,uw,v);return this.scale.scale(w)},Axis.prototype.pointToData=function(o,v){},Axis.prototype.getTicksCoords=function(o){var v=(o=o||{}).tickModel||this.getTickModel(),_=map(createAxisTicks(this,v).ticks,function(o){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this);return fixOnBandTicksCoords(this,_,v.get("alignWithLabel"),o.clamp),_},Axis.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var o=this.model.getModel("minorTick").get("splitNumber");return o>0&&o<100||(o=5),map(this.scale.getMinorTicks(o),function(o){return map(o,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this)},Axis.prototype.getViewLabels=function(){return createAxisLabels(this).labels},Axis.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},Axis.prototype.getTickModel=function(){return this.model.getModel("axisTick")},Axis.prototype.getBandWidth=function(){var o=this._extent,v=this.scale.getExtent(),_=v[1]-v[0]+(this.onBand?1:0);return 0===_&&(_=1),Math.abs(Math.abs(o[1]-o[0]))/_},Axis.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},Axis}();function fixExtentWithBands(o,v){var _=(o[1]-o[0])/v/2;o[0]+=_,o[1]-=_}function fixOnBandTicksCoords(o,v,_,x){var w,T,L=v.length;if(o.onBand&&!_&&L){var N=o.getExtent();if(1===L)v[0].coord=N[0],w=v[1]={coord:N[1]};else{var B=v[L-1].tickValue-v[0].tickValue,H=(v[L-1].coord-v[0].coord)/B;util_each(v,function(o){o.coord-=H/2}),T=1+o.scale.getExtent()[1]-v[L-1].tickValue,w={coord:v[L-1].coord+H*T},v.push(w)}var Y=N[0]>N[1];littleThan(v[0].coord,N[0])&&(x?v[0].coord=N[0]:v.shift()),x&&littleThan(N[0],v[0].coord)&&v.unshift({coord:N[0]}),littleThan(N[1],w.coord)&&(x?w.coord=N[1]:v.pop()),x&&littleThan(w.coord,N[1])&&v.push({coord:N[1]})}function littleThan(o,v){return o=round(o),v=round(v),Y?o>v:o<v}}var uT=function(o){function Axis2D(v,_,x,w,T){var L=o.call(this,v,_,x)||this;return L.index=0,L.type=w||"value",L.position=T||"bottom",L}return __extends(Axis2D,o),Axis2D.prototype.isHorizontal=function(){var o=this.position;return"top"===o||"bottom"===o},Axis2D.prototype.getGlobalExtent=function(o){var v=this.getExtent();return v[0]=this.toGlobalCoord(v[0]),v[1]=this.toGlobalCoord(v[1]),o&&v[0]>v[1]&&v.reverse(),v},Axis2D.prototype.pointToData=function(o,v){return this.coordToData(this.toLocalCoord(o["x"===this.dim?0:1]),v)},Axis2D.prototype.setCategorySortInfo=function(o){if("category"!==this.type)return!1;this.model.option.categorySortInfo=o,this.scale.setSortInfo(o)},Axis2D}(uC);function cartesianAxisHelper_layout(o,v,_){_=_||{};var x=o.coordinateSystem,w=v.axis,T={},L=w.getAxesOnZeroOf()[0],N=w.position,B=L?"onZero":N,H=w.dim,Y=x.getRect(),Z=[Y.x,Y.x+Y.width,Y.y,Y.y+Y.height],X={left:0,right:1,top:0,bottom:1,onZero:2},et=v.get("offset")||0,en="x"===H?[Z[2]-et,Z[3]+et]:[Z[0]-et,Z[1]+et];if(L){var er=L.toGlobalCoord(L.dataToCoord(0));en[X.onZero]=Math.max(Math.min(er,en[1]),en[0])}T.position=["y"===H?en[X[B]]:Z[0],"x"===H?en[X[B]]:Z[3]],T.rotation=Math.PI/2*("x"===H?0:1),T.labelDirection=T.tickDirection=T.nameDirection=({top:-1,bottom:1,left:-1,right:1})[N],T.labelOffset=L?en[X[N]]-en[X.onZero]:0,v.get(["axisTick","inside"])&&(T.tickDirection=-T.tickDirection),retrieve(_.labelInside,v.get(["axisLabel","inside"]))&&(T.labelDirection=-T.labelDirection);var ei=v.get(["axisLabel","rotate"]);return T.labelRotate="top"===B?-ei:ei,T.z2=1,T}function isCartesian2DSeries(o){return"cartesian2d"===o.get("coordinateSystem")}function findAxisModels(o){var v={xAxisModel:null,yAxisModel:null};return util_each(v,function(_,x){var w=x.replace(/Model$/,""),T=o.getReferringComponents(w,nT).models[0];v[x]=T}),v}var uM=Math.log;function alignScaleTicks(o,v,_){var x=ui.prototype,w=x.getTicks.call(_),T=x.getTicks.call(_,!0),L=w.length-1,N=x.getInterval.call(_),B=getScaleExtent(o,v),H=B.extent,Y=B.fixMin,Z=B.fixMax;if("log"===o.type){var X=uM(o.base);H=[uM(H[0])/X,uM(H[1])/X]}o.setExtent(H[0],H[1]),o.calcNiceExtent({splitNumber:L,fixMin:Y,fixMax:Z});var et=x.getExtent.call(o);Y&&(H[0]=et[0]),Z&&(H[1]=et[1]);var en=x.getInterval.call(o),er=H[0],ei=H[1];if(Y&&Z)en=(ei-er)/L;else if(Y)for(ei=H[0]+en*L;ei<H[1]&&isFinite(ei)&&isFinite(H[1]);)en=increaseInterval(en),ei=H[0]+en*L;else if(Z)for(er=H[1]-en*L;er>H[0]&&isFinite(er)&&isFinite(H[0]);)en=increaseInterval(en),er=H[1]-en*L;else{o.getTicks().length-1>L&&(en=increaseInterval(en));var ea=en*L;(er=round((ei=Math.ceil(H[1]/en)*en)-ea))<0&&H[0]>=0?(er=0,ei=round(ea)):ei>0&&H[1]<=0&&(ei=0,er=-round(ea))}var eo=(w[0].value-T[0].value)/N,el=(w[L].value-T[L].value)/N;x.setExtent.call(o,er+en*eo,ei+en*el),x.setInterval.call(o,en),(eo||el)&&x.setNiceExtent.call(o,er+en,ei-en)}var uP=function(){function Grid(o,v,_){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ub,this._initCartesian(o,v,_),this.model=o}return Grid.prototype.getRect=function(){return this._rect},Grid.prototype.update=function(o,v){var _=this._axesMap;function updateAxisTicks(o){var v,_=keys(o),x=_.length;if(x){for(var w=[],T=x-1;T>=0;T--){var L=o[+_[T]],N=L.model,B=L.scale;isIntervalOrLogScale(B)&&N.get("alignTicks")&&null==N.get("interval")?w.push(L):(niceScaleExtent(B,N),isIntervalOrLogScale(B)&&(v=L))}w.length&&(v||niceScaleExtent((v=w.pop()).scale,v.model),util_each(w,function(o){alignScaleTicks(o.scale,o.model,v.scale)}))}}this._updateScale(o,this.model),updateAxisTicks(_.x),updateAxisTicks(_.y);var x={};util_each(_.x,function(o){fixAxisOnZero(_,"y",o,x)}),util_each(_.y,function(o){fixAxisOnZero(_,"x",o,x)}),this.resize(this.model,v)},Grid.prototype.resize=function(o,v,_){var x=o.getBoxLayoutParams(),w=!_&&o.get("containLabel"),T=getLayoutRect(x,{width:v.getWidth(),height:v.getHeight()});this._rect=T;var L=this._axesList;function adjustAxes(){util_each(L,function(o){var v=o.isHorizontal(),_=v?[0,T.width]:[0,T.height],x=o.inverse?1:0;o.setExtent(_[x],_[1-x]),updateAxisTransform(o,v?T.x:T.y)})}adjustAxes(),w&&(util_each(L,function(o){if(!o.model.get(["axisLabel","inside"])){var v=estimateLabelUnionRect(o);if(v){var _=o.isHorizontal()?"height":"width",x=o.model.get(["axisLabel","margin"]);T[_]-=v[_]+x,"top"===o.position?T.y+=v.height+x:"left"===o.position&&(T.x+=v.width+x)}}}),adjustAxes()),util_each(this._coordsList,function(o){o.calcAffineTransform()})},Grid.prototype.getAxis=function(o,v){var _=this._axesMap[o];if(null!=_)return _[v||0]},Grid.prototype.getAxes=function(){return this._axesList.slice()},Grid.prototype.getCartesian=function(o,v){if(null!=o&&null!=v){var _="x"+o+"y"+v;return this._coordsMap[_]}util_isObject(o)&&(v=o.yAxisIndex,o=o.xAxisIndex);for(var x=0,w=this._coordsList;x<w.length;x++)if(w[x].getAxis("x").index===o||w[x].getAxis("y").index===v)return w[x]},Grid.prototype.getCartesians=function(){return this._coordsList.slice()},Grid.prototype.convertToPixel=function(o,v,_){var x=this._findConvertTarget(v);return x.cartesian?x.cartesian.dataToPoint(_):x.axis?x.axis.toGlobalCoord(x.axis.dataToCoord(_)):null},Grid.prototype.convertFromPixel=function(o,v,_){var x=this._findConvertTarget(v);return x.cartesian?x.cartesian.pointToData(_):x.axis?x.axis.coordToData(x.axis.toLocalCoord(_)):null},Grid.prototype._findConvertTarget=function(o){var v,_,x=o.seriesModel,w=o.xAxisModel||x&&x.getReferringComponents("xAxis",nT).models[0],T=o.yAxisModel||x&&x.getReferringComponents("yAxis",nT).models[0],L=o.gridModel,N=this._coordsList;return x?0>indexOf(N,v=x.coordinateSystem)&&(v=null):w&&T?v=this.getCartesian(w.componentIndex,T.componentIndex):w?_=this.getAxis("x",w.componentIndex):T?_=this.getAxis("y",T.componentIndex):L&&L.coordinateSystem===this&&(v=this._coordsList[0]),{cartesian:v,axis:_}},Grid.prototype.containPoint=function(o){var v=this._coordsList[0];if(v)return v.containPoint(o)},Grid.prototype._initCartesian=function(o,v,_){var x=this,w=this,T={left:!1,right:!1,top:!1,bottom:!1},L={x:{},y:{}},N={x:0,y:0};if(v.eachComponent("xAxis",createAxisCreator("x"),this),v.eachComponent("yAxis",createAxisCreator("y"),this),!N.x||!N.y){this._axesMap={},this._axesList=[];return}function createAxisCreator(v){return function(_,x){if(isAxisUsedInTheGrid(_,o)){var B=_.get("position");"x"===v?"top"!==B&&"bottom"!==B&&(B=T.bottom?"top":"bottom"):"left"!==B&&"right"!==B&&(B=T.left?"right":"left"),T[B]=!0;var H=new uT(v,createScaleByModel(_),[0,0],_.get("type"),B),Y="category"===H.type;H.onBand=Y&&_.get("boundaryGap"),H.inverse=_.get("inverse"),_.axis=H,H.model=_,H.grid=w,H.index=x,w._axesList.push(H),L[v][x]=H,N[v]++}}}this._axesMap=L,util_each(L.x,function(v,_){util_each(L.y,function(w,T){var L="x"+_+"y"+T,N=new uS(L);N.master=x,N.model=o,x._coordsMap[L]=N,x._coordsList.push(N),N.addAxis(v),N.addAxis(w)})})},Grid.prototype._updateScale=function(o,v){function unionExtent(o,v){util_each(getDataDimensionsOnAxis(o,v.dim),function(_){v.scale.unionExtentFromData(o,_)})}util_each(this._axesList,function(o){if(o.scale.setExtent(1/0,-1/0),"category"===o.type){var v=o.model.get("categorySortInfo");o.scale.setSortInfo(v)}}),o.eachSeries(function(o){if(isCartesian2DSeries(o)){var _=findAxisModels(o),x=_.xAxisModel,w=_.yAxisModel;if(isAxisUsedInTheGrid(x,v)&&isAxisUsedInTheGrid(w,v)){var T=this.getCartesian(x.componentIndex,w.componentIndex),L=o.getData(),N=T.getAxis("x"),B=T.getAxis("y");unionExtent(L,N),unionExtent(L,B)}}},this)},Grid.prototype.getTooltipAxes=function(o){var v=[],_=[];return util_each(this.getCartesians(),function(x){var w=null!=o&&"auto"!==o?x.getAxis(o):x.getBaseAxis(),T=x.getOtherAxis(w);0>indexOf(v,w)&&v.push(w),0>indexOf(_,T)&&_.push(T)}),{baseAxes:v,otherAxes:_}},Grid.create=function(o,v){var _=[];return o.eachComponent("grid",function(x,w){var T=new Grid(x,o,v);T.name="grid_"+w,T.resize(x,v,!0),x.coordinateSystem=T,_.push(T)}),o.eachSeries(function(o){if(isCartesian2DSeries(o)){var v=findAxisModels(o),_=v.xAxisModel,x=v.yAxisModel,w=_.getCoordSysModel().coordinateSystem;o.coordinateSystem=w.getCartesian(_.componentIndex,x.componentIndex)}}),_},Grid.dimensions=ub,Grid}();function isAxisUsedInTheGrid(o,v){return o.getCoordSysModel()===v}function fixAxisOnZero(o,v,_,x){_.getAxesOnZeroOf=function(){return w?[w]:[]};var w,T=o[v],L=_.model,N=L.get(["axisLine","onZero"]),B=L.get(["axisLine","onZeroAxisIndex"]);if(N){if(null!=B)canOnZeroToAxis(T[B])&&(w=T[B]);else for(var H in T)if(T.hasOwnProperty(H)&&canOnZeroToAxis(T[H])&&!x[getOnZeroRecordKey(T[H])]){w=T[H];break}w&&(x[getOnZeroRecordKey(w)]=!0)}function getOnZeroRecordKey(o){return o.dim+"_"+o.index}}function canOnZeroToAxis(o){return o&&"category"!==o.type&&"time"!==o.type&&ifAxisCrossZero(o)}function updateAxisTransform(o,v){var _=o.getExtent(),x=_[0]+_[1];o.toGlobalCoord="x"===o.dim?function(o){return o+v}:function(o){return x-o+v},o.toLocalCoord="x"===o.dim?function(o){return o-v}:function(o){return x-o+v}}var uI=Math.PI,uD=function(){function AxisBuilder(o,v){this.group=new nm,this.opt=v,this.axisModel=o,util_defaults(v,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var _=new nm({x:v.position[0],y:v.position[1],rotation:v.rotation});_.updateTransform(),this._transformGroup=_}return AxisBuilder.prototype.hasBuilder=function(o){return!!uE[o]},AxisBuilder.prototype.add=function(o){uE[o](this.opt,this.axisModel,this.group,this._transformGroup)},AxisBuilder.prototype.getGroup=function(){return this.group},AxisBuilder.innerTextLayout=function(o,v,_){var x,w,T=remRadian(v-o);return isRadianAroundZero(T)?(w=_>0?"top":"bottom",x="center"):isRadianAroundZero(T-uI)?(w=_>0?"bottom":"top",x="center"):(w="middle",x=T>0&&T<uI?_>0?"right":"left":_>0?"left":"right"),{rotation:T,textAlign:x,textVerticalAlign:w}},AxisBuilder.makeAxisEventDataBase=function(o){var v={componentType:o.mainType,componentIndex:o.componentIndex};return v[o.mainType+"Index"]=o.componentIndex,v},AxisBuilder.isLabelSilent=function(o){var v=o.get("tooltip");return o.get("silent")||!(o.get("triggerEvent")||v&&v.show)},AxisBuilder}(),uE={axisLine:function(o,v,_,x){var w=v.get(["axisLine","show"]);if("auto"===w&&o.handleAutoShown&&(w=o.handleAutoShown("axisLine")),w){var T=v.axis.getExtent(),L=x.transform,N=[T[0],0],B=[T[1],0],H=N[0]>B[0];L&&(applyTransform(N,N,L),applyTransform(B,B,L));var Y=extend({lineCap:"round"},v.getModel(["axisLine","lineStyle"]).getLineStyle()),Z=new a3({shape:{x1:N[0],y1:N[1],x2:B[0],y2:B[1]},style:Y,strokeContainThreshold:o.strokeContainThreshold||5,silent:!0,z2:1});graphic_subPixelOptimizeLine(Z.shape,Z.style.lineWidth),Z.anid="line",_.add(Z);var X=v.get(["axisLine","symbol"]);if(null!=X){var et=v.get(["axisLine","symbolSize"]);util_isString(X)&&(X=[X,X]),(util_isString(et)||isNumber(et))&&(et=[et,et]);var en=normalizeSymbolOffset(v.get(["axisLine","symbolOffset"])||0,et),er=et[0],ei=et[1];util_each([{rotate:o.rotation+Math.PI/2,offset:en[0],r:0},{rotate:o.rotation-Math.PI/2,offset:en[1],r:Math.sqrt((N[0]-B[0])*(N[0]-B[0])+(N[1]-B[1])*(N[1]-B[1]))}],function(v,x){if("none"!==X[x]&&null!=X[x]){var w=symbol_createSymbol(X[x],-er/2,-ei/2,er,ei,Y.stroke,!0),T=v.r+v.offset,L=H?B:N;w.attr({rotation:v.rotate,x:L[0]+T*Math.cos(o.rotation),y:L[1]-T*Math.sin(o.rotation),silent:!0,z2:11}),_.add(w)}})}}},axisTickLabel:function(o,v,_,x){var w=buildAxisMajorTicks(_,x,v,o),T=buildAxisLabel(_,x,v,o);fixMinMaxLabelShow(v,T,w),buildAxisMinorTicks(_,x,v,o.tickDirection),v.get(["axisLabel","hideOverlap"])&&hideOverlap(prepareLayoutList(map(T,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}})))},axisName:function(o,v,_,x){var w,T,L=retrieve(o.axisName,v.get("name"));if(L){var N=v.get("nameLocation"),B=o.nameDirection,H=v.getModel("nameTextStyle"),Y=v.get("nameGap")||0,Z=v.axis.getExtent(),X=Z[0]>Z[1]?-1:1,et=["start"===N?Z[0]-X*Y:"end"===N?Z[1]+X*Y:(Z[0]+Z[1])/2,isNameLocationCenter(N)?o.labelOffset+B*Y:0],en=v.get("nameRotate");null!=en&&(en=en*uI/180),isNameLocationCenter(N)?w=uD.innerTextLayout(o.rotation,null!=en?en:o.rotation,B):(w=endTextLayout(o.rotation,N,en||0,Z),null!=(T=o.axisNameAvailableWidth)&&(isFinite(T=Math.abs(T/Math.sin(w.rotation)))||(T=null)));var er=H.getFont(),ei=v.get("nameTruncate",!0)||{},ea=ei.ellipsis,eo=retrieve(o.nameTruncateMaxWidth,ei.maxWidth,T),el=new rR({x:et[0],y:et[1],rotation:w.rotation,silent:uD.isLabelSilent(v),style:createTextStyle(H,{text:L,font:er,overflow:"truncate",width:eo,ellipsis:ea,fill:H.getTextColor()||v.get(["axisLine","lineStyle","color"]),align:H.get("align")||w.textAlign,verticalAlign:H.get("verticalAlign")||w.textVerticalAlign}),z2:1});if(setTooltipConfig({el:el,componentModel:v,itemName:L}),el.__fullText=L,el.anid="name",v.get("triggerEvent")){var eu=uD.makeAxisEventDataBase(v);eu.targetType="axisName",eu.name=L,rN(el).eventData=eu}x.add(el),el.updateTransform(),_.add(el),el.decomposeTransform()}}};function endTextLayout(o,v,_,x){var w,T,L=remRadian(_-o),N=x[0]>x[1],B="start"===v&&!N||"start"!==v&&N;return isRadianAroundZero(L-uI/2)?(T=B?"bottom":"top",w="center"):isRadianAroundZero(L-1.5*uI)?(T=B?"top":"bottom",w="center"):(T="middle",w=L<1.5*uI&&L>uI/2?B?"left":"right":B?"right":"left"),{rotation:L,textAlign:w,textVerticalAlign:T}}function fixMinMaxLabelShow(o,v,_){if(!shouldShowAllLabels(o.axis)){var x=o.get(["axisLabel","showMinLabel"]),w=o.get(["axisLabel","showMaxLabel"]);_=_||[];var T=(v=v||[])[0],L=v[1],N=v[v.length-1],B=v[v.length-2],H=_[0],Y=_[1],Z=_[_.length-1],X=_[_.length-2];!1===x?(ignoreEl(T),ignoreEl(H)):isTwoLabelOverlapped(T,L)&&(x?(ignoreEl(L),ignoreEl(Y)):(ignoreEl(T),ignoreEl(H))),!1===w?(ignoreEl(N),ignoreEl(Z)):isTwoLabelOverlapped(B,N)&&(w?(ignoreEl(B),ignoreEl(X)):(ignoreEl(N),ignoreEl(Z)))}}function ignoreEl(o){o&&(o.ignore=!0)}function isTwoLabelOverlapped(o,v){var _=o&&o.getBoundingRect().clone(),x=v&&v.getBoundingRect().clone();if(_&&x){var w=identity([]);return rotate(w,w,-o.rotation),_.applyTransform(matrix_mul([],w,o.getLocalTransform())),x.applyTransform(matrix_mul([],w,v.getLocalTransform())),_.intersect(x)}}function isNameLocationCenter(o){return"middle"===o||"center"===o}function createTicks(o,v,_,x,w){for(var T=[],L=[],N=[],B=0;B<o.length;B++){var H=o[B].coord;L[0]=H,L[1]=0,N[0]=H,N[1]=_,v&&(applyTransform(L,L,v),applyTransform(N,N,v));var Y=new a3({shape:{x1:L[0],y1:L[1],x2:N[0],y2:N[1]},style:x,z2:2,autoBatch:!0,silent:!0});graphic_subPixelOptimizeLine(Y.shape,Y.style.lineWidth),Y.anid=w+"_"+o[B].tickValue,T.push(Y)}return T}function buildAxisMajorTicks(o,v,_,x){var w=_.axis,T=_.getModel("axisTick"),L=T.get("show");if("auto"===L&&x.handleAutoShown&&(L=x.handleAutoShown("axisTick")),!(!L||w.scale.isBlank())){for(var N=T.getModel("lineStyle"),B=x.tickDirection*T.get("length"),H=createTicks(w.getTicksCoords(),v.transform,B,util_defaults(N.getLineStyle(),{stroke:_.get(["axisLine","lineStyle","color"])}),"ticks"),Y=0;Y<H.length;Y++)o.add(H[Y]);return H}}function buildAxisMinorTicks(o,v,_,x){var w=_.axis,T=_.getModel("minorTick");if(!(!T.get("show")||w.scale.isBlank())){var L=w.getMinorTicksCoords();if(L.length)for(var N=T.getModel("lineStyle"),B=x*T.get("length"),H=util_defaults(N.getLineStyle(),util_defaults(_.getModel("axisTick").getLineStyle(),{stroke:_.get(["axisLine","lineStyle","color"])})),Y=0;Y<L.length;Y++)for(var Z=createTicks(L[Y],v.transform,B,H,"minorticks_"+Y),X=0;X<Z.length;X++)o.add(Z[X])}}function buildAxisLabel(o,v,_,x){var w=_.axis;if(!(!retrieve(x.axisLabelShow,_.get(["axisLabel","show"]))||w.scale.isBlank())){var T=_.getModel("axisLabel"),L=T.get("margin"),N=w.getViewLabels(),B=(retrieve(x.labelRotate,T.get("rotate"))||0)*uI/180,H=uD.innerTextLayout(x.rotation,B,x.labelDirection),Y=_.getCategories&&_.getCategories(!0),Z=[],X=uD.isLabelSilent(_),et=_.get("triggerEvent");return util_each(N,function(N,B){var en="ordinal"===w.scale.type?w.scale.getRawOrdinalNumber(N.tickValue):N.tickValue,er=N.formattedLabel,ei=N.rawLabel,ea=T;if(Y&&Y[en]){var eo=Y[en];util_isObject(eo)&&eo.textStyle&&(ea=new ii(eo.textStyle,T,_.ecModel))}var el=ea.getTextColor()||_.get(["axisLine","lineStyle","color"]),eu=new rR({x:w.dataToCoord(en),y:x.labelOffset+x.labelDirection*L,rotation:H.rotation,silent:X,z2:10+(N.level||0),style:createTextStyle(ea,{text:er,align:ea.getShallow("align",!0)||H.textAlign,verticalAlign:ea.getShallow("verticalAlign",!0)||ea.getShallow("baseline",!0)||H.textVerticalAlign,fill:isFunction(el)?el("category"===w.type?ei:"value"===w.type?en+"":en,B):el})});if(eu.anid="label_"+en,et){var ec=uD.makeAxisEventDataBase(_);ec.targetType="axisLabel",ec.value=ei,ec.tickIndex=B,"category"===w.type&&(ec.dataIndex=en),rN(eu).eventData=ec}v.add(eu),eu.updateTransform(),Z.push(eu),o.add(eu),eu.decomposeTransform()}),Z}}function collect(o,v){var _={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(_,o,v),_.seriesInvolved&&collectSeriesInfo(_,o),_}function collectAxesInfo(o,v,_){var x=v.getComponent("tooltip"),w=v.getComponent("axisPointer"),T=w.get("link",!0)||[],L=[];util_each(_.getCoordinateSystems(),function(_){if(_.axisPointerEnabled){var N=makeKey(_.model),B=o.coordSysAxesInfo[N]={};o.coordSysMap[N]=_;var H=_.model.getModel("tooltip",x);if(util_each(_.getAxes(),curry(saveTooltipAxisInfo,!1,null)),_.getTooltipAxes&&x&&H.get("show")){var Y="axis"===H.get("trigger"),Z="cross"===H.get(["axisPointer","type"]),X=_.getTooltipAxes(H.get(["axisPointer","axis"]));(Y||Z)&&util_each(X.baseAxes,curry(saveTooltipAxisInfo,!Z||"cross",Y)),Z&&util_each(X.otherAxes,curry(saveTooltipAxisInfo,"cross",!1))}}function saveTooltipAxisInfo(x,N,Y){var Z=Y.model.getModel("axisPointer",w),X=Z.get("show");if(X&&("auto"!==X||x||isHandleTrigger(Z))){null==N&&(N=Z.get("triggerTooltip"));var et=(Z=x?makeAxisPointerModel(Y,H,w,v,x,N):Z).get("snap"),en=Z.get("triggerEmphasis"),er=makeKey(Y.model),ei=N||et||"category"===Y.type,ea=o.axesInfo[er]={key:er,axis:Y,coordSys:_,axisPointerModel:Z,triggerTooltip:N,triggerEmphasis:en,involveSeries:ei,snap:et,useHandle:isHandleTrigger(Z),seriesModels:[],linkGroup:null};B[er]=ea,o.seriesInvolved=o.seriesInvolved||ei;var eo=getLinkGroupIndex(T,Y);if(null!=eo){var el=L[eo]||(L[eo]={axesInfo:{}});el.axesInfo[er]=ea,el.mapper=T[eo].mapper,ea.linkGroup=el}}}})}function makeAxisPointerModel(o,v,_,x,w,T){var L=v.getModel("axisPointer"),N={};util_each(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(o){N[o]=clone(L.get(o))}),N.snap="category"!==o.type&&!!T,"cross"===L.get("type")&&(N.type="line");var B=N.label||(N.label={});if(null==B.show&&(B.show=!1),"cross"===w){var H=L.get(["label","show"]);if(B.show=null==H||H,!T){var Y=N.lineStyle=L.get("crossStyle");Y&&util_defaults(B,Y.textStyle)}}return o.model.getModel("axisPointer",new ii(N,_,x))}function collectSeriesInfo(o,v){v.eachSeries(function(v){var _=v.coordinateSystem,x=v.get(["tooltip","trigger"],!0),w=v.get(["tooltip","show"],!0);_&&"none"!==x&&!1!==x&&"item"!==x&&!1!==w&&!1!==v.get(["axisPointer","show"],!0)&&util_each(o.coordSysAxesInfo[makeKey(_.model)],function(o){var x=o.axis;_.getAxis(x.dim)===x&&(o.seriesModels.push(v),null==o.seriesDataCount&&(o.seriesDataCount=0),o.seriesDataCount+=v.getData().count())})})}function getLinkGroupIndex(o,v){for(var _=v.model,x=v.dim,w=0;w<o.length;w++){var T=o[w]||{};if(checkPropInLink(T[x+"AxisId"],_.id)||checkPropInLink(T[x+"AxisIndex"],_.componentIndex)||checkPropInLink(T[x+"AxisName"],_.name))return w}}function checkPropInLink(o,v){return"all"===o||util_isArray(o)&&indexOf(o,v)>=0||o===v}function fixValue(o){var v=getAxisInfo(o);if(v){var _=v.axisPointerModel,x=v.axis.scale,w=_.option,T=_.get("status"),L=_.get("value");null!=L&&(L=x.parse(L));var N=isHandleTrigger(_);null==T&&(w.status=N?"show":"hide");var B=x.getExtent().slice();B[0]>B[1]&&B.reverse(),(null==L||L>B[1])&&(L=B[1]),L<B[0]&&(L=B[0]),w.value=L,N&&(w.status=v.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(o){var v=(o.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return v&&v.axesInfo[makeKey(o)]}function getAxisPointerModel(o){var v=getAxisInfo(o);return v&&v.axisPointerModel}function isHandleTrigger(o){return!!o.get(["handle","show"])}function makeKey(o){return o.type+"||"+o.id}var uO={},uA=function(o){function AxisView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=AxisView.type,v}return __extends(AxisView,o),AxisView.prototype.render=function(v,_,x,w){this.axisPointerClass&&fixValue(v),o.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(v,x,!0)},AxisView.prototype.updateAxisPointer=function(o,v,_,x){this._doUpdateAxisPointerClass(o,_,!1)},AxisView.prototype.remove=function(o,v){var _=this._axisPointer;_&&_.remove(v)},AxisView.prototype.dispose=function(v,_){this._disposeAxisPointer(_),o.prototype.dispose.apply(this,arguments)},AxisView.prototype._doUpdateAxisPointerClass=function(o,v,_){var x=AxisView.getAxisPointerClass(this.axisPointerClass);if(x){var w=getAxisPointerModel(o);w?(this._axisPointer||(this._axisPointer=new x)).render(o,w,v,_):this._disposeAxisPointer(v)}},AxisView.prototype._disposeAxisPointer=function(o){this._axisPointer&&this._axisPointer.dispose(o),this._axisPointer=null},AxisView.registerAxisPointerClass=function(o,v){uO[o]=v},AxisView.getAxisPointerClass=function(o){return o&&uO[o]},AxisView.type="axis",AxisView}(ax),uk=makeInner();function rectCoordAxisBuildSplitArea(o,v,_,x){var w=_.axis;if(!w.scale.isBlank()){var T=_.getModel("splitArea"),L=T.getModel("areaStyle"),N=L.get("color"),B=x.coordinateSystem.getRect(),H=w.getTicksCoords({tickModel:T,clamp:!0});if(H.length){var Y=N.length,Z=uk(o).splitAreaColors,X=createHashMap(),et=0;if(Z)for(var en=0;en<H.length;en++){var er=Z.get(H[en].tickValue);if(null!=er){et=(er+(Y-1)*en)%Y;break}}var ei=w.toGlobalCoord(H[0].coord),ea=L.getAreaStyle();N=util_isArray(N)?N:[N];for(var en=1;en<H.length;en++){var eo=w.toGlobalCoord(H[en].coord),el=void 0,eu=void 0,ec=void 0,ed=void 0;w.isHorizontal()?(el=ei,eu=B.y,ec=eo-el,ed=B.height,ei=el+ec):(el=B.x,eu=ei,ec=B.width,ed=eo-eu,ei=eu+ed);var eh=H[en-1].tickValue;null!=eh&&X.set(eh,et),v.add(new rI({anid:null!=eh?"area_"+eh:null,shape:{x:el,y:eu,width:ec,height:ed},style:util_defaults({fill:N[et]},ea),autoBatch:!0,silent:!0})),et=(et+1)%Y}uk(o).splitAreaColors=X}}}function rectCoordAxisHandleRemove(o){uk(o).splitAreaColors=null}var uL=["axisLine","axisTickLabel","axisName"],uR=["splitArea","splitLine","minorSplitLine"],uN=function(o){function CartesianAxisView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=CartesianAxisView.type,v.axisPointerClass="CartesianAxisPointer",v}return __extends(CartesianAxisView,o),CartesianAxisView.prototype.render=function(v,_,x,w){this.group.removeAll();var T=this._axisGroup;if(this._axisGroup=new nm,this.group.add(this._axisGroup),v.get("show")){var L=v.getCoordSysModel(),N=cartesianAxisHelper_layout(L,v),B=new uD(v,extend({handleAutoShown:function(o){for(var _=L.coordinateSystem.getCartesians(),x=0;x<_.length;x++)if(isIntervalOrLogScale(_[x].getOtherAxis(v.axis).scale))return!0;return!1}},N));util_each(uL,B.add,B),this._axisGroup.add(B.getGroup()),util_each(uR,function(o){v.get([o,"show"])&&uF[o](this,this._axisGroup,v,L)},this),w&&"changeAxisOrder"===w.type&&w.isInitSort||groupTransition(T,this._axisGroup,v),o.prototype.render.call(this,v,_,x,w)}},CartesianAxisView.prototype.remove=function(){rectCoordAxisHandleRemove(this)},CartesianAxisView.type="cartesianAxis",CartesianAxisView}(uA),uF={splitLine:function(o,v,_,x){var w=_.axis;if(!w.scale.isBlank()){var T=_.getModel("splitLine"),L=T.getModel("lineStyle"),N=L.get("color");N=util_isArray(N)?N:[N];for(var B=x.coordinateSystem.getRect(),H=w.isHorizontal(),Y=0,Z=w.getTicksCoords({tickModel:T}),X=[],et=[],en=L.getLineStyle(),er=0;er<Z.length;er++){var ei=w.toGlobalCoord(Z[er].coord);H?(X[0]=ei,X[1]=B.y,et[0]=ei,et[1]=B.y+B.height):(X[0]=B.x,X[1]=ei,et[0]=B.x+B.width,et[1]=ei);var ea=Y++%N.length,eo=new a3({anid:null!=Z[er].tickValue?"line_"+Z[er].tickValue:null,autoBatch:!0,shape:{x1:X[0],y1:X[1],x2:et[0],y2:et[1]},style:util_defaults({stroke:N[ea]},en),silent:!0});graphic_subPixelOptimizeLine(eo.shape,en.lineWidth),v.add(eo)}}},minorSplitLine:function(o,v,_,x){var w=_.axis,T=_.getModel("minorSplitLine").getModel("lineStyle"),L=x.coordinateSystem.getRect(),N=w.isHorizontal(),B=w.getMinorTicksCoords();if(B.length)for(var H=[],Y=[],Z=T.getLineStyle(),X=0;X<B.length;X++)for(var et=0;et<B[X].length;et++){var en=w.toGlobalCoord(B[X][et].coord);N?(H[0]=en,H[1]=L.y,Y[0]=en,Y[1]=L.y+L.height):(H[0]=L.x,H[1]=en,Y[0]=L.x+L.width,Y[1]=en);var er=new a3({anid:"minor_line_"+B[X][et].tickValue,autoBatch:!0,shape:{x1:H[0],y1:H[1],x2:Y[0],y2:Y[1]},style:Z,silent:!0});graphic_subPixelOptimizeLine(er.shape,Z.lineWidth),v.add(er)}},splitArea:function(o,v,_,x){rectCoordAxisBuildSplitArea(o,v,_,x)}},uV=function(o){function CartesianXAxisView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=CartesianXAxisView.type,v}return __extends(CartesianXAxisView,o),CartesianXAxisView.type="xAxis",CartesianXAxisView}(uN),uB=function(o){function CartesianYAxisView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=uV.type,v}return __extends(CartesianYAxisView,o),CartesianYAxisView.type="yAxis",CartesianYAxisView}(uN),uz=function(o){function GridView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type="grid",v}return __extends(GridView,o),GridView.prototype.render=function(o,v){this.group.removeAll(),o.get("show")&&this.group.add(new rI({shape:o.coordinateSystem.getRect(),style:util_defaults({fill:o.get("backgroundColor")},o.getItemStyle()),silent:!0,z2:-1}))},GridView.type="grid",GridView}(ax),uj={offset:0};function installSimple_install(o){o.registerComponentView(uz),o.registerComponentModel(lJ),o.registerCoordinateSystem("cartesian2d",uP),axisModelCreator(o,"x",l1,uj),axisModelCreator(o,"y",l1,uj),o.registerComponentView(uV),o.registerComponentView(uB),o.registerPreprocessor(function(o){o.xAxis&&o.yAxis&&!o.grid&&(o.grid={})})}function scatter_install_install(o){use(installSimple_install),o.registerSeriesModel(lq),o.registerChartView(lQ),o.registerLayout(pointsLayout("scatter"))}function radarLayout(o){o.eachSeriesByType("radar",function(o){var v=o.getData(),_=[],x=o.coordinateSystem;if(x){var w=x.getIndicatorAxes();util_each(w,function(o,T){v.each(v.mapDimension(w[T].dim),function(o,v){_[v]=_[v]||[];var w=x.dataToPoint(o,T);_[v][T]=isValidPoint(w)?w:[x.cx,x.cy]})}),v.each(function(o){var w=find(_[o],function(o){return isValidPoint(o)})||[x.cx,x.cy];_[o].push(w.slice()),v.setItemLayout(o,_[o])})}})}function isValidPoint(o){return!isNaN(o[0])&&!isNaN(o[1])}function radarBackwardCompat(o){var v=o.polar;if(v){util_isArray(v)||(v=[v]);var _=[];util_each(v,function(v,x){v.indicator?(v.type&&!v.shape&&(v.shape=v.type),o.radar=o.radar||[],util_isArray(o.radar)||(o.radar=[o.radar]),o.radar.push(v)):_.push(v)}),o.polar=_}util_each(o.series,function(o){o&&"radar"===o.type&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}var uH=function(o){function RadarView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=RadarView.type,v}return __extends(RadarView,o),RadarView.prototype.render=function(o,v,_){var x=o.coordinateSystem,w=this.group,T=o.getData(),L=this._data;function createSymbol(o,v){var _=o.getItemVisual(v,"symbol")||"circle";if("none"!==_){var x=normalizeSymbolSize(o.getItemVisual(v,"symbolSize")),w=symbol_createSymbol(_,-1,-1,2,2),T=o.getItemVisual(v,"symbolRotate")||0;return w.attr({style:{strokeNoScale:!0},z2:100,scaleX:x[0]/2,scaleY:x[1]/2,rotation:T*Math.PI/180||0}),w}}function updateSymbols(v,_,x,w,T,L){x.removeAll();for(var N=0;N<_.length-1;N++){var B=createSymbol(w,T);B&&(B.__dimIdx=N,v[N]?(B.setPosition(v[N]),eF[L?"initProps":"updateProps"](B,{x:_[N][0],y:_[N][1]},o,T)):B.setPosition(_[N]),x.add(B))}}function getInitialPoints(o){return map(o,function(o){return[x.cx,x.cy]})}T.diff(L).add(function(v){var _=T.getItemLayout(v);if(_){var x=new aJ,w=new a1,L={shape:{points:_}};x.shape.points=getInitialPoints(_),w.shape.points=getInitialPoints(_),initProps(x,L,o,v),initProps(w,L,o,v);var N=new nm,B=new nm;N.add(w),N.add(x),N.add(B),updateSymbols(w.shape.points,_,B,T,v,!0),T.setItemGraphicEl(v,N)}}).update(function(v,_){var x=L.getItemGraphicEl(_),w=x.childAt(0),N=x.childAt(1),B=x.childAt(2),H={shape:{points:T.getItemLayout(v)}};H.shape.points&&(updateSymbols(w.shape.points,H.shape.points,B,T,v,!1),saveOldStyle(N),saveOldStyle(w),updateProps(w,H,o),updateProps(N,H,o),T.setItemGraphicEl(v,x))}).remove(function(o){w.remove(L.getItemGraphicEl(o))}).execute(),T.eachItemGraphicEl(function(o,v){var _=T.getItemModel(v),x=o.childAt(0),L=o.childAt(1),N=o.childAt(2),B=T.getItemVisual(v,"style"),H=B.fill;w.add(o),x.useStyle(util_defaults(_.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:H})),setStatesStylesFromModel(x,_,"lineStyle"),setStatesStylesFromModel(L,_,"areaStyle");var Y=_.getModel("areaStyle"),Z=Y.isEmpty()&&Y.parentModel.isEmpty();L.ignore=Z,util_each(["emphasis","select","blur"],function(o){var v=_.getModel([o,"areaStyle"]),x=v.isEmpty()&&v.parentModel.isEmpty();L.ensureState(o).ignore=x&&Z}),L.useStyle(util_defaults(Y.getAreaStyle(),{fill:H,opacity:.7,decal:B.decal}));var X=_.getModel("emphasis"),et=X.getModel("itemStyle").getItemStyle();N.eachChild(function(o){if(o instanceof rC){var x=o.style;o.useStyle(extend({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},B))}else o.useStyle(B),o.setColor(H),o.style.strokeNoScale=!0;o.ensureState("emphasis").style=clone(et);var w=T.getStore().get(T.getDimensionIndex(o.__dimIdx),v);(null==w||isNaN(w))&&(w=""),setLabelStyle(o,getLabelStatesModels(_),{labelFetcher:T.hostModel,labelDataIndex:v,labelDimIndex:o.__dimIdx,defaultText:w,inheritColor:H,defaultOpacity:B.opacity})}),toggleHoverEmphasis(o,X.get("focus"),X.get("blurScope"),X.get("disabled"))}),this._data=T},RadarView.prototype.remove=function(){this.group.removeAll(),this._data=null},RadarView.type="radar",RadarView}(ob),uG=function(o){function RadarSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=RadarSeriesModel.type,v.hasSymbolVisual=!0,v}return __extends(RadarSeriesModel,o),RadarSeriesModel.prototype.init=function(v){o.prototype.init.apply(this,arguments),this.legendVisualProvider=new lY(e2(this.getData,this),e2(this.getRawData,this))},RadarSeriesModel.prototype.getInitialData=function(o,v){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},RadarSeriesModel.prototype.formatTooltip=function(o,v,_){var x=this.getData(),w=this.coordinateSystem.getIndicatorAxes(),T=this.getData().getName(o),L=""===T?this.name:T,N=retrieveVisualColorForTooltipMarker(this,o);return createTooltipMarkup("section",{header:L,sortBlocks:!0,blocks:map(w,function(v){var _=x.get(x.mapDimension(v.dim),o);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:N,name:v.name,value:_,sortParam:_})})})},RadarSeriesModel.prototype.getTooltipPosition=function(o){if(null!=o){for(var v=this.getData(),_=this.coordinateSystem,x=v.getValues(map(_.dimensions,function(o){return v.mapDimension(o)}),o),w=0,T=x.length;w<T;w++)if(!isNaN(x[w])){var L=_.getIndicatorAxes();return _.coordToPoint(L[w].dataToCoord(x[w]),w)}}},RadarSeriesModel.type="series.radar",RadarSeriesModel.dependencies=["radar"],RadarSeriesModel.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},RadarSeriesModel}(aS),uU=l6.value;function defaultsShow(o,v){return util_defaults({show:v},o)}var uW=function(o){function RadarModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=RadarModel.type,v}return __extends(RadarModel,o),RadarModel.prototype.optionUpdated=function(){var o=this.get("boundaryGap"),v=this.get("splitNumber"),_=this.get("scale"),x=this.get("axisLine"),w=this.get("axisTick"),T=this.get("axisLabel"),L=this.get("axisName"),N=this.get(["axisName","show"]),B=this.get(["axisName","formatter"]),H=this.get("axisNameGap"),Y=this.get("triggerEvent"),Z=map(this.get("indicator")||[],function(Z){null!=Z.max&&Z.max>0&&!Z.min?Z.min=0:null!=Z.min&&Z.min<0&&!Z.max&&(Z.max=0);var X=L;null!=Z.color&&(X=util_defaults({color:Z.color},L));var et=merge(clone(Z),{boundaryGap:o,splitNumber:v,scale:_,axisLine:x,axisTick:w,axisLabel:T,name:Z.text,showName:N,nameLocation:"end",nameGap:H,nameTextStyle:X,triggerEvent:Y},!1);if(util_isString(B)){var en=et.name;et.name=B.replace("{value}",null!=en?en:"")}else isFunction(B)&&(et.name=B(et.name,et));var er=new ii(et,null,this.ecModel);return mixin(er,l0.prototype),er.mainType="radar",er.componentIndex=this.componentIndex,er},this);this._indicatorModels=Z},RadarModel.prototype.getIndicatorModels=function(){return this._indicatorModels},RadarModel.type="radar",RadarModel.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},uU.axisLine),axisLabel:defaultsShow(uU.axisLabel,!1),axisTick:defaultsShow(uU.axisTick,!1),splitLine:defaultsShow(uU.splitLine,!0),splitArea:defaultsShow(uU.splitArea,!0),indicator:[]},RadarModel}(ix),uY=["axisLine","axisTickLabel","axisName"],uK=function(o){function RadarView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=RadarView.type,v}return __extends(RadarView,o),RadarView.prototype.render=function(o,v,_){this.group.removeAll(),this._buildAxes(o),this._buildSplitLineAndArea(o)},RadarView.prototype._buildAxes=function(o){var v=o.coordinateSystem;util_each(map(v.getIndicatorAxes(),function(o){var _=o.model.get("showName")?o.name:"";return new uD(o.model,{axisName:_,position:[v.cx,v.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(o){util_each(uY,o.add,o),this.group.add(o.getGroup())},this)},RadarView.prototype._buildSplitLineAndArea=function(o){var v=o.coordinateSystem,_=v.getIndicatorAxes();if(_.length){var x=o.get("shape"),w=o.getModel("splitLine"),T=o.getModel("splitArea"),L=w.getModel("lineStyle"),N=T.getModel("areaStyle"),B=w.get("show"),H=T.get("show"),Y=L.get("color"),Z=N.get("color"),X=util_isArray(Y)?Y:[Y],et=util_isArray(Z)?Z:[Z],en=[],er=[];if("circle"===x)for(var ei=_[0].getTicksCoords(),ea=v.cx,eo=v.cy,el=0;el<ei.length;el++){if(B){var eu=getColorIndex(en,X,el);en[eu].push(new aR({shape:{cx:ea,cy:eo,r:ei[el].coord}}))}if(H&&el<ei.length-1){var eu=getColorIndex(er,et,el);er[eu].push(new a$({shape:{cx:ea,cy:eo,r0:ei[el].coord,r:ei[el+1].coord}}))}}else for(var ec,ed=map(_,function(o,_){var x=o.getTicksCoords();return ec=null==ec?x.length-1:Math.min(x.length-1,ec),map(x,function(o){return v.coordToPoint(o.coord,_)})}),eh=[],el=0;el<=ec;el++){for(var ep=[],ef=0;ef<_.length;ef++)ep.push(ed[ef][el]);if(ep[0]&&ep.push(ep[0].slice()),B){var eu=getColorIndex(en,X,el);en[eu].push(new a1({shape:{points:ep}}))}if(H&&eh){var eu=getColorIndex(er,et,el-1);er[eu].push(new aJ({shape:{points:ep.concat(eh)}}))}eh=ep.slice().reverse()}var eg=L.getLineStyle(),em=N.getAreaStyle();util_each(er,function(o,v){this.group.add(om(o,{style:util_defaults({stroke:"none",fill:et[v%et.length]},em),silent:!0}))},this),util_each(en,function(o,v){this.group.add(om(o,{style:util_defaults({fill:"none",stroke:X[v%X.length]},eg),silent:!0}))},this)}function getColorIndex(o,v,_){var x=_%v.length;return o[x]=o[x]||[],x}},RadarView.type="radar",RadarView}(ax),uZ=function(o){function IndicatorAxis(v,_,x){var w=o.call(this,v,_,x)||this;return w.type="value",w.angle=0,w.name="",w}return __extends(IndicatorAxis,o),IndicatorAxis}(uC),uq=function(){function Radar(o,v,_){this.dimensions=[],this._model=o,this._indicatorAxes=map(o.getIndicatorModels(),function(o,v){var _="indicator_"+v,x=new uZ(_,new ui);return x.name=o.get("name"),x.model=o,o.axis=x,this.dimensions.push(_),x},this),this.resize(o,_)}return Radar.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Radar.prototype.dataToPoint=function(o,v){var _=this._indicatorAxes[v];return this.coordToPoint(_.dataToCoord(o),v)},Radar.prototype.coordToPoint=function(o,v){var _=this._indicatorAxes[v].angle;return[this.cx+o*Math.cos(_),this.cy-o*Math.sin(_)]},Radar.prototype.pointToData=function(o){var v,_=o[0]-this.cx,x=o[1]-this.cy,w=Math.sqrt(_*_+x*x);_/=w;for(var T=Math.atan2(-(x/=w),_),L=1/0,N=-1,B=0;B<this._indicatorAxes.length;B++){var H=this._indicatorAxes[B],Y=Math.abs(T-H.angle);Y<L&&(v=H,N=B,L=Y)}return[N,+(v&&v.coordToData(w))]},Radar.prototype.resize=function(o,v){var _=o.get("center"),x=v.getWidth(),w=v.getHeight(),T=Math.min(x,w)/2;this.cx=number_parsePercent(_[0],x),this.cy=number_parsePercent(_[1],w),this.startAngle=o.get("startAngle")*Math.PI/180;var L=o.get("radius");(util_isString(L)||isNumber(L))&&(L=[0,L]),this.r0=number_parsePercent(L[0],T),this.r=number_parsePercent(L[1],T),util_each(this._indicatorAxes,function(o,v){o.setExtent(this.r0,this.r);var _=this.startAngle+v*Math.PI*2/this._indicatorAxes.length;_=Math.atan2(Math.sin(_),Math.cos(_)),o.angle=_},this)},Radar.prototype.update=function(o,v){var _=this._indicatorAxes,x=this._model;util_each(_,function(o){o.scale.setExtent(1/0,-1/0)}),o.eachSeriesByType("radar",function(v,w){if("radar"===v.get("coordinateSystem")&&o.getComponent("radar",v.get("radarIndex"))===x){var T=v.getData();util_each(_,function(o){o.scale.unionExtentFromData(T,T.mapDimension(o.dim))})}},this);var w=x.get("splitNumber"),T=new ui;T.setExtent(0,w),T.setInterval(1),util_each(_,function(o,v){alignScaleTicks(o.scale,o.model,T)})},Radar.prototype.convertToPixel=function(o,v,_){return console.warn("Not implemented."),null},Radar.prototype.convertFromPixel=function(o,v,_){return console.warn("Not implemented."),null},Radar.prototype.containPoint=function(o){return console.warn("Not implemented."),!1},Radar.create=function(o,v){var _=[];return o.eachComponent("radar",function(x){var w=new Radar(x,o,v);_.push(w),x.coordinateSystem=w}),o.eachSeriesByType("radar",function(o){"radar"===o.get("coordinateSystem")&&(o.coordinateSystem=_[o.get("radarIndex")||0])}),_},Radar.dimensions=[],Radar}();function radar_install_install(o){o.registerCoordinateSystem("radar",uq),o.registerComponentModel(uW),o.registerComponentView(uK),o.registerVisual({seriesType:"radar",reset:function(o){var v=o.getData();v.each(function(o){v.setItemVisual(o,"legendIcon","roundRect")}),v.setVisual("legendIcon","roundRect")}})}function chart_radar_install_install(o){use(radar_install_install),o.registerChartView(uH),o.registerSeriesModel(uG),o.registerLayout(radarLayout),o.registerProcessor(dataFilter("radar")),o.registerPreprocessor(radarBackwardCompat)}var uX="\x00_ec_interaction_mutex";function take(o,v,_){getStore(o)[v]=_}function release(o,v,_){var x=getStore(o);x[v]===_&&(x[v]=null)}function getStore(o){return o[uX]||(o[uX]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var u$=function(o){function RoamController(v){var _=o.call(this)||this;_._zr=v;var x=e2(_._mousedownHandler,_),w=e2(_._mousemoveHandler,_),T=e2(_._mouseupHandler,_),L=e2(_._mousewheelHandler,_),N=e2(_._pinchHandler,_);return _.enable=function(o,_){this.disable(),this._opt=util_defaults(clone(_)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==o&&(o=!0),(!0===o||"move"===o||"pan"===o)&&(v.on("mousedown",x),v.on("mousemove",w),v.on("mouseup",T)),(!0===o||"scale"===o||"zoom"===o)&&(v.on("mousewheel",L),v.on("pinch",N))},_.disable=function(){v.off("mousedown",x),v.off("mousemove",w),v.off("mouseup",T),v.off("mousewheel",L),v.off("pinch",N)},_}return __extends(RoamController,o),RoamController.prototype.isDragging=function(){return this._dragging},RoamController.prototype.isPinching=function(){return this._pinching},RoamController.prototype.setPointerChecker=function(o){this.pointerChecker=o},RoamController.prototype.dispose=function(){this.disable()},RoamController.prototype._mousedownHandler=function(o){if(!isMiddleOrRightButtonOnMouseUpDown(o)){for(var v=o.target;v;){if(v.draggable)return;v=v.__hostTarget||v.parent}var _=o.offsetX,x=o.offsetY;this.pointerChecker&&this.pointerChecker(o,_,x)&&(this._x=_,this._y=x,this._dragging=!0)}},RoamController.prototype._mousemoveHandler=function(o){if(this._dragging&&isAvailableBehavior("moveOnMouseMove",o,this._opt)&&"pinch"!==o.gestureEvent&&!getStore(this._zr).globalPan){var v=o.offsetX,_=o.offsetY,x=this._x,w=this._y;this._x=v,this._y=_,this._opt.preventDefaultMouseMove&&stop(o.event),trigger(this,"pan","moveOnMouseMove",o,{dx:v-x,dy:_-w,oldX:x,oldY:w,newX:v,newY:_,isAvailableBehavior:null})}},RoamController.prototype._mouseupHandler=function(o){isMiddleOrRightButtonOnMouseUpDown(o)||(this._dragging=!1)},RoamController.prototype._mousewheelHandler=function(o){var v=isAvailableBehavior("zoomOnMouseWheel",o,this._opt),_=isAvailableBehavior("moveOnMouseWheel",o,this._opt),x=o.wheelDelta,w=Math.abs(x),T=o.offsetX,L=o.offsetY;if(0!==x&&(v||_)){if(v){var N=w>3?1.4:w>1?1.2:1.1;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",o,{scale:x>0?N:1/N,originX:T,originY:L,isAvailableBehavior:null})}if(_){var B=Math.abs(x);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",o,{scrollDelta:(x>0?1:-1)*(B>3?.4:B>1?.15:.05),originX:T,originY:L,isAvailableBehavior:null})}}},RoamController.prototype._pinchHandler=function(o){if(!getStore(this._zr).globalPan){var v=o.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,o,{scale:v,originX:o.pinchX,originY:o.pinchY,isAvailableBehavior:null})}},RoamController}(te);function checkPointerAndTrigger(o,v,_,x,w){o.pointerChecker&&o.pointerChecker(x,w.originX,w.originY)&&(stop(x.event),trigger(o,v,_,x,w))}function trigger(o,v,_,x,w){w.isAvailableBehavior=e2(isAvailableBehavior,null,_,x),o.trigger(v,w)}function isAvailableBehavior(o,v,_){var x=_[o];return!o||x&&(!util_isString(x)||v.event[x+"Key"])}function updateViewOnPan(o,v,_){var x=o.target;x.x+=v,x.y+=_,x.dirty()}function updateViewOnZoom(o,v,_,x){var w=o.target,T=o.zoomLimit,L=o.zoom=o.zoom||1;if(L*=v,T){var N=T.min||0;L=Math.max(Math.min(T.max||1/0,L),N)}var B=L/o.zoom;o.zoom=L,w.x-=(_-w.x)*(B-1),w.y-=(x-w.y)*(B-1),w.scaleX*=B,w.scaleY*=B,w.dirty()}var uQ={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(o,v,_){var x=v.getComponentByElement(o.topTarget),w=x&&x.coordinateSystem;return x&&x!==_&&!uQ.hasOwnProperty(x.mainType)&&w&&w.model!==_}function parseXML(o){util_isString(o)&&(o=new DOMParser().parseFromString(o,"text/xml"));var v=o;for(9===v.nodeType&&(v=v.firstChild);"svg"!==v.nodeName.toLowerCase()||1!==v.nodeType;)v=v.nextSibling;return v}var uJ={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},u0=keys(uJ),u1={"alignment-baseline":"textBaseline","stop-color":"stopColor"},u2=keys(u1),u5=function(){function SVGParser(){this._defs={},this._root=null}return SVGParser.prototype.parse=function(o,v){v=v||{};var _,x,w=parseXML(o);this._defsUsePending=[];var T=new nm;this._root=T;var L=[],N=w.getAttribute("viewBox")||"",B=parseFloat(w.getAttribute("width")||v.width),H=parseFloat(w.getAttribute("height")||v.height);isNaN(B)&&(B=null),isNaN(H)&&(H=null),parseAttributes(w,T,null,!0,!1);for(var Y=w.firstChild;Y;)this._parseNode(Y,T,L,null,!1,!1),Y=Y.nextSibling;if(applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[],N){var Z=splitNumberSequence(N);Z.length>=4&&(_={x:parseFloat(Z[0]||0),y:parseFloat(Z[1]||0),width:parseFloat(Z[2]),height:parseFloat(Z[3])})}if(_&&null!=B&&null!=H&&(x=makeViewBoxTransform(_,{x:0,y:0,width:B,height:H}),!v.ignoreViewBox)){var X=T;(T=new nm).add(X),X.scaleX=X.scaleY=x.scale,X.x=x.x,X.y=x.y}return v.ignoreRootClip||null==B||null==H||T.setClipPath(new rI({shape:{x:0,y:0,width:B,height:H}})),{root:T,width:B,height:H,viewBoxRect:_,viewBoxTransform:x,named:L}},SVGParser.prototype._parseNode=function(o,v,_,x,w,T){var L,N=o.nodeName.toLowerCase(),B=x;if("defs"===N&&(w=!0),"text"===N&&(T=!0),"defs"===N||"switch"===N)L=v;else{if(!w){var H=eN[N];if(H&&hasOwn(eN,N)){L=H.call(this,o,v);var Y=o.getAttribute("name");if(Y){var Z={name:Y,namedFrom:null,svgNodeTagLower:N,el:L};_.push(Z),"g"===N&&(B=Z)}else x&&_.push({name:x.name,namedFrom:x,svgNodeTagLower:N,el:L});v.add(L)}}var X=u3[N];if(X&&hasOwn(u3,N)){var et=X.call(this,o),en=o.getAttribute("id");en&&(this._defs[en]=et)}}if(L&&L.isGroup)for(var er=o.firstChild;er;)1===er.nodeType?this._parseNode(er,L,_,B,w,T):3===er.nodeType&&T&&this._parseText(er,L),er=er.nextSibling},SVGParser.prototype._parseText=function(o,v){var _=new rb({style:{text:o.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(v,_),parseAttributes(o,_,this._defsUsePending,!1,!1),applyTextAlignment(_,v);var x=_.style,w=x.fontSize;w&&w<9&&(x.fontSize=9,_.scaleX*=w/9,_.scaleY*=w/9);var T=(x.fontSize||x.fontFamily)&&[x.fontStyle,x.fontWeight,(x.fontSize||12)+"px",x.fontFamily||"sans-serif"].join(" ");x.font=T;var L=_.getBoundingRect();return this._textX+=L.width,v.add(_),_},SVGParser.internalField=void(eN={g:function(o,v){var _=new nm;return inheritStyle(v,_),parseAttributes(o,_,this._defsUsePending,!1,!1),_},rect:function(o,v){var _=new rI;return inheritStyle(v,_),parseAttributes(o,_,this._defsUsePending,!1,!1),_.setShape({x:parseFloat(o.getAttribute("x")||"0"),y:parseFloat(o.getAttribute("y")||"0"),width:parseFloat(o.getAttribute("width")||"0"),height:parseFloat(o.getAttribute("height")||"0")}),_.silent=!0,_},circle:function(o,v){var _=new aR;return inheritStyle(v,_),parseAttributes(o,_,this._defsUsePending,!1,!1),_.setShape({cx:parseFloat(o.getAttribute("cx")||"0"),cy:parseFloat(o.getAttribute("cy")||"0"),r:parseFloat(o.getAttribute("r")||"0")}),_.silent=!0,_},line:function(o,v){var _=new a3;return inheritStyle(v,_),parseAttributes(o,_,this._defsUsePending,!1,!1),_.setShape({x1:parseFloat(o.getAttribute("x1")||"0"),y1:parseFloat(o.getAttribute("y1")||"0"),x2:parseFloat(o.getAttribute("x2")||"0"),y2:parseFloat(o.getAttribute("y2")||"0")}),_.silent=!0,_},ellipse:function(o,v){var _=new aF;return inheritStyle(v,_),parseAttributes(o,_,this._defsUsePending,!1,!1),_.setShape({cx:parseFloat(o.getAttribute("cx")||"0"),cy:parseFloat(o.getAttribute("cy")||"0"),rx:parseFloat(o.getAttribute("rx")||"0"),ry:parseFloat(o.getAttribute("ry")||"0")}),_.silent=!0,_},polygon:function(o,v){var _,x=o.getAttribute("points");x&&(_=parsePoints(x));var w=new aJ({shape:{points:_||[]},silent:!0});return inheritStyle(v,w),parseAttributes(o,w,this._defsUsePending,!1,!1),w},polyline:function(o,v){var _,x=o.getAttribute("points");x&&(_=parsePoints(x));var w=new a1({shape:{points:_||[]},silent:!0});return inheritStyle(v,w),parseAttributes(o,w,this._defsUsePending,!1,!1),w},image:function(o,v){var _=new rC;return inheritStyle(v,_),parseAttributes(o,_,this._defsUsePending,!1,!1),_.setStyle({image:o.getAttribute("xlink:href")||o.getAttribute("href"),x:+o.getAttribute("x"),y:+o.getAttribute("y"),width:+o.getAttribute("width"),height:+o.getAttribute("height")}),_.silent=!0,_},text:function(o,v){var _=o.getAttribute("x")||"0",x=o.getAttribute("y")||"0",w=o.getAttribute("dx")||"0",T=o.getAttribute("dy")||"0";this._textX=parseFloat(_)+parseFloat(w),this._textY=parseFloat(x)+parseFloat(T);var L=new nm;return inheritStyle(v,L),parseAttributes(o,L,this._defsUsePending,!1,!0),L},tspan:function(o,v){var _=o.getAttribute("x"),x=o.getAttribute("y");null!=_&&(this._textX=parseFloat(_)),null!=x&&(this._textY=parseFloat(x));var w=o.getAttribute("dx")||"0",T=o.getAttribute("dy")||"0",L=new nm;return inheritStyle(v,L),parseAttributes(o,L,this._defsUsePending,!1,!0),this._textX+=parseFloat(w),this._textY+=parseFloat(T),L},path:function(o,v){var _=new ak(createPathOptions(o.getAttribute("d")||"",void 0));return inheritStyle(v,_),parseAttributes(o,_,this._defsUsePending,!1,!1),_.silent=!0,_}}),SVGParser}(),u3={lineargradient:function(o){var v=new or(parseInt(o.getAttribute("x1")||"0",10),parseInt(o.getAttribute("y1")||"0",10),parseInt(o.getAttribute("x2")||"10",10),parseInt(o.getAttribute("y2")||"0",10));return parsePaintServerUnit(o,v),parseGradientColorStops(o,v),v},radialgradient:function(o){var v=new oi(parseInt(o.getAttribute("cx")||"0",10),parseInt(o.getAttribute("cy")||"0",10),parseInt(o.getAttribute("r")||"0",10));return parsePaintServerUnit(o,v),parseGradientColorStops(o,v),v}};function parsePaintServerUnit(o,v){"userSpaceOnUse"===o.getAttribute("gradientUnits")&&(v.global=!0)}function parseGradientColorStops(o,v){for(var _=o.firstChild;_;){if(1===_.nodeType&&"stop"===_.nodeName.toLocaleLowerCase()){var x=_.getAttribute("offset"),w=void 0;w=x&&x.indexOf("%")>0?parseInt(x,10)/100:x?parseFloat(x):0;var T={};parseInlineStyle(_,T,T);var L=T.stopColor||_.getAttribute("stop-color")||"#000000";v.colorStops.push({offset:w,color:L})}_=_.nextSibling}}function inheritStyle(o,v){o&&o.__inheritedStyle&&(v.__inheritedStyle||(v.__inheritedStyle={}),util_defaults(v.__inheritedStyle,o.__inheritedStyle))}function parsePoints(o){for(var v=splitNumberSequence(o),_=[],x=0;x<v.length;x+=2){var w=parseFloat(v[x]),T=parseFloat(v[x+1]);_.push([w,T])}return _}function parseAttributes(o,v,_,x,w){var T=v.__inheritedStyle=v.__inheritedStyle||{},L={};1!==o.nodeType||(parseTransformAttribute(o,v),parseInlineStyle(o,T,L),x||parseAttributeStyle(o,T,L)),v.style=v.style||{},null!=T.fill&&(v.style.fill=getFillStrokeStyle(v,"fill",T.fill,_)),null!=T.stroke&&(v.style.stroke=getFillStrokeStyle(v,"stroke",T.stroke,_)),util_each(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(o){null!=T[o]&&(v.style[o]=parseFloat(T[o]))}),util_each(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(o){null!=T[o]&&(v.style[o]=T[o])}),w&&(v.__selfStyle=L),T.lineDash&&(v.style.lineDash=map(splitNumberSequence(T.lineDash),function(o){return parseFloat(o)})),("hidden"===T.visibility||"collapse"===T.visibility)&&(v.invisible=!0),"none"===T.display&&(v.ignore=!0)}function applyTextAlignment(o,v){var _=v.__selfStyle;if(_){var x=_.textBaseline,w=x;x&&"auto"!==x?"baseline"===x?w="alphabetic":"before-edge"===x||"text-before-edge"===x?w="top":"after-edge"===x||"text-after-edge"===x?w="bottom":("central"===x||"mathematical"===x)&&(w="middle"):w="alphabetic",o.style.textBaseline=w}var T=v.__inheritedStyle;if(T){var L=T.textAlign,N=L;L&&("middle"===L&&(N="center"),o.style.textAlign=N)}}var u4=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(o,v,_,x){var w=_&&_.match(u4);if(w){var T=trim(w[1]);x.push([o,v,T]);return}return"none"===_&&(_=null),_}function applyDefs(o,v){for(var _=0;_<v.length;_++){var x=v[_];x[0].style[x[1]]=o[x[2]]}}var u7=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(o){return o.match(u7)||[]}var u6=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,u9=Math.PI/180;function parseTransformAttribute(o,v){var _=o.getAttribute("transform");if(_){_=_.replace(/,/g," ");var x=[],w=null;_.replace(u6,function(o,v,_){return x.push(v,_),""});for(var T=x.length-1;T>0;T-=2){var L=x[T],N=x[T-1],B=splitNumberSequence(L);switch(w=w||matrix_create(),N){case"translate":translate(w,w,[parseFloat(B[0]),parseFloat(B[1]||"0")]);break;case"scale":matrix_scale(w,w,[parseFloat(B[0]),parseFloat(B[1]||B[0])]);break;case"rotate":rotate(w,w,-parseFloat(B[0])*u9);break;case"skewX":matrix_mul(w,[1,0,Math.tan(parseFloat(B[0])*u9),1,0,0],w);break;case"skewY":matrix_mul(w,[1,Math.tan(parseFloat(B[0])*u9),0,1,0,0],w);break;case"matrix":w[0]=parseFloat(B[0]),w[1]=parseFloat(B[1]),w[2]=parseFloat(B[2]),w[3]=parseFloat(B[3]),w[4]=parseFloat(B[4]),w[5]=parseFloat(B[5])}}v.setLocalTransform(w)}}var u8=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(o,v,_){var x,w=o.getAttribute("style");if(w)for(u8.lastIndex=0;null!=(x=u8.exec(w));){var T=x[1],L=hasOwn(uJ,T)?uJ[T]:null;L&&(v[L]=x[2]);var N=hasOwn(u1,T)?u1[T]:null;N&&(_[N]=x[2])}}function parseAttributeStyle(o,v,_){for(var x=0;x<u0.length;x++){var w=u0[x],T=o.getAttribute(w);null!=T&&(v[uJ[w]]=T)}for(var x=0;x<u2.length;x++){var w=u2[x],T=o.getAttribute(w);null!=T&&(_[u1[w]]=T)}}function makeViewBoxTransform(o,v){var _=Math.min(v.width/o.width,v.height/o.height);return{scale:_,x:-(o.x+o.width/2)*_+(v.x+v.width/2),y:-(o.y+o.height/2)*_+(v.y+v.height/2)}}function parseSVG(o,v){return new u5().parse(o,v)}function polygon_isAroundEqual(o,v){return 1e-8>Math.abs(o-v)}function polygon_contain(o,v,_){var x=0,w=o[0];if(!w)return!1;for(var T=1;T<o.length;T++){var L=o[T];x+=windingLine(w[0],w[1],L[0],L[1],v,_),w=L}var N=o[0];return polygon_isAroundEqual(w[0],N[0])&&polygon_isAroundEqual(w[1],N[1])||(x+=windingLine(w[0],w[1],N[0],N[1],v,_)),0!==x}var ce=[];function transformPoints(o,v){for(var _=0;_<o.length;_++)applyTransform(o[_],o[_],v)}function updateBBoxFromPoints(o,v,_,x){for(var w=0;w<o.length;w++){var T=o[w];x&&(T=x.project(T)),T&&isFinite(T[0])&&isFinite(T[1])&&(vector_min(v,v,T),vector_max(_,_,T))}}function centroid(o){for(var v=0,_=0,x=0,w=o.length,T=o[w-1][0],L=o[w-1][1],N=0;N<w;N++){var B=o[N][0],H=o[N][1],Y=T*H-B*L;v+=Y,_+=(T+B)*Y,x+=(L+H)*Y,T=B,L=H}return v?[_/v/3,x/v/3,v]:[o[0][0]||0,o[0][1]||0]}var ct=function(){function Region(o){this.name=o}return Region.prototype.setCenter=function(o){this._center=o},Region.prototype.getCenter=function(){var o=this._center;return o||(o=this._center=this.calcCenter()),o},Region}(),GeoJSONPolygonGeometry=function(o,v){this.type="polygon",this.exterior=o,this.interiors=v},GeoJSONLineStringGeometry=function(o){this.type="linestring",this.points=o},cr=function(o){function GeoJSONRegion(v,_,x){var w=o.call(this,v)||this;return w.type="geoJSON",w.geometries=_,w._center=x&&[x[0],x[1]],w}return __extends(GeoJSONRegion,o),GeoJSONRegion.prototype.calcCenter=function(){for(var o,v=this.geometries,_=0,x=0;x<v.length;x++){var w=v[x],T=w.exterior,L=T&&T.length;L>_&&(o=w,_=L)}if(o)return centroid(o.exterior);var N=this.getBoundingRect();return[N.x+N.width/2,N.y+N.height/2]},GeoJSONRegion.prototype.getBoundingRect=function(o){var v=this._rect;if(v&&!o)return v;var _=[1/0,1/0],x=[-1/0,-1/0];return util_each(this.geometries,function(v){"polygon"===v.type?updateBBoxFromPoints(v.exterior,_,x,o):util_each(v.points,function(v){updateBBoxFromPoints(v,_,x,o)})}),isFinite(_[0])&&isFinite(_[1])&&isFinite(x[0])&&isFinite(x[1])||(_[0]=_[1]=x[0]=x[1]=0),v=new tS(_[0],_[1],x[0]-_[0],x[1]-_[1]),o||(this._rect=v),v},GeoJSONRegion.prototype.contain=function(o){var v=this.getBoundingRect(),_=this.geometries;if(!v.contain(o[0],o[1]))return!1;n:for(var x=0,w=_.length;x<w;x++){var T=_[x];if("polygon"===T.type){var L=T.exterior,N=T.interiors;if(polygon_contain(L,o[0],o[1])){for(var B=0;B<(N?N.length:0);B++)if(polygon_contain(N[B],o[0],o[1]))continue n;return!0}}}return!1},GeoJSONRegion.prototype.transformTo=function(o,v,_,x){var w=this.getBoundingRect(),T=w.width/w.height;_?x||(x=_/T):_=T*x;for(var L=new tS(o,v,_,x),N=w.calculateTransform(L),B=this.geometries,H=0;H<B.length;H++){var Y=B[H];"polygon"===Y.type?(transformPoints(Y.exterior,N),util_each(Y.interiors,function(o){transformPoints(o,N)})):util_each(Y.points,function(o){transformPoints(o,N)})}(w=this._rect).copy(L),this._center=[w.x+w.width/2,w.y+w.height/2]},GeoJSONRegion.prototype.cloneShallow=function(o){null==o&&(o=this.name);var v=new GeoJSONRegion(o,this.geometries,this._center);return v._rect=this._rect,v.transformTo=null,v},GeoJSONRegion}(ct),ci=function(o){function GeoSVGRegion(v,_){var x=o.call(this,v)||this;return x.type="geoSVG",x._elOnlyForCalculate=_,x}return __extends(GeoSVGRegion,o),GeoSVGRegion.prototype.calcCenter=function(){for(var o=this._elOnlyForCalculate,v=o.getBoundingRect(),_=[v.x+v.width/2,v.y+v.height/2],x=identity(ce),w=o;w&&!w.isGeoSVGGraphicRoot;)matrix_mul(x,w.getLocalTransform(),x),w=w.parent;return matrix_invert(x,x),applyTransform(_,_,x),_},GeoSVGRegion}(ct),ca=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),co=function(){function GeoSVGResource(o,v){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=o,this._parsedXML=parseXML(v)}return GeoSVGResource.prototype.load=function(){var o=this._firstGraphic;if(!o){o=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(o),this._boundingRect=this._firstGraphic.boundingRect.clone();var v=createRegions(o.named),_=v.regions,x=v.regionsMap;this._regions=_,this._regionsMap=x}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},GeoSVGResource.prototype._buildGraphic=function(o){try{_=(v=o&&parseSVG(o,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,assert(null!=_)}catch(o){throw Error("Invalid svg format\n"+o.message)}var v,_,x=new nm;x.add(_),x.isGeoSVGGraphicRoot=!0;var w=v.width,T=v.height,L=v.viewBoxRect,N=this._boundingRect;if(!N){var B=void 0,H=void 0,Y=void 0,Z=void 0;if(null!=w?(B=0,Y=w):L&&(B=L.x,Y=L.width),null!=T?(H=0,Z=T):L&&(H=L.y,Z=L.height),null==B||null==H){var X=_.getBoundingRect();null==B&&(B=X.x,Y=X.width),null==H&&(H=X.y,Z=X.height)}N=this._boundingRect=new tS(B,H,Y,Z)}if(L){var et=makeViewBoxTransform(L,N);_.scaleX=_.scaleY=et.scale,_.x=et.x,_.y=et.y}x.setClipPath(new rI({shape:N.plain()}));var en=[];return util_each(v.named,function(o){null!=ca.get(o.svgNodeTagLower)&&(en.push(o),setSilent(o.el))}),{root:x,boundingRect:N,named:en}},GeoSVGResource.prototype.useGraphic=function(o){var v=this._usedGraphicMap,_=v.get(o);return _||(_=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),v.set(o,_)),_},GeoSVGResource.prototype.freeGraphic=function(o){var v=this._usedGraphicMap,_=v.get(o);_&&(v.removeKey(o),this._freedGraphics.push(_))},GeoSVGResource}();function setSilent(o){o.silent=!1,o.isGroup&&o.traverse(function(o){o.silent=!1})}function createRegions(o){var v=[],_=createHashMap();return util_each(o,function(o){if(null==o.namedFrom){var x=new ci(o.name,o.el);v.push(x),_.set(o.name,x)}}),{regions:v,regionsMap:_}}function decode(o){if(!o.UTF8Encoding)return o;var v=o.UTF8Scale;return null==v&&(v=1024),util_each(o.features,function(o){var _=o.geometry,x=_.encodeOffsets,w=_.coordinates;if(x)switch(_.type){case"LineString":_.coordinates=decodeRing(w,x,v);break;case"Polygon":case"MultiLineString":decodeRings(w,x,v);break;case"MultiPolygon":util_each(w,function(o,_){return decodeRings(o,x[_],v)})}}),o.UTF8Encoding=!1,o}function decodeRings(o,v,_){for(var x=0;x<o.length;x++)o[x]=decodeRing(o[x],v[x],_)}function decodeRing(o,v,_){for(var x=[],w=v[0],T=v[1],L=0;L<o.length;L+=2){var N=o.charCodeAt(L)-64,B=o.charCodeAt(L+1)-64;B=B>>1^-(1&B),N=(N>>1^-(1&N))+w,B+=T,w=N,T=B,x.push([N/_,B/_])}return x}function parseGeoJSON(o,v){return map(filter((o=decode(o)).features,function(o){return o.geometry&&o.properties&&o.geometry.coordinates.length>0}),function(o){var _=o.properties,x=o.geometry,w=[];switch(x.type){case"Polygon":var T=x.coordinates;w.push(new GeoJSONPolygonGeometry(T[0],T.slice(1)));break;case"MultiPolygon":util_each(x.coordinates,function(o){o[0]&&w.push(new GeoJSONPolygonGeometry(o[0],o.slice(1)))});break;case"LineString":w.push(new GeoJSONLineStringGeometry([x.coordinates]));break;case"MultiLineString":w.push(new GeoJSONLineStringGeometry(x.coordinates))}var L=new cr(_[v||"name"],w,_.cp);return L.properties=_,L})}for(var cs=[126,25],cl="",cu=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],cc=0;cc<cu.length;cc++)for(var cd=0;cd<cu[cc].length;cd++)cu[cc][cd][0]/=10.5,cu[cc][cd][1]/=-14,cu[cc][cd][0]+=cs[0],cu[cc][cd][1]+=cs[1];function fixNanhai(o,v){if("china"===o){for(var _=0;_<v.length;_++)if(v[_].name===cl)return;v.push(new cr(cl,map(cu,function(o){return{type:"polygon",exterior:o}}),cs))}}var ch={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function fixTextCoords(o,v){if("china"===o){var _=ch[v.name];if(_){var x=v.getCenter();x[0]+=_[0]/10.5,x[1]+=-_[1]/14,v.setCenter(x)}}}var cp=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(o,v){"china"===o&&""===v.name&&v.geometries.push({type:"polygon",exterior:cp[0]})}var cf=function(){function GeoJSONResource(o,v,_){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=o,this._specialAreas=_,this._geoJSON=parseInput(v)}return GeoJSONResource.prototype.load=function(o,v){v=v||"name";var _=this._parsedMap.get(v);if(!_){var x=this._parseToRegions(v);_=this._parsedMap.set(v,{regions:x,boundingRect:calculateBoundingRect(x)})}var w=createHashMap(),T=[];return util_each(_.regions,function(v){var _=v.name;o&&hasOwn(o,_)&&(v=v.cloneShallow(_=o[_])),T.push(v),w.set(_,v)}),{regions:T,boundingRect:_.boundingRect||new tS(0,0,0,0),regionsMap:w}},GeoJSONResource.prototype._parseToRegions=function(o){var v,_=this._mapName,x=this._geoJSON;try{v=x?parseGeoJSON(x,o):[]}catch(o){throw Error("Invalid geoJson format\n"+o.message)}return fixNanhai(_,v),util_each(v,function(o){var v=o.name;fixTextCoords(_,o),fixDiaoyuIsland(_,o);var x=this._specialAreas&&this._specialAreas[v];x&&o.transformTo(x.left,x.top,x.width,x.height)},this),v},GeoJSONResource.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},GeoJSONResource}();function calculateBoundingRect(o){for(var v,_=0;_<o.length;_++){var x=o[_].getBoundingRect();(v=v||x.clone()).union(x)}return v}function parseInput(o){return util_isString(o)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(o):Function("return ("+o+");")():o}var cg=createHashMap(),cm={registerMap:function(o,v,_){if(v.svg){var x=new co(o,v.svg);cg.set(o,x)}else{var w=v.geoJson||v.geoJSON;w&&!v.features?_=v.specialAreas:w=v;var x=new cf(o,w,_);cg.set(o,x)}},getGeoResource:function(o){return cg.get(o)},getMapForUser:function(o){var v=cg.get(o);return v&&"geoJSON"===v.type&&v.getMapForUser()},load:function(o,v,_){var x=cg.get(o);if(x)return x.load(v,_)}},cy=["rect","circle","line","ellipse","polygon","polyline","path"],cv=createHashMap(cy),c_=createHashMap(cy.concat(["g"])),cS=createHashMap(cy.concat(["g"])),cx=makeInner();function getFixedItemStyle(o){var v=o.getItemStyle(),_=o.get("areaColor");return null!=_&&(v.fill=_),v}function fixLineStyle(o){var v=o.style;v&&(v.stroke=v.stroke||v.fill,v.fill=null)}var cw=function(){function MapDraw(o){var v=new nm;this.uid=getUID("ec_map_draw"),this._controller=new u$(o.getZr()),this._controllerHost={target:v},this.group=v,v.add(this._regionsGroup=new nm),v.add(this._svgGroup=new nm)}return MapDraw.prototype.draw=function(o,v,_,x,w){var T="geo"===o.mainType,L=o.getData&&o.getData();T&&v.eachComponent({mainType:"series",subType:"map"},function(v){L||v.getHostGeoModel()!==o||(L=v.getData())});var N=o.coordinateSystem,B=this._regionsGroup,H=this.group,Y=N.getTransformInfo(),Z=Y.raw,X=Y.roam;!B.childAt(0)||w?(H.x=X.x,H.y=X.y,H.scaleX=X.scaleX,H.scaleY=X.scaleY,H.dirty()):updateProps(H,X,o);var et=L&&L.getVisual("visualMeta")&&L.getVisual("visualMeta").length>0,en={api:_,geo:N,mapOrGeoModel:o,data:L,isVisualEncodedByVisualMap:et,isGeo:T,transformInfoRaw:Z};"geoJSON"===N.resourceType?this._buildGeoJSON(en):"geoSVG"===N.resourceType&&this._buildSVG(en),this._updateController(o,v,_),this._updateMapSelectHandler(o,B,_,x)},MapDraw.prototype._buildGeoJSON=function(o){var v=this._regionsGroupByName=createHashMap(),_=createHashMap(),x=this._regionsGroup,w=o.transformInfoRaw,T=o.mapOrGeoModel,L=o.data,N=o.geo.projection,B=N&&N.stream;function transformPoint(o,v){return v&&(o=v(o)),o&&[o[0]*w.scaleX+w.x,o[1]*w.scaleY+w.y]}function transformPolygonPoints(o){for(var v=[],_=!B&&N&&N.project,x=0;x<o.length;++x){var w=transformPoint(o[x],_);w&&v.push(w)}return v}function getPolyShape(o){return{shape:{points:transformPolygonPoints(o)}}}x.removeAll(),util_each(o.geo.regions,function(w){var H=w.name,Y=v.get(H),Z=_.get(H)||{},X=Z.dataIdx,et=Z.regionModel;Y||(Y=v.set(H,new nm),x.add(Y),X=L?L.indexOfName(H):null,et=o.isGeo?T.getRegionModel(H):L?L.getItemModel(X):null,_.set(H,{dataIdx:X,regionModel:et}));var en=[],er=[];util_each(w.geometries,function(o){if("polygon"===o.type){var v=[o.exterior].concat(o.interiors||[]);B&&(v=projectPolys(v,B)),util_each(v,function(o){en.push(new aJ(getPolyShape(o)))})}else{var _=o.points;B&&(_=projectPolys(_,B,!0)),util_each(_,function(o){er.push(new a1(getPolyShape(o)))})}});var ei=transformPoint(w.getCenter(),N&&N.project);function createCompoundPath(v,_){if(v.length){var x=new ot({culling:!0,segmentIgnoreThreshold:1,shape:{paths:v}});Y.add(x),applyOptionStyleForRegion(o,x,X,et),resetLabelForRegion(o,x,H,et,T,X,ei),_&&(fixLineStyle(x),util_each(x.states,fixLineStyle))}}createCompoundPath(en),createCompoundPath(er,!0)}),v.each(function(v,x){var w=_.get(x),L=w.dataIdx,N=w.regionModel;resetEventTriggerForRegion(o,v,x,N,T,L),resetTooltipForRegion(o,v,x,N,T),resetStateTriggerForRegion(o,v,x,N,T)},this)},MapDraw.prototype._buildSVG=function(o){var v=o.geo.map,_=o.transformInfoRaw;this._svgGroup.x=_.x,this._svgGroup.y=_.y,this._svgGroup.scaleX=_.scaleX,this._svgGroup.scaleY=_.scaleY,this._svgResourceChanged(v)&&(this._freeSVG(),this._useSVG(v));var x=this._svgDispatcherMap=createHashMap(),w=!1;util_each(this._svgGraphicRecord.named,function(v){var _=v.name,T=o.mapOrGeoModel,L=o.data,N=v.svgNodeTagLower,B=v.el,H=L?L.indexOfName(_):null,Y=T.getRegionModel(_);null!=cv.get(N)&&B instanceof nz&&applyOptionStyleForRegion(o,B,H,Y),B instanceof nz&&(B.culling=!0),B.z2EmphasisLift=0,v.namedFrom||(null!=cS.get(N)&&resetLabelForRegion(o,B,_,Y,T,H,null),resetEventTriggerForRegion(o,B,_,Y,T,H),resetTooltipForRegion(o,B,_,Y,T),null!=c_.get(N)&&("self"===resetStateTriggerForRegion(o,B,_,Y,T)&&(w=!0),(x.get(_)||x.set(_,[])).push(B)))},this),this._enableBlurEntireSVG(w,o)},MapDraw.prototype._enableBlurEntireSVG=function(o,v){if(o&&v.isGeo){var _=v.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(o){if(!o.isGroup){setDefaultStateProxy(o);var v=o.ensureState("blur").style||{};null==v.opacity&&null!=_&&(v.opacity=_),o.ensureState("emphasis")}})}},MapDraw.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},MapDraw.prototype.findHighDownDispatchers=function(o,v){if(null==o)return[];var _=v.coordinateSystem;if("geoJSON"===_.resourceType){var x=this._regionsGroupByName;if(x){var w=x.get(o);return w?[w]:[]}}else if("geoSVG"===_.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(o)||[]},MapDraw.prototype._svgResourceChanged=function(o){return this._svgMapName!==o},MapDraw.prototype._useSVG=function(o){var v=cm.getGeoResource(o);if(v&&"geoSVG"===v.type){var _=v.useGraphic(this.uid);this._svgGroup.add(_.root),this._svgGraphicRecord=_,this._svgMapName=o}},MapDraw.prototype._freeSVG=function(){var o=this._svgMapName;if(null!=o){var v=cm.getGeoResource(o);v&&"geoSVG"===v.type&&v.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},MapDraw.prototype._updateController=function(o,v,_){var x=o.coordinateSystem,w=this._controller,T=this._controllerHost;T.zoomLimit=o.get("scaleLimit"),T.zoom=x.getZoom(),w.enable(o.get("roam")||!1);var L=o.mainType;function makeActionBase(){var v={type:"geoRoam",componentType:L};return v[L+"Id"]=o.id,v}w.off("pan").on("pan",function(o){this._mouseDownFlag=!1,updateViewOnPan(T,o.dx,o.dy),_.dispatchAction(extend(makeActionBase(),{dx:o.dx,dy:o.dy,animation:{duration:0}}))},this),w.off("zoom").on("zoom",function(o){this._mouseDownFlag=!1,updateViewOnZoom(T,o.scale,o.originX,o.originY),_.dispatchAction(extend(makeActionBase(),{zoom:o.scale,originX:o.originX,originY:o.originY,animation:{duration:0}}))},this),w.setPointerChecker(function(v,w,T){return x.containPoint([w,T])&&!onIrrelevantElement(v,_,o)})},MapDraw.prototype.resetForLabelLayout=function(){this.group.traverse(function(o){var v=o.getTextContent();v&&(v.ignore=cx(v).ignore)})},MapDraw.prototype._updateMapSelectHandler=function(o,v,_,x){var w=this;v.off("mousedown"),v.off("click"),o.get("selectedMode")&&(v.on("mousedown",function(){w._mouseDownFlag=!0}),v.on("click",function(o){w._mouseDownFlag&&(w._mouseDownFlag=!1)}))},MapDraw}();function applyOptionStyleForRegion(o,v,_,x){var w=x.getModel("itemStyle"),T=x.getModel(["emphasis","itemStyle"]),L=x.getModel(["blur","itemStyle"]),N=x.getModel(["select","itemStyle"]),B=getFixedItemStyle(w),H=getFixedItemStyle(T),Y=getFixedItemStyle(N),Z=getFixedItemStyle(L),X=o.data;if(X){var et=X.getItemVisual(_,"style"),en=X.getItemVisual(_,"decal");o.isVisualEncodedByVisualMap&&et.fill&&(B.fill=et.fill),en&&(B.decal=createOrUpdatePatternFromDecal(en,o.api))}v.setStyle(B),v.style.strokeNoScale=!0,v.ensureState("emphasis").style=H,v.ensureState("select").style=Y,v.ensureState("blur").style=Z,setDefaultStateProxy(v)}function resetLabelForRegion(o,v,_,x,w,T,L){var N=o.data,B=o.isGeo,H=N&&isNaN(N.get(N.mapDimension("value"),T)),Y=N&&N.getItemLayout(T);if(B||H||Y&&Y.showLabel){var Z=B?_:T,X=void 0;(!N||T>=0)&&(X=w),setLabelStyle(v,getLabelStatesModels(x),{labelFetcher:X,labelDataIndex:Z,defaultText:_},L?{normal:{align:"center",verticalAlign:"middle"}}:null);var et=v.getTextContent();if(et&&(cx(et).ignore=et.ignore,v.textConfig&&L)){var en=v.getBoundingRect().clone();v.textConfig.layoutRect=en,v.textConfig.position=[(L[0]-en.x)/en.width*100+"%",(L[1]-en.y)/en.height*100+"%"]}v.disableLabelAnimation=!0}else v.removeTextContent(),v.removeTextConfig(),v.disableLabelAnimation=null}function resetEventTriggerForRegion(o,v,_,x,w,T){o.data?o.data.setItemGraphicEl(T,v):rN(v).eventData={componentType:"geo",componentIndex:w.componentIndex,geoIndex:w.componentIndex,name:_,region:x&&x.option||{}}}function resetTooltipForRegion(o,v,_,x,w){o.data||setTooltipConfig({el:v,componentModel:w,itemName:_,itemTooltipOption:x.get("tooltip")})}function resetStateTriggerForRegion(o,v,_,x,w){v.highDownSilentOnTouch=!!w.get("selectedMode");var T=x.getModel("emphasis"),L=T.get("focus");return toggleHoverEmphasis(v,L,T.get("blurScope"),T.get("disabled")),o.isGeo&&enableComponentHighDownFeatures(v,w,_),L}function projectPolys(o,v,_){var x,w=[];function startPolygon(){x=[]}function endPolygon(){x.length&&(w.push(x),x=[])}var T=v({polygonStart:startPolygon,polygonEnd:endPolygon,lineStart:startPolygon,lineEnd:endPolygon,point:function(o,v){isFinite(o)&&isFinite(v)&&x.push([o,v])},sphere:function(){}});return _||T.polygonStart(),util_each(o,function(o){T.lineStart();for(var v=0;v<o.length;v++)T.point(o[v][0],o[v][1]);T.lineEnd()}),_||T.polygonEnd(),w}var cC=function(o){function MapView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=MapView.type,v}return __extends(MapView,o),MapView.prototype.render=function(o,v,_,x){if(!x||"mapToggleSelect"!==x.type||x.from!==this.uid){var w=this.group;if(w.removeAll(),!o.getHostGeoModel()){if(this._mapDraw&&x&&"geoRoam"===x.type&&this._mapDraw.resetForLabelLayout(),x&&"geoRoam"===x.type&&"series"===x.componentType&&x.seriesId===o.id){var T=this._mapDraw;T&&w.add(T.group)}else if(o.needsDrawMap){var T=this._mapDraw||new cw(_);w.add(T.group),T.draw(o,v,_,this,x),this._mapDraw=T}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;o.get("showLegendSymbol")&&v.getComponent("legend")&&this._renderSymbols(o,v,_)}}},MapView.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},MapView.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},MapView.prototype._renderSymbols=function(o,v,_){var x=o.originalData,w=this.group;x.each(x.mapDimension("value"),function(v,_){if(!isNaN(v)){var T=x.getItemLayout(_);if(T&&T.point){var L=T.point,N=T.offset,B=new aR({style:{fill:o.getData().getVisual("style").fill},shape:{cx:L[0]+9*N,cy:L[1],r:3},silent:!0,z2:8+(N?0:11)});if(!N){var H=o.mainSeries.getData(),Y=x.getName(_),Z=H.indexOfName(Y),X=x.getItemModel(_),et=X.getModel("label"),en=H.getItemGraphicEl(Z);setLabelStyle(B,getLabelStatesModels(X),{labelFetcher:{getFormattedLabel:function(v,_){return o.getFormattedLabel(Z,_)}},defaultText:Y}),B.disableLabelAnimation=!0,et.get("position")||B.setTextConfig({position:"bottom"}),en.onHoverStateChange=function(o){setStatesFlag(B,o)}}w.add(B)}}})},MapView.type="map",MapView}(ob),cT=function(o){function MapSeries(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=MapSeries.type,v.needsDrawMap=!1,v.seriesGroup=[],v.getTooltipPosition=function(o){if(null!=o){var v=this.getData().getName(o),_=this.coordinateSystem,x=_.getRegion(v);return x&&_.dataToPoint(x.getCenter())}},v}return __extends(MapSeries,o),MapSeries.prototype.getInitialData=function(o){for(var v=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry(makeSeriesEncodeForNameBased,this)}),_=createHashMap(),x=[],w=0,T=v.count();w<T;w++){var L=v.getName(w);_.set(L,!0)}return util_each(cm.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(o){var v=o.name;_.get(v)||x.push(v)}),v.appendValues([],x),v},MapSeries.prototype.getHostGeoModel=function(){var o=this.option.geoIndex;return null!=o?this.ecModel.getComponent("geo",o):null},MapSeries.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},MapSeries.prototype.getRawValue=function(o){var v=this.getData();return v.get(v.mapDimension("value"),o)},MapSeries.prototype.getRegionModel=function(o){var v=this.getData();return v.getItemModel(v.indexOfName(o))},MapSeries.prototype.formatTooltip=function(o,v,_){for(var x=this.getData(),w=this.getRawValue(o),T=x.getName(o),L=this.seriesGroup,N=[],B=0;B<L.length;B++){var H=L[B].originalData.indexOfName(T),Y=x.mapDimension("value");isNaN(L[B].originalData.get(Y,H))||N.push(L[B].name)}return createTooltipMarkup("section",{header:N.join(", "),noHeader:!N.length,blocks:[createTooltipMarkup("nameValue",{name:T,value:w})]})},MapSeries.prototype.setZoom=function(o){this.option.zoom=o},MapSeries.prototype.setCenter=function(o){this.option.center=o},MapSeries.prototype.getLegendIcon=function(o){var v=o.icon||"roundRect",_=symbol_createSymbol(v,0,0,o.itemWidth,o.itemHeight,o.itemStyle.fill);return _.setStyle(o.itemStyle),_.style.stroke="none",v.indexOf("empty")>-1&&(_.style.stroke=_.style.fill,_.style.fill="#fff",_.style.lineWidth=2),_},MapSeries.type="series.map",MapSeries.dependencies=["geo"],MapSeries.layoutMode="box",MapSeries.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},MapSeries}(aS);function dataStatistics(o,v){var _={};return util_each(o,function(o){o.each(o.mapDimension("value"),function(v,x){var w="ec-"+o.getName(x);_[w]=_[w]||[],isNaN(v)||_[w].push(v)})}),o[0].map(o[0].mapDimension("value"),function(x,w){for(var T,L="ec-"+o[0].getName(w),N=0,B=1/0,H=-1/0,Y=_[L].length,Z=0;Z<Y;Z++)B=Math.min(B,_[L][Z]),H=Math.max(H,_[L][Z]),N+=_[L][Z];return T="min"===v?B:"max"===v?H:"average"===v?N/Y:N,0===Y?NaN:T})}function mapDataStatistic(o){var v={};o.eachSeriesByType("map",function(o){var _=o.getHostGeoModel(),x=_?"o"+_.id:"i"+o.getMapType();(v[x]=v[x]||[]).push(o)}),util_each(v,function(o,v){for(var _=dataStatistics(map(o,function(o){return o.getData()}),o[0].get("mapValueCalculation")),x=0;x<o.length;x++)o[x].originalData=o[x].getData();for(var x=0;x<o.length;x++)o[x].seriesGroup=o,o[x].needsDrawMap=0===x&&!o[x].getHostGeoModel(),o[x].setData(_.cloneShallow()),o[x].mainSeries=o[0]})}function mapSymbolLayout(o){var v={};o.eachSeriesByType("map",function(_){var x=_.getMapType();if(!_.getHostGeoModel()&&!v[x]){var w={};util_each(_.seriesGroup,function(v){var _=v.coordinateSystem,x=v.originalData;v.get("showLegendSymbol")&&o.getComponent("legend")&&x.each(x.mapDimension("value"),function(o,v){var T=x.getName(v),L=_.getRegion(T);if(!(!L||isNaN(o))){var N=w[T]||0,B=_.dataToPoint(L.getCenter());w[T]=N+1,x.setItemLayout(v,{point:B,offset:N})}})});var T=_.getData();T.each(function(o){var v=T.getName(o),_=T.getItemLayout(o)||{};_.showLabel=!w[v],T.setItemLayout(o,_)}),v[x]=!0}})}var cM=applyTransform,cP=function(o){function View(v){var _=o.call(this)||this;return _.type="view",_.dimensions=["x","y"],_._roamTransformable=new no,_._rawTransformable=new no,_.name=v,_}return __extends(View,o),View.prototype.setBoundingRect=function(o,v,_,x){return this._rect=new tS(o,v,_,x),this._rect},View.prototype.getBoundingRect=function(){return this._rect},View.prototype.setViewRect=function(o,v,_,x){this._transformTo(o,v,_,x),this._viewRect=new tS(o,v,_,x)},View.prototype._transformTo=function(o,v,_,x){var w=this.getBoundingRect(),T=this._rawTransformable;T.transform=w.calculateTransform(new tS(o,v,_,x));var L=T.parent;T.parent=null,T.decomposeTransform(),T.parent=L,this._updateTransform()},View.prototype.setCenter=function(o,v){o&&(this._center=[number_parsePercent(o[0],v.getWidth()),number_parsePercent(o[1],v.getHeight())],this._updateCenterAndZoom())},View.prototype.setZoom=function(o){o=o||1;var v=this.zoomLimit;v&&(null!=v.max&&(o=Math.min(v.max,o)),null!=v.min&&(o=Math.max(v.min,o))),this._zoom=o,this._updateCenterAndZoom()},View.prototype.getDefaultCenter=function(){var o=this.getBoundingRect();return[o.x+o.width/2,o.y+o.height/2]},View.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},View.prototype.getZoom=function(){return this._zoom||1},View.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},View.prototype._updateCenterAndZoom=function(){var o=this._rawTransformable.getLocalTransform(),v=this._roamTransformable,_=this.getDefaultCenter(),x=this.getCenter(),w=this.getZoom();x=applyTransform([],x,o),_=applyTransform([],_,o),v.originX=x[0],v.originY=x[1],v.x=_[0]-x[0],v.y=_[1]-x[1],v.scaleX=v.scaleY=w,this._updateTransform()},View.prototype._updateTransform=function(){var o=this._roamTransformable,v=this._rawTransformable;v.parent=o,o.updateTransform(),v.updateTransform(),matrix_copy(this.transform||(this.transform=[]),v.transform||matrix_create()),this._rawTransform=v.getLocalTransform(),this.invTransform=this.invTransform||[],matrix_invert(this.invTransform,this.transform),this.decomposeTransform()},View.prototype.getTransformInfo=function(){var o=this._rawTransformable,v=this._roamTransformable,_=new no;return _.transform=v.transform,_.decomposeTransform(),{roam:{x:_.x,y:_.y,scaleX:_.scaleX,scaleY:_.scaleY},raw:{x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY}}},View.prototype.getViewRect=function(){return this._viewRect},View.prototype.getViewRectAfterRoam=function(){var o=this.getBoundingRect().clone();return o.applyTransform(this.transform),o},View.prototype.dataToPoint=function(o,v,_){var x=v?this._rawTransform:this.transform;return _=_||[],x?cM(_,o,x):copy(_,o)},View.prototype.pointToData=function(o){var v=this.invTransform;return v?cM([],o,v):[o[0],o[1]]},View.prototype.convertToPixel=function(o,v,_){var x=getCoordSys(v);return x===this?x.dataToPoint(_):null},View.prototype.convertFromPixel=function(o,v,_){var x=getCoordSys(v);return x===this?x.pointToData(_):null},View.prototype.containPoint=function(o){return this.getViewRectAfterRoam().contain(o[0],o[1])},View.dimensions=["x","y"],View}(no);function getCoordSys(o){var v=o.seriesModel;return v?v.coordinateSystem:null}var cI={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},cD=["lng","lat"],cE=function(o){function Geo(v,_,x){var w,T=o.call(this,v)||this;T.dimensions=cD,T.type="geo",T._nameCoordMap=createHashMap(),T.map=_;var L=x.projection,N=cm.load(_,x.nameMap,x.nameProperty),B=cm.getGeoResource(_);T.resourceType=B?B.type:null;var H=T.regions=N.regions,Y=cI[B.type];if(T._regionsMap=N.regionsMap,T.regions=N.regions,T.projection=L,L)for(var Z=0;Z<H.length;Z++){var X=H[Z].getBoundingRect(L);(w=w||X.clone()).union(X)}else w=N.boundingRect;return T.setBoundingRect(w.x,w.y,w.width,w.height),T.aspectScale=L?1:retrieve2(x.aspectScale,Y.aspectScale),T._invertLongitute=!L&&Y.invertLongitute,T}return __extends(Geo,o),Geo.prototype._transformTo=function(o,v,_,x){var w=this.getBoundingRect(),T=this._invertLongitute;w=w.clone(),T&&(w.y=-w.y-w.height);var L=this._rawTransformable;L.transform=w.calculateTransform(new tS(o,v,_,x));var N=L.parent;L.parent=null,L.decomposeTransform(),L.parent=N,T&&(L.scaleY=-L.scaleY),this._updateTransform()},Geo.prototype.getRegion=function(o){return this._regionsMap.get(o)},Geo.prototype.getRegionByCoord=function(o){for(var v=this.regions,_=0;_<v.length;_++){var x=v[_];if("geoJSON"===x.type&&x.contain(o))return v[_]}},Geo.prototype.addGeoCoord=function(o,v){this._nameCoordMap.set(o,v)},Geo.prototype.getGeoCoord=function(o){var v=this._regionsMap.get(o);return this._nameCoordMap.get(o)||v&&v.getCenter()},Geo.prototype.dataToPoint=function(o,v,_){if(util_isString(o)&&(o=this.getGeoCoord(o)),o){var x=this.projection;return x&&(o=x.project(o)),o&&this.projectedToPoint(o,v,_)}},Geo.prototype.pointToData=function(o){var v=this.projection;return v&&(o=v.unproject(o)),o&&this.pointToProjected(o)},Geo.prototype.pointToProjected=function(v){return o.prototype.pointToData.call(this,v)},Geo.prototype.projectedToPoint=function(v,_,x){return o.prototype.dataToPoint.call(this,v,_,x)},Geo.prototype.convertToPixel=function(o,v,_){var x=Geo_getCoordSys(v);return x===this?x.dataToPoint(_):null},Geo.prototype.convertFromPixel=function(o,v,_){var x=Geo_getCoordSys(v);return x===this?x.pointToData(_):null},Geo}(cP);function Geo_getCoordSys(o){var v=o.geoModel,_=o.seriesModel;return v?v.coordinateSystem:_?_.coordinateSystem||(_.getReferringComponents("geo",nT).models[0]||{}).coordinateSystem:null}function resizeGeo(o,v){var _,x,w,T=o.get("boundingCoords");if(null!=T){var L=T[0],N=T[1];if(isFinite(L[0])&&isFinite(L[1])&&isFinite(N[0])&&isFinite(N[1])){var B=this.projection;if(B){var H=L[0],Y=L[1],Z=N[0],X=N[1];L=[1/0,1/0],N=[-1/0,-1/0];var sampleLine=function(o,v,_,x){for(var w=_-o,T=x-v,H=0;H<=100;H++){var Y=H/100,Z=B.project([o+w*Y,v+T*Y]);vector_min(L,L,Z),vector_max(N,N,Z)}};sampleLine(H,Y,Z,Y),sampleLine(Z,Y,Z,X),sampleLine(Z,X,H,X),sampleLine(H,X,Z,Y)}this.setBoundingRect(L[0],L[1],N[0]-L[0],N[1]-L[1])}}var et=this.getBoundingRect(),en=o.get("layoutCenter"),er=o.get("layoutSize"),ei=v.getWidth(),ea=v.getHeight(),eo=et.width/et.height*this.aspectScale,el=!1;if(!en||!er||(_=[number_parsePercent(en[0],ei),number_parsePercent(en[1],ea)],x=number_parsePercent(er,Math.min(ei,ea)),isNaN(_[0])||isNaN(_[1])||isNaN(x)||(el=!0)),el)w={},eo>1?(w.width=x,w.height=x/eo):(w.height=x,w.width=x*eo),w.y=_[1]-w.height/2,w.x=_[0]-w.width/2;else{var eu=o.getBoxLayoutParams();eu.aspect=eo,w=getLayoutRect(eu,{width:ei,height:ea})}this.setViewRect(w.x,w.y,w.width,w.height),this.setCenter(o.get("center"),v),this.setZoom(o.get("zoom"))}function setGeoCoords(o,v){util_each(v.get("geoCoord"),function(v,_){o.addGeoCoord(_,v)})}mixin(cE,cP);var cO=new(function(){function GeoCreator(){this.dimensions=cD}return GeoCreator.prototype.create=function(o,v){var _=[];function getCommonGeoProperties(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}o.eachComponent("geo",function(o,x){var w=o.get("map"),T=new cE(w+x,w,extend({nameMap:o.get("nameMap")},getCommonGeoProperties(o)));T.zoomLimit=o.get("scaleLimit"),_.push(T),o.coordinateSystem=T,T.model=o,T.resize=resizeGeo,T.resize(o,v)}),o.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var v=o.get("geoIndex")||0;o.coordinateSystem=_[v]}});var x={};return o.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var v=o.getMapType();x[v]=x[v]||[],x[v].push(o)}}),util_each(x,function(o,x){var w=new cE(x,x,extend({nameMap:mergeAll(map(o,function(o){return o.get("nameMap")}))},getCommonGeoProperties(o[0])));w.zoomLimit=retrieve.apply(null,map(o,function(o){return o.get("scaleLimit")})),_.push(w),w.resize=resizeGeo,w.resize(o[0],v),util_each(o,function(o){o.coordinateSystem=w,setGeoCoords(w,o)})}),_},GeoCreator.prototype.getFilledRegions=function(o,v,_,x){for(var w=(o||[]).slice(),T=createHashMap(),L=0;L<w.length;L++)T.set(w[L].name,w[L]);return util_each(cm.load(v,_,x).regions,function(o){var v=o.name;T.get(v)||w.push({name:v})}),w},GeoCreator}()),cA=function(o){function GeoModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=GeoModel.type,v}return __extends(GeoModel,o),GeoModel.prototype.init=function(o,v,_){var x=cm.getGeoResource(o.map);if(x&&"geoJSON"===x.type){var w=o.itemStyle=o.itemStyle||{};"color"in w||(w.color="#eee")}this.mergeDefaultAndTheme(o,_),defaultEmphasis(o,"label",["show"])},GeoModel.prototype.optionUpdated=function(){var o=this,v=this.option;v.regions=cO.getFilledRegions(v.regions,v.map,v.nameMap,v.nameProperty);var _={};this._optionModelMap=reduce(v.regions||[],function(v,x){var w=x.name;return w&&(v.set(w,new ii(x,o,o.ecModel)),x.selected&&(_[w]=!0)),v},createHashMap()),v.selectedMap||(v.selectedMap=_)},GeoModel.prototype.getRegionModel=function(o){return this._optionModelMap.get(o)||new ii(null,this,this.ecModel)},GeoModel.prototype.getFormattedLabel=function(o,v){var _=this.getRegionModel(o),x="normal"===v?_.get(["label","formatter"]):_.get(["emphasis","label","formatter"]),w={name:o};return isFunction(x)?(w.status=v,x(w)):util_isString(x)?x.replace("{a}",null!=o?o:""):void 0},GeoModel.prototype.setZoom=function(o){this.option.zoom=o},GeoModel.prototype.setCenter=function(o){this.option.center=o},GeoModel.prototype.select=function(o){var v=this.option,_=v.selectedMode;_&&("multiple"!==_&&(v.selectedMap=null),(v.selectedMap||(v.selectedMap={}))[o]=!0)},GeoModel.prototype.unSelect=function(o){var v=this.option.selectedMap;v&&(v[o]=!1)},GeoModel.prototype.toggleSelected=function(o){this[this.isSelected(o)?"unSelect":"select"](o)},GeoModel.prototype.isSelected=function(o){var v=this.option.selectedMap;return!!(v&&v[o])},GeoModel.type="geo",GeoModel.layoutMode="box",GeoModel.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},GeoModel}(ix);function getCenterCoord(o,v){return o.pointToProjected?o.pointToProjected(v):o.pointToData(v)}function updateCenterAndZoom(o,v,_,x){var w=o.getZoom(),T=o.getCenter(),L=v.zoom,N=o.projectedToPoint?o.projectedToPoint(T):o.dataToPoint(T);if(null!=v.dx&&null!=v.dy&&(N[0]-=v.dx,N[1]-=v.dy,o.setCenter(getCenterCoord(o,N),x)),null!=L){if(_){var B=_.min||0;L=Math.max(Math.min(w*L,_.max||1/0),B)/w}o.scaleX*=L,o.scaleY*=L;var H=(v.originX-o.x)*(L-1),Y=(v.originY-o.y)*(L-1);o.x-=H,o.y-=Y,o.updateTransform(),o.setCenter(getCenterCoord(o,N),x),o.setZoom(L*w)}return{center:o.getCenter(),zoom:o.getZoom()}}var ck=function(o){function GeoView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=GeoView.type,v.focusBlurEnabled=!0,v}return __extends(GeoView,o),GeoView.prototype.init=function(o,v){this._api=v},GeoView.prototype.render=function(o,v,_,x){if(this._model=o,!o.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new cw(_));var w=this._mapDraw;w.draw(o,v,_,this,x),w.group.on("click",this._handleRegionClick,this),w.group.silent=o.get("silent"),this.group.add(w.group),this.updateSelectStatus(o,v,_)},GeoView.prototype._handleRegionClick=function(o){var v;findEventDispatcher(o.target,function(o){return null!=(v=rN(o).eventData)},!0),v&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:v.name})},GeoView.prototype.updateSelectStatus=function(o,v,_){var x=this;this._mapDraw.group.traverse(function(o){var v=rN(o).eventData;if(v)return x._model.isSelected(v.name)?_.enterSelect(o):_.leaveSelect(o),!0})},GeoView.prototype.findHighDownDispatchers=function(o){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(o,this._model)},GeoView.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},GeoView.type="geo",GeoView}(ax);function install_registerMap(o,v,_){cm.registerMap(o,v,_)}function geo_install_install(o){function makeAction(v,_){_.update="geo:updateSelectStatus",o.registerAction(_,function(o,_){var x={},w=[];return _.eachComponent({mainType:"geo",query:o},function(_){_[v](o.name),util_each(_.coordinateSystem.regions,function(o){x[o.name]=_.isSelected(o.name)||!1});var T=[];util_each(x,function(o,v){x[v]&&T.push(v)}),w.push({geoIndex:_.componentIndex,name:T})}),{selected:x,allSelected:w,name:o.name}})}o.registerCoordinateSystem("geo",cO),o.registerComponentModel(cA),o.registerComponentView(ck),o.registerImpl("registerMap",install_registerMap),o.registerImpl("getMap",function(o){return cm.getMapForUser(o)}),makeAction("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),makeAction("select",{type:"geoSelect",event:"geoselected"}),makeAction("unSelect",{type:"geoUnSelect",event:"geounselected"}),o.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(o,v,_){var x=o.componentType||"series";v.eachComponent({mainType:x,query:o},function(v){var w=v.coordinateSystem;if("geo"===w.type){var T=updateCenterAndZoom(w,o,v.get("scaleLimit"),_);v.setCenter&&v.setCenter(T.center),v.setZoom&&v.setZoom(T.zoom),"series"===x&&util_each(v.seriesGroup,function(o){o.setCenter(T.center),o.setZoom(T.zoom)})}})})}function map_install_install(o){use(geo_install_install),o.registerChartView(cC),o.registerSeriesModel(cT),o.registerLayout(mapSymbolLayout),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",o.registerAction)}function layoutHelper_init(o){o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var v,_,x=[o];v=x.pop();)if(_=v.children,v.isExpand&&_.length)for(var w=_.length,T=w-1;T>=0;T--){var L=_[T];L.hierNode={defaultAncestor:null,ancestor:L,prelim:0,modifier:0,change:0,shift:0,i:T,thread:null},x.push(L)}}function firstWalk(o,v){var _=o.isExpand?o.children:[],x=o.parentNode.children,w=o.hierNode.i?x[o.hierNode.i-1]:null;if(_.length){executeShifts(o);var T=(_[0].hierNode.prelim+_[_.length-1].hierNode.prelim)/2;w?(o.hierNode.prelim=w.hierNode.prelim+v(o,w),o.hierNode.modifier=o.hierNode.prelim-T):o.hierNode.prelim=T}else w&&(o.hierNode.prelim=w.hierNode.prelim+v(o,w));o.parentNode.hierNode.defaultAncestor=apportion(o,w,o.parentNode.hierNode.defaultAncestor||x[0],v)}function secondWalk(o){var v=o.hierNode.prelim+o.parentNode.hierNode.modifier;o.setLayout({x:v},!0),o.hierNode.modifier+=o.parentNode.hierNode.modifier}function layoutHelper_separation(o){return arguments.length?o:defaultSeparation}function radialCoordinate(o,v){return{x:v*Math.cos(o-=Math.PI/2),y:v*Math.sin(o)}}function layoutHelper_getViewRect(o,v){return getLayoutRect(o.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()})}function executeShifts(o){for(var v=o.children,_=v.length,x=0,w=0;--_>=0;){var T=v[_];T.hierNode.prelim+=x,T.hierNode.modifier+=x,w+=T.hierNode.change,x+=T.hierNode.shift+w}}function apportion(o,v,_,x){if(v){for(var w=o,T=o,L=T.parentNode.children[0],N=v,B=w.hierNode.modifier,H=T.hierNode.modifier,Y=L.hierNode.modifier,Z=N.hierNode.modifier;N=nextRight(N),T=nextLeft(T),N&&T;){w=nextRight(w),L=nextLeft(L),w.hierNode.ancestor=o;var X=N.hierNode.prelim+Z-T.hierNode.prelim-H+x(N,T);X>0&&(moveSubtree(nextAncestor(N,o,_),o,X),H+=X,B+=X),Z+=N.hierNode.modifier,H+=T.hierNode.modifier,B+=w.hierNode.modifier,Y+=L.hierNode.modifier}N&&!nextRight(w)&&(w.hierNode.thread=N,w.hierNode.modifier+=Z-B),T&&!nextLeft(L)&&(L.hierNode.thread=T,L.hierNode.modifier+=H-Y,_=o)}return _}function nextRight(o){var v=o.children;return v.length&&o.isExpand?v[v.length-1]:o.hierNode.thread}function nextLeft(o){var v=o.children;return v.length&&o.isExpand?v[0]:o.hierNode.thread}function nextAncestor(o,v,_){return o.hierNode.ancestor.parentNode===v.parentNode?o.hierNode.ancestor:_}function moveSubtree(o,v,_){var x=_/(v.hierNode.i-o.hierNode.i);v.hierNode.change-=x,v.hierNode.shift+=_,v.hierNode.modifier+=_,v.hierNode.prelim+=_,o.hierNode.change+=x}function defaultSeparation(o,v){return o.parentNode===v.parentNode?1:2}var TreeEdgeShape=function(){this.parentPoint=[],this.childPoints=[]},cL=function(o){function TreePath(v){return o.call(this,v)||this}return __extends(TreePath,o),TreePath.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},TreePath.prototype.getDefaultShape=function(){return new TreeEdgeShape},TreePath.prototype.buildPath=function(o,v){var _=v.childPoints,x=_.length,w=v.parentPoint,T=_[0],L=_[x-1];if(1===x){o.moveTo(w[0],w[1]),o.lineTo(T[0],T[1]);return}var N=v.orient,B="TB"===N||"BT"===N?0:1,H=1-B,Y=number_parsePercent(v.forkPosition,1),Z=[];Z[B]=w[B],Z[H]=w[H]+(L[H]-w[H])*Y,o.moveTo(w[0],w[1]),o.lineTo(Z[0],Z[1]),o.moveTo(T[0],T[1]),Z[B]=T[B],o.lineTo(Z[0],Z[1]),Z[B]=L[B],o.lineTo(Z[0],Z[1]),o.lineTo(L[0],L[1]);for(var X=1;X<x-1;X++){var et=_[X];o.moveTo(et[0],et[1]),Z[B]=et[B],o.lineTo(Z[0],Z[1])}},TreePath}(rv),cR=function(o){function TreeView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=TreeView.type,v._mainGroup=new nm,v}return __extends(TreeView,o),TreeView.prototype.init=function(o,v){this._controller=new u$(v.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},TreeView.prototype.render=function(o,v,_){var x=o.getData(),w=o.layoutInfo,T=this._mainGroup;"radial"===o.get("layout")?(T.x=w.x+w.width/2,T.y=w.y+w.height/2):(T.x=w.x,T.y=w.y),this._updateViewCoordSys(o,_),this._updateController(o,v,_);var L=this._data;x.diff(L).add(function(v){TreeView_symbolNeedsDraw(x,v)&&updateNode(x,v,null,T,o)}).update(function(v,_){var w=L.getItemGraphicEl(_);if(!TreeView_symbolNeedsDraw(x,v)){w&&removeNode(L,_,w,T,o);return}updateNode(x,v,w,T,o)}).remove(function(v){var _=L.getItemGraphicEl(v);_&&removeNode(L,v,_,T,o)}).execute(),this._nodeScaleRatio=o.get("nodeScaleRatio"),this._updateNodeAndLinkScale(o),!0===o.get("expandAndCollapse")&&x.eachItemGraphicEl(function(v,x){v.off("click").on("click",function(){_.dispatchAction({type:"treeExpandAndCollapse",seriesId:o.id,dataIndex:x})})}),this._data=x},TreeView.prototype._updateViewCoordSys=function(o,v){var _=o.getData(),x=[];_.each(function(o){var v=_.getItemLayout(o);!v||isNaN(v.x)||isNaN(v.y)||x.push([+v.x,+v.y])});var w=[],T=[];fromPoints(x,w,T);var L=this._min,N=this._max;T[0]-w[0]==0&&(w[0]=L?L[0]:w[0]-1,T[0]=N?N[0]:T[0]+1),T[1]-w[1]==0&&(w[1]=L?L[1]:w[1]-1,T[1]=N?N[1]:T[1]+1);var B=o.coordinateSystem=new cP;B.zoomLimit=o.get("scaleLimit"),B.setBoundingRect(w[0],w[1],T[0]-w[0],T[1]-w[1]),B.setCenter(o.get("center"),v),B.setZoom(o.get("zoom")),this.group.attr({x:B.x,y:B.y,scaleX:B.scaleX,scaleY:B.scaleY}),this._min=w,this._max=T},TreeView.prototype._updateController=function(o,v,_){var x=this,w=this._controller,T=this._controllerHost,L=this.group;w.setPointerChecker(function(v,x,w){var T=L.getBoundingRect();return T.applyTransform(L.transform),T.contain(x,w)&&!onIrrelevantElement(v,_,o)}),w.enable(o.get("roam")),T.zoomLimit=o.get("scaleLimit"),T.zoom=o.coordinateSystem.getZoom(),w.off("pan").off("zoom").on("pan",function(v){updateViewOnPan(T,v.dx,v.dy),_.dispatchAction({seriesId:o.id,type:"treeRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){updateViewOnZoom(T,v.scale,v.originX,v.originY),_.dispatchAction({seriesId:o.id,type:"treeRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),x._updateNodeAndLinkScale(o),_.updateLabelLayout()})},TreeView.prototype._updateNodeAndLinkScale=function(o){var v=o.getData(),_=this._getNodeGlobalScale(o);v.eachItemGraphicEl(function(o,v){o.setSymbolScale(_)})},TreeView.prototype._getNodeGlobalScale=function(o){var v=o.coordinateSystem;if("view"!==v.type)return 1;var _=this._nodeScaleRatio,x=v.scaleX||1;return((v.getZoom()-1)*_+1)/x},TreeView.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},TreeView.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},TreeView.type="tree",TreeView}(ob);function TreeView_symbolNeedsDraw(o,v){var _=o.getItemLayout(v);return _&&!isNaN(_.x)&&!isNaN(_.y)}function updateNode(o,v,_,x,w){var T=!_,L=o.tree.getNodeByDataIndex(v),N=L.getModel(),B=L.getVisual("style").fill,H=!1===L.isExpand&&0!==L.children.length?B:"#fff",Y=o.tree.root,Z=L.parentNode===Y?L:L.parentNode||L,X=o.getItemGraphicEl(Z.dataIndex),et=Z.getLayout(),en=X?{x:X.__oldX,y:X.__oldY,rawX:X.__radialOldRawX,rawY:X.__radialOldRawY}:et,er=L.getLayout();T?((_=new lg(o,v,null,{symbolInnerColor:H,useNameLabel:!0})).x=en.x,_.y=en.y):_.updateData(o,v,null,{symbolInnerColor:H,useNameLabel:!0}),_.__radialOldRawX=_.__radialRawX,_.__radialOldRawY=_.__radialRawY,_.__radialRawX=er.rawX,_.__radialRawY=er.rawY,x.add(_),o.setItemGraphicEl(v,_),_.__oldX=_.x,_.__oldY=_.y,updateProps(_,{x:er.x,y:er.y},w);var ei=_.getSymbolPath();if("radial"===w.get("layout")){var ea=Y.children[0],eo=ea.getLayout(),el=ea.children.length,eu=void 0,ec=void 0;if(er.x===eo.x&&!0===L.isExpand&&ea.children.length){var ed={x:(ea.children[0].getLayout().x+ea.children[el-1].getLayout().x)/2,y:(ea.children[0].getLayout().y+ea.children[el-1].getLayout().y)/2};(eu=Math.atan2(ed.y-eo.y,ed.x-eo.x))<0&&(eu=2*Math.PI+eu),(ec=ed.x<eo.x)&&(eu-=Math.PI)}else(eu=Math.atan2(er.y-eo.y,er.x-eo.x))<0&&(eu=2*Math.PI+eu),0===L.children.length||0!==L.children.length&&!1===L.isExpand?(ec=er.x<eo.x)&&(eu-=Math.PI):(ec=er.x>eo.x)||(eu-=Math.PI);var eh=ec?"left":"right",ep=N.getModel("label"),ef=ep.get("rotate"),eg=ei.getTextContent();eg&&(ei.setTextConfig({position:ep.get("position")||eh,rotation:null==ef?-eu:ef*(Math.PI/180),origin:"center"}),eg.setStyle("verticalAlign","middle"))}var em=N.get(["emphasis","focus"]),ey="relative"===em?concatArray(L.getAncestorsIndices(),L.getDescendantIndices()):"ancestor"===em?L.getAncestorsIndices():"descendant"===em?L.getDescendantIndices():null;ey&&(rN(_).focus=ey),drawEdge(w,L,Y,_,en,et,er,x),_.__edge&&(_.onHoverStateChange=function(v){if("blur"!==v){var x=L.parentNode&&o.getItemGraphicEl(L.parentNode.dataIndex);x&&1===x.hoverState||setStatesFlag(_.__edge,v)}})}function drawEdge(o,v,_,x,w,T,L,N){var B=v.getModel(),H=o.get("edgeShape"),Y=o.get("layout"),Z=o.getOrient(),X=o.get(["lineStyle","curveness"]),et=o.get("edgeForkPosition"),en=B.getModel("lineStyle").getLineStyle(),er=x.__edge;if("curve"===H)v.parentNode&&v.parentNode!==_&&(er||(er=x.__edge=new a6({shape:getEdgeShape(Y,Z,X,w,w)})),updateProps(er,{shape:getEdgeShape(Y,Z,X,T,L)},o));else if("polyline"===H&&"orthogonal"===Y&&v!==_&&v.children&&0!==v.children.length&&!0===v.isExpand){for(var ei=v.children,ea=[],eo=0;eo<ei.length;eo++){var el=ei[eo].getLayout();ea.push([el.x,el.y])}er||(er=x.__edge=new cL({shape:{parentPoint:[L.x,L.y],childPoints:[[L.x,L.y]],orient:Z,forkPosition:et}})),updateProps(er,{shape:{parentPoint:[L.x,L.y],childPoints:ea}},o)}er&&!("polyline"===H&&!v.isExpand)&&(er.useStyle(util_defaults({strokeNoScale:!0,fill:null},en)),setStatesStylesFromModel(er,B,"lineStyle"),setDefaultStateProxy(er),N.add(er))}function removeNodeEdge(o,v,_,x,w){var T=getSourceNode(v.tree.root,o),L=T.source,N=T.sourceLayout,B=v.getItemGraphicEl(o.dataIndex);if(B){var H=v.getItemGraphicEl(L.dataIndex).__edge,Y=B.__edge||(!1===L.isExpand||1===L.children.length?H:void 0),Z=x.get("edgeShape"),X=x.get("layout"),et=x.get("orient"),en=x.get(["lineStyle","curveness"]);Y&&("curve"===Z?removeElement(Y,{shape:getEdgeShape(X,et,en,N,N),style:{opacity:0}},x,{cb:function(){_.remove(Y)},removeOpt:w}):"polyline"===Z&&"orthogonal"===x.get("layout")&&removeElement(Y,{shape:{parentPoint:[N.x,N.y],childPoints:[[N.x,N.y]]},style:{opacity:0}},x,{cb:function(){_.remove(Y)},removeOpt:w}))}}function getSourceNode(o,v){for(var _,x=v.parentNode===o?v:v.parentNode||v;null==(_=x.getLayout());)x=x.parentNode===o?x:x.parentNode||x;return{source:x,sourceLayout:_}}function removeNode(o,v,_,x,w){var T=o.tree.getNodeByDataIndex(v),L=getSourceNode(o.tree.root,T).sourceLayout,N={duration:w.get("animationDurationUpdate"),easing:w.get("animationEasingUpdate")};removeElement(_,{x:L.x+1,y:L.y+1},w,{cb:function(){x.remove(_),o.setItemGraphicEl(v,null)},removeOpt:N}),_.fadeOut(null,o.hostModel,{fadeLabel:!0,animation:N}),T.children.forEach(function(v){removeNodeEdge(v,o,x,w,N)}),removeNodeEdge(T,o,x,w,N)}function getEdgeShape(o,v,_,x,w){if("radial"===o){H=x.rawX,Z=x.rawY,Y=w.rawX,X=w.rawY;var T,L,N,B,H,Y,Z,X,et=radialCoordinate(H,Z),en=radialCoordinate(H,Z+(X-Z)*_),er=radialCoordinate(Y,X+(Z-X)*_),ei=radialCoordinate(Y,X);return{x1:et.x||0,y1:et.y||0,x2:ei.x||0,y2:ei.y||0,cpx1:en.x||0,cpy1:en.y||0,cpx2:er.x||0,cpy2:er.y||0}}return H=x.x,Z=x.y,Y=w.x,X=w.y,("LR"===v||"RL"===v)&&(T=H+(Y-H)*_,L=Z,N=Y+(H-Y)*_,B=X),("TB"===v||"BT"===v)&&(T=H,L=Z+(X-Z)*_,N=Y,B=X+(Z-X)*_),{x1:H,y1:Z,x2:Y,y2:X,cpx1:T,cpy1:L,cpx2:N,cpy2:B}}var cN=makeInner();function transferInjection(o,v){if(isMainData(this)){var _=extend({},cN(this).datas);_[this.dataType]=v,linkAll(v,_,o)}else linkSingle(v,this.dataType,cN(this).mainData,o);return v}function changeInjection(o,v){return o.struct&&o.struct.update(),v}function cloneShallowInjection(o,v){return util_each(cN(v).datas,function(_,x){_!==v&&linkSingle(_.cloneShallow(),x,v,o)}),v}function getLinkedData(o){var v=cN(this).mainData;return null==o||null==v?v:cN(v).datas[o]}function getLinkedDataAll(){var o=cN(this).mainData;return null==o?[{data:o}]:map(keys(cN(o).datas),function(v){return{type:v,data:cN(o).datas[v]}})}function isMainData(o){return cN(o).mainData===o}function linkAll(o,v,_){cN(o).datas={},util_each(v,function(v,x){linkSingle(v,x,o,_)})}function linkSingle(o,v,_,x){cN(_).datas[v]=o,cN(o).mainData=_,o.dataType=v,x.struct&&(o[x.structAttr]=x.struct,x.struct[x.datasAttr[v]]=o),o.getLinkedData=getLinkedData,o.getLinkedDataAll=getLinkedDataAll}var helper_linkSeriesData=function(o){var v=o.mainData,_=o.datas;_||(_={main:v},o.datasAttr={main:"data"}),o.datas=o.mainData=null,linkAll(v,_,o),util_each(_,function(_){util_each(v.TRANSFERABLE_METHODS,function(v){_.wrapMethod(v,curry(transferInjection,o))})}),v.wrapMethod("cloneShallow",curry(cloneShallowInjection,o)),util_each(v.CHANGABLE_METHODS,function(_){v.wrapMethod(_,curry(changeInjection,o))}),assert(_[v.dataType]===v)},cF=function(){function TreeNode(o,v){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=o||"",this.hostTree=v}return TreeNode.prototype.isRemoved=function(){return this.dataIndex<0},TreeNode.prototype.eachNode=function(o,v,_){isFunction(o)&&(_=v,v=o,o=null),util_isString(o=o||{})&&(o={order:o});var x,w=o.order||"preorder",T=this[o.attr||"children"];"preorder"===w&&(x=v.call(_,this));for(var L=0;!x&&L<T.length;L++)T[L].eachNode(o,v,_);"postorder"===w&&v.call(_,this)},TreeNode.prototype.updateDepthAndHeight=function(o){var v=0;this.depth=o;for(var _=0;_<this.children.length;_++){var x=this.children[_];x.updateDepthAndHeight(o+1),x.height>v&&(v=x.height)}this.height=v+1},TreeNode.prototype.getNodeById=function(o){if(this.getId()===o)return this;for(var v=0,_=this.children,x=_.length;v<x;v++){var w=_[v].getNodeById(o);if(w)return w}},TreeNode.prototype.contains=function(o){if(o===this)return!0;for(var v=0,_=this.children,x=_.length;v<x;v++){var w=_[v].contains(o);if(w)return w}},TreeNode.prototype.getAncestors=function(o){for(var v=[],_=o?this:this.parentNode;_;)v.push(_),_=_.parentNode;return v.reverse(),v},TreeNode.prototype.getAncestorsIndices=function(){for(var o=[],v=this;v;)o.push(v.dataIndex),v=v.parentNode;return o.reverse(),o},TreeNode.prototype.getDescendantIndices=function(){var o=[];return this.eachNode(function(v){o.push(v.dataIndex)}),o},TreeNode.prototype.getValue=function(o){var v=this.hostTree.data;return v.getStore().get(v.getDimensionIndex(o||"value"),this.dataIndex)},TreeNode.prototype.setLayout=function(o,v){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,o,v)},TreeNode.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},TreeNode.prototype.getModel=function(o){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(o)},TreeNode.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},TreeNode.prototype.setVisual=function(o,v){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,o,v)},TreeNode.prototype.getVisual=function(o){return this.hostTree.data.getItemVisual(this.dataIndex,o)},TreeNode.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},TreeNode.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},TreeNode.prototype.getChildIndex=function(){if(this.parentNode){for(var o=this.parentNode.children,v=0;v<o.length;++v)if(o[v]===this)return v}return -1},TreeNode.prototype.isAncestorOf=function(o){for(var v=o.parentNode;v;){if(v===this)return!0;v=v.parentNode}return!1},TreeNode.prototype.isDescendantOf=function(o){return o!==this&&o.isAncestorOf(this)},TreeNode}(),cV=function(){function Tree(o){this.type="tree",this._nodes=[],this.hostModel=o}return Tree.prototype.eachNode=function(o,v,_){this.root.eachNode(o,v,_)},Tree.prototype.getNodeByDataIndex=function(o){var v=this.data.getRawIndex(o);return this._nodes[v]},Tree.prototype.getNodeById=function(o){return this.root.getNodeById(o)},Tree.prototype.update=function(){for(var o=this.data,v=this._nodes,_=0,x=v.length;_<x;_++)v[_].dataIndex=-1;for(var _=0,x=o.count();_<x;_++)v[o.getRawIndex(_)].dataIndex=_},Tree.prototype.clearLayouts=function(){this.data.clearItemLayouts()},Tree.createTree=function(o,v,_){var x=new Tree(v),w=[],T=1;function buildHierarchy(o,v){var _=o.value;T=Math.max(T,util_isArray(_)?_.length:1),w.push(o);var L=new cF(convertOptionIdName(o.name,""),x);v?addChild(L,v):x.root=L,x._nodes.push(L);var N=o.children;if(N)for(var B=0;B<N.length;B++)buildHierarchy(N[B],L)}buildHierarchy(o),x.root.updateDepthAndHeight(0);var L=new lh(prepareSeriesDataSchema(w,{coordDimensions:["value"],dimensionsCount:T}).dimensions,v);return L.initData(w),_&&_(L),helper_linkSeriesData({mainData:L,struct:x,structAttr:"tree"}),x.update(),x},Tree}();function addChild(o,v){var _=v.children;o.parentNode!==v&&(_.push(o),o.parentNode=v)}function retrieveTargetInfo(o,v,_){if(o&&indexOf(v,o.type)>=0){var x=_.getData().tree.root,w=o.targetNode;if(util_isString(w)&&(w=x.getNodeById(w)),w&&x.contains(w))return{node:w};var T=o.targetNodeId;if(null!=T&&(w=x.getNodeById(T)))return{node:w}}}function getPathToRoot(o){for(var v=[];o;)(o=o.parentNode)&&v.push(o);return v.reverse()}function aboveViewRoot(o,v){return indexOf(getPathToRoot(o),v)>=0}function wrapTreePathInfo(o,v){for(var _=[];o;){var x=o.dataIndex;_.push({name:o.name,dataIndex:x,value:v.getRawValue(x)}),o=o.parentNode}return _.reverse(),_}var cB=function(o){function TreeSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.hasSymbolVisual=!0,v.ignoreStyleOnData=!0,v}return __extends(TreeSeriesModel,o),TreeSeriesModel.prototype.getInitialData=function(o){var v={name:o.name,children:o.data},_=new ii(o.leaves||{},this,this.ecModel),x=cV.createTree(v,this,beforeLink);function beforeLink(o){o.wrapMethod("getItemModel",function(o,v){var w=x.getNodeByDataIndex(v);return w&&w.children.length&&w.isExpand||(o.parentModel=_),o})}var w=0;x.eachNode("preorder",function(o){o.depth>w&&(w=o.depth)});var T=o.expandAndCollapse&&o.initialTreeDepth>=0?o.initialTreeDepth:w;return x.root.eachNode("preorder",function(o){var v=o.hostTree.data.getRawDataItem(o.dataIndex);o.isExpand=v&&null!=v.collapsed?!v.collapsed:o.depth<=T}),x.data},TreeSeriesModel.prototype.getOrient=function(){var o=this.get("orient");return"horizontal"===o?o="LR":"vertical"===o&&(o="TB"),o},TreeSeriesModel.prototype.setZoom=function(o){this.option.zoom=o},TreeSeriesModel.prototype.setCenter=function(o){this.option.center=o},TreeSeriesModel.prototype.formatTooltip=function(o,v,_){for(var x=this.getData().tree,w=x.root.children[0],T=x.getNodeByDataIndex(o),L=T.getValue(),N=T.name;T&&T!==w;)N=T.parentNode.name+"."+N,T=T.parentNode;return createTooltipMarkup("nameValue",{name:N,value:L,noValue:isNaN(L)||null==L})},TreeSeriesModel.prototype.getDataParams=function(v){var _=o.prototype.getDataParams.apply(this,arguments),x=this.getData().tree.getNodeByDataIndex(v);return _.treeAncestors=wrapTreePathInfo(x,this),_.collapsed=!x.isExpand,_},TreeSeriesModel.type="series.tree",TreeSeriesModel.layoutMode="box",TreeSeriesModel.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},TreeSeriesModel}(aS);function eachAfter(o,v,_){for(var x,w=[o],T=[];x=w.pop();)if(T.push(x),x.isExpand){var L=x.children;if(L.length)for(var N=0;N<L.length;N++)w.push(L[N])}for(;x=T.pop();)v(x,_)}function eachBefore(o,v){for(var _,x=[o];_=x.pop();)if(v(_),_.isExpand){var w=_.children;if(w.length)for(var T=w.length-1;T>=0;T--)x.push(w[T])}}function treeLayout(o,v){o.eachSeriesByType("tree",function(o){commonLayout(o,v)})}function commonLayout(o,v){var _=layoutHelper_getViewRect(o,v);o.layoutInfo=_;var x=o.get("layout"),w=0,T=0,L=null;"radial"===x?(w=2*Math.PI,T=Math.min(_.height,_.width)/2,L=layoutHelper_separation(function(o,v){return(o.parentNode===v.parentNode?1:2)/o.depth})):(w=_.width,T=_.height,L=layoutHelper_separation());var N=o.getData().tree.root,B=N.children[0];if(B){layoutHelper_init(N),eachAfter(B,firstWalk,L),N.hierNode.modifier=-B.hierNode.prelim,eachBefore(B,secondWalk);var H=B,Y=B,Z=B;eachBefore(B,function(o){var v=o.getLayout().x;v<H.getLayout().x&&(H=o),v>Y.getLayout().x&&(Y=o),o.depth>Z.depth&&(Z=o)});var X=H===Y?1:L(H,Y)/2,et=X-H.getLayout().x,en=0,er=0,ei=0,ea=0;if("radial"===x)en=w/(Y.getLayout().x+X+et),er=T/(Z.depth-1||1),eachBefore(B,function(o){ei=(o.getLayout().x+et)*en,ea=(o.depth-1)*er;var v=radialCoordinate(ei,ea);o.setLayout({x:v.x,y:v.y,rawX:ei,rawY:ea},!0)});else{var eo=o.getOrient();"RL"===eo||"LR"===eo?(er=T/(Y.getLayout().x+X+et),en=w/(Z.depth-1||1),eachBefore(B,function(o){ea=(o.getLayout().x+et)*er,ei="LR"===eo?(o.depth-1)*en:w-(o.depth-1)*en,o.setLayout({x:ei,y:ea},!0)})):("TB"===eo||"BT"===eo)&&(en=w/(Y.getLayout().x+X+et),er=T/(Z.depth-1||1),eachBefore(B,function(o){ei=(o.getLayout().x+et)*en,ea="TB"===eo?(o.depth-1)*er:T-(o.depth-1)*er,o.setLayout({x:ei,y:ea},!0)}))}}}function treeVisual(o){o.eachSeriesByType("tree",function(o){var v=o.getData();v.tree.eachNode(function(o){var _=o.getModel().getModel("itemStyle").getItemStyle();extend(v.ensureUniqueItemVisual(o.dataIndex,"style"),_)})})}function installTreeAction(o){o.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(o,v){v.eachComponent({mainType:"series",subType:"tree",query:o},function(v){var _=o.dataIndex,x=v.getData().tree.getNodeByDataIndex(_);x.isExpand=!x.isExpand})}),o.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(o,v,_){v.eachComponent({mainType:"series",subType:"tree",query:o},function(v){var x=updateCenterAndZoom(v.coordinateSystem,o,void 0,_);v.setCenter&&v.setCenter(x.center),v.setZoom&&v.setZoom(x.zoom)})})}function tree_install_install(o){o.registerChartView(cR),o.registerSeriesModel(cB),o.registerLayout(treeLayout),o.registerVisual(treeVisual),installTreeAction(o)}var cz=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(o){for(var v=0;v<cz.length;v++)o.registerAction({type:cz[v],update:"updateView"},noop);o.registerAction({type:"treemapRootToNode",update:"updateView"},function(o,v){v.eachComponent({mainType:"series",subType:"treemap",query:o},handleRootToNode);function handleRootToNode(v,_){var x=retrieveTargetInfo(o,["treemapZoomToNode","treemapRootToNode"],v);if(x){var w=v.getViewRoot();w&&(o.direction=aboveViewRoot(w,x.node)?"rollUp":"drillDown"),v.resetViewRoot(x.node)}}})}function enableAriaDecalForTree(o){var v=o.getData().tree,_={};v.eachNode(function(v){for(var x=v;x&&x.depth>1;)x=x.parentNode;var w=getDecalFromPalette(o.ecModel,x.name||x.dataIndex+"",_);v.setVisual("decal",w)})}var cj=function(o){function TreemapSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=TreemapSeriesModel.type,v.preventUsingHoverLayer=!0,v}return __extends(TreemapSeriesModel,o),TreemapSeriesModel.prototype.getInitialData=function(o,v){var _={name:o.name,children:o.data};completeTreeValue(_);var x=o.levels||[],w=new ii({itemStyle:this.designatedVisualItemStyle={}},this,v),T=map((x=o.levels=setDefault(x,v))||[],function(o){return new ii(o,w,v)},this),L=cV.createTree(_,this,beforeLink);function beforeLink(o){o.wrapMethod("getItemModel",function(o,v){var _=L.getNodeByDataIndex(v),x=_?T[_.depth]:null;return o.parentModel=x||w,o})}return L.data},TreemapSeriesModel.prototype.optionUpdated=function(){this.resetViewRoot()},TreemapSeriesModel.prototype.formatTooltip=function(o,v,_){var x=this.getData(),w=this.getRawValue(o);return createTooltipMarkup("nameValue",{name:x.getName(o),value:w})},TreemapSeriesModel.prototype.getDataParams=function(v){var _=o.prototype.getDataParams.apply(this,arguments),x=this.getData().tree.getNodeByDataIndex(v);return _.treeAncestors=wrapTreePathInfo(x,this),_.treePathInfo=_.treeAncestors,_},TreemapSeriesModel.prototype.setLayoutInfo=function(o){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,o)},TreemapSeriesModel.prototype.mapIdToIndex=function(o){var v=this._idIndexMap;v||(v=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var _=v.get(o);return null==_&&v.set(o,_=this._idIndexMapCount++),_},TreemapSeriesModel.prototype.getViewRoot=function(){return this._viewRoot},TreemapSeriesModel.prototype.resetViewRoot=function(o){o?this._viewRoot=o:o=this._viewRoot;var v=this.getRawData().tree.root;o&&(o===v||v.contains(o))||(this._viewRoot=v)},TreemapSeriesModel.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},TreemapSeriesModel.type="series.treemap",TreemapSeriesModel.layoutMode="box",TreemapSeriesModel.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},TreemapSeriesModel}(aS);function completeTreeValue(o){var v=0;util_each(o.children,function(o){completeTreeValue(o);var _=o.value;util_isArray(_)&&(_=_[0]),v+=_});var _=o.value;util_isArray(_)&&(_=_[0]),(null==_||isNaN(_))&&(_=v),_<0&&(_=0),util_isArray(o.value)?o.value[0]=_:o.value=_}function setDefault(o,v){var _,x,w=normalizeToArray(v.get("color")),T=normalizeToArray(v.get(["aria","decal","decals"]));if(w){util_each(o=o||[],function(o){var v=new ii(o),w=v.get("color"),T=v.get("decal");(v.get(["itemStyle","color"])||w&&"none"!==w)&&(_=!0),(v.get(["itemStyle","decal"])||T&&"none"!==T)&&(x=!0)});var L=o[0]||(o[0]={});return _||(L.color=w.slice()),!x&&T&&(L.decal=T.slice()),o}}var cH=function(){function Breadcrumb(o){this.group=new nm,o.add(this.group)}return Breadcrumb.prototype.render=function(o,v,_,x){var w=o.getModel("breadcrumb"),T=this.group;if(T.removeAll(),w.get("show")&&_){var L=w.getModel("itemStyle"),N=w.getModel("emphasis"),B=L.getModel("textStyle"),H=N.getModel(["itemStyle","textStyle"]),Y={pos:{left:w.get("left"),right:w.get("right"),top:w.get("top"),bottom:w.get("bottom")},box:{width:v.getWidth(),height:v.getHeight()},emptyItemWidth:w.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(_,Y,B),this._renderContent(o,Y,L,N,B,H,x),positionElement(T,Y.pos,Y.box)}},Breadcrumb.prototype._prepare=function(o,v,_){for(var x=o;x;x=x.parentNode){var w=convertOptionIdName(x.getModel().get("name"),""),T=Math.max(_.getTextRect(w).width+16,v.emptyItemWidth);v.totalWidth+=T+8,v.renderList.push({node:x,text:w,width:T})}},Breadcrumb.prototype._renderContent=function(o,v,_,x,w,T,L){for(var N=0,B=v.emptyItemWidth,H=o.get(["breadcrumb","height"]),Y=getAvailableSize(v.pos,v.box),Z=v.totalWidth,X=v.renderList,et=x.getModel("itemStyle").getItemStyle(),en=X.length-1;en>=0;en--){var er=X[en],ei=er.node,ea=er.width,eo=er.text;Z>Y.width&&(Z-=ea-B,ea=B,eo=null);var el=new aJ({shape:{points:makeItemPoints(N,0,ea,H,en===X.length-1,0===en)},style:util_defaults(_.getItemStyle(),{lineJoin:"bevel"}),textContent:new rR({style:createTextStyle(w,{text:eo})}),textConfig:{position:"inside"},z2:1e5,onclick:curry(L,ei)});el.disableLabelAnimation=!0,el.getTextContent().ensureState("emphasis").style=createTextStyle(T,{text:eo}),el.ensureState("emphasis").style=et,toggleHoverEmphasis(el,x.get("focus"),x.get("blurScope"),x.get("disabled")),this.group.add(el),packEventData(el,o,ei),N+=ea+8}},Breadcrumb.prototype.remove=function(){this.group.removeAll()},Breadcrumb}();function makeItemPoints(o,v,_,x,w,T){var L=[[w?o:o-5,v],[o+_,v],[o+_,v+x],[w?o:o-5,v+x]];return T||L.splice(2,0,[o+_+5,v+x/2]),w||L.push([o,v+x/2]),L}function packEventData(o,v,_){rN(o).eventData={componentType:"series",componentSubType:"treemap",componentIndex:v.componentIndex,seriesIndex:v.seriesIndex,seriesName:v.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:_&&_.dataIndex,name:_&&_.name},treePathInfo:_&&wrapTreePathInfo(_,v)}}var cG=function(){function AnimationWrap(){this._storage=[],this._elExistsMap={}}return AnimationWrap.prototype.add=function(o,v,_,x,w){return!this._elExistsMap[o.id]&&(this._elExistsMap[o.id]=!0,this._storage.push({el:o,target:v,duration:_,delay:x,easing:w}),!0)},AnimationWrap.prototype.finished=function(o){return this._finishedCallback=o,this},AnimationWrap.prototype.start=function(){for(var o=this,v=this._storage.length,checkTerminate=function(){--v<=0&&(o._storage.length=0,o._elExistsMap={},o._finishedCallback&&o._finishedCallback())},_=0,x=this._storage.length;_<x;_++){var w=this._storage[_];w.el.animateTo(w.target,{duration:w.duration,delay:w.delay,easing:w.easing,setToFinal:!0,done:checkTerminate,aborted:checkTerminate})}return this},AnimationWrap}();function createWrap(){return new cG}var cU="label",cW="upperLabel",cY=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(o){var v=cY(o);return v.stroke=v.fill=v.lineWidth=null,v},cK=makeInner(),cZ=function(o){function TreemapView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=TreemapView.type,v._state="ready",v._storage=createStorage(),v}return __extends(TreemapView,o),TreemapView.prototype.render=function(o,v,_,x){if(!(0>indexOf(v.findComponents({mainType:"series",subType:"treemap",query:x}),o))){this.seriesModel=o,this.api=_,this.ecModel=v;var w=retrieveTargetInfo(x,["treemapZoomToNode","treemapRootToNode"],o),T=x&&x.type,L=o.layoutInfo,N=!this._oldTree,B=this._storage,H="treemapRootToNode"===T&&w&&B?{rootNodeGroup:B.nodeGroup[w.node.getRawIndex()],direction:x.direction}:null,Y=this._giveContainerGroup(L),Z=o.get("animation"),X=this._doRender(Y,o,H);!Z||N||T&&"treemapZoomToNode"!==T&&"treemapRootToNode"!==T?X.renderFinally():this._doAnimation(Y,X,o,H),this._resetController(_),this._renderBreadcrumb(o,_,w)}},TreemapView.prototype._giveContainerGroup=function(o){var v=this._containerGroup;return v||(v=this._containerGroup=new nm,this._initEvents(v),this.group.add(v)),v.x=o.x,v.y=o.y,v},TreemapView.prototype._doRender=function(o,v,_){var x=v.getData().tree,w=this._oldTree,T=createStorage(),L=createStorage(),N=this._storage,B=[];function doRenderNode(o,x,w,H){return renderNode(v,L,N,_,T,B,o,x,w,H)}dualTravel(x.root?[x.root]:[],w&&w.root?[w.root]:[],o,x===w||!w,0);var H=clearStorage(N);return this._oldTree=x,this._storage=L,{lastsForAnimation:T,willDeleteEls:H,renderFinally:renderFinally};function dualTravel(o,v,_,x,w){function getKey(o){return o.getId()}function processNode(T,L){var N=null!=T?o[T]:null,B=null!=L?v[L]:null,H=doRenderNode(N,B,_,w);H&&dualTravel(N&&N.viewChildren||[],B&&B.viewChildren||[],H,x,w+1)}x?(v=o,util_each(o,function(o,v){o.isRemoved()||processNode(v,v)})):new ln(v,o,getKey,getKey).add(processNode).update(processNode).remove(curry(processNode,null)).execute()}function clearStorage(o){var v=createStorage();return o&&util_each(o,function(o,_){var x=v[_];util_each(o,function(o){o&&(x.push(o),cK(o).willDelete=!0)})}),v}function renderFinally(){util_each(H,function(o){util_each(o,function(o){o.parent&&o.parent.remove(o)})}),util_each(B,function(o){o.invisible=!0,o.dirty()})}},TreemapView.prototype._doAnimation=function(o,v,_,x){var w=_.get("animationDurationUpdate"),T=_.get("animationEasing"),L=(isFunction(w)?0:w)||0,N=(isFunction(T)?null:T)||"cubicOut",B=createWrap();util_each(v.willDeleteEls,function(o,v){util_each(o,function(o,_){if(!o.invisible){var w,T=o.parent,H=cK(T);if(x&&"drillDown"===x.direction)w=T===x.rootNodeGroup?{shape:{x:0,y:0,width:H.nodeWidth,height:H.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Y=0,Z=0;H.willDelete||(Y=H.nodeWidth/2,Z=H.nodeHeight/2),w="nodeGroup"===v?{x:Y,y:Z,style:{opacity:0}}:{shape:{x:Y,y:Z,width:0,height:0},style:{opacity:0}}}w&&B.add(o,w,L,0,N)}})}),util_each(this._storage,function(o,_){util_each(o,function(o,x){var w=v.lastsForAnimation[_][x],T={};w&&(o instanceof nm?null!=w.oldX&&(T.x=o.x,T.y=o.y,o.x=w.oldX,o.y=w.oldY):(w.oldShape&&(T.shape=extend({},o.shape),o.setShape(w.oldShape)),w.fadein?(o.setStyle("opacity",0),T.style={opacity:1}):1!==o.style.opacity&&(T.style={opacity:1})),B.add(o,T,L,0,N))})},this),this._state="animating",B.finished(e2(function(){this._state="ready",v.renderFinally()},this)).start()},TreemapView.prototype._resetController=function(o){var v=this._controller;v||((v=this._controller=new u$(o.getZr())).enable(this.seriesModel.get("roam")),v.on("pan",e2(this._onPan,this)),v.on("zoom",e2(this._onZoom,this)));var _=new tS(0,0,o.getWidth(),o.getHeight());v.setPointerChecker(function(o,v,x){return _.contain(v,x)})},TreemapView.prototype._clearController=function(){var o=this._controller;o&&(o.dispose(),o=null)},TreemapView.prototype._onPan=function(o){if("animating"!==this._state&&(Math.abs(o.dx)>3||Math.abs(o.dy)>3)){var v=this.seriesModel.getData().tree.root;if(v){var _=v.getLayout();_&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:_.x+o.dx,y:_.y+o.dy,width:_.width,height:_.height}})}}},TreemapView.prototype._onZoom=function(o){var v=o.originX,_=o.originY;if("animating"!==this._state){var x=this.seriesModel.getData().tree.root;if(!x)return;var w=x.getLayout();if(!w)return;var T=new tS(w.x,w.y,w.width,w.height),L=this.seriesModel.layoutInfo;v-=L.x,_-=L.y;var N=matrix_create();translate(N,N,[-v,-_]),matrix_scale(N,N,[o.scale,o.scale]),translate(N,N,[v,_]),T.applyTransform(N),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:T.x,y:T.y,width:T.width,height:T.height}})}},TreemapView.prototype._initEvents=function(o){var v=this;o.on("click",function(o){if("ready"===v._state){var _=v.seriesModel.get("nodeClick",!0);if(_){var x=v.findTarget(o.offsetX,o.offsetY);if(x){var w=x.node;if(w.getLayout().isLeafRoot)v._rootToNode(x);else if("zoomToNode"===_)v._zoomToNode(x);else if("link"===_){var T=w.hostTree.data.getItemModel(w.dataIndex),L=T.get("link",!0),N=T.get("target",!0)||"blank";L&&windowOpen(L,N)}}}}},this)},TreemapView.prototype._renderBreadcrumb=function(o,v,_){var x=this;_||(_=null!=o.get("leafDepth",!0)?{node:o.getViewRoot()}:this.findTarget(v.getWidth()/2,v.getHeight()/2))||(_={node:o.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new cH(this.group))).render(o,v,_.node,function(v){"animating"!==x._state&&(aboveViewRoot(o.getViewRoot(),v)?x._rootToNode({node:v}):x._zoomToNode({node:v}))})},TreemapView.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},TreemapView.prototype.dispose=function(){this._clearController()},TreemapView.prototype._zoomToNode=function(o){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:o.node})},TreemapView.prototype._rootToNode=function(o){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:o.node})},TreemapView.prototype.findTarget=function(o,v){var _;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(x){var w=this._storage.background[x.getRawIndex()];if(w){var T=w.transformCoordToLocal(o,v),L=w.shape;if(!(L.x<=T[0])||!(T[0]<=L.x+L.width)||!(L.y<=T[1])||!(T[1]<=L.y+L.height))return!1;_={node:x,offsetX:T[0],offsetY:T[1]}}},this),_},TreemapView.type="treemap",TreemapView}(ob);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(o,v,_,x,w,T,L,N,B,H){if(L){var Y=L.getLayout(),Z=o.getData(),X=L.getModel();if(Z.setItemGraphicEl(L.dataIndex,null),Y&&Y.isInView){var et=Y.width,en=Y.height,er=Y.borderWidth,ei=Y.invisible,ea=L.getRawIndex(),eo=N&&N.getRawIndex(),el=L.viewChildren,eu=Y.upperHeight,ec=el&&el.length,ed=X.getModel("itemStyle"),eh=X.getModel(["emphasis","itemStyle"]),ep=X.getModel(["blur","itemStyle"]),ef=X.getModel(["select","itemStyle"]),eg=ed.get("borderRadius")||0,em=giveGraphic("nodeGroup",nm);if(em){if(B.add(em),em.x=Y.x||0,em.y=Y.y||0,em.markRedraw(),cK(em).nodeWidth=et,cK(em).nodeHeight=en,Y.isAboveViewRoot)return em;var ey=giveGraphic("background",rI,H,20);ey&&renderBackground(em,ey,ec&&Y.upperLabelHeight);var ev=X.getModel("emphasis"),e_=ev.get("focus"),eb=ev.get("blurScope"),eS=ev.get("disabled"),ex="ancestor"===e_?L.getAncestorsIndices():"descendant"===e_?L.getDescendantIndices():e_;if(ec)isHighDownDispatcher(em)&&setAsHighDownDispatcher(em,!1),ey&&(setAsHighDownDispatcher(ey,!eS),Z.setItemGraphicEl(L.dataIndex,ey),enableHoverFocus(ey,ex,eb));else{var ew=giveGraphic("content",rI,H,30);ew&&renderContent(em,ew),ey.disableMorphing=!0,ey&&isHighDownDispatcher(ey)&&setAsHighDownDispatcher(ey,!1),setAsHighDownDispatcher(em,!eS),Z.setItemGraphicEl(L.dataIndex,em),enableHoverFocus(em,ex,eb)}return em}}}function renderBackground(v,_,x){var w=rN(_);if(w.dataIndex=L.dataIndex,w.seriesIndex=o.seriesIndex,_.setShape({x:0,y:0,width:et,height:en,r:eg}),ei)processInvisible(_);else{_.invisible=!1;var T=L.getVisual("style"),N=T.stroke,B=getItemStyleNormal(ed);B.fill=N;var H=cY(eh);H.fill=eh.get("borderColor");var Y=cY(ep);Y.fill=ep.get("borderColor");var Z=cY(ef);Z.fill=ef.get("borderColor"),x?prepareText(_,N,T.opacity,{x:er,y:0,width:et-2*er,height:eu}):_.removeTextContent(),_.setStyle(B),_.ensureState("emphasis").style=H,_.ensureState("blur").style=Y,_.ensureState("select").style=Z,setDefaultStateProxy(_)}v.add(_)}function renderContent(v,_){var x=rN(_);if(x.dataIndex=L.dataIndex,x.seriesIndex=o.seriesIndex,_.culling=!0,_.setShape({x:er,y:er,width:Math.max(et-2*er,0),height:Math.max(en-2*er,0),r:eg}),ei)processInvisible(_);else{_.invisible=!1;var w=L.getVisual("style"),T=w.fill,N=getItemStyleNormal(ed);N.fill=T,N.decal=w.decal;var B=cY(eh),H=cY(ep),Y=cY(ef);prepareText(_,T,w.opacity,null),_.setStyle(N),_.ensureState("emphasis").style=B,_.ensureState("blur").style=H,_.ensureState("select").style=Y,setDefaultStateProxy(_)}v.add(_)}function processInvisible(o){o.invisible||T.push(o)}function prepareText(v,_,x,w){var T=X.getModel(w?cW:cU),N=convertOptionIdName(X.get("name"),null),B=T.getShallow("show");setLabelStyle(v,getLabelStatesModels(X,w?cW:cU),{defaultText:B?N:null,inheritColor:_,defaultOpacity:x,labelFetcher:o,labelDataIndex:L.dataIndex});var H=v.getTextContent();if(H){var Z=H.style,et=normalizeCssArray(Z.padding||0);w&&(v.setTextConfig({layoutRect:w}),H.disableLabelLayout=!0),H.beforeUpdate=function(){var o=Math.max((w?w.width:v.shape.width)-et[1]-et[3],0),_=Math.max((w?w.height:v.shape.height)-et[0]-et[2],0);(Z.width!==o||Z.height!==_)&&H.setStyle({width:o,height:_})},Z.truncateMinChar=2,Z.lineOverflow="truncate",addDrillDownIcon(Z,w,Y);var en=H.getState("emphasis");addDrillDownIcon(en?en.style:null,w,Y)}}function addDrillDownIcon(v,_,x){var w=v?v.text:null;if(!_&&x.isLeafRoot&&null!=w){var T=o.get("drillDownIcon",!0);v.text=T?T+" "+w:w}}function giveGraphic(o,x,T,L){var N=null!=eo&&_[o][eo],B=w[o];return N?(_[o][eo]=null,prepareAnimationWhenHasOld(B,N)):ei||((N=new x)instanceof nz&&(N.z2=calculateZ2(T,L)),prepareAnimationWhenNoOld(B,N)),v[o][ea]=N}function prepareAnimationWhenHasOld(o,v){var _=o[ea]={};v instanceof nm?(_.oldX=v.x,_.oldY=v.y):_.oldShape=extend({},v.shape)}function prepareAnimationWhenNoOld(o,v){var _=o[ea]={},T=L.parentNode,N=v instanceof nm;if(T&&(!x||"drillDown"===x.direction)){var B=0,H=0,Y=w.background[T.getRawIndex()];!x&&Y&&Y.oldShape&&(B=Y.oldShape.width,H=Y.oldShape.height),N?(_.oldX=0,_.oldY=H):_.oldShape={x:B,y:H,width:0,height:0}}_.fadein=!N}}function calculateZ2(o,v){return 100*o+v}var cq=util_each,cX=util_isObject,c$=function(){function VisualMapping(o){var v=o.mappingMethod,_=o.type,x=this.option=clone(o);this.type=_,this.mappingMethod=v,this._normalizeData=cQ[v];var w=VisualMapping.visualHandlers[_];this.applyVisual=w.applyVisual,this.getColorMapper=w.getColorMapper,this._normalizedToVisual=w._normalizedToVisual[v],"piecewise"===v?(normalizeVisualRange(x),preprocessForPiecewise(x)):"category"===v?x.categories?preprocessForSpecifiedCategory(x):normalizeVisualRange(x,!0):(assert("linear"!==v||x.dataExtent),normalizeVisualRange(x))}return VisualMapping.prototype.mapValueToVisual=function(o){var v=this._normalizeData(o);return this._normalizedToVisual(v,o)},VisualMapping.prototype.getNormalizer=function(){return e2(this._normalizeData,this)},VisualMapping.listVisualTypes=function(){return keys(VisualMapping.visualHandlers)},VisualMapping.isValidType=function(o){return VisualMapping.visualHandlers.hasOwnProperty(o)},VisualMapping.eachVisual=function(o,v,_){util_isObject(o)?util_each(o,v,_):v.call(_,o)},VisualMapping.mapVisual=function(o,v,_){var x,w=util_isArray(o)?[]:util_isObject(o)?{}:(x=!0,null);return VisualMapping.eachVisual(o,function(o,T){var L=v.call(_,o,T);x?w=L:w[T]=L}),w},VisualMapping.retrieveVisuals=function(o){var v,_={};return o&&cq(VisualMapping.visualHandlers,function(x,w){o.hasOwnProperty(w)&&(_[w]=o[w],v=!0)}),v?_:null},VisualMapping.prepareVisualTypes=function(o){if(util_isArray(o))o=o.slice();else{if(!cX(o))return[];var v=[];cq(o,function(o,_){v.push(_)}),o=v}return o.sort(function(o,v){return"color"===v&&"color"!==o&&0===o.indexOf("color")?1:-1}),o},VisualMapping.dependsOn=function(o,v){return"color"===v?!!(o&&0===o.indexOf(v)):o===v},VisualMapping.findPieceIndex=function(o,v,_){for(var x,w=1/0,T=0,L=v.length;T<L;T++){var N=v[T].value;if(null!=N){if(N===o||util_isString(N)&&N===o+"")return T;_&&updatePossible(N,T)}}for(var T=0,L=v.length;T<L;T++){var B,H,Y,Z,X,et,en,er,ei=v[T],ea=ei.interval,eo=ei.close;if(ea){if(ea[0]===-1/0){if(B=eo[1],H=ea[1],B?o<=H:o<H)return T}else if(ea[1]===1/0){if(Y=eo[0],Z=ea[0],Y?Z<=o:Z<o)return T}else if(X=eo[0],et=ea[0],(X?et<=o:et<o)&&(en=eo[1],er=ea[1],en?o<=er:o<er))return T;_&&updatePossible(ea[0],T),_&&updatePossible(ea[1],T)}}if(_)return o===1/0?v.length-1:o===-1/0?0:x;function updatePossible(v,_){var T=Math.abs(v-o);T<w&&(w=T,x=_)}},VisualMapping.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var o=this.option;return e2("category"===o.mappingMethod?function(o,v){return v||(o=this._normalizeData(o)),doMapCategory.call(this,o)}:function(v,_,x){var w=!!x;return _||(v=this._normalizeData(v)),x=fastLerp(v,o.parsedVisual,x),w?x:stringify(x,"rgba")},this)},_normalizedToVisual:{linear:function(o){return stringify(fastLerp(o,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(o,v){var _=getSpecifiedVisual.call(this,v);return null==_&&(_=stringify(fastLerp(o,this.option.parsedVisual),"rgba")),_},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(o,v){return modifyHSL(o,v)}),colorSaturation:makePartialColorVisualHandler(function(o,v){return modifyHSL(o,null,v)}),colorLightness:makePartialColorVisualHandler(function(o,v){return modifyHSL(o,null,null,v)}),colorAlpha:makePartialColorVisualHandler(function(o,v){return modifyAlpha(o,v)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(o,v,_){_("symbol",this.mapValueToVisual(o))},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(o,v){var _=getSpecifiedVisual.call(this,v);return null==_&&(_=doMapToArray.call(this,o)),_},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},VisualMapping}();function preprocessForPiecewise(o){var v=o.pieceList;o.hasSpecialVisual=!1,util_each(v,function(v,_){v.originIndex=_,null!=v.visual&&(o.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(o){var v=o.categories,_=o.categoryMap={},x=o.visual;if(cq(v,function(o,v){_[o]=v}),!util_isArray(x)){var w=[];util_isObject(x)?cq(x,function(o,v){var x=_[v];w[null!=x?x:-1]=o}):w[-1]=x,x=setVisualToOption(o,w)}for(var T=v.length-1;T>=0;T--)null==x[T]&&(delete _[v[T]],v.pop())}function normalizeVisualRange(o,v){var _=o.visual,x=[];util_isObject(_)?cq(_,function(o){x.push(o)}):null!=_&&x.push(_),v||1!==x.length||({color:1,symbol:1}).hasOwnProperty(o.type)||(x[1]=x[0]),setVisualToOption(o,x)}function makePartialColorVisualHandler(o){return{applyVisual:function(v,_,x){var w=this.mapValueToVisual(v);x("color",o(_("color"),w))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(o){var v=this.option.visual;return v[Math.round(linearMap(o,[0,1],[0,v.length-1],!0))]||{}}function makeApplyVisual(o){return function(v,_,x){x(o,this.mapValueToVisual(v))}}function doMapCategory(o){var v=this.option.visual;return v[this.option.loop&&-1!==o?o%v.length:o]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(o){return{linear:function(v){return linearMap(v,o,this.option.visual,!0)},category:doMapCategory,piecewise:function(v,_){var x=getSpecifiedVisual.call(this,_);return null==x&&(x=linearMap(v,o,this.option.visual,!0)),x},fixed:doMapFixed}}function getSpecifiedVisual(o){var v=this.option,_=v.pieceList;if(v.hasSpecialVisual){var x=c$.findPieceIndex(o,_),w=_[x];if(w&&w.visual)return w.visual[this.type]}}function setVisualToOption(o,v){return o.visual=v,"color"===o.type&&(o.parsedVisual=map(v,function(o){return parse(o)||[0,0,0,1]})),v}var cQ={linear:function(o){return linearMap(o,this.option.dataExtent,[0,1],!0)},piecewise:function(o){var v=this.option.pieceList,_=c$.findPieceIndex(o,v,!0);if(null!=_)return linearMap(_,[0,v.length-1],[0,1],!0)},category:function(o){var v=this.option.categories?this.option.categoryMap[o]:o;return null==v?-1:v},fixed:noop},cJ=makeInner(),c0={seriesType:"treemap",reset:function(o){var v=o.getData().tree.root;v.isRemoved()||travelTree(v,{},o.getViewRoot().getAncestors(),o)}};function travelTree(o,v,_,x){var w,T=o.getModel(),L=o.getLayout(),N=o.hostTree.data;if(L&&!L.invisible&&L.isInView){var B=T.getModel("itemStyle"),H=buildVisuals(B,v,x),Y=N.ensureUniqueItemVisual(o.dataIndex,"style"),Z=B.get("borderColor"),X=B.get("borderColorSaturation");null!=X&&(Z=calculateBorderColor(X,w=calculateColor(H))),Y.stroke=Z;var et=o.viewChildren;if(et&&et.length){var en=buildVisualMapping(o,T,L,B,H,et);util_each(et,function(o,v){if(o.depth>=_.length||o===_[o.depth]){var w=mapVisual(T,H,o,v,en,x);travelTree(o,w,_,x)}})}else w=calculateColor(H),Y.fill=w}}function buildVisuals(o,v,_){var x=extend({},v),w=_.designatedVisualItemStyle;return util_each(["color","colorAlpha","colorSaturation"],function(_){w[_]=v[_];var T=o.get(_);w[_]=null,null!=T&&(x[_]=T)}),x}function calculateColor(o){var v=getValueVisualDefine(o,"color");if(v){var _=getValueVisualDefine(o,"colorAlpha"),x=getValueVisualDefine(o,"colorSaturation");return x&&(v=modifyHSL(v,null,null,x)),_&&(v=modifyAlpha(v,_)),v}}function calculateBorderColor(o,v){return null!=v?modifyHSL(v,null,null,o):null}function getValueVisualDefine(o,v){var _=o[v];if(null!=_&&"none"!==_)return _}function buildVisualMapping(o,v,_,x,w,T){if(T&&T.length){var L=getRangeVisual(v,"color")||null!=w.color&&"none"!==w.color&&(getRangeVisual(v,"colorAlpha")||getRangeVisual(v,"colorSaturation"));if(L){var N=v.get("visualMin"),B=v.get("visualMax"),H=_.dataExtent.slice();null!=N&&N<H[0]&&(H[0]=N),null!=B&&B>H[1]&&(H[1]=B);var Y=v.get("colorMappingBy"),Z={type:L.name,dataExtent:H,visual:L.range};"color"===Z.type&&("index"===Y||"id"===Y)?(Z.mappingMethod="category",Z.loop=!0):Z.mappingMethod="linear";var X=new c$(Z);return cJ(X).drColorMappingBy=Y,X}}}function getRangeVisual(o,v){var _=o.get(v);return util_isArray(_)&&_.length?{name:v,range:_}:null}function mapVisual(o,v,_,x,w,T){var L=extend({},v);if(w){var N=w.type,B="color"===N&&cJ(w).drColorMappingBy,H="index"===B?x:"id"===B?T.mapIdToIndex(_.getId()):_.getValue(o.get("visualDimension"));L[N]=w.mapValueToVisual(H)}return L}var c1=Math.max,c2=Math.min,c5=retrieve,c3=util_each,c4=["itemStyle","borderWidth"],c7=["itemStyle","gapWidth"],c6=["upperLabel","show"],c9=["upperLabel","height"],c8={seriesType:"treemap",reset:function(o,v,_,x){var w=_.getWidth(),T=_.getHeight(),L=o.option,N=getLayoutRect(o.getBoxLayoutParams(),{width:_.getWidth(),height:_.getHeight()}),B=L.size||[],H=number_parsePercent(c5(N.width,B[0]),w),Y=number_parsePercent(c5(N.height,B[1]),T),Z=x&&x.type,X=retrieveTargetInfo(x,["treemapZoomToNode","treemapRootToNode"],o),et="treemapRender"===Z||"treemapMove"===Z?x.rootRect:null,en=o.getViewRoot(),er=getPathToRoot(en);if("treemapMove"!==Z){var ei="treemapZoomToNode"===Z?estimateRootSize(o,X,en,H,Y):et?[et.width,et.height]:[H,Y],ea=L.sort;ea&&"asc"!==ea&&"desc"!==ea&&(ea="desc");var eo={squareRatio:L.squareRatio,sort:ea,leafDepth:L.leafDepth};en.hostTree.clearLayouts();var el={x:0,y:0,width:ei[0],height:ei[1],area:ei[0]*ei[1]};en.setLayout(el),squarify(en,eo,!1,0),el=en.getLayout(),c3(er,function(o,v){var _=(er[v+1]||en).getValue();o.setLayout(extend({dataExtent:[_,_],borderWidth:0,upperHeight:0},el))})}var eu=o.getData().tree.root;eu.setLayout(calculateRootPosition(N,et,X),!0),o.setLayoutInfo(N),prunning(eu,new tS(-N.x,-N.y,w,T),er,en,0)}};function squarify(o,v,_,x){if(!o.isRemoved()){var w,T,L=o.getLayout();w=L.width,T=L.height;var N=o.getModel(),B=N.get(c4),H=N.get(c7)/2,Y=getUpperLabelHeight(N),Z=Math.max(B,Y),X=B-H,et=Z-H;o.setLayout({borderWidth:B,upperHeight:Z,upperLabelHeight:Y},!0);var en=(w=c1(w-2*X,0))*(T=c1(T-X-et,0)),er=initChildren(o,N,en,v,_,x);if(er.length){var ei={x:X,y:et,width:w,height:T},ea=c2(w,T),eo=1/0,el=[];el.area=0;for(var eu=0,ec=er.length;eu<ec;){var ed=er[eu];el.push(ed),el.area+=ed.getLayout().area;var eh=worst(el,ea,v.squareRatio);eh<=eo?(eu++,eo=eh):(el.area-=el.pop().getLayout().area,position(el,ea,ei,H,!1),ea=c2(ei.width,ei.height),el.length=el.area=0,eo=1/0)}if(el.length&&position(el,ea,ei,H,!0),!_){var ep=N.get("childrenVisibleMin");null!=ep&&en<ep&&(_=!0)}for(var eu=0,ec=er.length;eu<ec;eu++)squarify(er[eu],v,_,x+1)}}}function initChildren(o,v,_,x,w,T){var L=o.children||[],N=x.sort;"asc"!==N&&"desc"!==N&&(N=null);var B=null!=x.leafDepth&&x.leafDepth<=T;if(w&&!B)return o.viewChildren=[];treemapLayout_sort(L=filter(L,function(o){return!o.isRemoved()}),N);var H=statistic(v,L,N);if(0===H.sum||(H.sum=filterByThreshold(v,_,H.sum,N,L),0===H.sum))return o.viewChildren=[];for(var Y=0,Z=L.length;Y<Z;Y++){var X=L[Y].getValue()/H.sum*_;L[Y].setLayout({area:X})}return B&&(L.length&&o.setLayout({isLeafRoot:!0},!0),L.length=0),o.viewChildren=L,o.setLayout({dataExtent:H.dataExtent},!0),L}function filterByThreshold(o,v,_,x,w){if(!x)return _;for(var T=o.get("visibleMin"),L=w.length,N=L,B=L-1;B>=0;B--){var H=w["asc"===x?L-B-1:B].getValue();H/_*v<T&&(N=B,_-=H)}return"asc"===x?w.splice(0,L-N):w.splice(N,L-N),_}function treemapLayout_sort(o,v){return v&&o.sort(function(o,_){var x="asc"===v?o.getValue()-_.getValue():_.getValue()-o.getValue();return 0===x?"asc"===v?o.dataIndex-_.dataIndex:_.dataIndex-o.dataIndex:x}),o}function statistic(o,v,_){for(var x,w=0,T=0,L=v.length;T<L;T++)w+=v[T].getValue();var N=o.get("visualDimension");return v&&v.length?"value"===N&&_?(x=[v[v.length-1].getValue(),v[0].getValue()],"asc"===_&&x.reverse()):(x=[1/0,-1/0],c3(v,function(o){var v=o.getValue(N);v<x[0]&&(x[0]=v),v>x[1]&&(x[1]=v)})):x=[NaN,NaN],{sum:w,dataExtent:x}}function worst(o,v,_){for(var x=0,w=1/0,T=0,L=void 0,N=o.length;T<N;T++)(L=o[T].getLayout().area)&&(L<w&&(w=L),L>x&&(x=L));var B=o.area*o.area,H=v*v*_;return B?c1(H*x/B,B/(H*w)):1/0}function position(o,v,_,x,w){var T=v===_.width?0:1,L=1-T,N=["x","y"],B=["width","height"],H=_[N[T]],Y=v?o.area/v:0;(w||Y>_[B[L]])&&(Y=_[B[L]]);for(var Z=0,X=o.length;Z<X;Z++){var et=o[Z],en={},er=Y?et.getLayout().area/Y:0,ei=en[B[L]]=c1(Y-2*x,0),ea=_[N[T]]+_[B[T]]-H,eo=Z===X-1||ea<er?ea:er,el=en[B[T]]=c1(eo-2*x,0);en[N[L]]=_[N[L]]+c2(x,ei/2),en[N[T]]=H+c2(x,el/2),H+=eo,et.setLayout(en,!0)}_[N[L]]+=Y,_[B[L]]-=Y}function estimateRootSize(o,v,_,x,w){var T,L=(v||{}).node,N=[x,w];if(!L||L===_)return N;for(var B=x*w,H=B*o.option.zoomToNodeRatio;T=L.parentNode;){for(var Y=0,Z=T.children,X=0,et=Z.length;X<et;X++)Y+=Z[X].getValue();var en=L.getValue();if(0===en)return N;H*=Y/en;var er=T.getModel(),ei=er.get(c4),ea=Math.max(ei,getUpperLabelHeight(er));(H+=4*ei*ei+(3*ei+ea)*Math.pow(H,.5))>9007199254740991&&(H=9007199254740991),L=T}H<B&&(H=B);var eo=Math.pow(H/B,.5);return[x*eo,w*eo]}function calculateRootPosition(o,v,_){if(v)return{x:v.x,y:v.y};var x={x:0,y:0};if(!_)return x;var w=_.node,T=w.getLayout();if(!T)return x;for(var L=[T.width/2,T.height/2],N=w;N;){var B=N.getLayout();L[0]+=B.x,L[1]+=B.y,N=N.parentNode}return{x:o.width/2-L[0],y:o.height/2-L[1]}}function prunning(o,v,_,x,w){var T=o.getLayout(),L=_[w],N=L&&L===o;if((!L||N)&&(w!==_.length||o===x)){o.setLayout({isInView:!0,invisible:!N&&!v.intersect(T),isAboveViewRoot:N},!0);var B=new tS(v.x-T.x,v.y-T.y,v.width,v.height);c3(o.viewChildren||[],function(o){prunning(o,B,_,x,w+1)})}}function getUpperLabelHeight(o){return o.get(c6)?o.get(c9):0}function treemap_install_install(o){o.registerSeriesModel(cj),o.registerChartView(cZ),o.registerVisual(c0),o.registerLayout(c8),installTreemapAction(o)}function categoryFilter(o){var v=o.findComponents({mainType:"legend"});v&&v.length&&o.eachSeriesByType("graph",function(o){var _=o.getCategoriesData(),x=o.getGraph().data,w=_.mapArray(_.getName);x.filterSelf(function(o){var _=x.getItemModel(o).getShallow("category");if(null!=_){isNumber(_)&&(_=w[_]);for(var T=0;T<v.length;T++)if(!v[T].isSelected(_))return!1}return!0})})}function categoryVisual(o){var v={};o.eachSeriesByType("graph",function(o){var _=o.getCategoriesData(),x=o.getData(),w={};_.each(function(x){var T=_.getName(x);w["ec-"+T]=x;var L=_.getItemModel(x),N=L.getModel("itemStyle").getItemStyle();N.fill||(N.fill=o.getColorFromPalette(T,v)),_.setItemVisual(x,"style",N);for(var B=["symbol","symbolSize","symbolKeepAspect"],H=0;H<B.length;H++){var Y=L.getShallow(B[H],!0);null!=Y&&_.setItemVisual(x,B[H],Y)}}),_.count()&&x.each(function(o){var v=x.getItemModel(o).getShallow("category");if(null!=v){util_isString(v)&&(v=w["ec-"+v]);var T=_.getItemVisual(v,"style");extend(x.ensureUniqueItemVisual(o,"style"),T);for(var L=["symbol","symbolSize","symbolKeepAspect"],N=0;N<L.length;N++)x.setItemVisual(o,L[N],_.getItemVisual(v,L[N]))}})})}function edgeVisual_normalize(o){return o instanceof Array||(o=[o,o]),o}function graphEdgeVisual(o){o.eachSeriesByType("graph",function(o){var v=o.getGraph(),_=o.getEdgeData(),x=edgeVisual_normalize(o.get("edgeSymbol")),w=edgeVisual_normalize(o.get("edgeSymbolSize"));_.setVisual("fromSymbol",x&&x[0]),_.setVisual("toSymbol",x&&x[1]),_.setVisual("fromSymbolSize",w&&w[0]),_.setVisual("toSymbolSize",w&&w[1]),_.setVisual("style",o.getModel("lineStyle").getLineStyle()),_.each(function(o){var x=_.getItemModel(o),w=v.getEdgeByIndex(o),T=edgeVisual_normalize(x.getShallow("symbol",!0)),L=edgeVisual_normalize(x.getShallow("symbolSize",!0)),N=x.getModel("lineStyle").getLineStyle(),B=_.ensureUniqueItemVisual(o,"style");switch(extend(B,N),B.stroke){case"source":var H=w.node1.getVisual("style");B.stroke=H&&H.fill;break;case"target":var H=w.node2.getVisual("style");B.stroke=H&&H.fill}T[0]&&w.setVisual("fromSymbol",T[0]),T[1]&&w.setVisual("toSymbol",T[1]),L[0]&&w.setVisual("fromSymbolSize",L[0]),L[1]&&w.setVisual("toSymbolSize",L[1])})})}var getAutoCurvenessParams=function(o){return o.get("autoCurveness")||null},createCurveness=function(o,v){var _=getAutoCurvenessParams(o),x=20,w=[];if(isNumber(_))x=_;else if(util_isArray(_)){o.__curvenessList=_;return}v>x&&(x=v);var T=x%2?x+2:x+3;w=[];for(var L=0;L<T;L++)w.push((L%2?L+1:L)/10*(L%2?-1:1));o.__curvenessList=w},getKeyOfEdges=function(o,v,_){var x=[o.id,o.dataIndex].join("."),w=[v.id,v.dataIndex].join(".");return[_.uid,x,w].join("-->")},getOppositeKey=function(o){var v=o.split("-->");return[v[0],v[2],v[1]].join("-->")},getEdgeFromMap=function(o,v){var _=getKeyOfEdges(o.node1,o.node2,v);return v.__edgeMap[_]},getEdgeMapLengthWithKey=function(o,v){var _=v.__edgeMap;return _[o]?_[o].length:0};function initCurvenessList(o){getAutoCurvenessParams(o)&&(o.__curvenessList=[],o.__edgeMap={},createCurveness(o))}function createEdgeMapForCurveness(o,v,_,x){if(getAutoCurvenessParams(_)){var w=getKeyOfEdges(o,v,_),T=_.__edgeMap,L=T[getOppositeKey(w)];T[w]&&!L?T[w].isForward=!0:L&&T[w]&&(L.isForward=!0,T[w].isForward=!1),T[w]=T[w]||[],T[w].push(x)}}function getCurvenessForEdge(o,v,_,x){var w=getAutoCurvenessParams(v),T=util_isArray(w);if(!w)return null;var L=getEdgeFromMap(o,v);if(!L)return null;for(var N=-1,B=0;B<L.length;B++)if(L[B]===_){N=B;break}var H=getEdgeMapLengthWithKey(getKeyOfEdges(o.node1,o.node2,v),v)+getEdgeMapLengthWithKey(getKeyOfEdges(o.node2,o.node1,v),v);createCurveness(v,H),o.lineStyle=o.lineStyle||{};var Y=getKeyOfEdges(o.node1,o.node2,v),Z=v.__curvenessList,X=T?0:H%2?0:1;if(L.isForward)return Z[X+N];var et=getEdgeMapLengthWithKey(getOppositeKey(Y),v),en=Z[N+et+X];return x?T?w&&0===w[0]?(et+X)%2?en:-en:((et%2?0:1)+X)%2?en:-en:(et+X)%2?en:-en:Z[N+et+X]}function simpleLayout(o){var v=o.coordinateSystem;if(!v||"view"===v.type){var _=o.getGraph();_.eachNode(function(o){var v=o.getModel();o.setLayout([+v.get("x"),+v.get("y")])}),simpleLayoutEdge(_,o)}}function simpleLayoutEdge(o,v){o.eachEdge(function(o,_){var x=retrieve3(o.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(o,v,_,!0),0),w=vector_clone(o.node1.getLayout()),T=vector_clone(o.node2.getLayout()),L=[w,T];+x&&L.push([(w[0]+T[0])/2-(w[1]-T[1])*x,(w[1]+T[1])/2-(T[0]-w[0])*x]),o.setLayout(L)})}function graphSimpleLayout(o,v){o.eachSeriesByType("graph",function(o){var v=o.get("layout"),_=o.coordinateSystem;if(_&&"view"!==_.type){var x=o.getData(),w=[];util_each(_.dimensions,function(o){w=w.concat(x.mapDimensionsAll(o))});for(var T=0;T<x.count();T++){for(var L=[],N=!1,B=0;B<w.length;B++){var H=x.get(w[B],T);isNaN(H)||(N=!0),L.push(H)}N?x.setItemLayout(T,_.dataToPoint(L)):x.setItemLayout(T,[NaN,NaN])}simpleLayoutEdge(x.graph,o)}else v&&"none"!==v||simpleLayout(o)})}function getNodeGlobalScale(o){var v=o.coordinateSystem;if("view"!==v.type)return 1;var _=o.option.nodeScaleRatio,x=v.scaleX;return((v.getZoom()-1)*_+1)/x}function getSymbolSize(o){var v=o.getVisual("symbolSize");return v instanceof Array&&(v=(v[0]+v[1])/2),+v}var dt=Math.PI,dn=[];function circularLayout(o,v,_,x){var w=o.coordinateSystem;if(!w||"view"===w.type){var T=w.getBoundingRect(),L=o.getData(),N=L.graph,B=T.width/2+T.x,H=T.height/2+T.y,Y=Math.min(T.width,T.height)/2,Z=L.count();if(L.setLayout({cx:B,cy:H}),Z){if(_){var X=w.pointToData(x),et=[X[0]-B,X[1]-H];normalize(et,et),scale(et,et,Y),_.setLayout([B+et[0],H+et[1]],!0),rotateNodeLabel(_,o.get(["circular","rotateLabel"]),B,H)}dr[v](o,N,L,Y,B,H,Z),N.eachEdge(function(v,_){var x,w=retrieve3(v.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(v,o,_),0),T=vector_clone(v.node1.getLayout()),L=vector_clone(v.node2.getLayout()),N=(T[0]+L[0])/2,Y=(T[1]+L[1])/2;+w&&(w*=3,x=[B*w+N*(1-w),H*w+Y*(1-w)]),v.setLayout([T,L,x])})}}}var dr={value:function(o,v,_,x,w,T,L){var N=0,B=_.getSum("value"),H=2*Math.PI/(B||L);v.eachNode(function(o){var v=o.getValue("value"),_=H*(B?v:1)/2;N+=_,o.setLayout([x*Math.cos(N)+w,x*Math.sin(N)+T]),N+=_})},symbolSize:function(o,v,_,x,w,T,L){var N=0;dn.length=L;var B=getNodeGlobalScale(o);v.eachNode(function(o){var v=getSymbolSize(o);isNaN(v)&&(v=2),v<0&&(v=0);var _=Math.asin((v*=B)/2/x);isNaN(_)&&(_=dt/2),dn[o.dataIndex]=_,N+=2*_});var H=(2*dt-N)/L/2,Y=0;v.eachNode(function(o){var v=H+dn[o.dataIndex];Y+=v,o.getLayout()&&o.getLayout().fixed||o.setLayout([x*Math.cos(Y)+w,x*Math.sin(Y)+T]),Y+=v})}};function rotateNodeLabel(o,v,_,x){var w=o.getGraphicEl();if(w){var T=o.getModel().get(["label","rotate"])||0,L=w.getSymbolPath();if(v){var N=o.getLayout(),B=Math.atan2(N[1]-x,N[0]-_);B<0&&(B=2*Math.PI+B);var H=N[0]<_;H&&(B-=Math.PI);var Y=H?"left":"right";L.setTextConfig({rotation:-B,position:Y,origin:"center"});var Z=L.ensureState("emphasis");extend(Z.textConfig||(Z.textConfig={}),{position:Y})}else L.setTextConfig({rotation:T*=Math.PI/180})}}function graphCircularLayout(o){o.eachSeriesByType("graph",function(o){"circular"===o.get("layout")&&circularLayout(o,"symbolSize")})}var di=scaleAndAdd;function forceLayout(o,v,_){for(var x,w,T=_.rect,L=T.width,N=T.height,B=[T.x+L/2,T.y+N/2],H=null==_.gravity?.1:_.gravity,Y=0;Y<o.length;Y++){var Z=o[Y];Z.p||(Z.p=create(L*(Math.random()-.5)+B[0],N*(Math.random()-.5)+B[1])),Z.pp=vector_clone(Z.p),Z.edges=null}var X=null==_.friction?.6:_.friction,et=X;return{warmUp:function(){et=.8*X},setFixed:function(v){o[v].fixed=!0},setUnfixed:function(v){o[v].fixed=!1},beforeStep:function(o){x=o},afterStep:function(o){w=o},step:function(_){x&&x(o,v);for(var T=[],L=o.length,N=0;N<v.length;N++){var Y=v[N];if(!Y.ignoreForceLayout){var Z=Y.n1,X=Y.n2;sub(T,X.p,Z.p);var en=len(T)-Y.d,er=X.w/(Z.w+X.w);isNaN(er)&&(er=0),normalize(T,T),Z.fixed||di(Z.p,Z.p,T,er*en*et),X.fixed||di(X.p,X.p,T,-(1-er)*en*et)}}for(var N=0;N<L;N++){var ei=o[N];ei.fixed||(sub(T,B,ei.p),di(ei.p,ei.p,T,H*et))}for(var N=0;N<L;N++)for(var Z=o[N],ea=N+1;ea<L;ea++){var X=o[ea];sub(T,X.p,Z.p);var en=len(T);0===en&&(set(T,Math.random()-.5,Math.random()-.5),en=1);var eo=(Z.rep+X.rep)/en/en;Z.fixed||di(Z.pp,Z.pp,T,eo),X.fixed||di(X.pp,X.pp,T,-eo)}for(var el=[],N=0;N<L;N++){var ei=o[N];ei.fixed||(sub(el,ei.p,ei.pp),di(ei.p,ei.p,el,et),copy(ei.pp,ei.p))}var eu=(et*=.992)<.01;w&&w(o,v,eu),_&&_(eu)}}}function graphForceLayout(o){o.eachSeriesByType("graph",function(o){var v=o.coordinateSystem;if(!v||"view"===v.type){if("force"===o.get("layout")){var _=o.preservedPoints||{},x=o.getGraph(),w=x.data,T=x.edgeData,L=o.getModel("force"),N=L.get("initLayout");o.preservedPoints?w.each(function(o){var v=w.getId(o);w.setItemLayout(o,_[v]||[NaN,NaN])}):N&&"none"!==N?"circular"===N&&circularLayout(o,"value"):simpleLayout(o);var B=w.getDataExtent("value"),H=T.getDataExtent("value"),Y=L.get("repulsion"),Z=L.get("edgeLength"),X=util_isArray(Y)?Y:[Y,Y],et=util_isArray(Z)?Z:[Z,Z];et=[et[1],et[0]];var en=w.mapArray("value",function(o,v){var _=w.getItemLayout(v),x=linearMap(o,B,X);return isNaN(x)&&(x=(X[0]+X[1])/2),{w:x,rep:x,fixed:w.getItemModel(v).get("fixed"),p:!_||isNaN(_[0])||isNaN(_[1])?null:_}}),er=T.mapArray("value",function(v,_){var w=x.getEdgeByIndex(_),T=linearMap(v,H,et);isNaN(T)&&(T=(et[0]+et[1])/2);var L=w.getModel(),N=retrieve3(w.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(w,o,_,!0),0);return{n1:en[w.node1.dataIndex],n2:en[w.node2.dataIndex],d:T,curveness:N,ignoreForceLayout:L.get("ignoreForceLayout")}}),ei=forceLayout(en,er,{rect:v.getBoundingRect(),gravity:L.get("gravity"),friction:L.get("friction")});ei.beforeStep(function(o,v){for(var _=0,w=o.length;_<w;_++)o[_].fixed&&copy(o[_].p,x.getNodeByIndex(_).getLayout())}),ei.afterStep(function(o,v,T){for(var L=0,N=o.length;L<N;L++)o[L].fixed||x.getNodeByIndex(L).setLayout(o[L].p),_[w.getId(L)]=o[L].p;for(var L=0,N=v.length;L<N;L++){var B=v[L],H=x.getEdgeByIndex(L),Y=B.n1.p,Z=B.n2.p,X=H.getLayout();(X=X?X.slice():[])[0]=X[0]||[],X[1]=X[1]||[],copy(X[0],Y),copy(X[1],Z),+B.curveness&&(X[2]=[(Y[0]+Z[0])/2-(Y[1]-Z[1])*B.curveness,(Y[1]+Z[1])/2-(Z[0]-Y[0])*B.curveness]),H.setLayout(X)}}),o.forceLayout=ei,o.preservedPoints=_,ei.step()}else o.forceLayout=null}})}function createView_getViewRect(o,v,_){return getLayoutRect(extend(o.getBoxLayoutParams(),{aspect:_}),{width:v.getWidth(),height:v.getHeight()})}function createViewCoordSys(o,v){var _=[];return o.eachSeriesByType("graph",function(o){var x=o.get("coordinateSystem");if(!x||"view"===x){var w=o.getData(),T=w.mapArray(function(o){var v=w.getItemModel(o);return[+v.get("x"),+v.get("y")]}),L=[],N=[];fromPoints(T,L,N),N[0]-L[0]==0&&(N[0]+=1,L[0]-=1),N[1]-L[1]==0&&(N[1]+=1,L[1]-=1);var B=(N[0]-L[0])/(N[1]-L[1]),H=createView_getViewRect(o,v,B);isNaN(B)&&(L=[H.x,H.y],N=[H.x+H.width,H.y+H.height]);var Y=N[0]-L[0],Z=N[1]-L[1],X=H.width,et=H.height,en=o.coordinateSystem=new cP;en.zoomLimit=o.get("scaleLimit"),en.setBoundingRect(L[0],L[1],Y,Z),en.setViewRect(H.x,H.y,X,et),en.setCenter(o.get("center"),v),en.setZoom(o.get("zoom")),_.push(en)}}),_}var da=a3.prototype,ds=a6.prototype,StraightLineShape=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function isStraightLine(o){return isNaN(+o.cpx1)||isNaN(+o.cpy1)}__extends(function(){return null!==w&&w.apply(this,arguments)||this},w=StraightLineShape);var dl=function(o){function ECLinePath(v){var _=o.call(this,v)||this;return _.type="ec-line",_}return __extends(ECLinePath,o),ECLinePath.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ECLinePath.prototype.getDefaultShape=function(){return new StraightLineShape},ECLinePath.prototype.buildPath=function(o,v){isStraightLine(v)?da.buildPath.call(this,o,v):ds.buildPath.call(this,o,v)},ECLinePath.prototype.pointAt=function(o){return isStraightLine(this.shape)?da.pointAt.call(this,o):ds.pointAt.call(this,o)},ECLinePath.prototype.tangentAt=function(o){var v=this.shape,_=isStraightLine(v)?[v.x2-v.x1,v.y2-v.y1]:ds.tangentAt.call(this,o);return normalize(_,_)},ECLinePath}(rv),du=["fromSymbol","toSymbol"];function makeSymbolTypeKey(o){return"_"+o+"Type"}function makeSymbolTypeValue(o,v,_){var x=v.getItemVisual(_,o);if(!x||"none"===x)return x;var w=v.getItemVisual(_,o+"Size"),T=v.getItemVisual(_,o+"Rotate"),L=v.getItemVisual(_,o+"Offset"),N=v.getItemVisual(_,o+"KeepAspect"),B=normalizeSymbolSize(w),H=normalizeSymbolOffset(L||0,B);return x+B+H+(T||"")+(N||"")}function createSymbol(o,v,_){var x=v.getItemVisual(_,o);if(x&&"none"!==x){var w=v.getItemVisual(_,o+"Size"),T=v.getItemVisual(_,o+"Rotate"),L=v.getItemVisual(_,o+"Offset"),N=v.getItemVisual(_,o+"KeepAspect"),B=normalizeSymbolSize(w),H=normalizeSymbolOffset(L||0,B),Y=symbol_createSymbol(x,-B[0]/2+H[0],-B[1]/2+H[1],B[0],B[1],null,N);return Y.__specifiedRotation=null==T||isNaN(T)?void 0:+T*Math.PI/180||0,Y.name=o,Y}}function createLine(o){var v=new dl({name:"line",subPixelOptimize:!0});return setLinePoints(v.shape,o),v}function setLinePoints(o,v){o.x1=v[0][0],o.y1=v[0][1],o.x2=v[1][0],o.y2=v[1][1],o.percent=1;var _=v[2];_?(o.cpx1=_[0],o.cpy1=_[1]):(o.cpx1=NaN,o.cpy1=NaN)}var dc=function(o){function Line(v,_,x){var w=o.call(this)||this;return w._createLine(v,_,x),w}return __extends(Line,o),Line.prototype._createLine=function(o,v,_){var x=o.hostModel,w=createLine(o.getItemLayout(v));w.shape.percent=0,initProps(w,{shape:{percent:1}},x,v),this.add(w),util_each(du,function(_){var x=createSymbol(_,o,v);this.add(x),this[makeSymbolTypeKey(_)]=makeSymbolTypeValue(_,o,v)},this),this._updateCommonStl(o,v,_)},Line.prototype.updateData=function(o,v,_){var x=o.hostModel,w=this.childOfName("line"),T=o.getItemLayout(v),L={shape:{}};setLinePoints(L.shape,T),updateProps(w,L,x,v),util_each(du,function(_){var x=makeSymbolTypeValue(_,o,v),w=makeSymbolTypeKey(_);if(this[w]!==x){this.remove(this.childOfName(_));var T=createSymbol(_,o,v);this.add(T)}this[w]=x},this),this._updateCommonStl(o,v,_)},Line.prototype.getLinePath=function(){return this.childAt(0)},Line.prototype._updateCommonStl=function(o,v,_){var x=o.hostModel,w=this.childOfName("line"),T=_&&_.emphasisLineStyle,L=_&&_.blurLineStyle,N=_&&_.selectLineStyle,B=_&&_.labelStatesModels,H=_&&_.emphasisDisabled,Y=_&&_.focus,Z=_&&_.blurScope;if(!_||o.hasItemOption){var X=o.getItemModel(v),et=X.getModel("emphasis");T=et.getModel("lineStyle").getLineStyle(),L=X.getModel(["blur","lineStyle"]).getLineStyle(),N=X.getModel(["select","lineStyle"]).getLineStyle(),H=et.get("disabled"),Y=et.get("focus"),Z=et.get("blurScope"),B=getLabelStatesModels(X)}var en=o.getItemVisual(v,"style"),er=en.stroke;w.useStyle(en),w.style.fill=null,w.style.strokeNoScale=!0,w.ensureState("emphasis").style=T,w.ensureState("blur").style=L,w.ensureState("select").style=N,util_each(du,function(o){var v=this.childOfName(o);if(v){v.setColor(er),v.style.opacity=en.opacity;for(var _=0;_<rj.length;_++){var x=rj[_],T=w.getState(x);if(T){var L=T.style||{},N=v.ensureState(x),B=N.style||(N.style={});null!=L.stroke&&(B[v.__isEmptyBrush?"stroke":"fill"]=L.stroke),null!=L.opacity&&(B.opacity=L.opacity)}}v.markRedraw()}},this);var ei=x.getRawValue(v);setLabelStyle(this,B,{labelDataIndex:v,labelFetcher:{getFormattedLabel:function(v,_){return x.getFormattedLabel(v,_,o.dataType)}},inheritColor:er||"#000",defaultOpacity:en.opacity,defaultText:(null==ei?o.getName(v):isFinite(ei)?round(ei):ei)+""});var ea=this.getTextContent();if(ea){var eo=B.normal;ea.__align=ea.style.align,ea.__verticalAlign=ea.style.verticalAlign,ea.__position=eo.get("position")||"middle";var el=eo.get("distance");util_isArray(el)||(el=[el,el]),ea.__labelDistance=el}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,Y,Z,H)},Line.prototype.highlight=function(){enterEmphasis(this)},Line.prototype.downplay=function(){leaveEmphasis(this)},Line.prototype.updateLayout=function(o,v){this.setLinePoints(o.getItemLayout(v))},Line.prototype.setLinePoints=function(o){var v=this.childOfName("line");setLinePoints(v.shape,o),v.dirty()},Line.prototype.beforeUpdate=function(){var o=this.childOfName("fromSymbol"),v=this.childOfName("toSymbol"),_=this.getTextContent();if(o||v||_&&!_.ignore){for(var x=1,w=this.parent;w;)w.scaleX&&(x/=w.scaleX),w=w.parent;var T=this.childOfName("line");if(this.__dirty||T.__dirty){var L=T.shape.percent,N=T.pointAt(0),B=T.pointAt(L),H=sub([],B,N);if(normalize(H,H),o&&(o.setPosition(N),setSymbolRotation(o,0),o.scaleX=o.scaleY=x*L,o.markRedraw()),v&&(v.setPosition(B),setSymbolRotation(v,1),v.scaleX=v.scaleY=x*L,v.markRedraw()),_&&!_.ignore){_.x=_.y=0,_.originX=_.originY=0;var Y=void 0,Z=void 0,X=_.__labelDistance,et=X[0]*x,en=X[1]*x,er=L/2,ei=T.tangentAt(er),ea=[ei[1],-ei[0]],eo=T.pointAt(er);ea[1]>0&&(ea[0]=-ea[0],ea[1]=-ea[1]);var el=ei[0]<0?-1:1;if("start"!==_.__position&&"end"!==_.__position){var eu=-Math.atan2(ei[1],ei[0]);B[0]<N[0]&&(eu=Math.PI+eu),_.rotation=eu}var ec=void 0;switch(_.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":ec=-en,Z="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":ec=en,Z="top";break;default:ec=0,Z="middle"}switch(_.__position){case"end":_.x=H[0]*et+B[0],_.y=H[1]*en+B[1],Y=H[0]>.8?"left":H[0]<-.8?"right":"center",Z=H[1]>.8?"top":H[1]<-.8?"bottom":"middle";break;case"start":_.x=-H[0]*et+N[0],_.y=-H[1]*en+N[1],Y=H[0]>.8?"right":H[0]<-.8?"left":"center",Z=H[1]>.8?"bottom":H[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":_.x=et*el+N[0],_.y=N[1]+ec,Y=ei[0]<0?"right":"left",_.originX=-et*el,_.originY=-ec;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":_.x=eo[0],_.y=eo[1]+ec,Y="center",_.originY=-ec;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":_.x=-et*el+B[0],_.y=B[1]+ec,Y=ei[0]>=0?"right":"left",_.originX=et*el,_.originY=-ec}_.scaleX=_.scaleY=x,_.setStyle({verticalAlign:_.__verticalAlign||Z,align:_.__align||Y})}}}function setSymbolRotation(o,v){var _=o.__specifiedRotation;if(null==_){var x=T.tangentAt(v);o.attr("rotation",(1===v?-1:1)*Math.PI/2-Math.atan2(x[1],x[0]))}else o.attr("rotation",_)}},Line}(nm),dd=function(){function LineDraw(o){this.group=new nm,this._LineCtor=o||dc}return LineDraw.prototype.updateData=function(o){var v=this;this._progressiveEls=null;var _=this.group,x=this._lineData;this._lineData=o,x||_.removeAll();var w=LineDraw_makeSeriesScope(o);o.diff(x).add(function(_){v._doAdd(o,_,w)}).update(function(_,T){v._doUpdate(x,o,T,_,w)}).remove(function(o){_.remove(x.getItemGraphicEl(o))}).execute()},LineDraw.prototype.updateLayout=function(){var o=this._lineData;o&&o.eachItemGraphicEl(function(v,_){v.updateLayout(o,_)},this)},LineDraw.prototype.incrementalPrepareUpdate=function(o){this._seriesScope=LineDraw_makeSeriesScope(o),this._lineData=null,this.group.removeAll()},LineDraw.prototype.incrementalUpdate=function(o,v){function updateIncrementalAndHover(o){o.isGroup||isEffectObject(o)||(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var _=o.start;_<o.end;_++)if(lineNeedsDraw(v.getItemLayout(_))){var x=new this._LineCtor(v,_,this._seriesScope);x.traverse(updateIncrementalAndHover),this.group.add(x),v.setItemGraphicEl(_,x),this._progressiveEls.push(x)}},LineDraw.prototype.remove=function(){this.group.removeAll()},LineDraw.prototype.eachRendered=function(o){traverseElements(this._progressiveEls||this.group,o)},LineDraw.prototype._doAdd=function(o,v,_){if(lineNeedsDraw(o.getItemLayout(v))){var x=new this._LineCtor(o,v,_);o.setItemGraphicEl(v,x),this.group.add(x)}},LineDraw.prototype._doUpdate=function(o,v,_,x,w){var T=o.getItemGraphicEl(_);if(!lineNeedsDraw(v.getItemLayout(x))){this.group.remove(T);return}T?T.updateData(v,x,w):T=new this._LineCtor(v,x,w),v.setItemGraphicEl(x,T),this.group.add(T)},LineDraw}();function isEffectObject(o){return o.animators&&o.animators.length>0}function LineDraw_makeSeriesScope(o){var v=o.hostModel,_=v.getModel("emphasis");return{lineStyle:v.getModel("lineStyle").getLineStyle(),emphasisLineStyle:_.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:v.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:v.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:_.get("disabled"),blurScope:_.get("blurScope"),focus:_.get("focus"),labelStatesModels:getLabelStatesModels(v)}}function isPointNaN(o){return isNaN(o[0])||isNaN(o[1])}function lineNeedsDraw(o){return o&&!isPointNaN(o[0])&&!isPointNaN(o[1])}var dh=[],dp=[],df=[],dg=curve_quadraticAt,dm=Math.abs;function intersectCurveCircle(o,v,_){for(var x,w=o[0],T=o[1],L=o[2],N=1/0,B=_*_,H=.1,Y=.1;Y<=.9;Y+=.1){dh[0]=dg(w[0],T[0],L[0],Y),dh[1]=dg(w[1],T[1],L[1],Y);var Z=dm(distSquare(dh,v)-B);Z<N&&(N=Z,x=Y)}for(var X=0;X<32;X++){var et=x+H;dp[0]=dg(w[0],T[0],L[0],x),dp[1]=dg(w[1],T[1],L[1],x),df[0]=dg(w[0],T[0],L[0],et),df[1]=dg(w[1],T[1],L[1],et);var Z=distSquare(dp,v)-B;if(.01>dm(Z))break;var en=distSquare(df,v)-B;H/=2,Z<0?en>=0?x+=H:x-=H:en>=0?x-=H:x+=H}return x}function adjustEdge(o,v){var _=[],x=curve_quadraticSubdivide,w=[[],[],[]],T=[[],[]],L=[];v/=2,o.eachEdge(function(o,N){var B=o.getLayout(),H=o.getVisual("fromSymbol"),Y=o.getVisual("toSymbol");!B.__original&&(B.__original=[vector_clone(B[0]),vector_clone(B[1])],B[2]&&B.__original.push(vector_clone(B[2])));var Z=B.__original;if(null!=B[2]){if(copy(w[0],Z[0]),copy(w[1],Z[2]),copy(w[2],Z[1]),H&&"none"!==H){var X=getSymbolSize(o.node1),et=intersectCurveCircle(w,Z[0],X*v);x(w[0][0],w[1][0],w[2][0],et,_),w[0][0]=_[3],w[1][0]=_[4],x(w[0][1],w[1][1],w[2][1],et,_),w[0][1]=_[3],w[1][1]=_[4]}if(Y&&"none"!==Y){var X=getSymbolSize(o.node2),et=intersectCurveCircle(w,Z[1],X*v);x(w[0][0],w[1][0],w[2][0],et,_),w[1][0]=_[1],w[2][0]=_[2],x(w[0][1],w[1][1],w[2][1],et,_),w[1][1]=_[1],w[2][1]=_[2]}copy(B[0],w[0]),copy(B[1],w[2]),copy(B[2],w[1])}else{if(copy(T[0],Z[0]),copy(T[1],Z[1]),sub(L,T[1],T[0]),normalize(L,L),H&&"none"!==H){var X=getSymbolSize(o.node1);scaleAndAdd(T[0],T[0],L,X*v)}if(Y&&"none"!==Y){var X=getSymbolSize(o.node2);scaleAndAdd(T[1],T[1],L,-X*v)}copy(B[0],T[0]),copy(B[1],T[1])}})}function isViewCoordSys(o){return"view"===o.type}var dy=function(o){function GraphView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=GraphView.type,v}return __extends(GraphView,o),GraphView.prototype.init=function(o,v){var _=new lm,x=new dd,w=this.group;this._controller=new u$(v.getZr()),this._controllerHost={target:w},w.add(_.group),w.add(x.group),this._symbolDraw=_,this._lineDraw=x,this._firstRender=!0},GraphView.prototype.render=function(o,v,_){var x=this,w=o.coordinateSystem;this._model=o;var T=this._symbolDraw,L=this._lineDraw,N=this.group;if(isViewCoordSys(w)){var B={x:w.x,y:w.y,scaleX:w.scaleX,scaleY:w.scaleY};this._firstRender?N.attr(B):updateProps(N,B,o)}adjustEdge(o.getGraph(),getNodeGlobalScale(o));var H=o.getData();T.updateData(H);var Y=o.getEdgeData();L.updateData(Y),this._updateNodeAndLinkScale(),this._updateController(o,v,_),clearTimeout(this._layoutTimeout);var Z=o.forceLayout,X=o.get(["force","layoutAnimation"]);Z&&this._startForceLayoutIteration(Z,X);var et=o.get("layout");H.graph.eachNode(function(v){var _=v.dataIndex,w=v.getGraphicEl(),T=v.getModel();if(w){w.off("drag").off("dragend");var L=T.get("draggable");L&&w.on("drag",function(T){switch(et){case"force":Z.warmUp(),x._layouting||x._startForceLayoutIteration(Z,X),Z.setFixed(_),H.setItemLayout(_,[w.x,w.y]);break;case"circular":H.setItemLayout(_,[w.x,w.y]),v.setLayout({fixed:!0},!0),circularLayout(o,"symbolSize",v,[T.offsetX,T.offsetY]),x.updateLayout(o);break;default:H.setItemLayout(_,[w.x,w.y]),simpleLayoutEdge(o.getGraph(),o),x.updateLayout(o)}}).on("dragend",function(){Z&&Z.setUnfixed(_)}),w.setDraggable(L,!!T.get("cursor")),"adjacency"===T.get(["emphasis","focus"])&&(rN(w).focus=v.getAdjacentDataIndices())}}),H.graph.eachEdge(function(o){var v=o.getGraphicEl(),_=o.getModel().get(["emphasis","focus"]);v&&"adjacency"===_&&(rN(v).focus={edge:[o.dataIndex],node:[o.node1.dataIndex,o.node2.dataIndex]})});var en="circular"===o.get("layout")&&o.get(["circular","rotateLabel"]),er=H.getLayout("cx"),ei=H.getLayout("cy");H.graph.eachNode(function(o){rotateNodeLabel(o,en,er,ei)}),this._firstRender=!1},GraphView.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},GraphView.prototype._startForceLayoutIteration=function(o,v){var _=this;!function step(){o.step(function(o){_.updateLayout(_._model),(_._layouting=!o)&&(v?_._layoutTimeout=setTimeout(step,16):step())})}()},GraphView.prototype._updateController=function(o,v,_){var x=this,w=this._controller,T=this._controllerHost,L=this.group;if(w.setPointerChecker(function(v,x,w){var T=L.getBoundingRect();return T.applyTransform(L.transform),T.contain(x,w)&&!onIrrelevantElement(v,_,o)}),!isViewCoordSys(o.coordinateSystem)){w.disable();return}w.enable(o.get("roam")),T.zoomLimit=o.get("scaleLimit"),T.zoom=o.coordinateSystem.getZoom(),w.off("pan").off("zoom").on("pan",function(v){updateViewOnPan(T,v.dx,v.dy),_.dispatchAction({seriesId:o.id,type:"graphRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){updateViewOnZoom(T,v.scale,v.originX,v.originY),_.dispatchAction({seriesId:o.id,type:"graphRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),x._updateNodeAndLinkScale(),adjustEdge(o.getGraph(),getNodeGlobalScale(o)),x._lineDraw.updateLayout(),_.updateLabelLayout()})},GraphView.prototype._updateNodeAndLinkScale=function(){var o=this._model,v=o.getData(),_=getNodeGlobalScale(o);v.eachItemGraphicEl(function(o,v){o&&o.setSymbolScale(_)})},GraphView.prototype.updateLayout=function(o){adjustEdge(o.getGraph(),getNodeGlobalScale(o)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},GraphView.prototype.remove=function(o,v){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},GraphView.type="graph",GraphView}(ob);function generateNodeKey(o){return"_EC_"+o}var dv=function(){function Graph(o){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=o||!1}return Graph.prototype.isDirected=function(){return this._directed},Graph.prototype.addNode=function(o,v){o=null==o?""+v:""+o;var _=this._nodesMap;if(!_[generateNodeKey(o)]){var x=new d_(o,v);return x.hostGraph=this,this.nodes.push(x),_[generateNodeKey(o)]=x,x}},Graph.prototype.getNodeByIndex=function(o){var v=this.data.getRawIndex(o);return this.nodes[v]},Graph.prototype.getNodeById=function(o){return this._nodesMap[generateNodeKey(o)]},Graph.prototype.addEdge=function(o,v,_){var x=this._nodesMap,w=this._edgesMap;if(isNumber(o)&&(o=this.nodes[o]),isNumber(v)&&(v=this.nodes[v]),o instanceof d_||(o=x[generateNodeKey(o)]),v instanceof d_||(v=x[generateNodeKey(v)]),o&&v){var T=o.id+"-"+v.id,L=new db(o,v,_);return L.hostGraph=this,this._directed&&(o.outEdges.push(L),v.inEdges.push(L)),o.edges.push(L),o!==v&&v.edges.push(L),this.edges.push(L),w[T]=L,L}},Graph.prototype.getEdgeByIndex=function(o){var v=this.edgeData.getRawIndex(o);return this.edges[v]},Graph.prototype.getEdge=function(o,v){o instanceof d_&&(o=o.id),v instanceof d_&&(v=v.id);var _=this._edgesMap;return this._directed?_[o+"-"+v]:_[o+"-"+v]||_[v+"-"+o]},Graph.prototype.eachNode=function(o,v){for(var _=this.nodes,x=_.length,w=0;w<x;w++)_[w].dataIndex>=0&&o.call(v,_[w],w)},Graph.prototype.eachEdge=function(o,v){for(var _=this.edges,x=_.length,w=0;w<x;w++)_[w].dataIndex>=0&&_[w].node1.dataIndex>=0&&_[w].node2.dataIndex>=0&&o.call(v,_[w],w)},Graph.prototype.breadthFirstTraverse=function(o,v,_,x){if(v instanceof d_||(v=this._nodesMap[generateNodeKey(v)]),v){for(var w="out"===_?"outEdges":"in"===_?"inEdges":"edges",T=0;T<this.nodes.length;T++)this.nodes[T].__visited=!1;if(!o.call(x,v,null))for(var L=[v];L.length;)for(var N=L.shift(),B=N[w],T=0;T<B.length;T++){var H=B[T],Y=H.node1===N?H.node2:H.node1;if(!Y.__visited){if(o.call(x,Y,N))return;L.push(Y),Y.__visited=!0}}}},Graph.prototype.update=function(){for(var o=this.data,v=this.edgeData,_=this.nodes,x=this.edges,w=0,T=_.length;w<T;w++)_[w].dataIndex=-1;for(var w=0,T=o.count();w<T;w++)_[o.getRawIndex(w)].dataIndex=w;v.filterSelf(function(o){var _=x[v.getRawIndex(o)];return _.node1.dataIndex>=0&&_.node2.dataIndex>=0});for(var w=0,T=x.length;w<T;w++)x[w].dataIndex=-1;for(var w=0,T=v.count();w<T;w++)x[v.getRawIndex(w)].dataIndex=w},Graph.prototype.clone=function(){for(var o=new Graph(this._directed),v=this.nodes,_=this.edges,x=0;x<v.length;x++)o.addNode(v[x].id,v[x].dataIndex);for(var x=0;x<_.length;x++){var w=_[x];o.addEdge(w.node1.id,w.node2.id,w.dataIndex)}return o},Graph}(),d_=function(){function GraphNode(o,v){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==o?"":o,this.dataIndex=null==v?-1:v}return GraphNode.prototype.degree=function(){return this.edges.length},GraphNode.prototype.inDegree=function(){return this.inEdges.length},GraphNode.prototype.outDegree=function(){return this.outEdges.length},GraphNode.prototype.getModel=function(o){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(o)},GraphNode.prototype.getAdjacentDataIndices=function(){for(var o={edge:[],node:[]},v=0;v<this.edges.length;v++){var _=this.edges[v];_.dataIndex<0||(o.edge.push(_.dataIndex),o.node.push(_.node1.dataIndex,_.node2.dataIndex))}return o},GraphNode.prototype.getTrajectoryDataIndices=function(){for(var o=createHashMap(),v=createHashMap(),_=0;_<this.edges.length;_++){var x=this.edges[_];if(!(x.dataIndex<0)){o.set(x.dataIndex,!0);for(var w=[x.node1],T=[x.node2],L=0;L<w.length;){var N=w[L];L++,v.set(N.dataIndex,!0);for(var B=0;B<N.inEdges.length;B++)o.set(N.inEdges[B].dataIndex,!0),w.push(N.inEdges[B].node1)}for(L=0;L<T.length;){var H=T[L];L++,v.set(H.dataIndex,!0);for(var B=0;B<H.outEdges.length;B++)o.set(H.outEdges[B].dataIndex,!0),T.push(H.outEdges[B].node2)}}}return{edge:o.keys(),node:v.keys()}},GraphNode}(),db=function(){function GraphEdge(o,v,_){this.dataIndex=-1,this.node1=o,this.node2=v,this.dataIndex=null==_?-1:_}return GraphEdge.prototype.getModel=function(o){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(o)},GraphEdge.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},GraphEdge.prototype.getTrajectoryDataIndices=function(){var o=createHashMap(),v=createHashMap();o.set(this.dataIndex,!0);for(var _=[this.node1],x=[this.node2],w=0;w<_.length;){var T=_[w];w++,v.set(T.dataIndex,!0);for(var L=0;L<T.inEdges.length;L++)o.set(T.inEdges[L].dataIndex,!0),_.push(T.inEdges[L].node1)}for(w=0;w<x.length;){var N=x[w];w++,v.set(N.dataIndex,!0);for(var L=0;L<N.outEdges.length;L++)o.set(N.outEdges[L].dataIndex,!0),x.push(N.outEdges[L].node2)}return{edge:o.keys(),node:v.keys()}},GraphEdge}();function createGraphDataProxyMixin(o,v){return{getValue:function(_){var x=this[o][v];return x.getStore().get(x.getDimensionIndex(_||"value"),this.dataIndex)},setVisual:function(_,x){this.dataIndex>=0&&this[o][v].setItemVisual(this.dataIndex,_,x)},getVisual:function(_){return this[o][v].getItemVisual(this.dataIndex,_)},setLayout:function(_,x){this.dataIndex>=0&&this[o][v].setItemLayout(this.dataIndex,_,x)},getLayout:function(){return this[o][v].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[o][v].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[o][v].getRawIndex(this.dataIndex)}}}function createGraphFromNodeEdge(o,v,_,x,w){for(var T,L=new dv(x),N=0;N<o.length;N++)L.addNode(retrieve(o[N].id,o[N].name,N),N);for(var B=[],H=[],Y=0,N=0;N<v.length;N++){var Z=v[N],X=Z.source,et=Z.target;L.addEdge(X,et,Y)&&(H.push(Z),B.push(retrieve(convertOptionIdName(Z.id,null),X+" > "+et)),Y++)}var en=_.get("coordinateSystem");if("cartesian2d"===en||"polar"===en)T=helper_createSeriesData(o,_);else{var er=iU.get(en),ei=er&&er.dimensions||[];0>indexOf(ei,"value")&&ei.concat(["value"]),(T=new lh(prepareSeriesDataSchema(o,{coordDimensions:ei,encodeDefine:_.getEncode()}).dimensions,_)).initData(o)}var ea=new lh(["value"],_);return ea.initData(H,B),w&&w(T,ea),helper_linkSeriesData({mainData:T,struct:L,structAttr:"graph",datas:{node:T,edge:ea},datasAttr:{node:"data",edge:"edgeData"}}),L.update(),L}mixin(d_,createGraphDataProxyMixin("hostGraph","data")),mixin(db,createGraphDataProxyMixin("hostGraph","edgeData"));var dS=function(o){function GraphSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=GraphSeriesModel.type,v.hasSymbolVisual=!0,v}return __extends(GraphSeriesModel,o),GraphSeriesModel.prototype.init=function(v){o.prototype.init.apply(this,arguments);var _=this;function getCategoriesData(){return _._categoriesData}this.legendVisualProvider=new lY(getCategoriesData,getCategoriesData),this.fillDataTextStyle(v.edges||v.links),this._updateCategoriesData()},GraphSeriesModel.prototype.mergeOption=function(v){o.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(v.edges||v.links),this._updateCategoriesData()},GraphSeriesModel.prototype.mergeDefaultAndTheme=function(v){o.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(v,"edgeLabel",["show"])},GraphSeriesModel.prototype.getInitialData=function(o,v){var _=o.edges||o.links||[],x=o.data||o.nodes||[],w=this;if(x&&_){initCurvenessList(this);var T=createGraphFromNodeEdge(x,_,this,!0,beforeLink);return util_each(T.edges,function(o){createEdgeMapForCurveness(o.node1,o.node2,this,o.dataIndex)},this),T.data}function beforeLink(o,v){o.wrapMethod("getItemModel",function(o){var v=w._categoriesModels[o.getShallow("category")];return v&&(v.parentModel=o.parentModel,o.parentModel=v),o});var _=ii.prototype.getModel;function newGetModel(o,v){var x=_.call(this,o,v);return x.resolveParentPath=resolveParentPath,x}function resolveParentPath(o){if(o&&("label"===o[0]||"label"===o[1])){var v=o.slice();return"label"===o[0]?v[0]="edgeLabel":"label"===o[1]&&(v[1]="edgeLabel"),v}return o}v.wrapMethod("getItemModel",function(o){return o.resolveParentPath=resolveParentPath,o.getModel=newGetModel,o})}},GraphSeriesModel.prototype.getGraph=function(){return this.getData().graph},GraphSeriesModel.prototype.getEdgeData=function(){return this.getGraph().edgeData},GraphSeriesModel.prototype.getCategoriesData=function(){return this._categoriesData},GraphSeriesModel.prototype.formatTooltip=function(o,v,_){if("edge"===_){var x=this.getData(),w=this.getDataParams(o,_),T=x.graph.getEdgeByIndex(o),L=x.getName(T.node1.dataIndex),N=x.getName(T.node2.dataIndex),B=[];return null!=L&&B.push(L),null!=N&&B.push(N),createTooltipMarkup("nameValue",{name:B.join(" > "),value:w.value,noValue:null==w.value})}return defaultSeriesFormatTooltip({series:this,dataIndex:o,multipleSeries:v})},GraphSeriesModel.prototype._updateCategoriesData=function(){var o=map(this.option.categories||[],function(o){return null!=o.value?o:extend({value:0},o)}),v=new lh(["value"],this);v.initData(o),this._categoriesData=v,this._categoriesModels=v.mapArray(function(o){return v.getItemModel(o)})},GraphSeriesModel.prototype.setZoom=function(o){this.option.zoom=o},GraphSeriesModel.prototype.setCenter=function(o){this.option.center=o},GraphSeriesModel.prototype.isAnimationEnabled=function(){return o.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},GraphSeriesModel.type="series.graph",GraphSeriesModel.dependencies=["grid","polar","geo","singleAxis","calendar"],GraphSeriesModel.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},GraphSeriesModel}(aS),dx={type:"graphRoam",event:"graphRoam",update:"none"};function graph_install_install(o){o.registerChartView(dy),o.registerSeriesModel(dS),o.registerProcessor(categoryFilter),o.registerVisual(categoryVisual),o.registerVisual(graphEdgeVisual),o.registerLayout(graphSimpleLayout),o.registerLayout(o.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),o.registerLayout(graphForceLayout),o.registerCoordinateSystem("graphView",{dimensions:cP.dimensions,create:createViewCoordSys}),o.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),o.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),o.registerAction(dx,function(o,v,_){v.eachComponent({mainType:"series",query:o},function(v){var x=updateCenterAndZoom(v.coordinateSystem,o,void 0,_);v.setCenter&&v.setCenter(x.center),v.setZoom&&v.setZoom(x.zoom)})})}var PointerShape=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},dw=function(o){function PointerPath(v){var _=o.call(this,v)||this;return _.type="pointer",_}return __extends(PointerPath,o),PointerPath.prototype.getDefaultShape=function(){return new PointerShape},PointerPath.prototype.buildPath=function(o,v){var _=Math.cos,x=Math.sin,w=v.r,T=v.width,L=v.angle,N=v.x-_(L)*T*(T>=w/3?1:2),B=v.y-x(L)*T*(T>=w/3?1:2);L=v.angle-Math.PI/2,o.moveTo(N,B),o.lineTo(v.x+_(L)*T,v.y+x(L)*T),o.lineTo(v.x+_(v.angle)*w,v.y+x(v.angle)*w),o.lineTo(v.x-_(L)*T,v.y-x(L)*T),o.lineTo(N,B)},PointerPath}(rv);function parsePosition(o,v){var _=o.get("center"),x=Math.min(v.getWidth(),v.getHeight());return{cx:number_parsePercent(_[0],v.getWidth()),cy:number_parsePercent(_[1],v.getHeight()),r:number_parsePercent(o.get("radius"),x/2)}}function formatLabel(o,v){var _=null==o?"":o+"";return v&&(util_isString(v)?_=v.replace("{value}",_):isFunction(v)&&(_=v(o))),_}var dC=function(o){function GaugeView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=GaugeView.type,v}return __extends(GaugeView,o),GaugeView.prototype.render=function(o,v,_){this.group.removeAll();var x=o.get(["axisLine","lineStyle","color"]),w=parsePosition(o,_);this._renderMain(o,v,_,x,w),this._data=o.getData()},GaugeView.prototype.dispose=function(){},GaugeView.prototype._renderMain=function(o,v,_,x,w){var T=this.group,L=o.get("clockwise"),N=-o.get("startAngle")/180*Math.PI,B=-o.get("endAngle")/180*Math.PI,H=o.getModel("axisLine"),Y=H.get("roundCap")?lD:aq,Z=H.get("show"),X=H.getModel("lineStyle"),et=X.get("width"),en=[N,B];normalizeArcAngles(en,!L),N=en[0];for(var er=(B=en[1])-N,ei=N,ea=[],eo=0;Z&&eo<x.length;eo++){var el=new Y({shape:{startAngle:ei,endAngle:B=N+er*Math.min(Math.max(x[eo][0],0),1),cx:w.cx,cy:w.cy,clockwise:L,r0:w.r-et,r:w.r},silent:!0});el.setStyle({fill:x[eo][1]}),el.setStyle(X.getLineStyle(["color","width"])),ea.push(el),ei=B}ea.reverse(),util_each(ea,function(o){return T.add(o)});var getColor=function(o){var v;if(o<=0)return x[0][1];for(v=0;v<x.length;v++)if(x[v][0]>=o&&(0===v?0:x[v-1][0])<o)return x[v][1];return x[v-1][1]};this._renderTicks(o,v,_,getColor,w,N,B,L,et),this._renderTitleAndDetail(o,v,_,getColor,w),this._renderAnchor(o,w),this._renderPointer(o,v,_,getColor,w,N,B,L,et)},GaugeView.prototype._renderTicks=function(o,v,_,x,w,T,L,N,B){for(var H,Y,Z=this.group,X=w.cx,et=w.cy,en=w.r,er=+o.get("min"),ei=+o.get("max"),ea=o.getModel("splitLine"),eo=o.getModel("axisTick"),el=o.getModel("axisLabel"),eu=o.get("splitNumber"),ec=eo.get("splitNumber"),ed=number_parsePercent(ea.get("length"),en),eh=number_parsePercent(eo.get("length"),en),ep=T,ef=(L-T)/eu,eg=ef/ec,em=ea.getModel("lineStyle").getLineStyle(),ey=eo.getModel("lineStyle").getLineStyle(),ev=ea.get("distance"),e_=0;e_<=eu;e_++){if(H=Math.cos(ep),Y=Math.sin(ep),ea.get("show")){var eb=ev?ev+B:B,eS=new a3({shape:{x1:H*(en-eb)+X,y1:Y*(en-eb)+et,x2:H*(en-ed-eb)+X,y2:Y*(en-ed-eb)+et},style:em,silent:!0});"auto"===em.stroke&&eS.setStyle({stroke:x(e_/eu)}),Z.add(eS)}if(el.get("show")){var eb=el.get("distance")+ev,ex=formatLabel(round(e_/eu*(ei-er)+er),el.get("formatter")),ew=x(e_/eu),eC=H*(en-ed-eb)+X,eT=Y*(en-ed-eb)+et,eM=el.get("rotate"),eP=0;"radial"===eM?(eP=-ep+2*Math.PI)>Math.PI/2&&(eP+=Math.PI):"tangential"===eM?eP=-ep-Math.PI/2:isNumber(eM)&&(eP=eM*Math.PI/180),0===eP?Z.add(new rR({style:createTextStyle(el,{text:ex,x:eC,y:eT,verticalAlign:Y<-.8?"top":Y>.8?"bottom":"middle",align:H<-.4?"left":H>.4?"right":"center"},{inheritColor:ew}),silent:!0})):Z.add(new rR({style:createTextStyle(el,{text:ex,x:eC,y:eT,verticalAlign:"middle",align:"center"},{inheritColor:ew}),silent:!0,originX:eC,originY:eT,rotation:eP}))}if(eo.get("show")&&e_!==eu){var eb=eo.get("distance");eb=eb?eb+B:B;for(var eI=0;eI<=ec;eI++){var eD=new a3({shape:{x1:(H=Math.cos(ep))*(en-eb)+X,y1:(Y=Math.sin(ep))*(en-eb)+et,x2:H*(en-eh-eb)+X,y2:Y*(en-eh-eb)+et},silent:!0,style:ey});"auto"===ey.stroke&&eD.setStyle({stroke:x((e_+eI/ec)/eu)}),Z.add(eD),ep+=eg}ep-=eg}else ep+=ef}},GaugeView.prototype._renderPointer=function(o,v,_,x,w,T,L,N,B){var H=this.group,Y=this._data,Z=this._progressEls,X=[],et=o.get(["pointer","show"]),en=o.getModel("progress"),er=en.get("show"),ei=o.getData(),ea=ei.mapDimension("value"),eo=+o.get("min"),el=+o.get("max"),eu=[eo,el],ec=[T,L];function createPointer(v,_){var x,T=ei.getItemModel(v).getModel("pointer"),L=number_parsePercent(T.get("width"),w.r),N=number_parsePercent(T.get("length"),w.r),B=o.get(["pointer","icon"]),H=T.get("offsetCenter"),Y=number_parsePercent(H[0],w.r),Z=number_parsePercent(H[1],w.r),X=T.get("keepAspect");return(x=B?symbol_createSymbol(B,Y-L/2,Z-N,L,N,null,X):new dw({shape:{angle:-Math.PI/2,width:L,r:N,x:Y,y:Z}})).rotation=-(_+Math.PI/2),x.x=w.cx,x.y=w.cy,x}function createProgress(o,v){var _=en.get("roundCap")?lD:aq,x=en.get("overlap"),L=x?en.get("width"):B/ei.count(),H=x?w.r-L:w.r-(o+1)*L,Y=x?w.r:w.r-o*L,Z=new _({shape:{startAngle:T,endAngle:v,cx:w.cx,cy:w.cy,clockwise:N,r0:H,r:Y}});return x&&(Z.z2=el-ei.get(ea,o)%el),Z}(er||et)&&(ei.diff(Y).add(function(v){var _=ei.get(ea,v);if(et){var x=createPointer(v,T);initProps(x,{rotation:-((isNaN(+_)?ec[0]:linearMap(_,eu,ec,!0))+Math.PI/2)},o),H.add(x),ei.setItemGraphicEl(v,x)}if(er){var w=createProgress(v,T);initProps(w,{shape:{endAngle:linearMap(_,eu,ec,en.get("clip"))}},o),H.add(w),setCommonECData(o.seriesIndex,ei.dataType,v,w),X[v]=w}}).update(function(v,_){var x=ei.get(ea,v);if(et){var w=Y.getItemGraphicEl(_),L=w?w.rotation:T,N=createPointer(v,L);N.rotation=L,updateProps(N,{rotation:-((isNaN(+x)?ec[0]:linearMap(x,eu,ec,!0))+Math.PI/2)},o),H.add(N),ei.setItemGraphicEl(v,N)}if(er){var B=Z[_],eo=createProgress(v,B?B.shape.endAngle:T);updateProps(eo,{shape:{endAngle:linearMap(x,eu,ec,en.get("clip"))}},o),H.add(eo),setCommonECData(o.seriesIndex,ei.dataType,v,eo),X[v]=eo}}).execute(),ei.each(function(o){var v=ei.getItemModel(o),_=v.getModel("emphasis"),w=_.get("focus"),T=_.get("blurScope"),L=_.get("disabled");if(et){var N=ei.getItemGraphicEl(o),B=ei.getItemVisual(o,"style"),H=B.fill;if(N instanceof rC){var Y=N.style;N.useStyle(extend({image:Y.image,x:Y.x,y:Y.y,width:Y.width,height:Y.height},B))}else N.useStyle(B),"pointer"!==N.type&&N.setColor(H);N.setStyle(v.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===N.style.fill&&N.setStyle("fill",x(linearMap(ei.get(ea,o),eu,[0,1],!0))),N.z2EmphasisLift=0,setStatesStylesFromModel(N,v),toggleHoverEmphasis(N,w,T,L)}if(er){var Z=X[o];Z.useStyle(ei.getItemVisual(o,"style")),Z.setStyle(v.getModel(["progress","itemStyle"]).getItemStyle()),Z.z2EmphasisLift=0,setStatesStylesFromModel(Z,v),toggleHoverEmphasis(Z,w,T,L)}}),this._progressEls=X)},GaugeView.prototype._renderAnchor=function(o,v){var _=o.getModel("anchor");if(_.get("show")){var x=_.get("size"),w=_.get("icon"),T=_.get("offsetCenter"),L=_.get("keepAspect"),N=symbol_createSymbol(w,v.cx-x/2+number_parsePercent(T[0],v.r),v.cy-x/2+number_parsePercent(T[1],v.r),x,x,null,L);N.z2=_.get("showAbove")?1:0,N.setStyle(_.getModel("itemStyle").getItemStyle()),this.group.add(N)}},GaugeView.prototype._renderTitleAndDetail=function(o,v,_,x,w){var T=this,L=o.getData(),N=L.mapDimension("value"),B=+o.get("min"),H=+o.get("max"),Y=new nm,Z=[],X=[],et=o.isAnimationEnabled(),en=o.get(["pointer","showAbove"]);L.diff(this._data).add(function(o){Z[o]=new rR({silent:!0}),X[o]=new rR({silent:!0})}).update(function(o,v){Z[o]=T._titleEls[v],X[o]=T._detailEls[v]}).execute(),L.each(function(v){var _=L.getItemModel(v),T=L.get(N,v),er=new nm,ei=x(linearMap(T,[B,H],[0,1],!0)),ea=_.getModel("title");if(ea.get("show")){var eo=ea.get("offsetCenter"),el=w.cx+number_parsePercent(eo[0],w.r),eu=w.cy+number_parsePercent(eo[1],w.r),ec=Z[v];ec.attr({z2:en?0:2,style:createTextStyle(ea,{x:el,y:eu,text:L.getName(v),align:"center",verticalAlign:"middle"},{inheritColor:ei})}),er.add(ec)}var ed=_.getModel("detail");if(ed.get("show")){var eh=ed.get("offsetCenter"),ep=w.cx+number_parsePercent(eh[0],w.r),ef=w.cy+number_parsePercent(eh[1],w.r),eg=number_parsePercent(ed.get("width"),w.r),em=number_parsePercent(ed.get("height"),w.r),ey=o.get(["progress","show"])?L.getItemVisual(v,"style").fill:ei,ec=X[v],ev=ed.get("formatter");ec.attr({z2:en?0:2,style:createTextStyle(ed,{x:ep,y:ef,text:formatLabel(T,ev),width:isNaN(eg)?null:eg,height:isNaN(em)?null:em,align:"center",verticalAlign:"middle"},{inheritColor:ey})}),setLabelValueAnimation(ec,{normal:ed},T,function(o){return formatLabel(o,ev)}),et&&animateLabelValue(ec,v,L,o,{getFormattedLabel:function(o,v,_,x,w,L){return formatLabel(L?L.interpolatedValue:T,ev)}}),er.add(ec)}Y.add(er)}),this.group.add(Y),this._titleEls=Z,this._detailEls=X},GaugeView.type="gauge",GaugeView}(ob),dT=function(o){function GaugeSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=GaugeSeriesModel.type,v.visualStyleAccessPath="itemStyle",v}return __extends(GaugeSeriesModel,o),GaugeSeriesModel.prototype.getInitialData=function(o,v){return createSeriesDataSimply(this,["value"])},GaugeSeriesModel.type="series.gauge",GaugeSeriesModel.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},GaugeSeriesModel}(aS);function gauge_install_install(o){o.registerChartView(dC),o.registerSeriesModel(dT)}var dM=["itemStyle","opacity"],dP=function(o){function FunnelPiece(v,_){var x=o.call(this)||this,w=new a1,T=new rR;return x.setTextContent(T),x.setTextGuideLine(w),x.updateData(v,_,!0),x}return __extends(FunnelPiece,o),FunnelPiece.prototype.updateData=function(o,v,_){var x=o.hostModel,w=o.getItemModel(v),T=o.getItemLayout(v),L=w.getModel("emphasis"),N=w.get(dM);N=null==N?1:N,_||saveOldStyle(this),this.useStyle(o.getItemVisual(v,"style")),this.style.lineJoin="round",_?(this.setShape({points:T.points}),this.style.opacity=0,initProps(this,{style:{opacity:N}},x,v)):updateProps(this,{style:{opacity:N},shape:{points:T.points}},x,v),setStatesStylesFromModel(this,w),this._updateLabel(o,v),toggleHoverEmphasis(this,L.get("focus"),L.get("blurScope"),L.get("disabled"))},FunnelPiece.prototype._updateLabel=function(o,v){var _=this.getTextGuideLine(),x=this.getTextContent(),w=o.hostModel,T=o.getItemModel(v),L=o.getItemLayout(v).label,N=o.getItemVisual(v,"style"),B=N.fill;setLabelStyle(x,getLabelStatesModels(T),{labelFetcher:o.hostModel,labelDataIndex:v,defaultOpacity:N.opacity,defaultText:o.getName(v)},{normal:{align:L.textAlign,verticalAlign:L.verticalAlign}}),this.setTextConfig({local:!0,inside:!!L.inside,insideStroke:B,outsideFill:B});var H=L.linePoints;_.setShape({points:H}),this.textGuideLineConfig={anchor:H?new th(H[0][0],H[0][1]):null},updateProps(x,{style:{x:L.x,y:L.y}},w,v),x.attr({rotation:L.rotation,originX:L.x,originY:L.y,z2:10}),setLabelLineStyle(this,getLabelLineStatesModels(T),{stroke:B})},FunnelPiece}(aJ),dI=function(o){function FunnelView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=FunnelView.type,v.ignoreLabelLineUpdate=!0,v}return __extends(FunnelView,o),FunnelView.prototype.render=function(o,v,_){var x=o.getData(),w=this._data,T=this.group;x.diff(w).add(function(o){var v=new dP(x,o);x.setItemGraphicEl(o,v),T.add(v)}).update(function(o,v){var _=w.getItemGraphicEl(v);_.updateData(x,o),T.add(_),x.setItemGraphicEl(o,_)}).remove(function(v){removeElementWithFadeOut(w.getItemGraphicEl(v),o,v)}).execute(),this._data=x},FunnelView.prototype.remove=function(){this.group.removeAll(),this._data=null},FunnelView.prototype.dispose=function(){},FunnelView.type="funnel",FunnelView}(ob),dD=function(o){function FunnelSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=FunnelSeriesModel.type,v}return __extends(FunnelSeriesModel,o),FunnelSeriesModel.prototype.init=function(v){o.prototype.init.apply(this,arguments),this.legendVisualProvider=new lY(e2(this.getData,this),e2(this.getRawData,this)),this._defaultLabelLine(v)},FunnelSeriesModel.prototype.getInitialData=function(o,v){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry(makeSeriesEncodeForNameBased,this)})},FunnelSeriesModel.prototype._defaultLabelLine=function(o){defaultEmphasis(o,"labelLine",["show"]);var v=o.labelLine,_=o.emphasis.labelLine;v.show=v.show&&o.label.show,_.show=_.show&&o.emphasis.label.show},FunnelSeriesModel.prototype.getDataParams=function(v){var _=this.getData(),x=o.prototype.getDataParams.call(this,v),w=_.mapDimension("value"),T=_.getSum(w);return x.percent=T?+(_.get(w,v)/T*100).toFixed(2):0,x.$vars.push("percent"),x},FunnelSeriesModel.type="series.funnel",FunnelSeriesModel.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},FunnelSeriesModel}(aS);function funnelLayout_getViewRect(o,v){return getLayoutRect(o.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()})}function getSortedIndices(o,v){for(var _=o.mapDimension("value"),x=o.mapArray(_,function(o){return o}),w=[],T="ascending"===v,L=0,N=o.count();L<N;L++)w[L]=L;return isFunction(v)?w.sort(v):"none"!==v&&w.sort(function(o,v){return T?x[o]-x[v]:x[v]-x[o]}),w}function labelLayout(o){var v=o.hostModel.get("orient");o.each(function(_){var x,w,T,L,N=o.getItemModel(_),B=N.getModel("label").get("position"),H=N.getModel("labelLine"),Y=o.getItemLayout(_),Z=Y.points,X="inner"===B||"inside"===B||"center"===B||"insideLeft"===B||"insideRight"===B;if(X)"insideLeft"===B?(w=(Z[0][0]+Z[3][0])/2+5,T=(Z[0][1]+Z[3][1])/2,x="left"):"insideRight"===B?(w=(Z[1][0]+Z[2][0])/2-5,T=(Z[1][1]+Z[2][1])/2,x="right"):(w=(Z[0][0]+Z[1][0]+Z[2][0]+Z[3][0])/4,T=(Z[0][1]+Z[1][1]+Z[2][1]+Z[3][1])/4,x="center"),L=[[w,T],[w,T]];else{var et=void 0,en=void 0,er=void 0,ei=void 0,ea=H.get("length");"left"===B?(et=(Z[3][0]+Z[0][0])/2,en=(Z[3][1]+Z[0][1])/2,w=(er=et-ea)-5,x="right"):"right"===B?(et=(Z[1][0]+Z[2][0])/2,en=(Z[1][1]+Z[2][1])/2,w=(er=et+ea)+5,x="left"):"top"===B?(et=(Z[3][0]+Z[0][0])/2,T=(ei=(en=(Z[3][1]+Z[0][1])/2)-ea)-5,x="center"):"bottom"===B?(et=(Z[1][0]+Z[2][0])/2,T=(ei=(en=(Z[1][1]+Z[2][1])/2)+ea)+5,x="center"):"rightTop"===B?(et="horizontal"===v?Z[3][0]:Z[1][0],en="horizontal"===v?Z[3][1]:Z[1][1],"horizontal"===v?(T=(ei=en-ea)-5,x="center"):(w=(er=et+ea)+5,x="top")):"rightBottom"===B?(et=Z[2][0],en=Z[2][1],"horizontal"===v?(T=(ei=en+ea)+5,x="center"):(w=(er=et+ea)+5,x="bottom")):"leftTop"===B?(et=Z[0][0],en="horizontal"===v?Z[0][1]:Z[1][1],"horizontal"===v?(T=(ei=en-ea)-5,x="center"):(w=(er=et-ea)-5,x="right")):"leftBottom"===B?(et="horizontal"===v?Z[1][0]:Z[3][0],en="horizontal"===v?Z[1][1]:Z[2][1],"horizontal"===v?(T=(ei=en+ea)+5,x="center"):(w=(er=et-ea)-5,x="right")):(et=(Z[1][0]+Z[2][0])/2,en=(Z[1][1]+Z[2][1])/2,"horizontal"===v?(T=(ei=en+ea)+5,x="center"):(w=(er=et+ea)+5,x="left")),"horizontal"===v?w=er=et:T=ei=en,L=[[et,en],[er,ei]]}Y.label={linePoints:L,x:w,y:T,verticalAlign:"middle",textAlign:x,inside:X}})}function funnelLayout(o,v){o.eachSeriesByType("funnel",function(o){var _=o.getData(),x=_.mapDimension("value"),w=o.get("sort"),T=funnelLayout_getViewRect(o,v),L=o.get("orient"),N=T.width,B=T.height,H=getSortedIndices(_,w),Y=T.x,Z=T.y,X="horizontal"===L?[number_parsePercent(o.get("minSize"),B),number_parsePercent(o.get("maxSize"),B)]:[number_parsePercent(o.get("minSize"),N),number_parsePercent(o.get("maxSize"),N)],et=_.getDataExtent(x),en=o.get("min"),er=o.get("max");null==en&&(en=Math.min(et[0],0)),null==er&&(er=et[1]);var ei=o.get("funnelAlign"),ea=o.get("gap"),eo=(("horizontal"===L?N:B)-ea*(_.count()-1))/_.count(),getLinePoints=function(o,v){if("horizontal"===L){var w,T=linearMap(_.get(x,o)||0,[en,er],X,!0),H=void 0;switch(ei){case"top":H=Z;break;case"center":H=Z+(B-T)/2;break;case"bottom":H=Z+(B-T)}return[[v,H],[v,H+T]]}var et=linearMap(_.get(x,o)||0,[en,er],X,!0);switch(ei){case"left":w=Y;break;case"center":w=Y+(N-et)/2;break;case"right":w=Y+N-et}return[[w,v],[w+et,v]]};"ascending"===w&&(eo=-eo,ea=-ea,"horizontal"===L?Y+=N:Z+=B,H=H.reverse());for(var el=0;el<H.length;el++){var eu=H[el],ec=H[el+1],ed=_.getItemModel(eu);if("horizontal"===L){var eh=ed.get(["itemStyle","width"]);null==eh?eh=eo:(eh=number_parsePercent(eh,N),"ascending"===w&&(eh=-eh));var ep=getLinePoints(eu,Y),ef=getLinePoints(ec,Y+eh);Y+=eh+ea,_.setItemLayout(eu,{points:ep.concat(ef.slice().reverse())})}else{var eg=ed.get(["itemStyle","height"]);null==eg?eg=eo:(eg=number_parsePercent(eg,B),"ascending"===w&&(eg=-eg));var ep=getLinePoints(eu,Z),ef=getLinePoints(ec,Z+eg);Z+=eg+ea,_.setItemLayout(eu,{points:ep.concat(ef.slice().reverse())})}}labelLayout(_)})}function funnel_install_install(o){o.registerChartView(dI),o.registerSeriesModel(dD),o.registerLayout(funnelLayout),o.registerProcessor(dataFilter("funnel"))}var dE=function(o){function ParallelView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ParallelView.type,v._dataGroup=new nm,v._initialized=!1,v}return __extends(ParallelView,o),ParallelView.prototype.init=function(){this.group.add(this._dataGroup)},ParallelView.prototype.render=function(o,v,_,x){this._progressiveEls=null;var w=this._dataGroup,T=o.getData(),L=this._data,N=o.coordinateSystem,B=N.dimensions,H=ParallelView_makeSeriesScope(o);function add(o){updateElCommon(addEl(T,w,o,B,N),T,o,H)}function update(v,_){var x=L.getItemGraphicEl(_),w=createLinePoints(T,v,B,N);T.setItemGraphicEl(v,x),updateProps(x,{shape:{points:w}},o,v),saveOldStyle(x),updateElCommon(x,T,v,H)}function remove(o){var v=L.getItemGraphicEl(o);w.remove(v)}if(T.diff(L).add(add).update(update).remove(remove).execute(),!this._initialized){this._initialized=!0;var Y=createGridClipShape(N,o,function(){setTimeout(function(){w.removeClipPath()})});w.setClipPath(Y)}this._data=T},ParallelView.prototype.incrementalPrepareRender=function(o,v,_){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},ParallelView.prototype.incrementalRender=function(o,v,_){for(var x=v.getData(),w=v.coordinateSystem,T=w.dimensions,L=ParallelView_makeSeriesScope(v),N=this._progressiveEls=[],B=o.start;B<o.end;B++){var H=addEl(x,this._dataGroup,B,T,w);H.incremental=!0,updateElCommon(H,x,B,L),N.push(H)}},ParallelView.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},ParallelView.type="parallel",ParallelView}(ob);function createGridClipShape(o,v,_){var x=o.model,w=o.getRect(),T=new rI({shape:{x:w.x,y:w.y,width:w.width,height:w.height}}),L="horizontal"===x.get("layout")?"width":"height";return T.setShape(L,0),initProps(T,{shape:{width:w.width,height:w.height}},v,_),T}function createLinePoints(o,v,_,x){for(var w=[],T=0;T<_.length;T++){var L=_[T],N=o.get(o.mapDimension(L),v);isEmptyValue(N,x.getAxis(L).type)||w.push(x.dataToPoint(N,L))}return w}function addEl(o,v,_,x,w){var T=new a1({shape:{points:createLinePoints(o,_,x,w)},z2:10});return v.add(T),o.setItemGraphicEl(_,T),T}function ParallelView_makeSeriesScope(o){var v,_=o.get("smooth",!0);return!0===_&&(_=.3),(v=_=numericToNumber(_))!=v&&(_=0),{smooth:_}}function updateElCommon(o,v,_,x){o.useStyle(v.getItemVisual(_,"style")),o.style.fill=null,o.setShape("smooth",x.smooth);var w=v.getItemModel(_),T=w.getModel("emphasis");setStatesStylesFromModel(o,w,"lineStyle"),toggleHoverEmphasis(o,T.get("focus"),T.get("blurScope"),T.get("disabled"))}function isEmptyValue(o,v){return"category"===v?null==o:null==o||isNaN(o)}var dO=function(o){function ParallelSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ParallelSeriesModel.type,v.visualStyleAccessPath="lineStyle",v.visualDrawType="stroke",v}return __extends(ParallelSeriesModel,o),ParallelSeriesModel.prototype.getInitialData=function(o,v){return helper_createSeriesData(null,this,{useEncodeDefaulter:e2(makeDefaultEncode,null,this)})},ParallelSeriesModel.prototype.getRawIndicesByActiveState=function(o){var v=this.coordinateSystem,_=this.getData(),x=[];return v.eachActiveState(_,function(v,w){o===v&&x.push(_.getRawIndex(w))}),x},ParallelSeriesModel.type="series.parallel",ParallelSeriesModel.dependencies=["parallel"],ParallelSeriesModel.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},ParallelSeriesModel}(aS);function makeDefaultEncode(o){var v=o.ecModel.getComponent("parallel",o.get("parallelIndex"));if(v){var _={};return util_each(v.dimensions,function(o){var v=convertDimNameToNumber(o);_[o]=v}),_}}function convertDimNameToNumber(o){return+o.replace("dim","")}var dA=["lineStyle","opacity"],dk={seriesType:"parallel",reset:function(o,v){var _=o.coordinateSystem,x={normal:o.get(["lineStyle","opacity"]),active:o.get("activeOpacity"),inactive:o.get("inactiveOpacity")};return{progress:function(o,v){_.eachActiveState(v,function(o,_){var w=x[o];if("normal"===o&&v.hasItemOption){var T=v.getItemModel(_).get(dA,!0);null!=T&&(w=T)}v.ensureUniqueItemVisual(_,"style").opacity=w},o.start,o.end)}}}};function parallelPreprocessor(o){createParallelIfNeeded(o),mergeAxisOptionFromParallel(o)}function createParallelIfNeeded(o){if(!o.parallel){var v=!1;util_each(o.series,function(o){o&&"parallel"===o.type&&(v=!0)}),v&&(o.parallel=[{}])}}function mergeAxisOptionFromParallel(o){util_each(normalizeToArray(o.parallelAxis),function(v){if(util_isObject(v)){var _=v.parallelIndex||0,x=normalizeToArray(o.parallel)[_];x&&x.parallelAxisDefault&&merge(v,x.parallelAxisDefault,!1)}})}var dL=function(o){function ParallelView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ParallelView.type,v}return __extends(ParallelView,o),ParallelView.prototype.render=function(o,v,_){this._model=o,this._api=_,this._handlers||(this._handlers={},util_each(dR,function(o,v){_.getZr().on(v,this._handlers[v]=e2(o,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",o.get("axisExpandRate"),"fixRate")},ParallelView.prototype.dispose=function(o,v){clear(this,"_throttledDispatchExpand"),util_each(this._handlers,function(o,_){v.getZr().off(_,o)}),this._handlers=null},ParallelView.prototype._throttledDispatchExpand=function(o){this._dispatchExpand(o)},ParallelView.prototype._dispatchExpand=function(o){o&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},o))},ParallelView.type="parallel",ParallelView}(ax),dR={mousedown:function(o){checkTrigger(this,"click")&&(this._mouseDownPoint=[o.offsetX,o.offsetY])},mouseup:function(o){var v=this._mouseDownPoint;if(checkTrigger(this,"click")&&v){var _=[o.offsetX,o.offsetY];if(Math.pow(v[0]-_[0],2)+Math.pow(v[1]-_[1],2)>5)return;var x=this._model.coordinateSystem.getSlidedAxisExpandWindow([o.offsetX,o.offsetY]);"none"!==x.behavior&&this._dispatchExpand({axisExpandWindow:x.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(o){if(!this._mouseDownPoint&&checkTrigger(this,"mousemove")){var v=this._model,_=v.coordinateSystem.getSlidedAxisExpandWindow([o.offsetX,o.offsetY]),x=_.behavior;"jump"===x&&this._throttledDispatchExpand.debounceNextCall(v.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===x?null:{axisExpandWindow:_.axisExpandWindow,animation:"jump"===x?null:{duration:0}})}}};function checkTrigger(o,v){var _=o._model;return _.get("axisExpandable")&&_.get("axisExpandTriggerOn")===v}var dN=function(o){function ParallelModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ParallelModel.type,v}return __extends(ParallelModel,o),ParallelModel.prototype.init=function(){o.prototype.init.apply(this,arguments),this.mergeOption({})},ParallelModel.prototype.mergeOption=function(o){var v=this.option;o&&merge(v,o,!0),this._initDimensions()},ParallelModel.prototype.contains=function(o,v){var _=o.get("parallelIndex");return null!=_&&v.getComponent("parallel",_)===this},ParallelModel.prototype.setAxisExpand=function(o){util_each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(v){o.hasOwnProperty(v)&&(this.option[v]=o[v])},this)},ParallelModel.prototype._initDimensions=function(){var o=this.dimensions=[],v=this.parallelAxisIndex=[];util_each(filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this),function(_){o.push("dim"+_.get("dim")),v.push(_.componentIndex)})},ParallelModel.type="parallel",ParallelModel.dependencies=["parallelAxis"],ParallelModel.layoutMode="box",ParallelModel.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},ParallelModel}(ix),dF=function(o){function ParallelAxis(v,_,x,w,T){var L=o.call(this,v,_,x)||this;return L.type=w||"value",L.axisIndex=T,L}return __extends(ParallelAxis,o),ParallelAxis.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},ParallelAxis}(uC);function sliderMove(o,v,_,x,w,T){o=o||0;var L,N=_[1]-_[0];if(null!=w&&(w=restrict(w,[0,N])),null!=T&&(T=Math.max(T,null!=w?w:0)),"all"===x){var B=Math.abs(v[1]-v[0]);B=restrict(B,[0,N]),w=T=restrict(B,[w,T]),x=0}v[0]=restrict(v[0],_),v[1]=restrict(v[1],_);var H=getSpanSign(v,x);v[x]+=o;var Y=w||0,Z=_.slice();return H.sign<0?Z[0]+=Y:Z[1]-=Y,v[x]=restrict(v[x],Z),L=getSpanSign(v,x),null!=w&&(L.sign!==H.sign||L.span<w)&&(v[1-x]=v[x]+H.sign*w),L=getSpanSign(v,x),null!=T&&L.span>T&&(v[1-x]=v[x]+L.sign*T),v}function getSpanSign(o,v){var _=o[v]-o[1-v];return{span:Math.abs(_),sign:_>0?-1:_<0?1:v?-1:1}}function restrict(o,v){return Math.min(null!=v[1]?v[1]:1/0,Math.max(null!=v[0]?v[0]:-1/0,o))}var dV=util_each,dB=Math.min,dz=Math.max,dj=Math.floor,dH=Math.ceil,dG=round,dU=Math.PI,dW=function(){function Parallel(o,v,_){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=o.dimensions,this._model=o,this._init(o,v,_)}return Parallel.prototype._init=function(o,v,_){var x=o.dimensions,w=o.parallelAxisIndex;dV(x,function(o,_){var x=w[_],T=v.getComponent("parallelAxis",x),L=this._axesMap.set(o,new dF(o,createScaleByModel(T),[0,0],T.get("type"),x)),N="category"===L.type;L.onBand=N&&T.get("boundaryGap"),L.inverse=T.get("inverse"),T.axis=L,L.model=T,L.coordinateSystem=T.coordinateSystem=this},this)},Parallel.prototype.update=function(o,v){this._updateAxesFromSeries(this._model,o)},Parallel.prototype.containPoint=function(o){var v=this._makeLayoutInfo(),_=v.axisBase,x=v.layoutBase,w=v.pixelDimIndex,T=o[1-w],L=o[w];return T>=_&&T<=_+v.axisLength&&L>=x&&L<=x+v.layoutLength},Parallel.prototype.getModel=function(){return this._model},Parallel.prototype._updateAxesFromSeries=function(o,v){v.eachSeries(function(_){if(o.contains(_,v)){var x=_.getData();dV(this.dimensions,function(o){var v=this._axesMap.get(o);v.scale.unionExtentFromData(x,x.mapDimension(o)),niceScaleExtent(v.scale,v.model)},this)}},this)},Parallel.prototype.resize=function(o,v){this._rect=getLayoutRect(o.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()}),this._layoutAxes()},Parallel.prototype.getRect=function(){return this._rect},Parallel.prototype._makeLayoutInfo=function(){var o,v=this._model,_=this._rect,x=["x","y"],w=["width","height"],T=v.get("layout"),L="horizontal"===T?0:1,N=_[w[L]],B=[0,N],H=this.dimensions.length,Y=Parallel_restrict(v.get("axisExpandWidth"),B),Z=Parallel_restrict(v.get("axisExpandCount")||0,[0,H]),X=v.get("axisExpandable")&&H>3&&H>Z&&Z>1&&Y>0&&N>0,et=v.get("axisExpandWindow");et?(o=Parallel_restrict(et[1]-et[0],B),et[1]=et[0]+o):(o=Parallel_restrict(Y*(Z-1),B),(et=[Y*(v.get("axisExpandCenter")||dj(H/2))-o/2])[1]=et[0]+o);var en=(N-o)/(H-Z);en<3&&(en=0);var er=[dj(dG(et[0]/Y,1))+1,dH(dG(et[1]/Y,1))-1],ei=en/Y*et[0];return{layout:T,pixelDimIndex:L,layoutBase:_[x[L]],layoutLength:N,axisBase:_[x[1-L]],axisLength:_[w[1-L]],axisExpandable:X,axisExpandWidth:Y,axisCollapseWidth:en,axisExpandWindow:et,axisCount:H,winInnerIndices:er,axisExpandWindow0Pos:ei}},Parallel.prototype._layoutAxes=function(){var o=this._rect,v=this._axesMap,_=this.dimensions,x=this._makeLayoutInfo(),w=x.layout;v.each(function(o){var v=[0,x.axisLength],_=o.inverse?1:0;o.setExtent(v[_],v[1-_])}),dV(_,function(v,_){var T=(x.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(_,x),L={horizontal:{x:T.position,y:x.axisLength},vertical:{x:0,y:T.position}},N=[L[w].x+o.x,L[w].y+o.y],B={horizontal:dU/2,vertical:0}[w],H=matrix_create();rotate(H,H,B),translate(H,H,N),this._axesLayout[v]={position:N,rotation:B,transform:H,axisNameAvailableWidth:T.axisNameAvailableWidth,axisLabelShow:T.axisLabelShow,nameTruncateMaxWidth:T.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},Parallel.prototype.getAxis=function(o){return this._axesMap.get(o)},Parallel.prototype.dataToPoint=function(o,v){return this.axisCoordToPoint(this._axesMap.get(v).dataToCoord(o),v)},Parallel.prototype.eachActiveState=function(o,v,_,x){null==_&&(_=0),null==x&&(x=o.count());var w=this._axesMap,T=this.dimensions,L=[],N=[];util_each(T,function(v){L.push(o.mapDimension(v)),N.push(w.get(v).model)});for(var B=this.hasAxisBrushed(),H=_;H<x;H++){var Y=void 0;if(B){Y="active";for(var Z=o.getValues(L,H),X=0,et=T.length;X<et;X++)if("inactive"===N[X].getActiveState(Z[X])){Y="inactive";break}}else Y="normal";v(Y,H)}},Parallel.prototype.hasAxisBrushed=function(){for(var o=this.dimensions,v=this._axesMap,_=!1,x=0,w=o.length;x<w;x++)"normal"!==v.get(o[x]).model.getActiveState()&&(_=!0);return _},Parallel.prototype.axisCoordToPoint=function(o,v){return graphic_applyTransform([o,0],this._axesLayout[v].transform)},Parallel.prototype.getAxisLayout=function(o){return clone(this._axesLayout[o])},Parallel.prototype.getSlidedAxisExpandWindow=function(o){var v,_=this._makeLayoutInfo(),x=_.pixelDimIndex,w=_.axisExpandWindow.slice(),T=w[1]-w[0],L=[0,_.axisExpandWidth*(_.axisCount-1)];if(!this.containPoint(o))return{behavior:"none",axisExpandWindow:w};var N=o[x]-_.layoutBase-_.axisExpandWindow0Pos,B="slide",H=_.axisCollapseWidth,Y=this._model.get("axisExpandSlideTriggerArea"),Z=null!=Y[0];if(H)Z&&H&&N<T*Y[0]?(B="jump",v=N-T*Y[2]):Z&&H&&N>T*(1-Y[0])?(B="jump",v=N-T*(1-Y[2])):(v=N-T*Y[1])>=0&&(v=N-T*(1-Y[1]))<=0&&(v=0),(v*=_.axisExpandWidth/H)?sliderMove(v,w,L,"all"):B="none";else{var X=w[1]-w[0];(w=[dz(0,L[1]*N/X-X/2)])[1]=dB(L[1],w[0]+X),w[0]=w[1]-X}return{axisExpandWindow:w,behavior:B}},Parallel}();function Parallel_restrict(o,v){return dB(dz(o,v[0]),v[1])}function layoutAxisWithoutExpand(o,v){var _=v.layoutLength/(v.axisCount-1);return{position:_*o,axisNameAvailableWidth:_,axisLabelShow:!0}}function layoutAxisWithExpand(o,v){var _,x,w=v.layoutLength,T=v.axisExpandWidth,L=v.axisCount,N=v.axisCollapseWidth,B=v.winInnerIndices,H=N,Y=!1;return o<B[0]?(_=o*N,x=N):o<=B[1]?(_=v.axisExpandWindow0Pos+o*T-v.axisExpandWindow[0],H=T,Y=!0):(_=w-(L-1-o)*N,x=N),{position:_,axisNameAvailableWidth:H,axisLabelShow:Y,nameTruncateMaxWidth:x}}var dY={create:function(o,v){var _=[];return o.eachComponent("parallel",function(x,w){var T=new dW(x,o,v);T.name="parallel_"+w,T.resize(x,v),x.coordinateSystem=T,T.model=x,_.push(T)}),o.eachSeries(function(o){if("parallel"===o.get("coordinateSystem")){var v=o.getReferringComponents("parallel",nT).models[0];o.coordinateSystem=v.coordinateSystem}}),_}},dK=function(o){function ParallelAxisModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ParallelAxisModel.type,v.activeIntervals=[],v}return __extends(ParallelAxisModel,o),ParallelAxisModel.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},ParallelAxisModel.prototype.setActiveIntervals=function(o){var v=this.activeIntervals=clone(o);if(v)for(var _=v.length-1;_>=0;_--)asc(v[_])},ParallelAxisModel.prototype.getActiveState=function(o){var v=this.activeIntervals;if(!v.length)return"normal";if(null==o||isNaN(+o))return"inactive";if(1===v.length){var _=v[0];if(_[0]<=o&&o<=_[1])return"active"}else for(var x=0,w=v.length;x<w;x++)if(v[x][0]<=o&&o<=v[x][1])return"active";return"inactive"},ParallelAxisModel}(ix);mixin(dK,l0);var dZ=Math.min,dq=Math.max,dX=Math.pow,d$="globalPan",dQ={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},dJ={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},d0={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},d1=0,d2=function(o){function BrushController(v){var _=o.call(this)||this;return _._track=[],_._covers=[],_._handlers={},_._zr=v,_.group=new nm,_._uid="brushController_"+d1++,util_each(d5,function(o,v){this._handlers[v]=e2(o,this)},_),_}return __extends(BrushController,o),BrushController.prototype.enableBrush=function(o){return this._brushType&&this._doDisableBrush(),o.brushType&&this._doEnableBrush(o),this},BrushController.prototype._doEnableBrush=function(o){var v=this._zr;this._enableGlobalPan||take(v,d$,this._uid),util_each(this._handlers,function(o,_){v.on(_,o)}),this._brushType=o.brushType,this._brushOption=merge(clone(d0),o,!0)},BrushController.prototype._doDisableBrush=function(){var o=this._zr;release(o,d$,this._uid),util_each(this._handlers,function(v,_){o.off(_,v)}),this._brushType=this._brushOption=null},BrushController.prototype.setPanels=function(o){if(o&&o.length){var v=this._panels={};util_each(o,function(o){v[o.panelId]=clone(o)})}else this._panels=null;return this},BrushController.prototype.mount=function(o){o=o||{},this._enableGlobalPan=o.enableGlobalPan;var v=this.group;return this._zr.add(v),v.attr({x:o.x||0,y:o.y||0,rotation:o.rotation||0,scaleX:o.scaleX||1,scaleY:o.scaleY||1}),this._transform=v.getLocalTransform(),this},BrushController.prototype.updateCovers=function(o){o=map(o,function(o){return merge(clone(d0),o,!0)});var v=this._covers,_=this._covers=[],x=this,w=this._creatingCover;return new ln(v,o,oldGetKey,getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute(),this;function getKey(o,v){return(null!=o.id?o.id:"\x00-brush-index-"+v)+"-"+o.brushType}function oldGetKey(o,v){return getKey(o.__brushOption,v)}function addOrUpdate(T,L){var N=o[T];if(null!=L&&v[L]===w)_[T]=v[L];else{var B=_[T]=null!=L?(v[L].__brushOption=N,v[L]):endCreating(x,createCover(x,N));updateCoverAfterCreation(x,B)}}function remove(o){v[o]!==w&&x.group.remove(v[o])}},BrushController.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},BrushController.prototype.dispose=function(){this.unmount(),this.off()},BrushController}(te);function createCover(o,v){var _=d3[v.brushType].createCover(o,v);return _.__brushOption=v,updateZ(_,v),o.group.add(_),_}function endCreating(o,v){var _=getCoverRenderer(v);return _.endCreating&&(_.endCreating(o,v),updateZ(v,v.__brushOption)),v}function updateCoverShape(o,v){var _=v.__brushOption;getCoverRenderer(v).updateCoverShape(o,v,_.range,_)}function updateZ(o,v){var _=v.z;null==_&&(_=1e4),o.traverse(function(o){o.z=_,o.z2=_})}function updateCoverAfterCreation(o,v){getCoverRenderer(v).updateCommon(o,v),updateCoverShape(o,v)}function getCoverRenderer(o){return d3[o.__brushOption.brushType]}function getPanelByPoint(o,v,_){var x,w=o._panels;if(!w)return!0;var T=o._transform;return util_each(w,function(o){o.isTargetByCursor(v,_,T)&&(x=o)}),x}function getPanelByCover(o,v){var _=o._panels;if(!_)return!0;var x=v.__brushOption.panelId;return null==x||_[x]}function clearCovers(o){var v=o._covers,_=v.length;return util_each(v,function(v){o.group.remove(v)},o),v.length=0,!!_}function BrushController_trigger(o,v){var _=map(o._covers,function(o){var v=o.__brushOption,_=clone(v.range);return{brushType:v.brushType,panelId:v.panelId,range:_}});o.trigger("brush",{areas:_,isEnd:!!v.isEnd,removeOnClick:!!v.removeOnClick})}function shouldShowCover(o){var v=o._track;if(!v.length)return!1;var _=v[v.length-1],x=v[0],w=_[0]-x[0],T=_[1]-x[1];return dX(w*w+T*T,.5)>6}function getTrackEnds(o){var v=o.length-1;return v<0&&(v=0),[o[0],o[v]]}function createBaseRectCover(o,v,_,x){var w=new nm;return w.add(new rI({name:"main",style:makeStyle(_),silent:!0,draggable:!0,cursor:"move",drift:curry(driftRect,o,v,w,["n","s","w","e"]),ondragend:curry(BrushController_trigger,v,{isEnd:!0})})),util_each(x,function(_){w.add(new rI({name:_.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry(driftRect,o,v,w,_),ondragend:curry(BrushController_trigger,v,{isEnd:!0})}))}),w}function updateBaseRect(o,v,_,x){var w=x.brushStyle.lineWidth||0,T=dq(w,6),L=_[0][0],N=_[1][0],B=L-w/2,H=N-w/2,Y=_[0][1],Z=_[1][1],X=Y-T+w/2,et=Z-T+w/2,en=Y-L,er=Z-N,ei=en+w,ea=er+w;updateRectShape(o,v,"main",L,N,en,er),x.transformable&&(updateRectShape(o,v,"w",B,H,T,ea),updateRectShape(o,v,"e",X,H,T,ea),updateRectShape(o,v,"n",B,H,ei,T),updateRectShape(o,v,"s",B,et,ei,T),updateRectShape(o,v,"nw",B,H,T,T),updateRectShape(o,v,"ne",X,H,T,T),updateRectShape(o,v,"sw",B,et,T,T),updateRectShape(o,v,"se",X,et,T,T))}function updateCommon(o,v){var _=v.__brushOption,x=_.transformable,w=v.childAt(0);w.useStyle(makeStyle(_)),w.attr({silent:!x,cursor:x?"move":"default"}),util_each([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(_){var w=v.childOfName(_.join("")),T=1===_.length?getGlobalDirection1(o,_[0]):getGlobalDirection2(o,_);w&&w.attr({silent:!x,invisible:!x,cursor:x?dJ[T]+"-resize":null})})}function updateRectShape(o,v,_,x,w,T,L){var N=v.childOfName(_);N&&N.setShape(pointsToRect(clipByPanel(o,v,[[x,w],[x+T,w+L]])))}function makeStyle(o){return util_defaults({strokeNoScale:!0},o.brushStyle)}function formatRectRange(o,v,_,x){var w=[dZ(o,_),dZ(v,x)],T=[dq(o,_),dq(v,x)];return[[w[0],T[0]],[w[1],T[1]]]}function BrushController_getTransform(o){return getTransform(o.group)}function getGlobalDirection1(o,v){return({left:"w",right:"e",top:"n",bottom:"s"})[transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[v],BrushController_getTransform(o))]}function getGlobalDirection2(o,v){var _=[getGlobalDirection1(o,v[0]),getGlobalDirection1(o,v[1])];return("e"===_[0]||"w"===_[0])&&_.reverse(),_.join("")}function driftRect(o,v,_,x,w,T){var L=_.__brushOption,N=o.toRectRange(L.range),B=toLocalDelta(v,w,T);util_each(x,function(o){var v=dQ[o];N[v[0]][v[1]]+=B[v[0]]}),L.range=o.fromRectRange(formatRectRange(N[0][0],N[1][0],N[0][1],N[1][1])),updateCoverAfterCreation(v,_),BrushController_trigger(v,{isEnd:!1})}function driftPolygon(o,v,_,x){var w=v.__brushOption.range,T=toLocalDelta(o,_,x);util_each(w,function(o){o[0]+=T[0],o[1]+=T[1]}),updateCoverAfterCreation(o,v),BrushController_trigger(o,{isEnd:!1})}function toLocalDelta(o,v,_){var x=o.group,w=x.transformCoordToLocal(v,_),T=x.transformCoordToLocal(0,0);return[w[0]-T[0],w[1]-T[1]]}function clipByPanel(o,v,_){var x=getPanelByCover(o,v);return x&&!0!==x?x.clipPath(_,o._transform):clone(_)}function pointsToRect(o){var v=dZ(o[0][0],o[1][0]),_=dZ(o[0][1],o[1][1]);return{x:v,y:_,width:dq(o[0][0],o[1][0])-v,height:dq(o[0][1],o[1][1])-_}}function resetCursor(o,v,_){if(!(!o._brushType||isOutsideZrArea(o,v.offsetX,v.offsetY))){var x=o._zr,w=o._covers,T=getPanelByPoint(o,v,_);if(!o._dragging)for(var L=0;L<w.length;L++){var N=w[L].__brushOption;if(T&&(!0===T||N.panelId===T.panelId)&&d3[N.brushType].contain(w[L],_[0],_[1]))return}T&&x.setCursorStyle("crosshair")}}function preventDefault(o){var v=o.event;v.preventDefault&&v.preventDefault()}function mainShapeContain(o,v,_){return o.childOfName("main").contain(v,_)}function updateCoverByMouse(o,v,_,x){var w,T=o._creatingCover,L=o._creatingPanel,N=o._brushOption;if(o._track.push(_.slice()),shouldShowCover(o)||T){if(L&&!T){"single"===N.brushMode&&clearCovers(o);var B=clone(N);B.brushType=determineBrushType(B.brushType,L),B.panelId=!0===L?null:L.panelId,T=o._creatingCover=createCover(o,B),o._covers.push(T)}if(T){var H=d3[determineBrushType(o._brushType,L)];T.__brushOption.range=H.getCreatingRange(clipByPanel(o,T,o._track)),x&&(endCreating(o,T),H.updateCommon(o,T)),updateCoverShape(o,T),w={isEnd:x}}}else x&&"single"===N.brushMode&&N.removeOnClick&&getPanelByPoint(o,v,_)&&clearCovers(o)&&(w={isEnd:x,removeOnClick:!0});return w}function determineBrushType(o,v){return"auto"===o?v.defaultBrushType:o}var d5={mousedown:function(o){if(this._dragging)handleDragEnd(this,o);else if(!o.target||!o.target.draggable){preventDefault(o);var v=this.group.transformCoordToLocal(o.offsetX,o.offsetY);this._creatingCover=null,(this._creatingPanel=getPanelByPoint(this,o,v))&&(this._dragging=!0,this._track=[v.slice()])}},mousemove:function(o){var v=o.offsetX,_=o.offsetY,x=this.group.transformCoordToLocal(v,_);if(resetCursor(this,o,x),this._dragging){preventDefault(o);var w=updateCoverByMouse(this,o,x,!1);w&&BrushController_trigger(this,w)}},mouseup:function(o){handleDragEnd(this,o)}};function handleDragEnd(o,v){if(o._dragging){preventDefault(v);var _=v.offsetX,x=v.offsetY,w=o.group.transformCoordToLocal(_,x),T=updateCoverByMouse(o,v,w,!0);o._dragging=!1,o._track=[],o._creatingCover=null,T&&BrushController_trigger(o,T)}}function isOutsideZrArea(o,v,_){var x=o._zr;return v<0||v>x.getWidth()||_<0||_>x.getHeight()}var d3={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(o,v){function returnInput(o){return o}return createBaseRectCover({toRectRange:returnInput,fromRectRange:returnInput},o,v,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(o){var v=getTrackEnds(o);return formatRectRange(v[1][0],v[1][1],v[0][0],v[0][1])},updateCoverShape:function(o,v,_,x){updateBaseRect(o,v,_,x)},updateCommon:updateCommon,contain:mainShapeContain},polygon:{createCover:function(o,v){var _=new nm;return _.add(new a1({name:"main",style:makeStyle(v),silent:!0})),_},getCreatingRange:function(o){return o},endCreating:function(o,v){v.remove(v.childAt(0)),v.add(new aJ({name:"main",draggable:!0,drift:curry(driftPolygon,o,v),ondragend:curry(BrushController_trigger,o,{isEnd:!0})}))},updateCoverShape:function(o,v,_,x){v.childAt(0).setShape({points:clipByPanel(o,v,_)})},updateCommon:updateCommon,contain:mainShapeContain}};function getLineRenderer(o){return{createCover:function(v,_){return createBaseRectCover({toRectRange:function(v){var _=[v,[0,100]];return o&&_.reverse(),_},fromRectRange:function(v){return v[o]}},v,_,[[["w"],["e"]],[["n"],["s"]]][o])},getCreatingRange:function(v){var _=getTrackEnds(v);return[dZ(_[0][o],_[1][o]),dq(_[0][o],_[1][o])]},updateCoverShape:function(v,_,x,w){var T,L=getPanelByCover(v,_);if(!0!==L&&L.getLinearBrushOtherExtent)T=L.getLinearBrushOtherExtent(o);else{var N=v._zr;T=[0,[N.getWidth(),N.getHeight()][1-o]]}var B=[x,T];o&&B.reverse(),updateBaseRect(v,_,B,w)},updateCommon:updateCommon,contain:mainShapeContain}}function makeRectPanelClipPath(o){return o=normalizeRect(o),function(v){return clipPointsByRect(v,o)}}function makeLinearBrushOtherExtent(o,v){return o=normalizeRect(o),function(_){var x=null!=v?v:_,w=x?o.width:o.height,T=x?o.x:o.y;return[T,T+(w||0)]}}function makeRectIsTargetByCursor(o,v,_){var x=normalizeRect(o);return function(o,w){return x.contain(w[0],w[1])&&!onIrrelevantElement(o,v,_)}}function normalizeRect(o){return tS.create(o)}var d4=["axisLine","axisTickLabel","axisName"],d7=function(o){function ParallelAxisView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ParallelAxisView.type,v}return __extends(ParallelAxisView,o),ParallelAxisView.prototype.init=function(v,_){o.prototype.init.apply(this,arguments),(this._brushController=new d2(_.getZr())).on("brush",e2(this._onBrush,this))},ParallelAxisView.prototype.render=function(o,v,_,x){if(!fromAxisAreaSelect(o,v,x)){this.axisModel=o,this.api=_,this.group.removeAll();var w=this._axisGroup;if(this._axisGroup=new nm,this.group.add(this._axisGroup),o.get("show")){var T=getCoordSysModel(o,v),L=T.coordinateSystem,N=o.getAreaSelectStyle(),B=N.width,H=o.axis.dim,Y=extend({strokeContainThreshold:B},L.getAxisLayout(H)),Z=new uD(o,Y);util_each(d4,Z.add,Z),this._axisGroup.add(Z.getGroup()),this._refreshBrushController(Y,N,o,T,B,_),groupTransition(w,this._axisGroup,o)}}},ParallelAxisView.prototype._refreshBrushController=function(o,v,_,x,w,T){var L=_.axis.getExtent(),N=L[1]-L[0],B=Math.min(30,.1*Math.abs(N)),H=tS.create({x:L[0],y:-w/2,width:N,height:w});H.x-=B,H.width+=2*B,this._brushController.mount({enableGlobalPan:!0,rotation:o.rotation,x:o.position[0],y:o.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(H),isTargetByCursor:makeRectIsTargetByCursor(H,T,x),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(H,0)}]).enableBrush({brushType:"lineX",brushStyle:v,removeOnClick:!0}).updateCovers(getCoverInfoList(_))},ParallelAxisView.prototype._onBrush=function(o){var v=o.areas,_=this.axisModel,x=_.axis,w=map(v,function(o){return[x.coordToData(o.range[0],!0),x.coordToData(o.range[1],!0)]});(!_.option.realtime===o.isEnd||o.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:_.id,intervals:w})},ParallelAxisView.prototype.dispose=function(){this._brushController.dispose()},ParallelAxisView.type="parallelAxis",ParallelAxisView}(ax);function fromAxisAreaSelect(o,v,_){return _&&"axisAreaSelect"===_.type&&v.findComponents({mainType:"parallelAxis",query:_})[0]===o}function getCoverInfoList(o){var v=o.axis;return map(o.activeIntervals,function(o){return{brushType:"lineX",panelId:"pl",range:[v.dataToCoord(o[0],!0),v.dataToCoord(o[1],!0)]}})}function getCoordSysModel(o,v){return v.getComponent("parallel",o.get("parallelIndex"))}var d6={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(o){o.registerAction(d6,function(o,v){v.eachComponent({mainType:"parallelAxis",query:o},function(v){v.axis.model.setActiveIntervals(o.intervals)})}),o.registerAction("parallelAxisExpand",function(o,v){v.eachComponent({mainType:"parallel",query:o},function(v){v.setAxisExpand(o)})})}var d9={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function parallel_install_install(o){o.registerComponentView(dL),o.registerComponentModel(dN),o.registerCoordinateSystem("parallel",dY),o.registerPreprocessor(parallelPreprocessor),o.registerComponentModel(dK),o.registerComponentView(d7),axisModelCreator(o,"parallel",dK,d9),installParallelActions(o)}function chart_parallel_install_install(o){use(parallel_install_install),o.registerChartView(dE),o.registerSeriesModel(dO),o.registerVisual(o.PRIORITY.VISUAL.BRUSH,dk)}var SankeyPathShape=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},d8=function(o){function SankeyPath(v){return o.call(this,v)||this}return __extends(SankeyPath,o),SankeyPath.prototype.getDefaultShape=function(){return new SankeyPathShape},SankeyPath.prototype.buildPath=function(o,v){var _=v.extent;o.moveTo(v.x1,v.y1),o.bezierCurveTo(v.cpx1,v.cpy1,v.cpx2,v.cpy2,v.x2,v.y2),"vertical"===v.orient?(o.lineTo(v.x2+_,v.y2),o.bezierCurveTo(v.cpx2+_,v.cpy2,v.cpx1+_,v.cpy1,v.x1+_,v.y1)):(o.lineTo(v.x2,v.y2+_),o.bezierCurveTo(v.cpx2,v.cpy2+_,v.cpx1,v.cpy1+_,v.x1,v.y1+_)),o.closePath()},SankeyPath.prototype.highlight=function(){enterEmphasis(this)},SankeyPath.prototype.downplay=function(){leaveEmphasis(this)},SankeyPath}(rv),ht=function(o){function SankeyView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SankeyView.type,v._focusAdjacencyDisabled=!1,v}return __extends(SankeyView,o),SankeyView.prototype.render=function(o,v,_){var x=this,w=o.getGraph(),T=this.group,L=o.layoutInfo,N=L.width,B=L.height,H=o.getData(),Y=o.getData("edge"),Z=o.get("orient");this._model=o,T.removeAll(),T.x=L.x,T.y=L.y,w.eachEdge(function(v){var _,x,w,L,H,X,et,en,er=new d8,ei=rN(er);ei.dataIndex=v.dataIndex,ei.seriesIndex=o.seriesIndex,ei.dataType="edge";var ea=v.getModel(),eo=ea.getModel("lineStyle"),el=eo.get("curveness"),eu=v.node1.getLayout(),ec=v.node1.getModel(),ed=ec.get("localX"),eh=ec.get("localY"),ep=v.node2.getLayout(),ef=v.node2.getModel(),eg=ef.get("localX"),em=ef.get("localY"),ey=v.getLayout();er.shape.extent=Math.max(1,ey.dy),er.shape.orient=Z,"vertical"===Z?(_=(null!=ed?ed*N:eu.x)+ey.sy,x=(null!=eh?eh*B:eu.y)+eu.dy,w=(null!=eg?eg*N:ep.x)+ey.ty,L=null!=em?em*B:ep.y,H=_,X=x*(1-el)+L*el,et=w,en=x*el+L*(1-el)):(_=(null!=ed?ed*N:eu.x)+eu.dx,x=(null!=eh?eh*B:eu.y)+ey.sy,w=null!=eg?eg*N:ep.x,L=(null!=em?em*B:ep.y)+ey.ty,H=_*(1-el)+w*el,X=x,et=_*el+w*(1-el),en=L),er.setShape({x1:_,y1:x,x2:w,y2:L,cpx1:H,cpy1:X,cpx2:et,cpy2:en}),er.useStyle(eo.getItemStyle()),applyCurveStyle(er.style,Z,v);var ev=""+ea.get("value"),e_=getLabelStatesModels(ea,"edgeLabel");setLabelStyle(er,e_,{labelFetcher:{getFormattedLabel:function(v,_,x,w,T,L){return o.getFormattedLabel(v,_,"edge",w,retrieve3(T,e_.normal&&e_.normal.get("formatter"),ev),L)}},labelDataIndex:v.dataIndex,defaultText:ev}),er.setTextConfig({position:"inside"});var eb=ea.getModel("emphasis");setStatesStylesFromModel(er,ea,"lineStyle",function(o){var _=o.getItemStyle();return applyCurveStyle(_,Z,v),_}),T.add(er),Y.setItemGraphicEl(v.dataIndex,er);var eS=eb.get("focus");toggleHoverEmphasis(er,"adjacency"===eS?v.getAdjacentDataIndices():"trajectory"===eS?v.getTrajectoryDataIndices():eS,eb.get("blurScope"),eb.get("disabled"))}),w.eachNode(function(v){var _=v.getLayout(),x=v.getModel(),w=x.get("localX"),L=x.get("localY"),Y=x.getModel("emphasis"),Z=new rI({shape:{x:null!=w?w*N:_.x,y:null!=L?L*B:_.y,width:_.dx,height:_.dy},style:x.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(Z,getLabelStatesModels(x),{labelFetcher:{getFormattedLabel:function(v,_){return o.getFormattedLabel(v,_,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),Z.disableLabelAnimation=!0,Z.setStyle("fill",v.getVisual("color")),Z.setStyle("decal",v.getVisual("style").decal),setStatesStylesFromModel(Z,x),T.add(Z),H.setItemGraphicEl(v.dataIndex,Z),rN(Z).dataType="node";var X=Y.get("focus");toggleHoverEmphasis(Z,"adjacency"===X?v.getAdjacentDataIndices():"trajectory"===X?v.getTrajectoryDataIndices():X,Y.get("blurScope"),Y.get("disabled"))}),H.eachItemGraphicEl(function(v,w){H.getItemModel(w).get("draggable")&&(v.drift=function(v,T){x._focusAdjacencyDisabled=!0,this.shape.x+=v,this.shape.y+=T,this.dirty(),_.dispatchAction({type:"dragNode",seriesId:o.id,dataIndex:H.getRawIndex(w),localX:this.shape.x/N,localY:this.shape.y/B})},v.ondragend=function(){x._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&o.isAnimationEnabled()&&T.setClipPath(SankeyView_createGridClipShape(T.getBoundingRect(),o,function(){T.removeClipPath()})),this._data=o.getData()},SankeyView.prototype.dispose=function(){},SankeyView.type="sankey",SankeyView}(ob);function applyCurveStyle(o,v,_){switch(o.fill){case"source":o.fill=_.node1.getVisual("color"),o.decal=_.node1.getVisual("style").decal;break;case"target":o.fill=_.node2.getVisual("color"),o.decal=_.node2.getVisual("style").decal;break;case"gradient":var x=_.node1.getVisual("color"),w=_.node2.getVisual("color");util_isString(x)&&util_isString(w)&&(o.fill=new or(0,0,+("horizontal"===v),+("vertical"===v),[{color:x,offset:0},{color:w,offset:1}]))}}function SankeyView_createGridClipShape(o,v,_){var x=new rI({shape:{x:o.x-10,y:o.y-10,width:0,height:o.height+20}});return initProps(x,{shape:{width:o.width+20}},v,_),x}var hn=function(o){function SankeySeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SankeySeriesModel.type,v}return __extends(SankeySeriesModel,o),SankeySeriesModel.prototype.getInitialData=function(o,v){var _=o.edges||o.links,x=o.data||o.nodes,w=o.levels;this.levelModels=[];for(var T=this.levelModels,L=0;L<w.length;L++)null!=w[L].depth&&w[L].depth>=0&&(T[w[L].depth]=new ii(w[L],this,v));if(x&&_)return createGraphFromNodeEdge(x,_,this,!0,beforeLink).data;function beforeLink(o,v){o.wrapMethod("getItemModel",function(o,v){var _=o.parentModel,x=_.getData().getItemLayout(v);if(x){var w=x.depth,T=_.levelModels[w];T&&(o.parentModel=T)}return o}),v.wrapMethod("getItemModel",function(o,v){var _=o.parentModel,x=_.getGraph().getEdgeByIndex(v).node1.getLayout();if(x){var w=x.depth,T=_.levelModels[w];T&&(o.parentModel=T)}return o})}},SankeySeriesModel.prototype.setNodePosition=function(o,v){var _=(this.option.data||this.option.nodes)[o];_.localX=v[0],_.localY=v[1]},SankeySeriesModel.prototype.getGraph=function(){return this.getData().graph},SankeySeriesModel.prototype.getEdgeData=function(){return this.getGraph().edgeData},SankeySeriesModel.prototype.formatTooltip=function(o,v,_){function noValue(o){return isNaN(o)||null==o}if("edge"===_){var x=this.getDataParams(o,_),w=x.data,T=x.value;return createTooltipMarkup("nameValue",{name:w.source+" -- "+w.target,value:T,noValue:noValue(T)})}var L=this.getGraph().getNodeByIndex(o).getLayout().value,N=this.getDataParams(o,_).data.name;return createTooltipMarkup("nameValue",{name:null!=N?N+"":null,value:L,noValue:noValue(L)})},SankeySeriesModel.prototype.optionUpdated=function(){},SankeySeriesModel.prototype.getDataParams=function(v,_){var x=o.prototype.getDataParams.call(this,v,_);if(null==x.value&&"node"===_){var w=this.getGraph().getNodeByIndex(v).getLayout().value;x.value=w}return x},SankeySeriesModel.type="series.sankey",SankeySeriesModel.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},SankeySeriesModel}(aS);function sankeyLayout(o,v){o.eachSeriesByType("sankey",function(o){var _=o.get("nodeWidth"),x=o.get("nodeGap"),w=sankeyLayout_getViewRect(o,v);o.layoutInfo=w;var T=w.width,L=w.height,N=o.getGraph(),B=N.nodes,H=N.edges;computeNodeValues(B);var Y=0!==filter(B,function(o){return 0===o.getLayout().value}).length?0:o.get("layoutIterations");layoutSankey(B,H,_,x,T,L,Y,o.get("orient"),o.get("nodeAlign"))})}function sankeyLayout_getViewRect(o,v){return getLayoutRect(o.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()})}function layoutSankey(o,v,_,x,w,T,L,N,B){computeNodeBreadths(o,v,_,w,T,N,B),computeNodeDepths(o,v,T,w,x,L,N),computeEdgeDepths(o,N)}function computeNodeValues(o){util_each(o,function(o){var v=sum(o.outEdges,getEdgeValue),_=sum(o.inEdges,getEdgeValue),x=o.getValue()||0;o.setLayout({value:Math.max(v,_,x)},!0)})}function computeNodeBreadths(o,v,_,x,w,T,L){for(var N=[],B=[],H=[],Y=[],Z=0,X=0;X<v.length;X++)N[X]=1;for(var X=0;X<o.length;X++)B[X]=o[X].inEdges.length,0===B[X]&&H.push(o[X]);for(var et=-1;H.length;){for(var en=0;en<H.length;en++){var er=H[en],ei=er.hostGraph.data.getRawDataItem(er.dataIndex),ea=null!=ei.depth&&ei.depth>=0;ea&&ei.depth>et&&(et=ei.depth),er.setLayout({depth:ea?ei.depth:Z},!0),"vertical"===T?er.setLayout({dy:_},!0):er.setLayout({dx:_},!0);for(var eo=0;eo<er.outEdges.length;eo++){var el=er.outEdges[eo];N[v.indexOf(el)]=0;var eu=el.node2,ec=o.indexOf(eu);0==--B[ec]&&0>Y.indexOf(eu)&&Y.push(eu)}}++Z,H=Y,Y=[]}for(var X=0;X<N.length;X++)if(1===N[X])throw Error("Sankey is a DAG, the original data has cycle!");var ed=et>Z-1?et:Z-1;L&&"left"!==L&&adjustNodeWithNodeAlign(o,L,T,ed),scaleNodeBreadths(o,"vertical"===T?(w-_)/ed:(x-_)/ed,T)}function isNodeDepth(o){var v=o.hostGraph.data.getRawDataItem(o.dataIndex);return null!=v.depth&&v.depth>=0}function adjustNodeWithNodeAlign(o,v,_,x){if("right"===v){for(var w=[],T=o,L=0;T.length;){for(var N=0;N<T.length;N++){var B=T[N];B.setLayout({skNodeHeight:L},!0);for(var H=0;H<B.inEdges.length;H++){var Y=B.inEdges[H];0>w.indexOf(Y.node1)&&w.push(Y.node1)}}T=w,w=[],++L}util_each(o,function(o){isNodeDepth(o)||o.setLayout({depth:Math.max(0,x-o.getLayout().skNodeHeight)},!0)})}else"justify"===v&&moveSinksRight(o,x)}function moveSinksRight(o,v){util_each(o,function(o){isNodeDepth(o)||o.outEdges.length||o.setLayout({depth:v},!0)})}function scaleNodeBreadths(o,v,_){util_each(o,function(o){var x=o.getLayout().depth*v;"vertical"===_?o.setLayout({y:x},!0):o.setLayout({x:x},!0)})}function computeNodeDepths(o,v,_,x,w,T,L){var N=prepareNodesByBreadth(o,L);initializeNodeDepth(N,v,_,x,w,L),resolveCollisions(N,w,_,x,L);for(var B=1;T>0;T--)relaxRightToLeft(N,B*=.99,L),resolveCollisions(N,w,_,x,L),relaxLeftToRight(N,B,L),resolveCollisions(N,w,_,x,L)}function prepareNodesByBreadth(o,v){var _=[],x="vertical"===v?"y":"x",w=groupData(o,function(o){return o.getLayout()[x]});return w.keys.sort(function(o,v){return o-v}),util_each(w.keys,function(o){_.push(w.buckets.get(o))}),_}function initializeNodeDepth(o,v,_,x,w,T){var L=1/0;util_each(o,function(o){var v=o.length,N=0;util_each(o,function(o){N+=o.getLayout().value});var B="vertical"===T?(x-(v-1)*w)/N:(_-(v-1)*w)/N;B<L&&(L=B)}),util_each(o,function(o){util_each(o,function(o,v){var _=o.getLayout().value*L;"vertical"===T?(o.setLayout({x:v},!0),o.setLayout({dx:_},!0)):(o.setLayout({y:v},!0),o.setLayout({dy:_},!0))})}),util_each(v,function(o){var v=+o.getValue()*L;o.setLayout({dy:v},!0)})}function resolveCollisions(o,v,_,x,w){var T="vertical"===w?"x":"y";util_each(o,function(o){o.sort(function(o,v){return o.getLayout()[T]-v.getLayout()[T]});for(var L,N,B,H=0,Y=o.length,Z="vertical"===w?"dx":"dy",X=0;X<Y;X++)(B=H-(N=o[X]).getLayout()[T])>0&&(L=N.getLayout()[T]+B,"vertical"===w?N.setLayout({x:L},!0):N.setLayout({y:L},!0)),H=N.getLayout()[T]+N.getLayout()[Z]+v;if((B=H-v-("vertical"===w?x:_))>0){L=N.getLayout()[T]-B,"vertical"===w?N.setLayout({x:L},!0):N.setLayout({y:L},!0),H=L;for(var X=Y-2;X>=0;--X)(B=(N=o[X]).getLayout()[T]+N.getLayout()[Z]+v-H)>0&&(L=N.getLayout()[T]-B,"vertical"===w?N.setLayout({x:L},!0):N.setLayout({y:L},!0)),H=N.getLayout()[T]}})}function relaxRightToLeft(o,v,_){util_each(o.slice().reverse(),function(o){util_each(o,function(o){if(o.outEdges.length){var x=sum(o.outEdges,weightedTarget,_)/sum(o.outEdges,getEdgeValue);if(isNaN(x)){var w=o.outEdges.length;x=w?sum(o.outEdges,centerTarget,_)/w:0}if("vertical"===_){var T=o.getLayout().x+(x-sankeyLayout_center(o,_))*v;o.setLayout({x:T},!0)}else{var L=o.getLayout().y+(x-sankeyLayout_center(o,_))*v;o.setLayout({y:L},!0)}}})})}function weightedTarget(o,v){return sankeyLayout_center(o.node2,v)*o.getValue()}function centerTarget(o,v){return sankeyLayout_center(o.node2,v)}function weightedSource(o,v){return sankeyLayout_center(o.node1,v)*o.getValue()}function centerSource(o,v){return sankeyLayout_center(o.node1,v)}function sankeyLayout_center(o,v){return"vertical"===v?o.getLayout().x+o.getLayout().dx/2:o.getLayout().y+o.getLayout().dy/2}function getEdgeValue(o){return o.getValue()}function sum(o,v,_){for(var x=0,w=o.length,T=-1;++T<w;){var L=+v(o[T],_);isNaN(L)||(x+=L)}return x}function relaxLeftToRight(o,v,_){util_each(o,function(o){util_each(o,function(o){if(o.inEdges.length){var x=sum(o.inEdges,weightedSource,_)/sum(o.inEdges,getEdgeValue);if(isNaN(x)){var w=o.inEdges.length;x=w?sum(o.inEdges,centerSource,_)/w:0}if("vertical"===_){var T=o.getLayout().x+(x-sankeyLayout_center(o,_))*v;o.setLayout({x:T},!0)}else{var L=o.getLayout().y+(x-sankeyLayout_center(o,_))*v;o.setLayout({y:L},!0)}}})})}function computeEdgeDepths(o,v){var _="vertical"===v?"x":"y";util_each(o,function(o){o.outEdges.sort(function(o,v){return o.node2.getLayout()[_]-v.node2.getLayout()[_]}),o.inEdges.sort(function(o,v){return o.node1.getLayout()[_]-v.node1.getLayout()[_]})}),util_each(o,function(o){var v=0,_=0;util_each(o.outEdges,function(o){o.setLayout({sy:v},!0),v+=o.getLayout().dy}),util_each(o.inEdges,function(o){o.setLayout({ty:_},!0),_+=o.getLayout().dy})})}function sankeyVisual(o){o.eachSeriesByType("sankey",function(o){var v=o.getGraph(),_=v.nodes,x=v.edges;if(_.length){var w=1/0,T=-1/0;util_each(_,function(o){var v=o.getLayout().value;v<w&&(w=v),v>T&&(T=v)}),util_each(_,function(v){var _=new c$({type:"color",mappingMethod:"linear",dataExtent:[w,T],visual:o.get("color")}).mapValueToVisual(v.getLayout().value),x=v.getModel().get(["itemStyle","color"]);null!=x?(v.setVisual("color",x),v.setVisual("style",{fill:x})):(v.setVisual("color",_),v.setVisual("style",{fill:_}))})}x.length&&util_each(x,function(o){var v=o.getModel().get("lineStyle");o.setVisual("style",v)})})}function sankey_install_install(o){o.registerChartView(ht),o.registerSeriesModel(hn),o.registerLayout(sankeyLayout),o.registerVisual(sankeyVisual),o.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(o,v){v.eachComponent({mainType:"series",subType:"sankey",query:o},function(v){v.setNodePosition(o.dataIndex,[o.localX,o.localY])})})}var hr=function(){function WhiskerBoxCommonMixin(){}return WhiskerBoxCommonMixin.prototype.getInitialData=function(o,v){var _,x,w=v.getComponent("xAxis",this.get("xAxisIndex")),T=v.getComponent("yAxis",this.get("yAxisIndex")),L=w.get("type"),N=T.get("type");"category"===L?(o.layout="horizontal",_=w.getOrdinalMeta(),x=!0):"category"===N?(o.layout="vertical",_=T.getOrdinalMeta(),x=!0):o.layout=o.layout||"horizontal";var B=["x","y"],H="horizontal"===o.layout?0:1,Y=this._baseAxisDim=B[H],Z=B[1-H],X=[w,T],et=X[H].get("type"),en=X[1-H].get("type"),er=o.data;if(er&&x){var ei=[];util_each(er,function(o,v){var _;util_isArray(o)?(_=o.slice(),o.unshift(v)):util_isArray(o.value)?((_=extend({},o)).value=_.value.slice(),o.value.unshift(v)):_=o,ei.push(_)}),o.data=ei}var ea=this.defaultValueDimensions,eo=[{name:Y,type:getDimensionTypeByAxis(et),ordinalMeta:_,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:Z,type:getDimensionTypeByAxis(en),dimsDef:ea.slice()}];return createSeriesDataSimply(this,{coordDimensions:eo,dimensionsCount:ea.length+1,encodeDefaulter:curry(makeSeriesEncodeForAxisCoordSys,eo,this)})},WhiskerBoxCommonMixin.prototype.getBaseAxis=function(){var o=this._baseAxisDim;return this.ecModel.getComponent(o+"Axis",this.get(o+"AxisIndex")).axis},WhiskerBoxCommonMixin}(),hi=function(o){function BoxplotSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=BoxplotSeriesModel.type,v.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],v.visualDrawType="stroke",v}return __extends(BoxplotSeriesModel,o),BoxplotSeriesModel.type="series.boxplot",BoxplotSeriesModel.dependencies=["xAxis","yAxis","grid"],BoxplotSeriesModel.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},BoxplotSeriesModel}(aS);mixin(hi,hr,!0);var ha=function(o){function BoxplotView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=BoxplotView.type,v}return __extends(BoxplotView,o),BoxplotView.prototype.render=function(o,v,_){var x=o.getData(),w=this.group,T=this._data;this._data||w.removeAll();var L="horizontal"===o.get("layout")?1:0;x.diff(T).add(function(o){if(x.hasValue(o)){var v=createNormalBox(x.getItemLayout(o),x,o,L,!0);x.setItemGraphicEl(o,v),w.add(v)}}).update(function(o,v){var _=T.getItemGraphicEl(v);if(!x.hasValue(o)){w.remove(_);return}var N=x.getItemLayout(o);_?(saveOldStyle(_),updateNormalBoxData(N,_,x,o)):_=createNormalBox(N,x,o,L),w.add(_),x.setItemGraphicEl(o,_)}).remove(function(o){var v=T.getItemGraphicEl(o);v&&w.remove(v)}).execute(),this._data=x},BoxplotView.prototype.remove=function(o){var v=this.group,_=this._data;this._data=null,_&&_.eachItemGraphicEl(function(o){o&&v.remove(o)})},BoxplotView.type="boxplot",BoxplotView}(ob),BoxPathShape=function(){},ho=function(o){function BoxPath(v){var _=o.call(this,v)||this;return _.type="boxplotBoxPath",_}return __extends(BoxPath,o),BoxPath.prototype.getDefaultShape=function(){return new BoxPathShape},BoxPath.prototype.buildPath=function(o,v){var _=v.points,x=0;for(o.moveTo(_[x][0],_[x][1]),x++;x<4;x++)o.lineTo(_[x][0],_[x][1]);for(o.closePath();x<_.length;x++)o.moveTo(_[x][0],_[x][1]),x++,o.lineTo(_[x][0],_[x][1])},BoxPath}(rv);function createNormalBox(o,v,_,x,w){var T=o.ends,L=new ho({shape:{points:w?transInit(T,x,o):T}});return updateNormalBoxData(o,L,v,_,w),L}function updateNormalBoxData(o,v,_,x,w){var T=_.hostModel;(0,eF[w?"initProps":"updateProps"])(v,{shape:{points:o.ends}},T,x),v.useStyle(_.getItemVisual(x,"style")),v.style.strokeNoScale=!0,v.z2=100;var L=_.getItemModel(x),N=L.getModel("emphasis");setStatesStylesFromModel(v,L),toggleHoverEmphasis(v,N.get("focus"),N.get("blurScope"),N.get("disabled"))}function transInit(o,v,_){return map(o,function(o){return(o=o.slice())[v]=_.initBaseline,o})}var hs=util_each;function boxplotLayout(o){hs(groupSeriesByAxis(o),function(o){var v=o.seriesModels;v.length&&(calculateBase(o),hs(v,function(v,_){layoutSingleSeries(v,o.boxOffsetList[_],o.boxWidthList[_])}))})}function groupSeriesByAxis(o){var v=[],_=[];return o.eachSeriesByType("boxplot",function(o){var x=o.getBaseAxis(),w=indexOf(_,x);w<0&&(w=_.length,_[w]=x,v[w]={axis:x,seriesModels:[]}),v[w].seriesModels.push(o)}),v}function calculateBase(o){var v,_=o.axis,x=o.seriesModels,w=x.length,T=o.boxWidthList=[],L=o.boxOffsetList=[],N=[];if("category"===_.type)v=_.getBandWidth();else{var B=0;hs(x,function(o){B=Math.max(B,o.getData().count())});var H=_.getExtent();v=Math.abs(H[1]-H[0])/B}hs(x,function(o){var _=o.get("boxWidth");util_isArray(_)||(_=[_,_]),N.push([number_parsePercent(_[0],v)||0,number_parsePercent(_[1],v)||0])});var Y=.8*v-2,Z=Y/w*.3,X=(Y-Z*(w-1))/w,et=X/2-Y/2;hs(x,function(o,v){L.push(et),et+=Z+X,T.push(Math.min(Math.max(X,N[v][0]),N[v][1]))})}function layoutSingleSeries(o,v,_){var x=o.coordinateSystem,w=o.getData(),T=_/2,L="horizontal"===o.get("layout")?0:1,N=1-L,B=["x","y"],H=w.mapDimension(B[L]),Y=w.mapDimensionsAll(B[N]);if(null!=H&&!(Y.length<5))for(var Z=0;Z<w.count();Z++){var X=w.get(H,Z),et=getPoint(X,Y[2],Z),en=getPoint(X,Y[0],Z),er=getPoint(X,Y[1],Z),ei=getPoint(X,Y[3],Z),ea=getPoint(X,Y[4],Z),eo=[];addBodyEnd(eo,er,!1),addBodyEnd(eo,ei,!0),eo.push(en,er,ea,ei),layEndLine(eo,en),layEndLine(eo,ea),layEndLine(eo,et),w.setItemLayout(Z,{initBaseline:et[N],ends:eo})}function getPoint(o,_,T){var B,H=w.get(_,T),Y=[];return Y[L]=o,Y[N]=H,isNaN(o)||isNaN(H)?B=[NaN,NaN]:(B=x.dataToPoint(Y),B[L]+=v),B}function addBodyEnd(o,v,_){var x=v.slice(),w=v.slice();x[L]+=T,w[L]-=T,_?o.push(x,w):o.push(w,x)}function layEndLine(o,v){var _=v.slice(),x=v.slice();_[L]-=T,x[L]+=T,o.push(_,x)}}function prepareBoxplotData(o,v){for(var _=[],x=[],w=(v=v||{}).boundIQR,T="none"===w||0===w,L=0;L<o.length;L++){var N=asc(o[L].slice()),B=quantile(N,.25),H=quantile(N,.5),Y=quantile(N,.75),Z=N[0],X=N[N.length-1],et=(null==w?1.5:w)*(Y-B),en=T?Z:Math.max(Z,B-et),er=T?X:Math.min(X,Y+et),ei=v.itemNameFormatter,ea=isFunction(ei)?ei({value:L}):util_isString(ei)?ei.replace("{value}",L+""):L+"";_.push([ea,en,B,H,Y,er]);for(var eo=0;eo<N.length;eo++){var el=N[eo];if(el<en||el>er){var eu=[ea,el];x.push(eu)}}}return{boxData:_,outliers:x}}var hl={type:"echarts:boxplot",transform:function(o){var v=o.upstream;v.sourceFormat!==iI&&throwError("");var _=prepareBoxplotData(v.getRawData(),o.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:_.boxData},{data:_.outliers}]}};function boxplot_install_install(o){o.registerSeriesModel(hi),o.registerChartView(ha),o.registerLayout(boxplotLayout),o.registerTransform(hl)}var hu=["color","borderColor"],hc=function(o){function CandlestickView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=CandlestickView.type,v}return __extends(CandlestickView,o),CandlestickView.prototype.render=function(o,v,_){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(o),this._isLargeDraw?this._renderLarge(o):this._renderNormal(o)},CandlestickView.prototype.incrementalPrepareRender=function(o,v,_){this._clear(),this._updateDrawMode(o)},CandlestickView.prototype.incrementalRender=function(o,v,_,x){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(o,v):this._incrementalRenderNormal(o,v)},CandlestickView.prototype.eachRendered=function(o){traverseElements(this._progressiveEls||this.group,o)},CandlestickView.prototype._updateDrawMode=function(o){var v=o.pipelineContext.large;(null==this._isLargeDraw||v!==this._isLargeDraw)&&(this._isLargeDraw=v,this._clear())},CandlestickView.prototype._renderNormal=function(o){var v=o.getData(),_=this._data,x=this.group,w=v.getLayout("isSimpleBox"),T=o.get("clip",!0),L=o.coordinateSystem,N=L.getArea&&L.getArea();this._data||x.removeAll(),v.diff(_).add(function(_){if(v.hasValue(_)){var L=v.getItemLayout(_);if(!(T&&isNormalBoxClipped(N,L))){var B=CandlestickView_createNormalBox(L,_,!0);initProps(B,{shape:{points:L.ends}},o,_),setBoxCommon(B,v,_,w),x.add(B),v.setItemGraphicEl(_,B)}}}).update(function(L,B){var H=_.getItemGraphicEl(B);if(!v.hasValue(L)){x.remove(H);return}var Y=v.getItemLayout(L);if(T&&isNormalBoxClipped(N,Y)){x.remove(H);return}H?(updateProps(H,{shape:{points:Y.ends}},o,L),saveOldStyle(H)):H=CandlestickView_createNormalBox(Y,L),setBoxCommon(H,v,L,w),x.add(H),v.setItemGraphicEl(L,H)}).remove(function(o){var v=_.getItemGraphicEl(o);v&&x.remove(v)}).execute(),this._data=v},CandlestickView.prototype._renderLarge=function(o){this._clear(),CandlestickView_createLarge(o,this.group);var v=o.get("clip",!0)?createClipPath(o.coordinateSystem,!1,o):null;v?this.group.setClipPath(v):this.group.removeClipPath()},CandlestickView.prototype._incrementalRenderNormal=function(o,v){for(var _,x=v.getData(),w=x.getLayout("isSimpleBox");null!=(_=o.next());){var T=CandlestickView_createNormalBox(x.getItemLayout(_),_);setBoxCommon(T,x,_,w),T.incremental=!0,this.group.add(T),this._progressiveEls.push(T)}},CandlestickView.prototype._incrementalRenderLarge=function(o,v){CandlestickView_createLarge(v,this.group,this._progressiveEls,!0)},CandlestickView.prototype.remove=function(o){this._clear()},CandlestickView.prototype._clear=function(){this.group.removeAll(),this._data=null},CandlestickView.type="candlestick",CandlestickView}(ob),NormalBoxPathShape=function(){},hd=function(o){function NormalBoxPath(v){var _=o.call(this,v)||this;return _.type="normalCandlestickBox",_}return __extends(NormalBoxPath,o),NormalBoxPath.prototype.getDefaultShape=function(){return new NormalBoxPathShape},NormalBoxPath.prototype.buildPath=function(o,v){var _=v.points;this.__simpleBox?(o.moveTo(_[4][0],_[4][1]),o.lineTo(_[6][0],_[6][1])):(o.moveTo(_[0][0],_[0][1]),o.lineTo(_[1][0],_[1][1]),o.lineTo(_[2][0],_[2][1]),o.lineTo(_[3][0],_[3][1]),o.closePath(),o.moveTo(_[4][0],_[4][1]),o.lineTo(_[5][0],_[5][1]),o.moveTo(_[6][0],_[6][1]),o.lineTo(_[7][0],_[7][1]))},NormalBoxPath}(rv);function CandlestickView_createNormalBox(o,v,_){var x=o.ends;return new hd({shape:{points:_?CandlestickView_transInit(x,o):x},z2:100})}function isNormalBoxClipped(o,v){for(var _=!0,x=0;x<v.ends.length;x++)if(o.contain(v.ends[x][0],v.ends[x][1])){_=!1;break}return _}function setBoxCommon(o,v,_,x){var w=v.getItemModel(_);o.useStyle(v.getItemVisual(_,"style")),o.style.strokeNoScale=!0,o.__simpleBox=x,setStatesStylesFromModel(o,w)}function CandlestickView_transInit(o,v){return map(o,function(o){return(o=o.slice())[1]=v.initBaseline,o})}var LargeBoxPathShape=function(){},hh=function(o){function LargeBoxPath(v){var _=o.call(this,v)||this;return _.type="largeCandlestickBox",_}return __extends(LargeBoxPath,o),LargeBoxPath.prototype.getDefaultShape=function(){return new LargeBoxPathShape},LargeBoxPath.prototype.buildPath=function(o,v){for(var _=v.points,x=0;x<_.length;)if(this.__sign===_[x++]){var w=_[x++];o.moveTo(w,_[x++]),o.lineTo(w,_[x++])}else x+=3},LargeBoxPath}(rv);function CandlestickView_createLarge(o,v,_,x){var w=o.getData(),T=w.getLayout("largePoints"),L=new hh({shape:{points:T},__sign:1,ignoreCoarsePointer:!0});v.add(L);var N=new hh({shape:{points:T},__sign:-1,ignoreCoarsePointer:!0});v.add(N);var B=new hh({shape:{points:T},__sign:0,ignoreCoarsePointer:!0});v.add(B),setLargeStyle(1,L,o,w),setLargeStyle(-1,N,o,w),setLargeStyle(0,B,o,w),x&&(L.incremental=!0,N.incremental=!0),_&&_.push(L,N)}function setLargeStyle(o,v,_,x){var w=_.get(["itemStyle",o>0?"borderColor":"borderColor0"])||_.get(["itemStyle",o>0?"color":"color0"]);0===o&&(w=_.get(["itemStyle","borderColorDoji"]));var T=_.getModel("itemStyle").getItemStyle(hu);v.useStyle(T),v.style.fill=null,v.style.stroke=w}var hp=function(o){function CandlestickSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=CandlestickSeriesModel.type,v.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],v}return __extends(CandlestickSeriesModel,o),CandlestickSeriesModel.prototype.getShadowDim=function(){return"open"},CandlestickSeriesModel.prototype.brushSelector=function(o,v,_){var x=v.getItemLayout(o);return x&&_.rect(x.brushRect)},CandlestickSeriesModel.type="series.candlestick",CandlestickSeriesModel.dependencies=["xAxis","yAxis","grid"],CandlestickSeriesModel.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},CandlestickSeriesModel}(aS);function candlestickPreprocessor(o){o&&util_isArray(o.series)&&util_each(o.series,function(o){util_isObject(o)&&"k"===o.type&&(o.type="candlestick")})}mixin(hp,hr,!0);var hf=["itemStyle","borderColor"],hg=["itemStyle","borderColor0"],hm=["itemStyle","borderColorDoji"],hy=["itemStyle","color"],hv=["itemStyle","color0"],h_={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(o,v){function getColor(o,v){return v.get(o>0?hy:hv)}function getBorderColor(o,v){return v.get(0===o?hm:o>0?hf:hg)}if(!v.isSeriesFiltered(o))return!o.pipelineContext.large&&{progress:function(o,v){for(var _;null!=(_=o.next());){var x=v.getItemModel(_),w=v.getItemLayout(_).sign,T=x.getItemStyle();T.fill=getColor(w,x),T.stroke=getBorderColor(w,x)||T.fill,extend(v.ensureUniqueItemVisual(_,"style"),T)}}}}},hb={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(o){var v=o.coordinateSystem,_=o.getData(),x=calculateCandleWidth(o,_),w=_.getDimensionIndex(_.mapDimension("x")),T=map(_.mapDimensionsAll("y"),_.getDimensionIndex,_),L=T[0],N=T[1],B=T[2],H=T[3];if(_.setLayout({candleWidth:x,isSimpleBox:x<=1.3}),!(w<0)&&!(T.length<4))return{progress:o.pipelineContext.large?largeProgress:normalProgress};function normalProgress(o,_){for(var T,Y=_.getStore();null!=(T=o.next());){var Z=Y.get(w,T),X=Y.get(L,T),et=Y.get(N,T),en=Y.get(B,T),er=Y.get(H,T),ei=Math.min(X,et),ea=Math.max(X,et),eo=getPoint(ei,Z),el=getPoint(ea,Z),eu=getPoint(en,Z),ec=getPoint(er,Z),ed=[];addBodyEnd(ed,el,0),addBodyEnd(ed,eo,1),ed.push(subPixelOptimizePoint(ec),subPixelOptimizePoint(el),subPixelOptimizePoint(eu),subPixelOptimizePoint(eo));var eh=!!_.getItemModel(T).get(["itemStyle","borderColorDoji"]);_.setItemLayout(T,{sign:getSign(Y,T,X,et,N,eh),initBaseline:X>et?el[1]:eo[1],ends:ed,brushRect:makeBrushRect(en,er,Z)})}function getPoint(o,_){var x=[];return x[0]=_,x[1]=o,isNaN(_)||isNaN(o)?[NaN,NaN]:v.dataToPoint(x)}function addBodyEnd(o,v,_){var w=v.slice(),T=v.slice();w[0]=oy(w[0]+x/2,1,!1),T[0]=oy(T[0]-x/2,1,!0),_?o.push(w,T):o.push(T,w)}function makeBrushRect(o,v,_){var w=getPoint(o,_),T=getPoint(v,_);return w[0]-=x/2,T[0]-=x/2,{x:w[0],y:w[1],width:x,height:T[1]-w[1]}}function subPixelOptimizePoint(o){return o[0]=oy(o[0],1),o}}function largeProgress(_,x){for(var T,Y,Z=createFloat32Array(4*_.count),X=0,et=[],en=[],er=x.getStore(),ei=!!o.get(["itemStyle","borderColorDoji"]);null!=(Y=_.next());){var ea=er.get(w,Y),eo=er.get(L,Y),el=er.get(N,Y),eu=er.get(B,Y),ec=er.get(H,Y);if(isNaN(ea)||isNaN(eu)||isNaN(ec)){Z[X++]=NaN,X+=3;continue}Z[X++]=getSign(er,Y,eo,el,N,ei),et[0]=ea,et[1]=eu,T=v.dataToPoint(et,null,en),Z[X++]=T?T[0]:NaN,Z[X++]=T?T[1]:NaN,et[1]=ec,T=v.dataToPoint(et,null,en),Z[X++]=T?T[1]:NaN}x.setLayout("largePoints",Z)}}};function getSign(o,v,_,x,w,T){return _>x?-1:_<x?1:T?0:v>0?o.get(w,v-1)<=x?1:-1:1}function calculateCandleWidth(o,v){var _,x=o.getBaseAxis(),w="category"===x.type?x.getBandWidth():Math.abs((_=x.getExtent())[1]-_[0])/v.count(),T=number_parsePercent(retrieve2(o.get("barMaxWidth"),w),w),L=number_parsePercent(retrieve2(o.get("barMinWidth"),1),w),N=o.get("barWidth");return null!=N?number_parsePercent(N,w):Math.max(Math.min(w/2,T),L)}function candlestick_install_install(o){o.registerChartView(hc),o.registerSeriesModel(hp),o.registerPreprocessor(candlestickPreprocessor),o.registerVisual(h_),o.registerLayout(hb)}function updateRipplePath(o,v){var _=v.rippleEffectColor||v.color;o.eachChild(function(o){o.attr({z:v.z,zlevel:v.zlevel,style:{stroke:"stroke"===v.brushType?_:null,fill:"fill"===v.brushType?_:null}})})}var hS=function(o){function EffectSymbol(v,_){var x=o.call(this)||this,w=new lg(v,_),T=new nm;return x.add(w),x.add(T),x.updateData(v,_),x}return __extends(EffectSymbol,o),EffectSymbol.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},EffectSymbol.prototype.startEffectAnimation=function(o){for(var v=o.symbolType,_=o.color,x=o.rippleNumber,w=this.childAt(1),T=0;T<x;T++){var L=symbol_createSymbol(v,-1,-1,2,2,_);L.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var N=-T/x*o.period+o.effectOffset;L.animate("",!0).when(o.period,{scaleX:o.rippleScale/2,scaleY:o.rippleScale/2}).delay(N).start(),L.animateStyle(!0).when(o.period,{opacity:0}).delay(N).start(),w.add(L)}updateRipplePath(w,o)},EffectSymbol.prototype.updateEffectAnimation=function(o){for(var v=this._effectCfg,_=this.childAt(1),x=["symbolType","period","rippleScale","rippleNumber"],w=0;w<x.length;w++){var T=x[w];if(v[T]!==o[T]){this.stopEffectAnimation(),this.startEffectAnimation(o);return}}updateRipplePath(_,o)},EffectSymbol.prototype.highlight=function(){enterEmphasis(this)},EffectSymbol.prototype.downplay=function(){leaveEmphasis(this)},EffectSymbol.prototype.getSymbolType=function(){var o=this.childAt(0);return o&&o.getSymbolType()},EffectSymbol.prototype.updateData=function(o,v){var _=this,x=o.hostModel;this.childAt(0).updateData(o,v);var w=this.childAt(1),T=o.getItemModel(v),L=o.getItemVisual(v,"symbol"),N=normalizeSymbolSize(o.getItemVisual(v,"symbolSize")),B=o.getItemVisual(v,"style"),H=B&&B.fill,Y=T.getModel("emphasis");w.setScale(N),w.traverse(function(o){o.setStyle("fill",H)});var Z=normalizeSymbolOffset(o.getItemVisual(v,"symbolOffset"),N);Z&&(w.x=Z[0],w.y=Z[1]);var X=o.getItemVisual(v,"symbolRotate");w.rotation=(X||0)*Math.PI/180||0;var et={};et.showEffectOn=x.get("showEffectOn"),et.rippleScale=T.get(["rippleEffect","scale"]),et.brushType=T.get(["rippleEffect","brushType"]),et.period=1e3*T.get(["rippleEffect","period"]),et.effectOffset=v/o.count(),et.z=x.getShallow("z")||0,et.zlevel=x.getShallow("zlevel")||0,et.symbolType=L,et.color=H,et.rippleEffectColor=T.get(["rippleEffect","color"]),et.rippleNumber=T.get(["rippleEffect","number"]),"render"===et.showEffectOn?(this._effectCfg?this.updateEffectAnimation(et):this.startEffectAnimation(et),this._effectCfg=et):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(o){"emphasis"===o?"render"!==et.showEffectOn&&_.startEffectAnimation(et):"normal"===o&&"render"!==et.showEffectOn&&_.stopEffectAnimation()}),this._effectCfg=et,toggleHoverEmphasis(this,Y.get("focus"),Y.get("blurScope"),Y.get("disabled"))},EffectSymbol.prototype.fadeOut=function(o){o&&o()},EffectSymbol}(nm),hx=function(o){function EffectScatterView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=EffectScatterView.type,v}return __extends(EffectScatterView,o),EffectScatterView.prototype.init=function(){this._symbolDraw=new lm(hS)},EffectScatterView.prototype.render=function(o,v,_){var x=o.getData(),w=this._symbolDraw;w.updateData(x,{clipShape:this._getClipShape(o)}),this.group.add(w.group)},EffectScatterView.prototype._getClipShape=function(o){var v=o.coordinateSystem,_=v&&v.getArea&&v.getArea();return o.get("clip",!0)?_:null},EffectScatterView.prototype.updateTransform=function(o,v,_){var x=o.getData();this.group.dirty();var w=pointsLayout("").reset(o,v,_);w.progress&&w.progress({start:0,end:x.count(),count:x.count()},x),this._symbolDraw.updateLayout()},EffectScatterView.prototype._updateGroupTransform=function(o){var v=o.coordinateSystem;v&&v.getRoamTransform&&(this.group.transform=matrix_clone(v.getRoamTransform()),this.group.decomposeTransform())},EffectScatterView.prototype.remove=function(o,v){this._symbolDraw&&this._symbolDraw.remove(!0)},EffectScatterView.type="effectScatter",EffectScatterView}(ob),hw=function(o){function EffectScatterSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=EffectScatterSeriesModel.type,v.hasSymbolVisual=!0,v}return __extends(EffectScatterSeriesModel,o),EffectScatterSeriesModel.prototype.getInitialData=function(o,v){return helper_createSeriesData(null,this,{useEncodeDefaulter:!0})},EffectScatterSeriesModel.prototype.brushSelector=function(o,v,_){return _.point(v.getItemLayout(o))},EffectScatterSeriesModel.type="series.effectScatter",EffectScatterSeriesModel.dependencies=["grid","polar"],EffectScatterSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},EffectScatterSeriesModel}(aS);function effectScatter_install_install(o){o.registerChartView(hx),o.registerSeriesModel(hw),o.registerLayout(pointsLayout("effectScatter"))}var hC=function(o){function EffectLine(v,_,x){var w=o.call(this)||this;return w.add(w.createLine(v,_,x)),w._updateEffectSymbol(v,_),w}return __extends(EffectLine,o),EffectLine.prototype.createLine=function(o,v,_){return new dc(o,v,_)},EffectLine.prototype._updateEffectSymbol=function(o,v){var _=o.getItemModel(v).getModel("effect"),x=_.get("symbolSize"),w=_.get("symbol");util_isArray(x)||(x=[x,x]);var T=o.getItemVisual(v,"style"),L=_.get("color")||T&&T.stroke,N=this.childAt(1);this._symbolType!==w&&(this.remove(N),(N=symbol_createSymbol(w,-.5,-.5,1,1,L)).z2=100,N.culling=!0,this.add(N)),N&&(N.setStyle("shadowColor",L),N.setStyle(_.getItemStyle(["color"])),N.scaleX=x[0],N.scaleY=x[1],N.setColor(L),this._symbolType=w,this._symbolScale=x,this._updateEffectAnimation(o,_,v))},EffectLine.prototype._updateEffectAnimation=function(o,v,_){var x=this.childAt(1);if(x){var w=o.getItemLayout(_),T=1e3*v.get("period"),L=v.get("loop"),N=v.get("roundTrip"),B=v.get("constantSpeed"),H=retrieve(v.get("delay"),function(v){return v/o.count()*T/3});if(x.ignore=!0,this._updateAnimationPoints(x,w),B>0&&(T=this._getLineLength(x)/B*1e3),T!==this._period||L!==this._loop||N!==this._roundTrip){x.stopAnimation();var Y=void 0;Y=isFunction(H)?H(_):H,x.__t>0&&(Y=-T*x.__t),this._animateSymbol(x,T,Y,L,N)}this._period=T,this._loop=L,this._roundTrip=N}},EffectLine.prototype._animateSymbol=function(o,v,_,x,w){if(v>0){o.__t=0;var T=this,L=o.animate("",x).when(w?2*v:v,{__t:w?2:1}).delay(_).during(function(){T._updateSymbolPosition(o)});x||L.done(function(){T.remove(o)}),L.start()}},EffectLine.prototype._getLineLength=function(o){return e9(o.__p1,o.__cp1)+e9(o.__cp1,o.__p2)},EffectLine.prototype._updateAnimationPoints=function(o,v){o.__p1=v[0],o.__p2=v[1],o.__cp1=v[2]||[(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2]},EffectLine.prototype.updateData=function(o,v,_){this.childAt(0).updateData(o,v,_),this._updateEffectSymbol(o,v)},EffectLine.prototype._updateSymbolPosition=function(o){var v=o.__p1,_=o.__p2,x=o.__cp1,w=o.__t<1?o.__t:2-o.__t,T=[o.x,o.y],L=T.slice(),N=curve_quadraticAt,B=curve_quadraticDerivativeAt;T[0]=N(v[0],x[0],_[0],w),T[1]=N(v[1],x[1],_[1],w);var H=o.__t<1?B(v[0],x[0],_[0],w):B(_[0],x[0],v[0],1-w),Y=o.__t<1?B(v[1],x[1],_[1],w):B(_[1],x[1],v[1],1-w);o.rotation=-Math.atan2(Y,H)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==o.__lastT&&o.__lastT<o.__t?(o.scaleY=1.05*e9(L,T),1===w&&(T[0]=L[0]+(T[0]-L[0])/2,T[1]=L[1]+(T[1]-L[1])/2)):1===o.__lastT?o.scaleY=2*e9(v,T):o.scaleY=this._symbolScale[1]),o.__lastT=o.__t,o.ignore=!1,o.x=T[0],o.y=T[1]},EffectLine.prototype.updateLayout=function(o,v){this.childAt(0).updateLayout(o,v);var _=o.getItemModel(v).getModel("effect");this._updateEffectAnimation(o,_,v)},EffectLine}(nm),hT=function(o){function Polyline(v,_,x){var w=o.call(this)||this;return w._createPolyline(v,_,x),w}return __extends(Polyline,o),Polyline.prototype._createPolyline=function(o,v,_){var x=new a1({shape:{points:o.getItemLayout(v)}});this.add(x),this._updateCommonStl(o,v,_)},Polyline.prototype.updateData=function(o,v,_){var x=o.hostModel;updateProps(this.childAt(0),{shape:{points:o.getItemLayout(v)}},x,v),this._updateCommonStl(o,v,_)},Polyline.prototype._updateCommonStl=function(o,v,_){var x=this.childAt(0),w=o.getItemModel(v),T=_&&_.emphasisLineStyle,L=_&&_.focus,N=_&&_.blurScope,B=_&&_.emphasisDisabled;if(!_||o.hasItemOption){var H=w.getModel("emphasis");T=H.getModel("lineStyle").getLineStyle(),B=H.get("disabled"),L=H.get("focus"),N=H.get("blurScope")}x.useStyle(o.getItemVisual(v,"style")),x.style.fill=null,x.style.strokeNoScale=!0,x.ensureState("emphasis").style=T,toggleHoverEmphasis(this,L,N,B)},Polyline.prototype.updateLayout=function(o,v){this.childAt(0).setShape("points",o.getItemLayout(v))},Polyline}(nm),hM=function(o){function EffectPolyline(){var v=null!==o&&o.apply(this,arguments)||this;return v._lastFrame=0,v._lastFramePercent=0,v}return __extends(EffectPolyline,o),EffectPolyline.prototype.createLine=function(o,v,_){return new hT(o,v,_)},EffectPolyline.prototype._updateAnimationPoints=function(o,v){this._points=v;for(var _=[0],x=0,w=1;w<v.length;w++)x+=e9(v[w-1],v[w]),_.push(x);if(0===x){this._length=0;return}for(var w=0;w<_.length;w++)_[w]/=x;this._offsets=_,this._length=x},EffectPolyline.prototype._getLineLength=function(){return this._length},EffectPolyline.prototype._updateSymbolPosition=function(o){var v,_=o.__t<1?o.__t:2-o.__t,x=this._points,w=this._offsets,T=x.length;if(w){var L=this._lastFrame;if(_<this._lastFramePercent){for(v=Math.min(L+1,T-1);v>=0&&!(w[v]<=_);v--);v=Math.min(v,T-2)}else{for(v=L;v<T&&!(w[v]>_);v++);v=Math.min(v-1,T-2)}var N=(_-w[v])/(w[v+1]-w[v]),B=x[v],H=x[v+1];o.x=B[0]*(1-N)+N*H[0],o.y=B[1]*(1-N)+N*H[1];var Y=o.__t<1?H[0]-B[0]:B[0]-H[0],Z=o.__t<1?H[1]-B[1]:B[1]-H[1];o.rotation=-Math.atan2(Z,Y)-Math.PI/2,this._lastFrame=v,this._lastFramePercent=_,o.ignore=!1}},EffectPolyline}(hC),LargeLinesPathShape=function(){this.polyline=!1,this.curveness=0,this.segs=[]},hP=function(o){function LargeLinesPath(v){var _=o.call(this,v)||this;return _._off=0,_.hoverDataIdx=-1,_}return __extends(LargeLinesPath,o),LargeLinesPath.prototype.reset=function(){this.notClear=!1,this._off=0},LargeLinesPath.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},LargeLinesPath.prototype.getDefaultShape=function(){return new LargeLinesPathShape},LargeLinesPath.prototype.buildPath=function(o,v){var _,x=v.segs,w=v.curveness;if(v.polyline)for(_=this._off;_<x.length;){var T=x[_++];if(T>0){o.moveTo(x[_++],x[_++]);for(var L=1;L<T;L++)o.lineTo(x[_++],x[_++])}}else for(_=this._off;_<x.length;){var N=x[_++],B=x[_++],H=x[_++],Y=x[_++];if(o.moveTo(N,B),w>0){var Z=(N+H)/2-(B-Y)*w,X=(B+Y)/2-(H-N)*w;o.quadraticCurveTo(Z,X,H,Y)}else o.lineTo(H,Y)}this.incremental&&(this._off=_,this.notClear=!0)},LargeLinesPath.prototype.findDataIndex=function(o,v){var _=this.shape,x=_.segs,w=_.curveness,T=this.style.lineWidth;if(_.polyline)for(var L=0,N=0;N<x.length;){var B=x[N++];if(B>0)for(var H=x[N++],Y=x[N++],Z=1;Z<B;Z++){var X=x[N++],et=x[N++];if(containStroke(H,Y,X,et,T,o,v))return L}L++}else for(var L=0,N=0;N<x.length;){var H=x[N++],Y=x[N++],X=x[N++],et=x[N++];if(w>0){var en=(H+X)/2-(Y-et)*w,er=(Y+et)/2-(X-H)*w;if(quadratic_containStroke(H,Y,en,er,X,et,T,o,v))return L}else if(containStroke(H,Y,X,et,T,o,v))return L;L++}return -1},LargeLinesPath.prototype.contain=function(o,v){var _=this.transformCoordToLocal(o,v),x=this.getBoundingRect();return(o=_[0],v=_[1],x.contain(o,v))?(this.hoverDataIdx=this.findDataIndex(o,v))>=0:(this.hoverDataIdx=-1,!1)},LargeLinesPath.prototype.getBoundingRect=function(){var o=this._rect;if(!o){for(var v=this.shape.segs,_=1/0,x=1/0,w=-1/0,T=-1/0,L=0;L<v.length;){var N=v[L++],B=v[L++];_=Math.min(N,_),w=Math.max(N,w),x=Math.min(B,x),T=Math.max(B,T)}o=this._rect=new tS(_,x,w,T)}return o},LargeLinesPath}(rv),hI=function(){function LargeLineDraw(){this.group=new nm}return LargeLineDraw.prototype.updateData=function(o){this._clear();var v=this._create();v.setShape({segs:o.getLayout("linesPoints")}),this._setCommon(v,o)},LargeLineDraw.prototype.incrementalPrepareUpdate=function(o){this.group.removeAll(),this._clear()},LargeLineDraw.prototype.incrementalUpdate=function(o,v){var _=this._newAdded[0],x=v.getLayout("linesPoints"),w=_&&_.shape.segs;if(w&&w.length<2e4){var T=w.length,L=new Float32Array(T+x.length);L.set(w),L.set(x,T),_.setShape({segs:L})}else{this._newAdded=[];var N=this._create();N.incremental=!0,N.setShape({segs:x}),this._setCommon(N,v),N.__startIndex=o.start}},LargeLineDraw.prototype.remove=function(){this._clear()},LargeLineDraw.prototype.eachRendered=function(o){this._newAdded[0]&&o(this._newAdded[0])},LargeLineDraw.prototype._create=function(){var o=new hP({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(o),this.group.add(o),o},LargeLineDraw.prototype._setCommon=function(o,v,_){var x=v.hostModel;o.setShape({polyline:x.get("polyline"),curveness:x.get(["lineStyle","curveness"])}),o.useStyle(x.getModel("lineStyle").getLineStyle()),o.style.strokeNoScale=!0;var w=v.getVisual("style");w&&w.stroke&&o.setStyle("stroke",w.stroke),o.setStyle("fill",null);var T=rN(o);T.seriesIndex=x.seriesIndex,o.on("mousemove",function(v){T.dataIndex=null;var _=o.hoverDataIdx;_>0&&(T.dataIndex=_+o.__startIndex)})},LargeLineDraw.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},LargeLineDraw}(),hD={seriesType:"lines",plan:createRenderPlanner(),reset:function(o){var v=o.coordinateSystem;if(v){var _=o.get("polyline"),x=o.pipelineContext.large;return{progress:function(w,T){var L=[];if(x){var N=void 0,B=w.end-w.start;if(_){for(var H=0,Y=w.start;Y<w.end;Y++)H+=o.getLineCoordsCount(Y);N=new Float32Array(B+2*H)}else N=new Float32Array(4*B);for(var Z=0,X=[],Y=w.start;Y<w.end;Y++){var et=o.getLineCoords(Y,L);_&&(N[Z++]=et);for(var en=0;en<et;en++)X=v.dataToPoint(L[en],!1,X),N[Z++]=X[0],N[Z++]=X[1]}T.setLayout("linesPoints",N)}else for(var Y=w.start;Y<w.end;Y++){var er=T.getItemModel(Y),et=o.getLineCoords(Y,L),ei=[];if(_)for(var ea=0;ea<et;ea++)ei.push(v.dataToPoint(L[ea]));else{ei[0]=v.dataToPoint(L[0]),ei[1]=v.dataToPoint(L[1]);var eo=er.get(["lineStyle","curveness"]);+eo&&(ei[2]=[(ei[0][0]+ei[1][0])/2-(ei[0][1]-ei[1][1])*eo,(ei[0][1]+ei[1][1])/2-(ei[1][0]-ei[0][0])*eo])}T.setItemLayout(Y,ei)}}}}}},hE=function(o){function LinesView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=LinesView.type,v}return __extends(LinesView,o),LinesView.prototype.render=function(o,v,_){var x=o.getData(),w=this._updateLineDraw(x,o),T=o.get("zlevel"),L=o.get(["effect","trailLength"]),N=_.getZr(),B="svg"===N.painter.getType();B||N.painter.getLayer(T).clear(!0),null==this._lastZlevel||B||N.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(o)&&L>0&&(B||N.configLayer(T,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(L/10+.9,1),0)})),w.updateData(x);var H=o.get("clip",!0)&&createClipPath(o.coordinateSystem,!1,o);H?this.group.setClipPath(H):this.group.removeClipPath(),this._lastZlevel=T,this._finished=!0},LinesView.prototype.incrementalPrepareRender=function(o,v,_){var x=o.getData();this._updateLineDraw(x,o).incrementalPrepareUpdate(x),this._clearLayer(_),this._finished=!1},LinesView.prototype.incrementalRender=function(o,v,_){this._lineDraw.incrementalUpdate(o,v.getData()),this._finished=o.end===v.getData().count()},LinesView.prototype.eachRendered=function(o){this._lineDraw&&this._lineDraw.eachRendered(o)},LinesView.prototype.updateTransform=function(o,v,_){var x=o.getData(),w=o.pipelineContext;if(!this._finished||w.large||w.progressiveRender)return{update:!0};var T=hD.reset(o,v,_);T.progress&&T.progress({start:0,end:x.count(),count:x.count()},x),this._lineDraw.updateLayout(),this._clearLayer(_)},LinesView.prototype._updateLineDraw=function(o,v){var _=this._lineDraw,x=this._showEffect(v),w=!!v.get("polyline"),T=v.pipelineContext.large;return _&&x===this._hasEffet&&w===this._isPolyline&&T===this._isLargeDraw||(_&&_.remove(),_=this._lineDraw=T?new hI:new dd(w?x?hM:hT:x?hC:dc),this._hasEffet=x,this._isPolyline=w,this._isLargeDraw=T),this.group.add(_.group),_},LinesView.prototype._showEffect=function(o){return!!o.get(["effect","show"])},LinesView.prototype._clearLayer=function(o){var v=o.getZr();"svg"!==v.painter.getType()&&null!=this._lastZlevel&&v.painter.getLayer(this._lastZlevel).clear(!0)},LinesView.prototype.remove=function(o,v){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(v)},LinesView.prototype.dispose=function(o,v){this.remove(o,v)},LinesView.type="lines",LinesView}(ob),hO="undefined"==typeof Uint32Array?Array:Uint32Array,hA="undefined"==typeof Float64Array?Array:Float64Array;function compatEc2(o){var v=o.data;v&&v[0]&&v[0][0]&&v[0][0].coord&&(o.data=map(v,function(o){var v={coords:[o[0].coord,o[1].coord]};return o[0].name&&(v.fromName=o[0].name),o[1].name&&(v.toName=o[1].name),mergeAll([v,o[0],o[1]])}))}var hk=function(o){function LinesSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=LinesSeriesModel.type,v.visualStyleAccessPath="lineStyle",v.visualDrawType="stroke",v}return __extends(LinesSeriesModel,o),LinesSeriesModel.prototype.init=function(v){v.data=v.data||[],compatEc2(v);var _=this._processFlatCoordsArray(v.data);this._flatCoords=_.flatCoords,this._flatCoordsOffset=_.flatCoordsOffset,_.flatCoords&&(v.data=new Float32Array(_.count)),o.prototype.init.apply(this,arguments)},LinesSeriesModel.prototype.mergeOption=function(v){if(compatEc2(v),v.data){var _=this._processFlatCoordsArray(v.data);this._flatCoords=_.flatCoords,this._flatCoordsOffset=_.flatCoordsOffset,_.flatCoords&&(v.data=new Float32Array(_.count))}o.prototype.mergeOption.apply(this,arguments)},LinesSeriesModel.prototype.appendData=function(o){var v=this._processFlatCoordsArray(o.data);v.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,v.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,v.flatCoordsOffset)):(this._flatCoords=v.flatCoords,this._flatCoordsOffset=v.flatCoordsOffset),o.data=new Float32Array(v.count)),this.getRawData().appendData(o.data)},LinesSeriesModel.prototype._getCoordsFromItemModel=function(o){var v=this.getData().getItemModel(o);return v.option instanceof Array?v.option:v.getShallow("coords")},LinesSeriesModel.prototype.getLineCoordsCount=function(o){return this._flatCoordsOffset?this._flatCoordsOffset[2*o+1]:this._getCoordsFromItemModel(o).length},LinesSeriesModel.prototype.getLineCoords=function(o,v){if(this._flatCoordsOffset){for(var _=this._flatCoordsOffset[2*o],x=this._flatCoordsOffset[2*o+1],w=0;w<x;w++)v[w]=v[w]||[],v[w][0]=this._flatCoords[_+2*w],v[w][1]=this._flatCoords[_+2*w+1];return x}for(var T=this._getCoordsFromItemModel(o),w=0;w<T.length;w++)v[w]=v[w]||[],v[w][0]=T[w][0],v[w][1]=T[w][1];return T.length},LinesSeriesModel.prototype._processFlatCoordsArray=function(o){var v=0;if(this._flatCoords&&(v=this._flatCoords.length),isNumber(o[0])){for(var _=o.length,x=new hO(_),w=new hA(_),T=0,L=0,N=0,B=0;B<_;){N++;var H=o[B++];x[L++]=T+v,x[L++]=H;for(var Y=0;Y<H;Y++){var Z=o[B++],X=o[B++];w[T++]=Z,w[T++]=X}}return{flatCoordsOffset:new Uint32Array(x.buffer,0,L),flatCoords:w,count:N}}return{flatCoordsOffset:null,flatCoords:null,count:o.length}},LinesSeriesModel.prototype.getInitialData=function(o,v){var _=new lh(["value"],this);return _.hasItemOption=!1,_.initData(o.data,[],function(o,v,x,w){if(o instanceof Array)return NaN;_.hasItemOption=!0;var T=o.value;if(null!=T)return T instanceof Array?T[w]:T}),_},LinesSeriesModel.prototype.formatTooltip=function(o,v,_){var x=this.getData().getItemModel(o),w=x.get("name");if(w)return w;var T=x.get("fromName"),L=x.get("toName"),N=[];return null!=T&&N.push(T),null!=L&&N.push(L),createTooltipMarkup("nameValue",{name:N.join(" > ")})},LinesSeriesModel.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},LinesSeriesModel.prototype.getProgressive=function(){var o=this.option.progressive;return null==o?this.option.large?1e4:this.get("progressive"):o},LinesSeriesModel.prototype.getProgressiveThreshold=function(){var o=this.option.progressiveThreshold;return null==o?this.option.large?2e4:this.get("progressiveThreshold"):o},LinesSeriesModel.prototype.getZLevelKey=function(){var o=this.getModel("effect"),v=o.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:o.get("show")&&v>0?v+"":""},LinesSeriesModel.type="series.lines",LinesSeriesModel.dependencies=["grid","polar","geo","calendar"],LinesSeriesModel.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},LinesSeriesModel}(aS);function linesVisual_normalize(o){return o instanceof Array||(o=[o,o]),o}var hL={seriesType:"lines",reset:function(o){var v=linesVisual_normalize(o.get("symbol")),_=linesVisual_normalize(o.get("symbolSize")),x=o.getData();function dataEach(o,v){var _=o.getItemModel(v),x=linesVisual_normalize(_.getShallow("symbol",!0)),w=linesVisual_normalize(_.getShallow("symbolSize",!0));x[0]&&o.setItemVisual(v,"fromSymbol",x[0]),x[1]&&o.setItemVisual(v,"toSymbol",x[1]),w[0]&&o.setItemVisual(v,"fromSymbolSize",w[0]),w[1]&&o.setItemVisual(v,"toSymbolSize",w[1])}return x.setVisual("fromSymbol",v&&v[0]),x.setVisual("toSymbol",v&&v[1]),x.setVisual("fromSymbolSize",_&&_[0]),x.setVisual("toSymbolSize",_&&_[1]),{dataEach:x.hasItemOption?dataEach:null}}};function lines_install_install(o){o.registerChartView(hE),o.registerSeriesModel(hk),o.registerLayout(hD),o.registerVisual(hL)}var hR=function(){function HeatmapLayer(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var o=eH.createCanvas();this.canvas=o}return HeatmapLayer.prototype.update=function(o,v,_,x,w,T){var L=this._getBrush(),N=this._getGradient(w,"inRange"),B=this._getGradient(w,"outOfRange"),H=this.pointSize+this.blurSize,Y=this.canvas,Z=Y.getContext("2d"),X=o.length;Y.width=v,Y.height=_;for(var et=0;et<X;++et){var en=o[et],er=en[0],ei=en[1],ea=x(en[2]);Z.globalAlpha=ea,Z.drawImage(L,er-H,ei-H)}if(!Y.width||!Y.height)return Y;for(var eo=Z.getImageData(0,0,Y.width,Y.height),el=eo.data,eu=0,ec=el.length,ed=this.minOpacity,eh=this.maxOpacity-ed;eu<ec;){var ea=el[eu+3]/256,ep=4*Math.floor(255*ea);if(ea>0){var ef=T(ea)?N:B;ea>0&&(ea=ea*eh+ed),el[eu++]=ef[ep],el[eu++]=ef[ep+1],el[eu++]=ef[ep+2],el[eu++]=ef[ep+3]*ea*256}else eu+=4}return Z.putImageData(eo,0,0),Y},HeatmapLayer.prototype._getBrush=function(){var o=this._brushCanvas||(this._brushCanvas=eH.createCanvas()),v=this.pointSize+this.blurSize,_=2*v;o.width=_,o.height=_;var x=o.getContext("2d");return x.clearRect(0,0,_,_),x.shadowOffsetX=_,x.shadowBlur=this.blurSize,x.shadowColor="#000",x.beginPath(),x.arc(-v,v,this.pointSize,0,2*Math.PI,!0),x.closePath(),x.fill(),o},HeatmapLayer.prototype._getGradient=function(o,v){for(var _=this._gradientPixels,x=_[v]||(_[v]=new Uint8ClampedArray(1024)),w=[0,0,0,0],T=0,L=0;L<256;L++)o[v](L/255,!0,w),x[T++]=w[0],x[T++]=w[1],x[T++]=w[2],x[T++]=w[3];return x},HeatmapLayer}();function getIsInPiecewiseRange(o,v,_){var x=o[1]-o[0],w=(v=map(v,function(v){return{interval:[(v.interval[0]-o[0])/x,(v.interval[1]-o[0])/x]}})).length,T=0;return function(o){var x;for(x=T;x<w;x++){var L=v[x].interval;if(L[0]<=o&&o<=L[1]){T=x;break}}if(x===w)for(x=T-1;x>=0;x--){var L=v[x].interval;if(L[0]<=o&&o<=L[1]){T=x;break}}return x>=0&&x<w&&_[x]}}function getIsInContinuousRange(o,v){var _=o[1]-o[0];return v=[(v[0]-o[0])/_,(v[1]-o[0])/_],function(o){return o>=v[0]&&o<=v[1]}}function isGeoCoordSys(o){var v=o.dimensions;return"lng"===v[0]&&"lat"===v[1]}var hN=function(o){function HeatmapView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=HeatmapView.type,v}return __extends(HeatmapView,o),HeatmapView.prototype.render=function(o,v,_){v.eachComponent("visualMap",function(v){v.eachTargetSeries(function(_){_===o&&(x=v)})}),this._progressiveEls=null,this.group.removeAll();var x,w=o.coordinateSystem;"cartesian2d"===w.type||"calendar"===w.type?this._renderOnCartesianAndCalendar(o,_,0,o.getData().count()):isGeoCoordSys(w)&&this._renderOnGeo(w,o,x,_)},HeatmapView.prototype.incrementalPrepareRender=function(o,v,_){this.group.removeAll()},HeatmapView.prototype.incrementalRender=function(o,v,_,x){var w=v.coordinateSystem;w&&(isGeoCoordSys(w)?this.render(v,_,x):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(v,x,o.start,o.end,!0)))},HeatmapView.prototype.eachRendered=function(o){traverseElements(this._progressiveEls||this.group,o)},HeatmapView.prototype._renderOnCartesianAndCalendar=function(o,v,_,x,w){var T,L,N,B,H=o.coordinateSystem,Y=isCoordinateSystemType(H,"cartesian2d");if(Y){var Z=H.getAxis("x"),X=H.getAxis("y");T=Z.getBandWidth()+.5,L=X.getBandWidth()+.5,N=Z.scale.getExtent(),B=X.scale.getExtent()}for(var et=this.group,en=o.getData(),er=o.getModel(["emphasis","itemStyle"]).getItemStyle(),ei=o.getModel(["blur","itemStyle"]).getItemStyle(),ea=o.getModel(["select","itemStyle"]).getItemStyle(),eo=o.get(["itemStyle","borderRadius"]),el=getLabelStatesModels(o),eu=o.getModel("emphasis"),ec=eu.get("focus"),ed=eu.get("blurScope"),eh=eu.get("disabled"),ep=Y?[en.mapDimension("x"),en.mapDimension("y"),en.mapDimension("value")]:[en.mapDimension("time"),en.mapDimension("value")],ef=_;ef<x;ef++){var eg=void 0,em=en.getItemVisual(ef,"style");if(Y){var ey=en.get(ep[0],ef),ev=en.get(ep[1],ef);if(isNaN(en.get(ep[2],ef))||isNaN(ey)||isNaN(ev)||ey<N[0]||ey>N[1]||ev<B[0]||ev>B[1])continue;var e_=H.dataToPoint([ey,ev]);eg=new rI({shape:{x:e_[0]-T/2,y:e_[1]-L/2,width:T,height:L},style:em})}else{if(isNaN(en.get(ep[1],ef)))continue;eg=new rI({z2:1,shape:H.dataToRect([en.get(ep[0],ef)]).contentShape,style:em})}if(en.hasItemOption){var eb=en.getItemModel(ef),eS=eb.getModel("emphasis");er=eS.getModel("itemStyle").getItemStyle(),ei=eb.getModel(["blur","itemStyle"]).getItemStyle(),ea=eb.getModel(["select","itemStyle"]).getItemStyle(),eo=eb.get(["itemStyle","borderRadius"]),ec=eS.get("focus"),ed=eS.get("blurScope"),eh=eS.get("disabled"),el=getLabelStatesModels(eb)}eg.shape.r=eo;var ex=o.getRawValue(ef),ew="-";ex&&null!=ex[2]&&(ew=ex[2]+""),setLabelStyle(eg,el,{labelFetcher:o,labelDataIndex:ef,defaultOpacity:em.opacity,defaultText:ew}),eg.ensureState("emphasis").style=er,eg.ensureState("blur").style=ei,eg.ensureState("select").style=ea,toggleHoverEmphasis(eg,ec,ed,eh),eg.incremental=w,w&&(eg.states.emphasis.hoverLayer=!0),et.add(eg),en.setItemGraphicEl(ef,eg),this._progressiveEls&&this._progressiveEls.push(eg)}},HeatmapView.prototype._renderOnGeo=function(o,v,_,x){var w=_.targetVisuals.inRange,T=_.targetVisuals.outOfRange,L=v.getData(),N=this._hmLayer||this._hmLayer||new hR;N.blurSize=v.get("blurSize"),N.pointSize=v.get("pointSize"),N.minOpacity=v.get("minOpacity"),N.maxOpacity=v.get("maxOpacity");var B=o.getViewRect().clone(),H=o.getRoamTransform();B.applyTransform(H);var Y=Math.max(B.x,0),Z=Math.max(B.y,0),X=Math.min(B.width+B.x,x.getWidth()),et=Math.min(B.height+B.y,x.getHeight()),en=X-Y,er=et-Z,ei=[L.mapDimension("lng"),L.mapDimension("lat"),L.mapDimension("value")],ea=L.mapArray(ei,function(v,_,x){var w=o.dataToPoint([v,_]);return w[0]-=Y,w[1]-=Z,w.push(x),w}),eo=_.getExtent(),el="visualMap.continuous"===_.type?getIsInContinuousRange(eo,_.option.range):getIsInPiecewiseRange(eo,_.getPieceList(),_.option.selected);N.update(ea,en,er,w.color.getNormalizer(),{inRange:w.color.getColorMapper(),outOfRange:T.color.getColorMapper()},el);var eu=new rC({style:{width:en,height:er,x:Y,y:Z,image:N.canvas},silent:!0});this.group.add(eu)},HeatmapView.type="heatmap",HeatmapView}(ob),hF=function(o){function HeatmapSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=HeatmapSeriesModel.type,v}return __extends(HeatmapSeriesModel,o),HeatmapSeriesModel.prototype.getInitialData=function(o,v){return helper_createSeriesData(null,this,{generateCoord:"value"})},HeatmapSeriesModel.prototype.preventIncremental=function(){var o=iU.get(this.get("coordinateSystem"));if(o&&o.dimensions)return"lng"===o.dimensions[0]&&"lat"===o.dimensions[1]},HeatmapSeriesModel.type="series.heatmap",HeatmapSeriesModel.dependencies=["grid","geo","calendar"],HeatmapSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},HeatmapSeriesModel}(aS);function heatmap_install_install(o){o.registerChartView(hN),o.registerSeriesModel(hF)}var hV=["itemStyle","borderWidth"],hB=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],hz=new aR,hj=function(o){function PictorialBarView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=PictorialBarView.type,v}return __extends(PictorialBarView,o),PictorialBarView.prototype.render=function(o,v,_){var x=this.group,w=o.getData(),T=this._data,L=o.coordinateSystem,N=L.getBaseAxis().isHorizontal(),B=L.master.getRect(),H={ecSize:{width:_.getWidth(),height:_.getHeight()},seriesModel:o,coordSys:L,coordSysExtent:[[B.x,B.x+B.width],[B.y,B.y+B.height]],isHorizontal:N,valueDim:hB[+N],categoryDim:hB[1-+N]};return w.diff(T).add(function(o){if(w.hasValue(o)){var v=getItemModel(w,o),_=getSymbolMeta(w,o,v,H),T=createBar(w,H,_);w.setItemGraphicEl(o,T),x.add(T),PictorialBarView_updateCommon(T,H,_)}}).update(function(o,v){var _=T.getItemGraphicEl(v);if(!w.hasValue(o)){x.remove(_);return}var L=getItemModel(w,o),N=getSymbolMeta(w,o,L,H),B=getShapeStr(w,N);_&&B!==_.__pictorialShapeStr&&(x.remove(_),w.setItemGraphicEl(o,null),_=null),_?updateBar(_,H,N):_=createBar(w,H,N,!0),w.setItemGraphicEl(o,_),_.__pictorialSymbolMeta=N,x.add(_),PictorialBarView_updateCommon(_,H,N)}).remove(function(o){var v=T.getItemGraphicEl(o);v&&removeBar(T,o,v.__pictorialSymbolMeta.animationModel,v)}).execute(),this._data=w,this.group},PictorialBarView.prototype.remove=function(o,v){var _=this.group,x=this._data;o.get("animation")?x&&x.eachItemGraphicEl(function(v){removeBar(x,rN(v).dataIndex,o,v)}):_.removeAll()},PictorialBarView.type="pictorialBar",PictorialBarView}(ob);function getSymbolMeta(o,v,_,x){var w=o.getItemLayout(v),T=_.get("symbolRepeat"),L=_.get("symbolClip"),N=_.get("symbolPosition")||"start",B=(_.get("symbolRotate")||0)*Math.PI/180||0,H=_.get("symbolPatternSize")||2,Y=_.isAnimationEnabled(),Z={dataIndex:v,layout:w,itemModel:_,symbolType:o.getItemVisual(v,"symbol")||"circle",style:o.getItemVisual(v,"style"),symbolClip:L,symbolRepeat:T,symbolRepeatDirection:_.get("symbolRepeatDirection"),symbolPatternSize:H,rotation:B,animationModel:Y?_:null,hoverScale:Y&&_.get(["emphasis","scale"]),z2:_.getShallow("z",!0)||0};prepareBarLength(_,T,w,x,Z),prepareSymbolSize(o,v,w,T,L,Z.boundingLength,Z.pxSign,H,x,Z),prepareLineWidth(_,Z.symbolScale,B,x,Z);var X=Z.symbolSize,et=normalizeSymbolOffset(_.get("symbolOffset"),X);return prepareLayoutInfo(_,X,w,T,L,et,N,Z.valueLineWidth,Z.boundingLength,Z.repeatCutLength,x,Z),Z}function prepareBarLength(o,v,_,x,w){var T,L=x.valueDim,N=o.get("symbolBoundingData"),B=x.coordSys.getOtherAxis(x.coordSys.getBaseAxis()),H=B.toGlobalCoord(B.dataToCoord(0)),Y=1-+(_[L.wh]<=0);if(util_isArray(N)){var Z=[convertToCoordOnAxis(B,N[0])-H,convertToCoordOnAxis(B,N[1])-H];Z[1]<Z[0]&&Z.reverse(),T=Z[Y]}else T=null!=N?convertToCoordOnAxis(B,N)-H:v?x.coordSysExtent[L.index][Y]-H:_[L.wh];w.boundingLength=T,v&&(w.repeatCutLength=_[L.wh]),w.pxSign=T>0?1:-1}function convertToCoordOnAxis(o,v){return o.toGlobalCoord(o.dataToCoord(o.scale.parse(v)))}function prepareSymbolSize(o,v,_,x,w,T,L,N,B,H){var Y,Z=B.valueDim,X=B.categoryDim,et=Math.abs(_[X.wh]),en=o.getItemVisual(v,"symbolSize");(Y=util_isArray(en)?en.slice():null==en?["100%","100%"]:[en,en])[X.index]=number_parsePercent(Y[X.index],et),Y[Z.index]=number_parsePercent(Y[Z.index],x?et:Math.abs(T)),H.symbolSize=Y;var er=H.symbolScale=[Y[0]/N,Y[1]/N];er[Z.index]*=(B.isHorizontal?-1:1)*L}function prepareLineWidth(o,v,_,x,w){var T=o.get(hV)||0;T&&(hz.attr({scaleX:v[0],scaleY:v[1],rotation:_}),hz.updateTransform(),T/=hz.getLineScale(),T*=v[x.valueDim.index]),w.valueLineWidth=T||0}function prepareLayoutInfo(o,v,_,x,w,T,L,N,B,H,Y,Z){var X=Y.categoryDim,et=Y.valueDim,en=Z.pxSign,er=Math.max(v[et.index]+N,0),ei=er;if(x){var ea=Math.abs(B),eo=retrieve(o.get("symbolMargin"),"15%")+"",el=!1;eo.lastIndexOf("!")===eo.length-1&&(el=!0,eo=eo.slice(0,eo.length-1));var eu=number_parsePercent(eo,v[et.index]),ec=Math.max(er+2*eu,0),ed=el?0:2*eu,eh=number_isNumeric(x),ep=eh?x:toIntTimes((ea+ed)/ec);eu=(ea-ep*er)/2/(el?ep:Math.max(ep-1,1)),ec=er+2*eu,ed=el?0:2*eu,eh||"fixed"===x||(ep=H?toIntTimes((Math.abs(H)+ed)/ec):0),ei=ep*ec-ed,Z.repeatTimes=ep,Z.symbolMargin=eu}var ef=en*(ei/2),eg=Z.pathPosition=[];eg[X.index]=_[X.wh]/2,eg[et.index]="start"===L?ef:"end"===L?B-ef:B/2,T&&(eg[0]+=T[0],eg[1]+=T[1]);var em=Z.bundlePosition=[];em[X.index]=_[X.xy],em[et.index]=_[et.xy];var ey=Z.barRectShape=extend({},_);ey[et.wh]=en*Math.max(Math.abs(_[et.wh]),Math.abs(eg[et.index]+ef)),ey[X.wh]=_[X.wh];var ev=Z.clipShape={};ev[X.xy]=-_[X.xy],ev[X.wh]=Y.ecSize[X.wh],ev[et.xy]=0,ev[et.wh]=_[et.wh]}function createPath(o){var v=o.symbolPatternSize,_=symbol_createSymbol(o.symbolType,-v/2,-v/2,v,v);return _.attr({culling:!0}),"image"!==_.type&&_.setStyle({strokeNoScale:!0}),_}function createOrUpdateRepeatSymbols(o,v,_,x){var w=o.__pictorialBundle,T=_.symbolSize,L=_.valueLineWidth,N=_.pathPosition,B=v.valueDim,H=_.repeatTimes||0,Y=0,Z=T[v.valueDim.index]+L+2*_.symbolMargin;for(eachPath(o,function(o){o.__pictorialAnimationIndex=Y,o.__pictorialRepeatTimes=H,Y<H?updateAttr(o,null,makeTarget(Y),_,x):updateAttr(o,null,{scaleX:0,scaleY:0},_,x,function(){w.remove(o)}),Y++});Y<H;Y++){var X=createPath(_);X.__pictorialAnimationIndex=Y,X.__pictorialRepeatTimes=H,w.add(X);var et=makeTarget(Y);updateAttr(X,{x:et.x,y:et.y,scaleX:0,scaleY:0},{scaleX:et.scaleX,scaleY:et.scaleY,rotation:et.rotation},_,x)}function makeTarget(o){var v=N.slice(),x=_.pxSign,w=o;return("start"===_.symbolRepeatDirection?x>0:x<0)&&(w=H-1-o),v[B.index]=Z*(w-H/2+.5)+N[B.index],{x:v[0],y:v[1],scaleX:_.symbolScale[0],scaleY:_.symbolScale[1],rotation:_.rotation}}}function createOrUpdateSingleSymbol(o,v,_,x){var w=o.__pictorialBundle,T=o.__pictorialMainPath;T?updateAttr(T,null,{x:_.pathPosition[0],y:_.pathPosition[1],scaleX:_.symbolScale[0],scaleY:_.symbolScale[1],rotation:_.rotation},_,x):(T=o.__pictorialMainPath=createPath(_),w.add(T),updateAttr(T,{x:_.pathPosition[0],y:_.pathPosition[1],scaleX:0,scaleY:0,rotation:_.rotation},{scaleX:_.symbolScale[0],scaleY:_.symbolScale[1]},_,x))}function createOrUpdateBarRect(o,v,_){var x=extend({},v.barRectShape),w=o.__pictorialBarRect;w?updateAttr(w,null,{shape:x},v,_):((w=o.__pictorialBarRect=new rI({z2:2,shape:x,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,o.add(w))}function createOrUpdateClip(o,v,_,x){if(_.symbolClip){var w=o.__pictorialClipPath,T=extend({},_.clipShape),L=v.valueDim,N=_.animationModel,B=_.dataIndex;if(w)updateProps(w,{shape:T},N,B);else{T[L.wh]=0,w=new rI({shape:T}),o.__pictorialBundle.setClipPath(w),o.__pictorialClipPath=w;var H={};H[L.wh]=_.clipShape[L.wh],eF[x?"updateProps":"initProps"](w,{shape:H},N,B)}}}function getItemModel(o,v){var _=o.getItemModel(v);return _.getAnimationDelayParams=getAnimationDelayParams,_.isAnimationEnabled=isAnimationEnabled,_}function getAnimationDelayParams(o){return{index:o.__pictorialAnimationIndex,count:o.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(o,v,_,x){var w=new nm,T=new nm;return w.add(T),w.__pictorialBundle=T,T.x=_.bundlePosition[0],T.y=_.bundlePosition[1],_.symbolRepeat?createOrUpdateRepeatSymbols(w,v,_):createOrUpdateSingleSymbol(w,v,_),createOrUpdateBarRect(w,_,x),createOrUpdateClip(w,v,_,x),w.__pictorialShapeStr=getShapeStr(o,_),w.__pictorialSymbolMeta=_,w}function updateBar(o,v,_){var x=_.animationModel,w=_.dataIndex;updateProps(o.__pictorialBundle,{x:_.bundlePosition[0],y:_.bundlePosition[1]},x,w),_.symbolRepeat?createOrUpdateRepeatSymbols(o,v,_,!0):createOrUpdateSingleSymbol(o,v,_,!0),createOrUpdateBarRect(o,_,!0),createOrUpdateClip(o,v,_,!0)}function removeBar(o,v,_,x){var w=x.__pictorialBarRect;w&&w.removeTextContent();var T=[];eachPath(x,function(o){T.push(o)}),x.__pictorialMainPath&&T.push(x.__pictorialMainPath),x.__pictorialClipPath&&(_=null),util_each(T,function(o){removeElement(o,{scaleX:0,scaleY:0},_,v,function(){x.parent&&x.parent.remove(x)})}),o.setItemGraphicEl(v,null)}function getShapeStr(o,v){return[o.getItemVisual(v.dataIndex,"symbol")||"none",!!v.symbolRepeat,!!v.symbolClip].join(":")}function eachPath(o,v,_){util_each(o.__pictorialBundle.children(),function(x){x!==o.__pictorialBarRect&&v.call(_,x)})}function updateAttr(o,v,_,x,w,T){v&&o.attr(v),x.symbolClip&&!w?_&&o.attr(_):_&&eF[w?"updateProps":"initProps"](o,_,x.animationModel,x.dataIndex,T)}function PictorialBarView_updateCommon(o,v,_){var x=_.dataIndex,w=_.itemModel,T=w.getModel("emphasis"),L=T.getModel("itemStyle").getItemStyle(),N=w.getModel(["blur","itemStyle"]).getItemStyle(),B=w.getModel(["select","itemStyle"]).getItemStyle(),H=w.getShallow("cursor"),Y=T.get("focus"),Z=T.get("blurScope"),X=T.get("scale");eachPath(o,function(o){if(o instanceof rC){var v=o.style;o.useStyle(extend({image:v.image,x:v.x,y:v.y,width:v.width,height:v.height},_.style))}else o.useStyle(_.style);var x=o.ensureState("emphasis");x.style=L,X&&(x.scaleX=1.1*o.scaleX,x.scaleY=1.1*o.scaleY),o.ensureState("blur").style=N,o.ensureState("select").style=B,H&&(o.cursor=H),o.z2=_.z2});var et=v.valueDim.posDesc[+(_.boundingLength>0)];setLabelStyle(o.__pictorialBarRect,getLabelStatesModels(w),{labelFetcher:v.seriesModel,labelDataIndex:x,defaultText:getDefaultLabel(v.seriesModel.getData(),x),inheritColor:_.style.fill,defaultOpacity:_.style.opacity,defaultOutsidePosition:et}),toggleHoverEmphasis(o,Y,Z,T.get("disabled"))}function toIntTimes(o){var v=Math.round(o);return 1e-4>Math.abs(o-v)?v:Math.ceil(o)}var hH=function(o){function PictorialBarSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=PictorialBarSeriesModel.type,v.hasSymbolVisual=!0,v.defaultSymbol="roundRect",v}return __extends(PictorialBarSeriesModel,o),PictorialBarSeriesModel.prototype.getInitialData=function(v){return v.stack=null,o.prototype.getInitialData.apply(this,arguments)},PictorialBarSeriesModel.type="series.pictorialBar",PictorialBarSeriesModel.dependencies=["grid"],PictorialBarSeriesModel.defaultOption=inheritDefaultOption(lP.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),PictorialBarSeriesModel}(lP);function installPictorialBar_install(o){o.registerChartView(hj),o.registerSeriesModel(hH),o.registerLayout(o.PRIORITY.VISUAL.LAYOUT,curry(layout,"pictorialBar")),o.registerLayout(o.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var hG=function(o){function ThemeRiverView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ThemeRiverView.type,v._layers=[],v}return __extends(ThemeRiverView,o),ThemeRiverView.prototype.render=function(o,v,_){var x=o.getData(),w=this,T=this.group,L=o.getLayerSeries(),N=x.getLayout("layoutInfo"),B=N.rect,H=N.boundaryGap;function keyGetter(o){return o.name}T.x=0,T.y=B.y+H[0];var Y=new ln(this._layersSeries||[],L,keyGetter,keyGetter),Z=[];function process(v,_,N){var B,H,Y=w._layers;if("remove"===v){T.remove(Y[_]);return}for(var X=[],et=[],en=L[_].indices,er=0;er<en.length;er++){var ei=x.getItemLayout(en[er]),ea=ei.x,eo=ei.y0,el=ei.y;X.push(ea,eo),et.push(ea,eo+el),B=x.getItemVisual(en[er],"style")}var eu=x.getItemLayout(en[0]),ec=o.getModel("label").get("margin"),ed=o.getModel("emphasis");if("add"===v){var eh=Z[_]=new nm;H=new lw({shape:{points:X,stackedOnPoints:et,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),eh.add(H),T.add(eh),o.isAnimationEnabled()&&H.setClipPath(ThemeRiverView_createGridClipShape(H.getBoundingRect(),o,function(){H.removeClipPath()}))}else{var eh=Y[N];H=eh.childAt(0),T.add(eh),Z[_]=eh,updateProps(H,{shape:{points:X,stackedOnPoints:et}},o),saveOldStyle(H)}setLabelStyle(H,getLabelStatesModels(o),{labelDataIndex:en[er-1],defaultText:x.getName(en[er-1]),inheritColor:B.fill},{normal:{verticalAlign:"middle"}}),H.setTextConfig({position:null,local:!0});var ep=H.getTextContent();ep&&(ep.x=eu.x-ec,ep.y=eu.y0+eu.y/2),H.useStyle(B),x.setItemGraphicEl(_,H),setStatesStylesFromModel(H,o),toggleHoverEmphasis(H,ed.get("focus"),ed.get("blurScope"),ed.get("disabled"))}Y.add(e2(process,this,"add")).update(e2(process,this,"update")).remove(e2(process,this,"remove")).execute(),this._layersSeries=L,this._layers=Z},ThemeRiverView.type="themeRiver",ThemeRiverView}(ob);function ThemeRiverView_createGridClipShape(o,v,_){var x=new rI({shape:{x:o.x-10,y:o.y-10,width:0,height:o.height+20}});return initProps(x,{shape:{x:o.x-50,width:o.width+100,height:o.height+20}},v,_),x}var hU=function(o){function ThemeRiverSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ThemeRiverSeriesModel.type,v}return __extends(ThemeRiverSeriesModel,o),ThemeRiverSeriesModel.prototype.init=function(v){o.prototype.init.apply(this,arguments),this.legendVisualProvider=new lY(e2(this.getData,this),e2(this.getRawData,this))},ThemeRiverSeriesModel.prototype.fixData=function(o){var v=o.length,_={},x=groupData(o,function(o){return _.hasOwnProperty(o[0]+"")||(_[o[0]+""]=-1),o[2]}),w=[];x.buckets.each(function(o,v){w.push({name:v,dataList:o})});for(var T=w.length,L=0;L<T;++L){for(var N=w[L].name,B=0;B<w[L].dataList.length;++B){var H=w[L].dataList[B][0]+"";_[H]=L}for(var H in _)_.hasOwnProperty(H)&&_[H]!==L&&(_[H]=L,o[v]=[H,0,N],v++)}return o},ThemeRiverSeriesModel.prototype.getInitialData=function(o,v){for(var _=this.getReferringComponents("singleAxis",nT).models[0].get("type"),x=filter(o.data,function(o){return void 0!==o[2]}),w=this.fixData(x||[]),T=[],L=this.nameMap=createHashMap(),N=0,B=0;B<w.length;++B)T.push(w[B][2]),!L.get(w[B][2])&&(L.set(w[B][2],N),N++);var H=new lh(prepareSeriesDataSchema(w,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(_)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,this);return H.initData(w),H},ThemeRiverSeriesModel.prototype.getLayerSeries=function(){for(var o=this.getData(),v=o.count(),_=[],x=0;x<v;++x)_[x]=x;var w=o.mapDimension("single"),T=groupData(_,function(v){return o.get("name",v)}),L=[];return T.buckets.each(function(v,_){v.sort(function(v,_){return o.get(w,v)-o.get(w,_)}),L.push({name:_,indices:v})}),L},ThemeRiverSeriesModel.prototype.getAxisTooltipData=function(o,v,_){util_isArray(o)||(o=o?[o]:[]);for(var x,w=this.getData(),T=this.getLayerSeries(),L=[],N=T.length,B=0;B<N;++B){for(var H=Number.MAX_VALUE,Y=-1,Z=T[B].indices.length,X=0;X<Z;++X){var et=w.get(o[0],T[B].indices[X]),en=Math.abs(et-v);en<=H&&(x=et,H=en,Y=T[B].indices[X])}L.push(Y)}return{dataIndices:L,nestestValue:x}},ThemeRiverSeriesModel.prototype.formatTooltip=function(o,v,_){var x=this.getData();return createTooltipMarkup("nameValue",{name:x.getName(o),value:x.get(x.mapDimension("value"),o)})},ThemeRiverSeriesModel.type="series.themeRiver",ThemeRiverSeriesModel.dependencies=["singleAxis"],ThemeRiverSeriesModel.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},ThemeRiverSeriesModel}(aS);function themeRiverLayout(o,v){o.eachSeriesByType("themeRiver",function(o){var v=o.getData(),_=o.coordinateSystem,x={},w=_.getRect();x.rect=w;var T=o.get("boundaryGap"),L=_.getAxis();x.boundaryGap=T,"horizontal"===L.orient?(T[0]=number_parsePercent(T[0],w.height),T[1]=number_parsePercent(T[1],w.height),doThemeRiverLayout(v,o,w.height-T[0]-T[1])):(T[0]=number_parsePercent(T[0],w.width),T[1]=number_parsePercent(T[1],w.width),doThemeRiverLayout(v,o,w.width-T[0]-T[1])),v.setLayout("layoutInfo",x)})}function doThemeRiverLayout(o,v,_){if(o.count())for(var x,w=v.coordinateSystem,T=v.getLayerSeries(),L=o.mapDimension("single"),N=o.mapDimension("value"),B=map(T,function(v){return map(v.indices,function(v){var _=w.dataToPoint(o.get(L,v));return _[1]=o.get(N,v),_})}),H=computeBaseline(B),Y=H.y0,Z=_/H.max,X=T.length,et=T[0].indices.length,en=0;en<et;++en){x=Y[en]*Z,o.setItemLayout(T[0].indices[en],{layerIndex:0,x:B[0][en][0],y0:x,y:B[0][en][1]*Z});for(var er=1;er<X;++er)x+=B[er-1][en][1]*Z,o.setItemLayout(T[er].indices[en],{layerIndex:er,x:B[er][en][0],y0:x,y:B[er][en][1]*Z})}}function computeBaseline(o){for(var v=o.length,_=o[0].length,x=[],w=[],T=0,L=0;L<_;++L){for(var N=0,B=0;B<v;++B)N+=o[B][L][1];N>T&&(T=N),x.push(N)}for(var H=0;H<_;++H)w[H]=(T-x[H])/2;T=0;for(var Y=0;Y<_;++Y){var Z=x[Y]+w[Y];Z>T&&(T=Z)}return{y0:w,max:T}}function themeRiver_install_install(o){o.registerChartView(hG),o.registerSeriesModel(hU),o.registerLayout(themeRiverLayout),o.registerProcessor(dataFilter("themeRiver"))}var hW=function(o){function SunburstPiece(v,_,x,w){var T=o.call(this)||this;T.z2=2,T.textConfig={inside:!0},rN(T).seriesIndex=_.seriesIndex;var L=new rR({z2:4,silent:v.getModel().get(["label","silent"])});return T.setTextContent(L),T.updateData(!0,v,_,x,w),T}return __extends(SunburstPiece,o),SunburstPiece.prototype.updateData=function(o,v,_,x,w){this.node=v,v.piece=this,_=_||this._seriesModel,x=x||this._ecModel;var T=this;rN(T).dataIndex=v.dataIndex;var L=v.getModel(),N=L.getModel("emphasis"),B=v.getLayout(),H=extend({},B);H.label=null;var Y=v.getVisual("style");Y.lineJoin="bevel";var Z=v.getVisual("decal");Z&&(Y.decal=createOrUpdatePatternFromDecal(Z,w));var X=getSectorCornerRadius(L.getModel("itemStyle"),H,!0);extend(H,X),util_each(rj,function(o){var v=T.ensureState(o),_=L.getModel([o,"itemStyle"]);v.style=_.getItemStyle();var x=getSectorCornerRadius(_,H);x&&(v.shape=x)}),o?(T.setShape(H),T.shape.r=B.r0,initProps(T,{shape:{r:B.r}},_,v.dataIndex)):(updateProps(T,{shape:H},_),saveOldStyle(T)),T.useStyle(Y),this._updateLabel(_);var et=L.getShallow("cursor");et&&T.attr("cursor",et),this._seriesModel=_||this._seriesModel,this._ecModel=x||this._ecModel;var en=N.get("focus");toggleHoverEmphasis(this,"ancestor"===en?v.getAncestorsIndices():"descendant"===en?v.getDescendantIndices():en,N.get("blurScope"),N.get("disabled"))},SunburstPiece.prototype._updateLabel=function(o){var v=this,_=this.node.getModel(),x=_.getModel("label"),w=this.node.getLayout(),T=w.endAngle-w.startAngle,L=(w.startAngle+w.endAngle)/2,N=Math.cos(L),B=Math.sin(L),H=this,Y=H.getTextContent(),Z=this.node.dataIndex,X=x.get("minAngle")/180*Math.PI,et=x.get("show")&&!(null!=X&&Math.abs(T)<X);function getLabelAttr(o,v){var _=o.get(v);return null==_?x.get(v):_}Y.ignore=!et,util_each(rH,function(x){var X,et="normal"===x?_.getModel("label"):_.getModel([x,"label"]),en="normal"===x,er=en?Y:Y.ensureState(x),ei=o.getFormattedLabel(Z,x);en&&(ei=ei||v.node.name),er.style=createTextStyle(et,{},null,"normal"!==x,!0),ei&&(er.style.text=ei);var ea=et.get("show");null==ea||en||(er.ignore=!ea);var eo=getLabelAttr(et,"position"),el=en?H:H.states[x],eu=el.style.fill;el.textConfig={outsideFill:"inherit"===et.get("color")?eu:null,inside:"outside"!==eo};var ec=getLabelAttr(et,"distance")||0,ed=getLabelAttr(et,"align");"outside"===eo?(X=w.r+ec,ed=L>Math.PI/2?"right":"left"):ed&&"center"!==ed?"left"===ed?(X=w.r0+ec,L>Math.PI/2&&(ed="right")):"right"===ed&&(X=w.r-ec,L>Math.PI/2&&(ed="left")):(X=T===2*Math.PI&&0===w.r0?0:(w.r+w.r0)/2,ed="center"),er.style.align=ed,er.style.verticalAlign=getLabelAttr(et,"verticalAlign")||"middle",er.x=X*N+w.cx,er.y=X*B+w.cy;var eh=getLabelAttr(et,"rotate"),ep=0;"radial"===eh?(ep=normalizeRadian(-L))>Math.PI/2&&ep<1.5*Math.PI&&(ep+=Math.PI):"tangential"===eh?(ep=Math.PI/2-L)>Math.PI/2?ep-=Math.PI:ep<-Math.PI/2&&(ep+=Math.PI):isNumber(eh)&&(ep=eh*Math.PI/180),er.rotation=normalizeRadian(ep)}),Y.dirtyStyle()},SunburstPiece}(aq),hY="sunburstRootToNode",hK="sunburstHighlight";function installSunburstAction(o){o.registerAction({type:hY,update:"updateView"},function(o,v){v.eachComponent({mainType:"series",subType:"sunburst",query:o},handleRootToNode);function handleRootToNode(v,_){var x=retrieveTargetInfo(o,[hY],v);if(x){var w=v.getViewRoot();w&&(o.direction=aboveViewRoot(w,x.node)?"rollUp":"drillDown"),v.resetViewRoot(x.node)}}}),o.registerAction({type:hK,update:"none"},function(o,v,_){function handleHighlight(v){var _=retrieveTargetInfo(o,[hK],v);_&&(o.dataIndex=_.node.dataIndex)}o=extend({},o),v.eachComponent({mainType:"series",subType:"sunburst",query:o},handleHighlight),_.dispatchAction(extend(o,{type:"highlight"}))}),o.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(o,v,_){o=extend({},o),_.dispatchAction(extend(o,{type:"downplay"}))})}var hZ=function(o){function SunburstView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SunburstView.type,v}return __extends(SunburstView,o),SunburstView.prototype.render=function(o,v,_,x){var w=this;this.seriesModel=o,this.api=_,this.ecModel=v;var T=o.getData(),L=T.tree.root,N=o.getViewRoot(),B=this.group,H=o.get("renderLabelForZeroData"),Y=[];function dualTravel(o,v){function getKey(o){return o.getId()}function processNode(_,x){doRenderNode(null==_?null:o[_],null==x?null:v[x])}(0!==o.length||0!==v.length)&&new ln(v,o,getKey,getKey).add(processNode).update(processNode).remove(curry(processNode,null)).execute()}function doRenderNode(x,w){if(H||!x||x.getValue()||(x=null),x!==L&&w!==L){if(w&&w.piece)x?(w.piece.updateData(!1,x,o,v,_),T.setItemGraphicEl(x.dataIndex,w.piece)):removeNode(w);else if(x){var N=new hW(x,o,v,_);B.add(N),T.setItemGraphicEl(x.dataIndex,N)}}}function removeNode(o){o&&o.piece&&(B.remove(o.piece),o.piece=null)}function renderRollUp(x,T){T.depth>0?(w.virtualPiece?w.virtualPiece.updateData(!1,x,o,v,_):(w.virtualPiece=new hW(x,o,v,_),B.add(w.virtualPiece)),T.piece.off("click"),w.virtualPiece.on("click",function(o){w._rootToNode(T.parentNode)})):w.virtualPiece&&(B.remove(w.virtualPiece),w.virtualPiece=null)}N.eachNode(function(o){Y.push(o)}),dualTravel(Y,this._oldChildren||[]),renderRollUp(L,N),this._initEvents(),this._oldChildren=Y},SunburstView.prototype._initEvents=function(){var o=this;this.group.off("click"),this.group.on("click",function(v){var _=!1;o.seriesModel.getViewRoot().eachNode(function(x){if(!_&&x.piece&&x.piece===v.target){var w=x.getModel().get("nodeClick");if("rootToNode"===w)o._rootToNode(x);else if("link"===w){var T=x.getModel(),L=T.get("link");L&&windowOpen(L,T.get("target",!0)||"_blank")}_=!0}})})},SunburstView.prototype._rootToNode=function(o){o!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:hY,from:this.uid,seriesId:this.seriesModel.id,targetNode:o})},SunburstView.prototype.containPoint=function(o,v){var _=v.getData().getItemLayout(0);if(_){var x=o[0]-_.cx,w=o[1]-_.cy,T=Math.sqrt(x*x+w*w);return T<=_.r&&T>=_.r0}},SunburstView.type="sunburst",SunburstView}(ob),hq=function(o){function SunburstSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SunburstSeriesModel.type,v.ignoreStyleOnData=!0,v}return __extends(SunburstSeriesModel,o),SunburstSeriesModel.prototype.getInitialData=function(o,v){var _={name:o.name,children:o.data};SunburstSeries_completeTreeValue(_);var x=this._levelModels=map(o.levels||[],function(o){return new ii(o,this,v)},this),w=cV.createTree(_,this,beforeLink);function beforeLink(o){o.wrapMethod("getItemModel",function(o,v){var _=x[w.getNodeByDataIndex(v).depth];return _&&(o.parentModel=_),o})}return w.data},SunburstSeriesModel.prototype.optionUpdated=function(){this.resetViewRoot()},SunburstSeriesModel.prototype.getDataParams=function(v){var _=o.prototype.getDataParams.apply(this,arguments),x=this.getData().tree.getNodeByDataIndex(v);return _.treePathInfo=wrapTreePathInfo(x,this),_},SunburstSeriesModel.prototype.getLevelModel=function(o){return this._levelModels&&this._levelModels[o.depth]},SunburstSeriesModel.prototype.getViewRoot=function(){return this._viewRoot},SunburstSeriesModel.prototype.resetViewRoot=function(o){o?this._viewRoot=o:o=this._viewRoot;var v=this.getRawData().tree.root;o&&(o===v||v.contains(o))||(this._viewRoot=v)},SunburstSeriesModel.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},SunburstSeriesModel.type="series.sunburst",SunburstSeriesModel.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},SunburstSeriesModel}(aS);function SunburstSeries_completeTreeValue(o){var v=0;util_each(o.children,function(o){SunburstSeries_completeTreeValue(o);var _=o.value;util_isArray(_)&&(_=_[0]),v+=_});var _=o.value;util_isArray(_)&&(_=_[0]),(null==_||isNaN(_))&&(_=v),_<0&&(_=0),util_isArray(o.value)?o.value[0]=_:o.value=_}var hX=Math.PI/180;function sunburstLayout(o,v,_){v.eachSeriesByType(o,function(o){var v=o.get("center"),x=o.get("radius");util_isArray(x)||(x=[0,x]),util_isArray(v)||(v=[v,v]);var w=_.getWidth(),T=_.getHeight(),L=Math.min(w,T),N=number_parsePercent(v[0],w),B=number_parsePercent(v[1],T),H=number_parsePercent(x[0],L/2),Y=number_parsePercent(x[1],L/2),Z=-o.get("startAngle")*hX,X=o.get("minAngle")*hX,et=o.getData().tree.root,en=o.getViewRoot(),er=en.depth,ei=o.get("sort");null!=ei&&sunburstLayout_initChildren(en,ei);var ea=0;util_each(en.children,function(o){!isNaN(o.getValue())&&ea++});var eo=en.getValue(),el=Math.PI/(eo||ea)*2,eu=en.depth>0,ec=(Y-H)/(en.height-(eu?-1:1)||1),ed=o.get("clockwise"),eh=o.get("stillShowZeroSum"),ep=ed?1:-1,renderNode=function(v,_){if(v){var x=_;if(v!==et){var w=v.getValue(),T=0===eo&&eh?el:w*el;T<X&&(T=X),x=_+ep*T;var Y=v.depth-er-(eu?-1:1),Z=H+ec*Y,en=H+ec*(Y+1),ei=o.getLevelModel(v);if(ei){var ea=ei.get("r0",!0),ef=ei.get("r",!0),eg=ei.get("radius",!0);null!=eg&&(ea=eg[0],ef=eg[1]),null!=ea&&(Z=number_parsePercent(ea,L/2)),null!=ef&&(en=number_parsePercent(ef,L/2))}v.setLayout({angle:T,startAngle:_,endAngle:x,clockwise:ed,cx:N,cy:B,r0:Z,r:en})}if(v.children&&v.children.length){var em=0;util_each(v.children,function(o){em+=renderNode(o,_+em)})}return x-_}};if(eu){var ef=2*Math.PI;et.setLayout({angle:ef,startAngle:Z,endAngle:Z+ef,clockwise:ed,cx:N,cy:B,r0:H,r:H+ec})}renderNode(en,Z)})}function sunburstLayout_initChildren(o,v){var _=o.children||[];o.children=sunburstLayout_sort(_,v),_.length&&util_each(o.children,function(o){sunburstLayout_initChildren(o,v)})}function sunburstLayout_sort(o,v){if(isFunction(v)){var _=map(o,function(o,v){var _=o.getValue();return{params:{depth:o.depth,height:o.height,dataIndex:o.dataIndex,getValue:function(){return _}},index:v}});return _.sort(function(o,_){return v(o.params,_.params)}),map(_,function(v){return o[v.index]})}var x="asc"===v;return o.sort(function(o,v){var _=(o.getValue()-v.getValue())*(x?1:-1);return 0===_?(o.dataIndex-v.dataIndex)*(x?-1:1):_})}function sunburstVisual(o){var v={};function pickColor(o,_,x){for(var w=o;w&&w.depth>1;)w=w.parentNode;var T=_.getColorFromPalette(w.name||w.dataIndex+"",v);return o.depth>1&&util_isString(T)&&(T=lift(T,(o.depth-1)/(x-1)*.5)),T}o.eachSeriesByType("sunburst",function(o){var v=o.getData(),_=v.tree;_.eachNode(function(x){var w=x.getModel().getModel("itemStyle").getItemStyle();w.fill||(w.fill=pickColor(x,o,_.root.height)),extend(v.ensureUniqueItemVisual(x.dataIndex,"style"),w)})})}function sunburst_install_install(o){o.registerChartView(hZ),o.registerSeriesModel(hq),o.registerLayout(curry(sunburstLayout,"sunburst")),o.registerProcessor(curry(dataFilter,"sunburst")),o.registerVisual(sunburstVisual),installSunburstAction(o)}var h$={color:"fill",borderColor:"stroke"},hQ={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},hJ=makeInner(),h0=function(o){function CustomSeriesModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=CustomSeriesModel.type,v}return __extends(CustomSeriesModel,o),CustomSeriesModel.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},CustomSeriesModel.prototype.getInitialData=function(o,v){return helper_createSeriesData(null,this)},CustomSeriesModel.prototype.getDataParams=function(v,_,x){var w=o.prototype.getDataParams.call(this,v,_);return x&&(w.info=hJ(x).info),w},CustomSeriesModel.type="series.custom",CustomSeriesModel.dependencies=["grid","polar","geo","singleAxis","calendar"],CustomSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},CustomSeriesModel}(aS);function dataToCoordSize(o,v){return v=v||[0,0],map(["x","y"],function(_,x){var w=this.getAxis(_),T=v[x],L=o[x]/2;return"category"===w.type?w.getBandWidth():Math.abs(w.dataToCoord(T-L)-w.dataToCoord(T+L))},this)}function cartesianPrepareCustom(o){var v=o.master.getRect();return{coordSys:{type:"cartesian2d",x:v.x,y:v.y,width:v.width,height:v.height},api:{coord:function(v){return o.dataToPoint(v)},size:e2(dataToCoordSize,o)}}}function prepareCustom_dataToCoordSize(o,v){return v=v||[0,0],map([0,1],function(_){var x=v[_],w=o[_]/2,T=[],L=[];return T[_]=x-w,L[_]=x+w,T[1-_]=L[1-_]=v[1-_],Math.abs(this.dataToPoint(T)[_]-this.dataToPoint(L)[_])},this)}function geoPrepareCustom(o){var v=o.getBoundingRect();return{coordSys:{type:"geo",x:v.x,y:v.y,width:v.width,height:v.height,zoom:o.getZoom()},api:{coord:function(v){return o.dataToPoint(v)},size:e2(prepareCustom_dataToCoordSize,o)}}}function single_prepareCustom_dataToCoordSize(o,v){var _=this.getAxis(),x=v instanceof Array?v[0]:v,w=(o instanceof Array?o[0]:o)/2;return"category"===_.type?_.getBandWidth():Math.abs(_.dataToCoord(x-w)-_.dataToCoord(x+w))}function singlePrepareCustom(o){var v=o.getRect();return{coordSys:{type:"singleAxis",x:v.x,y:v.y,width:v.width,height:v.height},api:{coord:function(v){return o.dataToPoint(v)},size:e2(single_prepareCustom_dataToCoordSize,o)}}}function polar_prepareCustom_dataToCoordSize(o,v){return v=v||[0,0],map(["Radius","Angle"],function(_,x){var w=this["get"+_+"Axis"](),T=v[x],L=o[x]/2,N="category"===w.type?w.getBandWidth():Math.abs(w.dataToCoord(T-L)-w.dataToCoord(T+L));return"Angle"===_&&(N=N*Math.PI/180),N},this)}function polarPrepareCustom(o){var v=o.getRadiusAxis(),_=o.getAngleAxis(),x=v.getExtent();return x[0]>x[1]&&x.reverse(),{coordSys:{type:"polar",cx:o.cx,cy:o.cy,r:x[1],r0:x[0]},api:{coord:function(x){var w=v.dataToRadius(x[0]),T=_.dataToAngle(x[1]),L=o.coordToPoint([w,T]);return L.push(w,T*Math.PI/180),L},size:e2(polar_prepareCustom_dataToCoordSize,o)}}}function calendarPrepareCustom(o){var v=o.getRect(),_=o.getRangeInfo();return{coordSys:{type:"calendar",x:v.x,y:v.y,width:v.width,height:v.height,cellWidth:o.getCellWidth(),cellHeight:o.getCellHeight(),rangeInfo:{start:_.start,end:_.end,weeks:_.weeks,dayCount:_.allDay}},api:{coord:function(v,_){return o.dataToPoint(v,_)}}}}function isEC4CompatibleStyle(o,v,_,x){return o&&(o.legacy||!1!==o.legacy&&!_&&!x&&"tspan"!==v&&("text"===v||hasOwn(o,"text")))}function convertFromEC4CompatibleStyle(o,v,_){var x,w,T;if("text"===v)T=o;else{T={},hasOwn(o,"text")&&(T.text=o.text),hasOwn(o,"rich")&&(T.rich=o.rich),hasOwn(o,"textFill")&&(T.fill=o.textFill),hasOwn(o,"textStroke")&&(T.stroke=o.textStroke),hasOwn(o,"fontFamily")&&(T.fontFamily=o.fontFamily),hasOwn(o,"fontSize")&&(T.fontSize=o.fontSize),hasOwn(o,"fontStyle")&&(T.fontStyle=o.fontStyle),hasOwn(o,"fontWeight")&&(T.fontWeight=o.fontWeight),w={type:"text",style:T,silent:!0},x={};var L=hasOwn(o,"textPosition");_?x.position=L?o.textPosition:"inside":L&&(x.position=o.textPosition),hasOwn(o,"textPosition")&&(x.position=o.textPosition),hasOwn(o,"textOffset")&&(x.offset=o.textOffset),hasOwn(o,"textRotation")&&(x.rotation=o.textRotation),hasOwn(o,"textDistance")&&(x.distance=o.textDistance)}return convertEC4CompatibleRichItem(T,o),util_each(T.rich,function(o){convertEC4CompatibleRichItem(o,o)}),{textConfig:x,textContent:w}}function convertEC4CompatibleRichItem(o,v){v&&(v.font=v.textFont||v.font,hasOwn(v,"textStrokeWidth")&&(o.lineWidth=v.textStrokeWidth),hasOwn(v,"textAlign")&&(o.align=v.textAlign),hasOwn(v,"textVerticalAlign")&&(o.verticalAlign=v.textVerticalAlign),hasOwn(v,"textLineHeight")&&(o.lineHeight=v.textLineHeight),hasOwn(v,"textWidth")&&(o.width=v.textWidth),hasOwn(v,"textHeight")&&(o.height=v.textHeight),hasOwn(v,"textBackgroundColor")&&(o.backgroundColor=v.textBackgroundColor),hasOwn(v,"textPadding")&&(o.padding=v.textPadding),hasOwn(v,"textBorderColor")&&(o.borderColor=v.textBorderColor),hasOwn(v,"textBorderWidth")&&(o.borderWidth=v.textBorderWidth),hasOwn(v,"textBorderRadius")&&(o.borderRadius=v.textBorderRadius),hasOwn(v,"textBoxShadowColor")&&(o.shadowColor=v.textBoxShadowColor),hasOwn(v,"textBoxShadowBlur")&&(o.shadowBlur=v.textBoxShadowBlur),hasOwn(v,"textBoxShadowOffsetX")&&(o.shadowOffsetX=v.textBoxShadowOffsetX),hasOwn(v,"textBoxShadowOffsetY")&&(o.shadowOffsetY=v.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(o,v,_){o.textPosition=o.textPosition||_.position||"inside",null!=_.offset&&(o.textOffset=_.offset),null!=_.rotation&&(o.textRotation=_.rotation),null!=_.distance&&(o.textDistance=_.distance);var x=o.textPosition.indexOf("inside")>=0,w=o.fill||"#000";convertToEC4RichItem(o,v);var T=null==o.textFill;return x?T&&(o.textFill=_.insideFill||"#fff",!o.textStroke&&_.insideStroke&&(o.textStroke=_.insideStroke),o.textStroke||(o.textStroke=w),null==o.textStrokeWidth&&(o.textStrokeWidth=2)):(T&&(o.textFill=o.fill||_.outsideFill||"#000"),!o.textStroke&&_.outsideStroke&&(o.textStroke=_.outsideStroke)),o.text=v.text,o.rich=v.rich,util_each(v.rich,function(o){convertToEC4RichItem(o,o)}),o}function convertToEC4RichItem(o,v){v&&(hasOwn(v,"fill")&&(o.textFill=v.fill),hasOwn(v,"stroke")&&(o.textStroke=v.fill),hasOwn(v,"lineWidth")&&(o.textStrokeWidth=v.lineWidth),hasOwn(v,"font")&&(o.font=v.font),hasOwn(v,"fontStyle")&&(o.fontStyle=v.fontStyle),hasOwn(v,"fontWeight")&&(o.fontWeight=v.fontWeight),hasOwn(v,"fontSize")&&(o.fontSize=v.fontSize),hasOwn(v,"fontFamily")&&(o.fontFamily=v.fontFamily),hasOwn(v,"align")&&(o.textAlign=v.align),hasOwn(v,"verticalAlign")&&(o.textVerticalAlign=v.verticalAlign),hasOwn(v,"lineHeight")&&(o.textLineHeight=v.lineHeight),hasOwn(v,"width")&&(o.textWidth=v.width),hasOwn(v,"height")&&(o.textHeight=v.height),hasOwn(v,"backgroundColor")&&(o.textBackgroundColor=v.backgroundColor),hasOwn(v,"padding")&&(o.textPadding=v.padding),hasOwn(v,"borderColor")&&(o.textBorderColor=v.borderColor),hasOwn(v,"borderWidth")&&(o.textBorderWidth=v.borderWidth),hasOwn(v,"borderRadius")&&(o.textBorderRadius=v.borderRadius),hasOwn(v,"shadowColor")&&(o.textBoxShadowColor=v.shadowColor),hasOwn(v,"shadowBlur")&&(o.textBoxShadowBlur=v.shadowBlur),hasOwn(v,"shadowOffsetX")&&(o.textBoxShadowOffsetX=v.shadowOffsetX),hasOwn(v,"shadowOffsetY")&&(o.textBoxShadowOffsetY=v.shadowOffsetY),hasOwn(v,"textShadowColor")&&(o.textShadowColor=v.textShadowColor),hasOwn(v,"textShadowBlur")&&(o.textShadowBlur=v.textShadowBlur),hasOwn(v,"textShadowOffsetX")&&(o.textShadowOffsetX=v.textShadowOffsetX),hasOwn(v,"textShadowOffsetY")&&(o.textShadowOffsetY=v.textShadowOffsetY))}var h1={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},h2=keys(h1);reduce(ns,function(o,v){return o[v]=1,o},{}),ns.join(", ");var h5=["","style","shape","extra"],h3=makeInner();function getElementAnimationConfig(o,v,_,x,w){var T=o+"Animation",L=getAnimationConfig(o,x,w)||{},N=h3(v).userDuring;return L.duration>0&&(L.during=N?e2(duringCall,{el:v,userDuring:N}):null,L.setToFinal=!0,L.scope=o),extend(L,_[T]),L}function applyUpdateTransition(o,v,_,x){var w=(x=x||{}).dataIndex,T=x.isInit,L=x.clearStyle,N=_.isAnimationEnabled(),B=h3(o),H=v.style;B.userDuring=v.during;var Y={},Z={};if(prepareTransformAllPropsFinal(o,v,Z),prepareShapeOrExtraAllPropsFinal("shape",v,Z),prepareShapeOrExtraAllPropsFinal("extra",v,Z),!T&&N&&(prepareTransformTransitionFrom(o,v,Y),prepareShapeOrExtraTransitionFrom("shape",o,v,Y),prepareShapeOrExtraTransitionFrom("extra",o,v,Y),prepareStyleTransitionFrom(o,v,H,Y)),Z.style=H,applyPropsDirectly(o,Z,L),applyMiscProps(o,v),N){if(T){var X={};util_each(h5,function(o){var _=o?v[o]:v;_&&_.enterFrom&&(o&&(X[o]=X[o]||{}),extend(o?X[o]:X,_.enterFrom))});var et=getElementAnimationConfig("enter",o,v,_,w);et.duration>0&&o.animateFrom(X,et)}else applyPropsTransition(o,v,w||0,_,Y)}updateLeaveTo(o,v),H?o.dirty():o.markRedraw()}function updateLeaveTo(o,v){for(var _=h3(o).leaveToProps,x=0;x<h5.length;x++){var w=h5[x],T=w?v[w]:v;T&&T.leaveTo&&(_||(_=h3(o).leaveToProps={}),w&&(_[w]=_[w]||{}),extend(w?_[w]:_,T.leaveTo))}}function applyLeaveTransition(o,v,_,x){if(o){var w=o.parent,T=h3(o).leaveToProps;if(T){var L=getElementAnimationConfig("update",o,v,_,0);L.done=function(){w.remove(o),x&&x()},o.animateTo(T,L)}else w.remove(o),x&&x()}}function isTransitionAll(o){return"all"===o}function applyPropsDirectly(o,v,_){var x=v.style;if(!o.isGroup&&x){if(_){o.useStyle({});for(var w=o.animators,T=0;T<w.length;T++){var L=w[T];"style"===L.targetName&&L.changeTarget(o.style)}}o.setStyle(x)}v&&(v.style=null,v&&o.attr(v),v.style=x)}function applyPropsTransition(o,v,_,x,w){if(w){var T=getElementAnimationConfig("update",o,v,x,_);T.duration>0&&o.animateFrom(w,T)}}function applyMiscProps(o,v){hasOwn(v,"silent")&&(o.silent=v.silent),hasOwn(v,"ignore")&&(o.ignore=v.ignore),o instanceof nz&&hasOwn(v,"invisible")&&(o.invisible=v.invisible),o instanceof rv&&hasOwn(v,"autoBatch")&&(o.autoBatch=v.autoBatch)}var h4={},h7={setTransform:function(o,v){return h4.el[o]=v,this},getTransform:function(o){return h4.el[o]},setShape:function(o,v){var _=h4.el;return(_.shape||(_.shape={}))[o]=v,_.dirtyShape&&_.dirtyShape(),this},getShape:function(o){var v=h4.el.shape;if(v)return v[o]},setStyle:function(o,v){var _=h4.el,x=_.style;return x&&(x[o]=v,_.dirtyStyle&&_.dirtyStyle()),this},getStyle:function(o){var v=h4.el.style;if(v)return v[o]},setExtra:function(o,v){return(h4.el.extra||(h4.el.extra={}))[o]=v,this},getExtra:function(o){var v=h4.el.extra;if(v)return v[o]}};function duringCall(){var o=this.el;if(o){var v=h3(o).userDuring,_=this.userDuring;if(v!==_){this.el=this.userDuring=null;return}h4.el=o,_(h7)}}function prepareShapeOrExtraTransitionFrom(o,v,_,x){var w,T=_[o];if(T){var L=v[o];if(L){var N=_.transition,B=T.transition;if(B){if(w||(w=x[o]={}),isTransitionAll(B))extend(w,L);else for(var H=normalizeToArray(B),Y=0;Y<H.length;Y++){var Z=H[Y],X=L[Z];w[Z]=X}}else if(isTransitionAll(N)||indexOf(N,o)>=0){w||(w=x[o]={});for(var et=keys(L),Y=0;Y<et.length;Y++){var Z=et[Y],X=L[Z];isNonStyleTransitionEnabled(T[Z],X)&&(w[Z]=X)}}}}}function prepareShapeOrExtraAllPropsFinal(o,v,_){var x=v[o];if(x)for(var w=_[o]={},T=keys(x),L=0;L<T.length;L++){var N=T[L];w[N]=cloneValue(x[N])}}function prepareTransformTransitionFrom(o,v,_){for(var x=v.transition,w=isTransitionAll(x)?ns:normalizeToArray(x||[]),T=0;T<w.length;T++){var L=w[T];if("style"!==L&&"shape"!==L&&"extra"!==L){var N=o[L];_[L]=N}}}function prepareTransformAllPropsFinal(o,v,_){for(var x=0;x<h2.length;x++){var w=h2[x],T=h1[w],L=v[w];L&&(_[T[0]]=L[0],_[T[1]]=L[1])}for(var x=0;x<ns.length;x++){var N=ns[x];null!=v[N]&&(_[N]=v[N])}}function prepareStyleTransitionFrom(o,v,_,x){if(_){var w,T=o.style;if(T){var L=_.transition,N=v.transition;if(L&&!isTransitionAll(L)){var B=normalizeToArray(L);w||(w=x.style={});for(var H=0;H<B.length;H++){var Y=B[H],Z=T[Y];w[Y]=Z}}else if(o.getAnimationStyleProps&&(isTransitionAll(N)||isTransitionAll(L)||indexOf(N,"style")>=0)){var X=o.getAnimationStyleProps(),et=X?X.style:null;if(et){w||(w=x.style={});for(var en=keys(_),H=0;H<en.length;H++){var Y=en[H];if(et[Y]){var Z=T[Y];w[Y]=Z}}}}}}}function isNonStyleTransitionEnabled(o,v){return isArrayLike(o)?o!==v:null!=o&&isFinite(o)}var h6=makeInner(),h9=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(o){o.stopAnimation("keyframe"),o.attr(h6(o))}function applyKeyframeAnimation(o,v,_){if(_.isAnimationEnabled()&&v){if(util_isArray(v)){util_each(v,function(v){applyKeyframeAnimation(o,v,_)});return}var x=v.keyframes,w=v.duration;if(_&&null==w){var T=getAnimationConfig("enter",_,0);w=T&&T.duration}if(x&&w){var L=h6(o);util_each(h5,function(_){var T;(!_||o[_])&&(x.sort(function(o,v){return o.percent-v.percent}),util_each(x,function(x){var N=o.animators,B=_?x[_]:x;if(B){var H=keys(B);if(_||(H=filter(H,function(o){return 0>indexOf(h9,o)})),H.length){T||((T=o.animate(_,v.loop,!0)).scope="keyframe");for(var Y=0;Y<N.length;Y++)N[Y]!==T&&N[Y].targetName===T.targetName&&N[Y].stopTracks(H);_&&(L[_]=L[_]||{});var Z=_?L[_]:L;util_each(H,function(v){Z[v]=((_?o[_]:o)||{})[v]}),T.whenWithKeys(w*x.percent,B,H,x.easing)}}}),T&&T.delay(v.delay||0).duration(w).start(v.easing))})}}}var h8="emphasis",pi="normal",pa="blur",po="select",ps=[pi,h8,pa,po],pl={normal:["itemStyle"],emphasis:[h8,"itemStyle"],blur:[pa,"itemStyle"],select:[po,"itemStyle"]},pu={normal:["label"],emphasis:[h8,"label"],blur:[pa,"label"],select:[po,"label"]},pc=["x","y"],pd={normal:{},emphasis:{},blur:{},select:{}},ph={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function CustomView_isPath(o){return o instanceof rv}function isDisplayable(o){return o instanceof nz}function copyElement(o,v){v.copyTransform(o),isDisplayable(v)&&isDisplayable(o)&&(v.setStyle(o.style),v.z=o.z,v.z2=o.z2,v.zlevel=o.zlevel,v.invisible=o.invisible,v.ignore=o.ignore,CustomView_isPath(v)&&CustomView_isPath(o)&&v.setShape(o.shape))}var pp=function(o){function CustomChartView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=CustomChartView.type,v}return __extends(CustomChartView,o),CustomChartView.prototype.render=function(o,v,_,x){this._progressiveEls=null;var w=this._data,T=o.getData(),L=this.group,N=makeRenderItem(o,T,v,_);w||L.removeAll(),T.diff(w).add(function(v){createOrUpdateItem(_,null,v,N(v,x),o,L,T)}).remove(function(v){var _=w.getItemGraphicEl(v);_&&applyLeaveTransition(_,hJ(_).option,o)}).update(function(v,B){createOrUpdateItem(_,w.getItemGraphicEl(B),v,N(v,x),o,L,T)}).execute();var B=o.get("clip",!0)?createClipPath(o.coordinateSystem,!1,o):null;B?L.setClipPath(B):L.removeClipPath(),this._data=T},CustomChartView.prototype.incrementalPrepareRender=function(o,v,_){this.group.removeAll(),this._data=null},CustomChartView.prototype.incrementalRender=function(o,v,_,x,w){var T=v.getData(),L=makeRenderItem(v,T,_,x),N=this._progressiveEls=[];function setIncrementalAndHoverLayer(o){o.isGroup||(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var B=o.start;B<o.end;B++){var H=createOrUpdateItem(null,null,B,L(B,w),v,this.group,T);H&&(H.traverse(setIncrementalAndHoverLayer),N.push(H))}},CustomChartView.prototype.eachRendered=function(o){traverseElements(this._progressiveEls||this.group,o)},CustomChartView.prototype.filterForExposedEvent=function(o,v,_,x){var w=v.element;if(null==w||_.name===w)return!0;for(;(_=_.__hostTarget||_.parent)&&_!==this.group;)if(_.name===w)return!0;return!1},CustomChartView.type="custom",CustomChartView}(ob);function createEl(o){var v,_=o.type;if("path"===_){var x=o.shape,w=null!=x.width&&null!=x.height?{x:x.x||0,y:x.y||0,width:x.width,height:x.height}:null,T=getPathData(x);hJ(v=makePath(T,null,w,x.layout||"center")).customPathData=T}else if("image"===_)hJ(v=new rC({})).customImagePath=o.style.image;else if("text"===_)v=new rR({});else if("group"===_)v=new nm;else if("compoundPath"===_)throw Error('"compoundPath" is not supported yet.');else{var L=getShapeClass(_);L||throwError(""),v=new L}return hJ(v).customGraphicType=_,v.name=o.name,v.z2EmphasisLift=1,v.z2SelectLift=1,v}function updateElNormal(o,v,_,x,w,T,L){stopPreviousKeyframeAnimationAndRestore(v);var N=w&&w.normal.cfg;N&&v.setTextConfig(N),x&&null==x.transition&&(x.transition=pc);var B=x&&x.style;if(B){"text"===v.type&&(hasOwn(B,"textFill")&&(B.fill=B.textFill),hasOwn(B,"textStroke")&&(B.stroke=B.textStroke));var H=void 0,Y=CustomView_isPath(v)?B.decal:null;o&&Y&&(Y.dirty=!0,H=createOrUpdatePatternFromDecal(Y,o)),B.__decalPattern=H}if(isDisplayable(v)&&B){var H=B.__decalPattern;H&&(B.decal=H)}applyUpdateTransition(v,x,T,{dataIndex:_,isInit:L,clearStyle:!0}),applyKeyframeAnimation(v,x.keyframeAnimation,T)}function updateElOnState(o,v,_,x,w){var T=v.isGroup?null:v,L=w&&w[o].cfg;if(T){var N=T.ensureState(o);if(!1===x){var B=T.getState(o);B&&(B.style=null)}else N.style=x||null;L&&(N.textConfig=L),setDefaultStateProxy(T)}}function CustomView_updateZ(o,v,_){if(!o.isGroup){var x=_.currentZ,w=_.currentZLevel;o.z=x,o.zlevel=w;var T=v.z2;null!=T&&(o.z2=T||0);for(var L=0;L<ps.length;L++)updateZForEachState(o,v,ps[L])}}function updateZForEachState(o,v,_){var x=_===pi,w=x?v:retrieveStateOption(v,_),T=w?w.z2:null;null!=T&&((x?o:o.ensureState(_)).z2=T||0)}function makeRenderItem(o,v,_,x){var w,T,L=o.get("renderItem"),N=o.coordinateSystem,B={};N&&(B=N.prepareCustoms?N.prepareCustoms(N):ph[N.type](N));for(var H=util_defaults({getWidth:x.getWidth,getHeight:x.getHeight,getZr:x.getZr,getDevicePixelRatio:x.getDevicePixelRatio,value:value,style:style,ordinalRawValue:ordinalRawValue,styleEmphasis:styleEmphasis,visual:visual,barLayout:barLayout,currentSeriesIndices:currentSeriesIndices,font:font},B.api||{}),Y={context:{},seriesId:o.id,seriesName:o.name,seriesIndex:o.seriesIndex,coordSys:B.coordSys,dataInsideLength:v.count(),encode:wrapEncodeDef(o.getData())},Z={},X={},et={},en={},er=0;er<ps.length;er++){var ei=ps[er];et[ei]=o.getModel(pl[ei]),en[ei]=o.getModel(pu[ei])}function getItemModel(o){return o===w?T||(T=v.getItemModel(o)):v.getItemModel(o)}function getItemStyleModel(o,_){return v.hasItemOption?o===w?Z[_]||(Z[_]=getItemModel(o).getModel(pl[_])):getItemModel(o).getModel(pl[_]):et[_]}function getLabelModel(o,_){return v.hasItemOption?o===w?X[_]||(X[_]=getItemModel(o).getModel(pu[_])):getItemModel(o).getModel(pu[_]):en[_]}return function(o,_){return w=o,T=null,Z={},X={},L&&L(util_defaults({dataIndexInside:o,dataIndex:v.getRawIndex(o),actionType:_?_.type:null},Y),H)};function value(o,_){return null==_&&(_=w),v.getStore().get(v.getDimensionIndex(o||0),_)}function ordinalRawValue(o,_){null==_&&(_=w),o=o||0;var x=v.getDimensionInfo(o);if(!x){var T=v.getDimensionIndex(o);return T>=0?v.getStore().get(T,_):void 0}var L=v.get(x.name,_),N=x&&x.ordinalMeta;return N?N.categories[L]:L}function style(_,x){null==x&&(x=w);var T=v.getItemVisual(x,"style"),L=T&&T.fill,N=T&&T.opacity,B=getItemStyleModel(x,pi).getItemStyle();null!=L&&(B.fill=L),null!=N&&(B.opacity=N);var H={inheritColor:util_isString(L)?L:"#000"},Y=getLabelModel(x,pi),Z=createTextStyle(Y,null,H,!1,!0);Z.text=Y.getShallow("show")?retrieve2(o.getFormattedLabel(x,pi),getDefaultLabel(v,x)):null;var X=createTextConfig(Y,H,!1);return preFetchFromExtra(_,B),B=convertToEC4StyleForCustomSerise(B,Z,X),_&&applyUserPropsAfter(B,_),B.legacy=!0,B}function styleEmphasis(_,x){null==x&&(x=w);var T=getItemStyleModel(x,h8).getItemStyle(),L=getLabelModel(x,h8),N=createTextStyle(L,null,null,!0,!0);N.text=L.getShallow("show")?retrieve3(o.getFormattedLabel(x,h8),o.getFormattedLabel(x,pi),getDefaultLabel(v,x)):null;var B=createTextConfig(L,null,!0);return preFetchFromExtra(_,T),T=convertToEC4StyleForCustomSerise(T,N,B),_&&applyUserPropsAfter(T,_),T.legacy=!0,T}function applyUserPropsAfter(o,v){for(var _ in v)hasOwn(v,_)&&(o[_]=v[_])}function preFetchFromExtra(o,v){o&&(o.textFill&&(v.textFill=o.textFill),o.textPosition&&(v.textPosition=o.textPosition))}function visual(o,_){if(null==_&&(_=w),hasOwn(h$,o)){var x=v.getItemVisual(_,"style");return x?x[h$[o]]:null}if(hasOwn(hQ,o))return v.getItemVisual(_,o)}function barLayout(o){if("cartesian2d"===N.type)return getLayoutOnAxis(util_defaults({axis:N.getBaseAxis()},o))}function currentSeriesIndices(){return _.getCurrentSeriesIndices()}function font(o){return getFont(o,_)}}function wrapEncodeDef(o){var v={};return util_each(o.dimensions,function(_){var x=o.getDimensionInfo(_);if(!x.isExtraCoord){var w=x.coordDim;(v[w]=v[w]||[])[x.coordDimIndex]=o.getDimensionIndex(_)}}),v}function createOrUpdateItem(o,v,_,x,w,T,L){if(!x){T.remove(v);return}var N=doCreateOrUpdateEl(o,v,_,x,w,T);return N&&L.setItemGraphicEl(_,N),N&&toggleHoverEmphasis(N,x.focus,x.blurScope,x.emphasisDisabled),N}function doCreateOrUpdateEl(o,v,_,x,w,T){var L=-1,N=v;v&&doesElNeedRecreate(v,x,w)&&(L=indexOf(T.childrenRef(),v),v=null);var B=!v,H=v;H?H.clearStates():(H=createEl(x),N&&copyElement(N,H)),!1===x.morph?H.disableMorphing=!0:H.disableMorphing&&(H.disableMorphing=!1),pd.normal.cfg=pd.normal.conOpt=pd.emphasis.cfg=pd.emphasis.conOpt=pd.blur.cfg=pd.blur.conOpt=pd.select.cfg=pd.select.conOpt=null,pd.isLegacy=!1,doCreateOrUpdateAttachedTx(H,_,x,w,B,pd),doCreateOrUpdateClipPath(H,_,x,w,B),updateElNormal(o,H,_,x,pd,w,B),hasOwn(x,"info")&&(hJ(H).info=x.info);for(var Y=0;Y<ps.length;Y++){var Z=ps[Y];if(Z!==pi){var X=retrieveStateOption(x,Z),et=retrieveStyleOptionOnState(x,X,Z);updateElOnState(Z,H,X,et,pd)}}return CustomView_updateZ(H,x,w),"group"===x.type&&mergeChildren(o,H,_,x,w),L>=0?T.replaceAt(H,L):T.add(H),H}function doesElNeedRecreate(o,v,_){var x=hJ(o),w=v.type,T=v.shape,L=v.style;return _.isUniversalTransitionEnabled()||null!=w&&w!==x.customGraphicType||"path"===w&&hasOwnPathData(T)&&getPathData(T)!==x.customPathData||"image"===w&&hasOwn(L,"image")&&L.image!==x.customImagePath}function doCreateOrUpdateClipPath(o,v,_,x,w){var T=_.clipPath;if(!1===T)o&&o.getClipPath()&&o.removeClipPath();else if(T){var L=o.getClipPath();L&&doesElNeedRecreate(L,T,x)&&(L=null),L||(L=createEl(T),o.setClipPath(L)),updateElNormal(null,L,v,T,null,x,w)}}function doCreateOrUpdateAttachedTx(o,v,_,x,w,T){if(!o.isGroup){processTxInfo(_,null,T),processTxInfo(_,h8,T);var L=T.normal.conOpt,N=T.emphasis.conOpt,B=T.blur.conOpt,H=T.select.conOpt;if(null!=L||null!=N||null!=H||null!=B){var Y=o.getTextContent();if(!1===L)Y&&o.removeTextContent();else{L=T.normal.conOpt=L||{type:"text"},Y?Y.clearStates():(Y=createEl(L),o.setTextContent(Y)),updateElNormal(null,Y,v,L,null,x,w);for(var Z=L&&L.style,X=0;X<ps.length;X++){var et=ps[X];if(et!==pi){var en=T[et].conOpt;updateElOnState(et,Y,en,retrieveStyleOptionOnState(L,en,et),null)}}Z?Y.dirty():Y.markRedraw()}}}}function processTxInfo(o,v,_){var x=v?retrieveStateOption(o,v):o,w=v?retrieveStyleOptionOnState(o,x,h8):o.style,T=o.type,L=x?x.textConfig:null,N=o.textContent,B=N?v?retrieveStateOption(N,v):N:null;if(w&&(_.isLegacy||isEC4CompatibleStyle(w,T,!!L,!!B))){_.isLegacy=!0;var H=convertFromEC4CompatibleStyle(w,T,!v);!L&&H.textConfig&&(L=H.textConfig),!B&&H.textContent&&(B=H.textContent)}if(!v&&B){var Y=B;Y.type||(Y.type="text")}var Z=v?_[v]:_.normal;Z.cfg=L,Z.conOpt=B}function retrieveStateOption(o,v){return v?o?o[v]:null:o}function retrieveStyleOptionOnState(o,v,_){var x=v&&v.style;return null==x&&_===h8&&o&&(x=o.styleEmphasis),x}function mergeChildren(o,v,_,x,w){var T=x.children,L=T?T.length:0,N=x.$mergeChildren,B="byName"===N||x.diffChildrenByName,H=!1===N;if(L||B||H){if(B){diffGroupChildren({api:o,oldChildren:v.children()||[],newChildren:T||[],dataIndex:_,seriesModel:w,group:v});return}H&&v.removeAll();for(var Y=0;Y<L;Y++){var Z=T[Y],X=v.childAt(Y);Z?(null==Z.ignore&&(Z.ignore=!1),doCreateOrUpdateEl(o,X,_,Z,w,v)):X.ignore=!0}for(var et=v.childCount()-1;et>=Y;et--){var en=v.childAt(et);removeChildFromGroup(v,en,w)}}}function removeChildFromGroup(o,v,_){v&&applyLeaveTransition(v,hJ(o).option,_)}function diffGroupChildren(o){new ln(o.oldChildren,o.newChildren,getKey,getKey,o).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(o,v){var _=o&&o.name;return null!=_?_:"e\x00\x00"+v}function processAddUpdate(o,v){var _=this.context,x=null!=o?_.newChildren[o]:null,w=null!=v?_.oldChildren[v]:null;doCreateOrUpdateEl(_.api,w,_.dataIndex,x,_.seriesModel,_.group)}function processRemove(o){var v=this.context,_=v.oldChildren[o];_&&applyLeaveTransition(_,hJ(_).option,v.seriesModel)}function getPathData(o){return o&&(o.pathData||o.d)}function hasOwnPathData(o){return o&&(hasOwn(o,"pathData")||hasOwn(o,"d"))}function custom_install_install(o){o.registerChartView(pp),o.registerSeriesModel(h0)}var pf=makeInner(),pg=clone,pm=function(){function BaseAxisPointer(){this._dragging=!1,this.animationThreshold=15}return BaseAxisPointer.prototype.render=function(o,v,_,x){var w=v.get("value"),T=v.get("status");if(this._axisModel=o,this._axisPointerModel=v,this._api=_,x||this._lastValue!==w||this._lastStatus!==T){this._lastValue=w,this._lastStatus=T;var L=this._group,N=this._handle;if(!T||"hide"===T){L&&L.hide(),N&&N.hide();return}L&&L.show(),N&&N.show();var B={};this.makeElOption(B,w,o,v,_);var H=B.graphicKey;H!==this._lastGraphicKey&&this.clear(_),this._lastGraphicKey=H;var Y=this._moveAnimation=this.determineAnimation(o,v);if(L){var Z=curry(BaseAxisPointer_updateProps,v,Y);this.updatePointerEl(L,B,Z),this.updateLabelEl(L,B,Z,v)}else L=this._group=new nm,this.createPointerEl(L,B,o,v),this.createLabelEl(L,B,o,v),_.getZr().add(L);updateMandatoryProps(L,v,!0),this._renderHandle(w)}},BaseAxisPointer.prototype.remove=function(o){this.clear(o)},BaseAxisPointer.prototype.dispose=function(o){this.clear(o)},BaseAxisPointer.prototype.determineAnimation=function(o,v){var _=v.get("animation"),x=o.axis,w="category"===x.type,T=v.get("snap");if(!T&&!w)return!1;if("auto"===_||null==_){var L=this.animationThreshold;if(w&&x.getBandWidth()>L)return!0;if(T){var N=getAxisInfo(o).seriesDataCount,B=x.getExtent();return Math.abs(B[0]-B[1])/N>L}return!1}return!0===_},BaseAxisPointer.prototype.makeElOption=function(o,v,_,x,w){},BaseAxisPointer.prototype.createPointerEl=function(o,v,_,x){var w=v.pointer;if(w){var T=pf(o).pointerEl=new eF[w.type](pg(v.pointer));o.add(T)}},BaseAxisPointer.prototype.createLabelEl=function(o,v,_,x){if(v.label){var w=pf(o).labelEl=new rR(pg(v.label));o.add(w),updateLabelShowHide(w,x)}},BaseAxisPointer.prototype.updatePointerEl=function(o,v,_){var x=pf(o).pointerEl;x&&v.pointer&&(x.setStyle(v.pointer.style),_(x,{shape:v.pointer.shape}))},BaseAxisPointer.prototype.updateLabelEl=function(o,v,_,x){var w=pf(o).labelEl;w&&(w.setStyle(v.label.style),_(w,{x:v.label.x,y:v.label.y}),updateLabelShowHide(w,x))},BaseAxisPointer.prototype._renderHandle=function(o){if(!this._dragging&&this.updateHandleTransform){var v,_=this._axisPointerModel,x=this._api.getZr(),w=this._handle,T=_.getModel("handle"),L=_.get("status");if(!T.get("show")||!L||"hide"===L){w&&x.remove(w),this._handle=null;return}this._handle||(v=!0,w=this._handle=createIcon(T.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(o){stop(o.event)},onmousedown:e2(this._onHandleDragMove,this,0,0),drift:e2(this._onHandleDragMove,this),ondragend:e2(this._onHandleDragEnd,this)}),x.add(w)),updateMandatoryProps(w,_,!1),w.setStyle(T.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var N=T.get("size");util_isArray(N)||(N=[N,N]),w.scaleX=N[0]/2,w.scaleY=N[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",T.get("throttle")||0,"fixRate"),this._moveHandleToValue(o,v)}},BaseAxisPointer.prototype._moveHandleToValue=function(o,v){BaseAxisPointer_updateProps(this._axisPointerModel,!v&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(o,this._axisModel,this._axisPointerModel)))},BaseAxisPointer.prototype._onHandleDragMove=function(o,v){var _=this._handle;if(_){this._dragging=!0;var x=this.updateHandleTransform(getHandleTransProps(_),[o,v],this._axisModel,this._axisPointerModel);this._payloadInfo=x,_.stopAnimation(),_.attr(getHandleTransProps(x)),pf(_).lastProp=null,this._doDispatchAxisPointer()}},BaseAxisPointer.prototype._doDispatchAxisPointer=function(){if(this._handle){var o=this._payloadInfo,v=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:o.cursorPoint[0],y:o.cursorPoint[1],tooltipOption:o.tooltipOption,axesInfo:[{axisDim:v.axis.dim,axisIndex:v.componentIndex}]})}},BaseAxisPointer.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var o=this._axisPointerModel.get("value");this._moveHandleToValue(o),this._api.dispatchAction({type:"hideTip"})}},BaseAxisPointer.prototype.clear=function(o){this._lastValue=null,this._lastStatus=null;var v=o.getZr(),_=this._group,x=this._handle;v&&_&&(this._lastGraphicKey=null,_&&v.remove(_),x&&v.remove(x),this._group=null,this._handle=null,this._payloadInfo=null),clear(this,"_doDispatchAxisPointer")},BaseAxisPointer.prototype.doClear=function(){},BaseAxisPointer.prototype.buildLabel=function(o,v,_){return{x:o[_=_||0],y:o[1-_],width:v[_],height:v[1-_]}},BaseAxisPointer}();function BaseAxisPointer_updateProps(o,v,_,x){propsEqual(pf(_).lastProp,x)||(pf(_).lastProp=x,v?updateProps(_,x,o):(_.stopAnimation(),_.attr(x)))}function propsEqual(o,v){if(!(util_isObject(o)&&util_isObject(v)))return o===v;var _=!0;return util_each(v,function(v,x){_=_&&propsEqual(o[x],v)}),!!_}function updateLabelShowHide(o,v){o[v.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(o){return{x:o.x||0,y:o.y||0,rotation:o.rotation||0}}function updateMandatoryProps(o,v,_){var x=v.get("z"),w=v.get("zlevel");o&&o.traverse(function(o){"group"!==o.type&&(null!=x&&(o.z=x),null!=w&&(o.zlevel=w),o.silent=_)})}function buildElStyle(o){var v,_=o.get("type"),x=o.getModel(_+"Style");return"line"===_?(v=x.getLineStyle()).fill=null:"shadow"===_&&((v=x.getAreaStyle()).stroke=null),v}function buildLabelElOption(o,v,_,x,w){var T=getValueLabel(_.get("value"),v.axis,v.ecModel,_.get("seriesDataIndices"),{precision:_.get(["label","precision"]),formatter:_.get(["label","formatter"])}),L=_.getModel("label"),N=ig(L.get("padding")||0),B=L.getFont(),H=getBoundingRect(T,B),Y=w.position,Z=H.width+N[1]+N[3],X=H.height+N[0]+N[2],et=w.align;"right"===et&&(Y[0]-=Z),"center"===et&&(Y[0]-=Z/2);var en=w.verticalAlign;"bottom"===en&&(Y[1]-=X),"middle"===en&&(Y[1]-=X/2),confineInContainer(Y,Z,X,x);var er=L.get("backgroundColor");er&&"auto"!==er||(er=v.get(["axisLine","lineStyle","color"])),o.label={x:Y[0],y:Y[1],style:createTextStyle(L,{text:T,font:B,fill:L.getTextColor(),padding:N,backgroundColor:er}),z2:10}}function confineInContainer(o,v,_,x){var w=x.getWidth(),T=x.getHeight();o[0]=Math.min(o[0]+v,w)-v,o[1]=Math.min(o[1]+_,T)-_,o[0]=Math.max(o[0],0),o[1]=Math.max(o[1],0)}function getValueLabel(o,v,_,x,w){o=v.scale.parse(o);var T=v.scale.getLabel({value:o},{precision:w.precision}),L=w.formatter;if(L){var N={value:getAxisRawValue(v,{value:o}),axisDimension:v.dim,axisIndex:v.index,seriesData:[]};util_each(x,function(o){var v=_.getSeriesByIndex(o.seriesIndex),x=o.dataIndexInside,w=v&&v.getDataParams(x);w&&N.seriesData.push(w)}),util_isString(L)?T=L.replace("{value}",T):isFunction(L)&&(T=L(N))}return T}function getTransformedPosition(o,v,_){var x=matrix_create();return rotate(x,x,_.rotation),translate(x,x,_.position),graphic_applyTransform([o.dataToCoord(v),(_.labelOffset||0)+(_.labelDirection||1)*(_.labelMargin||0)],x)}function buildCartesianSingleLabelElOption(o,v,_,x,w,T){var L=uD.innerTextLayout(_.rotation,0,_.labelDirection);_.labelMargin=w.get(["label","margin"]),buildLabelElOption(v,x,w,T,{position:getTransformedPosition(x.axis,o,_),align:L.textAlign,verticalAlign:L.textVerticalAlign})}function makeLineShape(o,v,_){return{x1:o[_=_||0],y1:o[1-_],x2:v[_],y2:v[1-_]}}function makeRectShape(o,v,_){return{x:o[_=_||0],y:o[1-_],width:v[_],height:v[1-_]}}function makeSectorShape(o,v,_,x,w,T){return{cx:o,cy:v,r0:_,r:x,startAngle:w,endAngle:T,clockwise:!0}}var py=function(o){function CartesianAxisPointer(){return null!==o&&o.apply(this,arguments)||this}return __extends(CartesianAxisPointer,o),CartesianAxisPointer.prototype.makeElOption=function(o,v,_,x,w){var T=_.axis,L=T.grid,N=x.get("type"),B=getCartesian(L,T).getOtherAxis(T).getGlobalExtent(),H=T.toGlobalCoord(T.dataToCoord(v,!0));if(N&&"none"!==N){var Y=buildElStyle(x),Z=pv[N](T,H,B);Z.style=Y,o.graphicKey=Z.type,o.pointer=Z}buildCartesianSingleLabelElOption(v,o,cartesianAxisHelper_layout(L.model,_),_,x,w)},CartesianAxisPointer.prototype.getHandleTransform=function(o,v,_){var x=cartesianAxisHelper_layout(v.axis.grid.model,v,{labelInside:!1});x.labelMargin=_.get(["handle","margin"]);var w=getTransformedPosition(v.axis,o,x);return{x:w[0],y:w[1],rotation:x.rotation+(x.labelDirection<0?Math.PI:0)}},CartesianAxisPointer.prototype.updateHandleTransform=function(o,v,_,x){var w=_.axis,T=w.grid,L=w.getGlobalExtent(!0),N=getCartesian(T,w).getOtherAxis(w).getGlobalExtent(),B="x"===w.dim?0:1,H=[o.x,o.y];H[B]+=v[B],H[B]=Math.min(L[1],H[B]),H[B]=Math.max(L[0],H[B]);var Y=(N[1]+N[0])/2,Z=[Y,Y];return Z[B]=H[B],{x:H[0],y:H[1],rotation:o.rotation,cursorPoint:Z,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][B]}},CartesianAxisPointer}(pm);function getCartesian(o,v){var _={};return _[v.dim+"AxisIndex"]=v.index,o.getCartesian(_)}var pv={line:function(o,v,_){return{type:"Line",subPixelOptimize:!0,shape:makeLineShape([v,_[0]],[v,_[1]],getAxisDimIndex(o))}},shadow:function(o,v,_){var x=Math.max(1,o.getBandWidth()),w=_[1]-_[0];return{type:"Rect",shape:makeRectShape([v-x/2,_[0]],[x,w],getAxisDimIndex(o))}}};function getAxisDimIndex(o){return"x"===o.dim?0:1}var p_=function(o){function AxisPointerModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=AxisPointerModel.type,v}return __extends(AxisPointerModel,o),AxisPointerModel.type="axisPointer",AxisPointerModel.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},AxisPointerModel}(ix),pb=makeInner(),pS=util_each;function register(o,v,_){if(!eV.node){var x=v.getZr();pb(x).records||(pb(x).records={}),initGlobalListeners(x,v),(pb(x).records[o]||(pb(x).records[o]={})).handler=_}}function initGlobalListeners(o,v){pb(o).initialized||(pb(o).initialized=!0,useHandler("click",curry(doEnter,"click")),useHandler("mousemove",curry(doEnter,"mousemove")),useHandler("globalout",onLeave));function useHandler(_,x){o.on(_,function(_){var w=makeDispatchAction(v);pS(pb(o).records,function(o){o&&x(o,_,w.dispatchAction)}),dispatchTooltipFinally(w.pendings,v)})}}function dispatchTooltipFinally(o,v){var _,x=o.showTip.length,w=o.hideTip.length;x?_=o.showTip[x-1]:w&&(_=o.hideTip[w-1]),_&&(_.dispatchAction=null,v.dispatchAction(_))}function onLeave(o,v,_){o.handler("leave",null,_)}function doEnter(o,v,_,x){v.handler(o,_,x)}function makeDispatchAction(o){var v={showTip:[],hideTip:[]},dispatchAction=function(_){var x=v[_.type];x?x.push(_):(_.dispatchAction=dispatchAction,o.dispatchAction(_))};return{dispatchAction:dispatchAction,pendings:v}}function unregister(o,v){if(!eV.node){var _=v.getZr();(pb(_).records||{})[o]&&(pb(_).records[o]=null)}}var px=function(o){function AxisPointerView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=AxisPointerView.type,v}return __extends(AxisPointerView,o),AxisPointerView.prototype.render=function(o,v,_){var x=v.getComponent("tooltip"),w=o.get("triggerOn")||x&&x.get("triggerOn")||"mousemove|click";register("axisPointer",_,function(o,v,_){"none"!==w&&("leave"===o||w.indexOf(o)>=0)&&_({type:"updateAxisPointer",currTrigger:o,x:v&&v.offsetX,y:v&&v.offsetY})})},AxisPointerView.prototype.remove=function(o,v){unregister("axisPointer",v)},AxisPointerView.prototype.dispose=function(o,v){unregister("axisPointer",v)},AxisPointerView.type="axisPointer",AxisPointerView}(ax);function findPointFromSeries(o,v){var _,x=[],w=o.seriesIndex;if(null==w||!(_=v.getSeriesByIndex(w)))return{point:[]};var T=_.getData(),L=queryDataIndex(T,o);if(null==L||L<0||util_isArray(L))return{point:[]};var N=T.getItemGraphicEl(L),B=_.coordinateSystem;if(_.getTooltipPosition)x=_.getTooltipPosition(L)||[];else if(B&&B.dataToPoint){if(o.isStacked){var H=B.getBaseAxis(),Y=B.getOtherAxis(H).dim,Z=H.dim,X="x"===Y||"radius"===Y?1:0,et=T.mapDimension(Z),en=[];en[X]=T.get(et,L),en[1-X]=T.get(T.getCalculationInfo("stackResultDimension"),L),x=B.dataToPoint(en)||[]}else x=B.dataToPoint(T.getValues(map(B.dimensions,function(o){return T.mapDimension(o)}),L))||[]}else if(N){var er=N.getBoundingRect().clone();er.applyTransform(N.transform),x=[er.x+er.width/2,er.y+er.height/2]}return{point:x,el:N}}var pw=makeInner();function axisTrigger(o,v,_){var x=o.currTrigger,w=[o.x,o.y],T=o.dispatchAction||e2(_.dispatchAction,_),L=v.getComponent("axisPointer").coordSysAxesInfo;if(L){illegalPoint(w)&&(w=findPointFromSeries({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},v).point);var N=illegalPoint(w),B=o.axesInfo,H=L.axesInfo,Y="leave"===x||illegalPoint(w),Z={},X={},et={list:[],map:{}},en={showPointer:curry(showPointer,X),showTooltip:curry(showTooltip,et)};util_each(L.coordSysMap,function(o,v){var _=N||o.containPoint(w);util_each(L.coordSysAxesInfo[v],function(o,v){var x=o.axis,T=findInputAxisInfo(B,o);if(!Y&&_&&(!B||T)){var L=T&&T.value;null!=L||N||(L=x.pointToData(w)),null!=L&&processOnAxis(o,L,en,!1,Z)}})});var er={};return util_each(H,function(o,v){var _=o.linkGroup;_&&!X[v]&&util_each(_.axesInfo,function(v,x){var w=X[x];if(v!==o&&w){var T=w.value;_.mapper&&(T=o.axis.scale.parse(_.mapper(T,makeMapperParam(v),makeMapperParam(o)))),er[o.key]=T}})}),util_each(er,function(o,v){processOnAxis(H[v],o,en,!0,Z)}),updateModelActually(X,H,Z),dispatchTooltipActually(et,w,o,T),dispatchHighDownActually(H,T,_),Z}}function processOnAxis(o,v,_,x,w){var T=o.axis;if(!T.scale.isBlank()&&T.containData(v)){if(!o.involveSeries){_.showPointer(o,v);return}var L=buildPayloadsBySeries(v,o),N=L.payloadBatch,B=L.snapToValue;N[0]&&null==w.seriesIndex&&extend(w,N[0]),!x&&o.snap&&T.containData(B)&&null!=B&&(v=B),_.showPointer(o,v,N),_.showTooltip(o,L,B)}}function buildPayloadsBySeries(o,v){var _=v.axis,x=_.dim,w=o,T=[],L=Number.MAX_VALUE,N=-1;return util_each(v.seriesModels,function(v,B){var H,Y,Z=v.getData().mapDimensionsAll(x);if(v.getAxisTooltipData){var X=v.getAxisTooltipData(Z,o,_);Y=X.dataIndices,H=X.nestestValue}else{if(!(Y=v.getData().indicesOfNearest(Z[0],o,"category"===_.type?.5:null)).length)return;H=v.getData().get(Z[0],Y[0])}if(null!=H&&isFinite(H)){var et=o-H,en=Math.abs(et);en<=L&&((en<L||et>=0&&N<0)&&(L=en,N=et,w=H,T.length=0),util_each(Y,function(o){T.push({seriesIndex:v.seriesIndex,dataIndexInside:o,dataIndex:v.getData().getRawIndex(o)})}))}}),{payloadBatch:T,snapToValue:w}}function showPointer(o,v,_,x){o[v.key]={value:_,payloadBatch:x}}function showTooltip(o,v,_,x){var w=_.payloadBatch,T=v.axis,L=T.model,N=v.axisPointerModel;if(v.triggerTooltip&&w.length){var B=v.coordSys.model,H=makeKey(B),Y=o.map[H];Y||(Y=o.map[H]={coordSysId:B.id,coordSysIndex:B.componentIndex,coordSysType:B.type,coordSysMainType:B.mainType,dataByAxis:[]},o.list.push(Y)),Y.dataByAxis.push({axisDim:T.dim,axisIndex:L.componentIndex,axisType:L.type,axisId:L.id,value:x,valueLabelOpt:{precision:N.get(["label","precision"]),formatter:N.get(["label","formatter"])},seriesDataIndices:w.slice()})}}function updateModelActually(o,v,_){var x=_.axesInfo=[];util_each(v,function(v,_){var w=v.axisPointerModel.option,T=o[_];T?(v.useHandle||(w.status="show"),w.value=T.value,w.seriesDataIndices=(T.payloadBatch||[]).slice()):v.useHandle||(w.status="hide"),"show"===w.status&&x.push({axisDim:v.axis.dim,axisIndex:v.axis.model.componentIndex,value:w.value})})}function dispatchTooltipActually(o,v,_,x){if(illegalPoint(v)||!o.list.length){x({type:"hideTip"});return}var w=((o.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};x({type:"showTip",escapeConnect:!0,x:v[0],y:v[1],tooltipOption:_.tooltipOption,position:_.position,dataIndexInside:w.dataIndexInside,dataIndex:w.dataIndex,seriesIndex:w.seriesIndex,dataByCoordSys:o.list})}function dispatchHighDownActually(o,v,_){var x=_.getZr(),w="axisPointerLastHighlights",T=pw(x)[w]||{},L=pw(x)[w]={};util_each(o,function(o,v){var _=o.axisPointerModel.option;"show"===_.status&&o.triggerEmphasis&&util_each(_.seriesDataIndices,function(o){L[o.seriesIndex+" | "+o.dataIndex]=o})});var N=[],B=[];util_each(T,function(o,v){L[v]||B.push(o)}),util_each(L,function(o,v){T[v]||N.push(o)}),B.length&&_.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:B}),N.length&&_.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:N})}function findInputAxisInfo(o,v){for(var _=0;_<(o||[]).length;_++){var x=o[_];if(v.axis.dim===x.axisDim&&v.axis.model.componentIndex===x.axisIndex)return x}}function makeMapperParam(o){var v=o.axis.model,_={},x=_.axisDim=o.axis.dim;return _.axisIndex=_[x+"AxisIndex"]=v.componentIndex,_.axisName=_[x+"AxisName"]=v.name,_.axisId=_[x+"AxisId"]=v.id,_}function illegalPoint(o){return!o||null==o[0]||isNaN(o[0])||null==o[1]||isNaN(o[1])}function axisPointer_install_install(o){uA.registerAxisPointerClass("CartesianAxisPointer",py),o.registerComponentModel(p_),o.registerComponentView(px),o.registerPreprocessor(function(o){if(o){o.axisPointer&&0!==o.axisPointer.length||(o.axisPointer={});var v=o.axisPointer.link;v&&!util_isArray(v)&&(o.axisPointer.link=[v])}}),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,function(o,v){o.getComponent("axisPointer").coordSysAxesInfo=collect(o,v)}),o.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function grid_install_install(o){use(installSimple_install),use(axisPointer_install_install)}var pC=function(o){function PolarAxisPointer(){return null!==o&&o.apply(this,arguments)||this}return __extends(PolarAxisPointer,o),PolarAxisPointer.prototype.makeElOption=function(o,v,_,x,w){var T=_.axis;"angle"===T.dim&&(this.animationThreshold=Math.PI/18);var L=T.polar,N=L.getOtherAxis(T).getExtent(),B=T.dataToCoord(v),H=x.get("type");if(H&&"none"!==H){var Y=buildElStyle(x),Z=pT[H](T,L,B,N);Z.style=Y,o.graphicKey=Z.type,o.pointer=Z}var X=x.get(["label","margin"]),et=getLabelPosition(v,_,x,L,X);buildLabelElOption(o,_,x,w,et)},PolarAxisPointer}(pm);function getLabelPosition(o,v,_,x,w){var T,L,N,B=v.axis,H=B.dataToCoord(o),Y=x.getAngleAxis().getExtent()[0];Y=Y/180*Math.PI;var Z=x.getRadiusAxis().getExtent();if("radius"===B.dim){var X=matrix_create();rotate(X,X,Y),translate(X,X,[x.cx,x.cy]),T=graphic_applyTransform([H,-w],X);var et=v.getModel("axisLabel").get("rotate")||0,en=uD.innerTextLayout(Y,et*Math.PI/180,-1);L=en.textAlign,N=en.textVerticalAlign}else{var er=Z[1];T=x.coordToPoint([er+w,H]);var ei=x.cx,ea=x.cy;L=Math.abs(T[0]-ei)/er<.3?"center":T[0]>ei?"left":"right",N=Math.abs(T[1]-ea)/er<.3?"middle":T[1]>ea?"top":"bottom"}return{position:T,align:L,verticalAlign:N}}var pT={line:function(o,v,_,x){return"angle"===o.dim?{type:"Line",shape:makeLineShape(v.coordToPoint([x[0],_]),v.coordToPoint([x[1],_]))}:{type:"Circle",shape:{cx:v.cx,cy:v.cy,r:_}}},shadow:function(o,v,_,x){var w=Math.max(1,o.getBandWidth()),T=Math.PI/180;return"angle"===o.dim?{type:"Sector",shape:makeSectorShape(v.cx,v.cy,x[0],x[1],(-_-w/2)*T,(-_+w/2)*T)}:{type:"Sector",shape:makeSectorShape(v.cx,v.cy,_-w/2,_+w/2,0,2*Math.PI)}}},pM=function(o){function PolarModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=PolarModel.type,v}return __extends(PolarModel,o),PolarModel.prototype.findAxisModel=function(o){var v;return this.ecModel.eachComponent(o,function(o){o.getCoordSysModel()===this&&(v=o)},this),v},PolarModel.type="polar",PolarModel.dependencies=["radiusAxis","angleAxis"],PolarModel.defaultOption={z:0,center:["50%","50%"],radius:"80%"},PolarModel}(ix),pP=function(o){function PolarAxisModel(){return null!==o&&o.apply(this,arguments)||this}return __extends(PolarAxisModel,o),PolarAxisModel.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",nT).models[0]},PolarAxisModel.type="polarAxis",PolarAxisModel}(ix);mixin(pP,l0);var pI=function(o){function AngleAxisModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=AngleAxisModel.type,v}return __extends(AngleAxisModel,o),AngleAxisModel.type="angleAxis",AngleAxisModel}(pP),pD=function(o){function RadiusAxisModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=RadiusAxisModel.type,v}return __extends(RadiusAxisModel,o),RadiusAxisModel.type="radiusAxis",RadiusAxisModel}(pP),pE=function(o){function RadiusAxis(v,_){return o.call(this,"radius",v,_)||this}return __extends(RadiusAxis,o),RadiusAxis.prototype.pointToData=function(o,v){return this.polar.pointToData(o,v)["radius"===this.dim?0:1]},RadiusAxis}(uC);pE.prototype.dataToRadius=uC.prototype.dataToCoord,pE.prototype.radiusToData=uC.prototype.coordToData;var pO=makeInner(),pA=function(o){function AngleAxis(v,_){return o.call(this,"angle",v,_||[0,360])||this}return __extends(AngleAxis,o),AngleAxis.prototype.pointToData=function(o,v){return this.polar.pointToData(o,v)["radius"===this.dim?0:1]},AngleAxis.prototype.calculateCategoryInterval=function(){var o=this.getLabelModel(),v=this.scale,_=v.getExtent(),x=v.count();if(_[1]-_[0]<1)return 0;var w=_[0],T=this.dataToCoord(w+1)-this.dataToCoord(w),L=Math.max(getBoundingRect(null==w?"":w+"",o.getFont(),"center","top").height,7)/Math.abs(T);isNaN(L)&&(L=1/0);var N=Math.max(0,Math.floor(L)),B=pO(this.model),H=B.lastAutoInterval,Y=B.lastTickCount;return null!=H&&null!=Y&&1>=Math.abs(H-N)&&1>=Math.abs(Y-x)&&H>N?N=H:(B.lastTickCount=x,B.lastAutoInterval=N),N},AngleAxis}(uC);pA.prototype.dataToAngle=uC.prototype.dataToCoord,pA.prototype.angleToData=uC.prototype.coordToData;var pk=["radius","angle"],pL=function(){function Polar(o){this.dimensions=pk,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new pE,this._angleAxis=new pA,this.axisPointerEnabled=!0,this.name=o||"",this._radiusAxis.polar=this._angleAxis.polar=this}return Polar.prototype.containPoint=function(o){var v=this.pointToCoord(o);return this._radiusAxis.contain(v[0])&&this._angleAxis.contain(v[1])},Polar.prototype.containData=function(o){return this._radiusAxis.containData(o[0])&&this._angleAxis.containData(o[1])},Polar.prototype.getAxis=function(o){return this["_"+o+"Axis"]},Polar.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},Polar.prototype.getAxesByScale=function(o){var v=[],_=this._angleAxis,x=this._radiusAxis;return _.scale.type===o&&v.push(_),x.scale.type===o&&v.push(x),v},Polar.prototype.getAngleAxis=function(){return this._angleAxis},Polar.prototype.getRadiusAxis=function(){return this._radiusAxis},Polar.prototype.getOtherAxis=function(o){var v=this._angleAxis;return o===v?this._radiusAxis:v},Polar.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},Polar.prototype.getTooltipAxes=function(o){var v=null!=o&&"auto"!==o?this.getAxis(o):this.getBaseAxis();return{baseAxes:[v],otherAxes:[this.getOtherAxis(v)]}},Polar.prototype.dataToPoint=function(o,v){return this.coordToPoint([this._radiusAxis.dataToRadius(o[0],v),this._angleAxis.dataToAngle(o[1],v)])},Polar.prototype.pointToData=function(o,v){var _=this.pointToCoord(o);return[this._radiusAxis.radiusToData(_[0],v),this._angleAxis.angleToData(_[1],v)]},Polar.prototype.pointToCoord=function(o){var v=o[0]-this.cx,_=o[1]-this.cy,x=this.getAngleAxis(),w=x.getExtent(),T=Math.min(w[0],w[1]),L=Math.max(w[0],w[1]);x.inverse?T=L-360:L=T+360;var N=Math.sqrt(v*v+_*_);v/=N;for(var B=Math.atan2(-(_/=N),v)/Math.PI*180,H=B<T?1:-1;B<T||B>L;)B+=360*H;return[N,B]},Polar.prototype.coordToPoint=function(o){var v=o[0],_=o[1]/180*Math.PI;return[Math.cos(_)*v+this.cx,-Math.sin(_)*v+this.cy]},Polar.prototype.getArea=function(){var o=this.getAngleAxis(),v=this.getRadiusAxis().getExtent().slice();v[0]>v[1]&&v.reverse();var _=o.getExtent(),x=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:v[0],r:v[1],startAngle:-_[0]*x,endAngle:-_[1]*x,clockwise:o.inverse,contain:function(o,v){var _=o-this.cx,x=v-this.cy,w=_*_+x*x-1e-4,T=this.r,L=this.r0;return w<=T*T&&w>=L*L}}},Polar.prototype.convertToPixel=function(o,v,_){return Polar_getCoordSys(v)===this?this.dataToPoint(_):null},Polar.prototype.convertFromPixel=function(o,v,_){return Polar_getCoordSys(v)===this?this.pointToData(_):null},Polar}();function Polar_getCoordSys(o){var v=o.seriesModel,_=o.polarModel;return _&&_.coordinateSystem||v&&v.coordinateSystem}function resizePolar(o,v,_){var x=v.get("center"),w=_.getWidth(),T=_.getHeight();o.cx=number_parsePercent(x[0],w),o.cy=number_parsePercent(x[1],T);var L=o.getRadiusAxis(),N=Math.min(w,T)/2,B=v.get("radius");null==B?B=[0,"100%"]:util_isArray(B)||(B=[0,B]);var H=[number_parsePercent(B[0],N),number_parsePercent(B[1],N)];L.inverse?L.setExtent(H[1],H[0]):L.setExtent(H[0],H[1])}function updatePolarScale(o,v){var _=this,x=_.getAngleAxis(),w=_.getRadiusAxis();if(x.scale.setExtent(1/0,-1/0),w.scale.setExtent(1/0,-1/0),o.eachSeries(function(o){if(o.coordinateSystem===_){var v=o.getData();util_each(getDataDimensionsOnAxis(v,"radius"),function(o){w.scale.unionExtentFromData(v,o)}),util_each(getDataDimensionsOnAxis(v,"angle"),function(o){x.scale.unionExtentFromData(v,o)})}}),niceScaleExtent(x.scale,x.model),niceScaleExtent(w.scale,w.model),"category"===x.type&&!x.onBand){var T=x.getExtent(),L=360/x.scale.count();x.inverse?T[1]+=L:T[1]-=L,x.setExtent(T[0],T[1])}}function isAngleAxisModel(o){return"angleAxis"===o.mainType}function setAxis(o,v){if(o.type=v.get("type"),o.scale=createScaleByModel(v),o.onBand=v.get("boundaryGap")&&"category"===o.type,o.inverse=v.get("inverse"),isAngleAxisModel(v)){o.inverse=o.inverse!==v.get("clockwise");var _=v.get("startAngle");o.setExtent(_,_+(o.inverse?-360:360))}v.axis=o,o.model=v}var pR={dimensions:pk,create:function(o,v){var _=[];return o.eachComponent("polar",function(o,x){var w=new pL(x+"");w.update=updatePolarScale;var T=w.getRadiusAxis(),L=w.getAngleAxis(),N=o.findAxisModel("radiusAxis"),B=o.findAxisModel("angleAxis");setAxis(T,N),setAxis(L,B),resizePolar(w,o,v),_.push(w),o.coordinateSystem=w,w.model=o}),o.eachSeries(function(o){if("polar"===o.get("coordinateSystem")){var v=o.getReferringComponents("polar",nT).models[0];o.coordinateSystem=v.coordinateSystem}}),_}},pN=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(o,v,_){v[1]>v[0]&&(v=v.slice().reverse());var x=o.coordToPoint([v[0],_]),w=o.coordToPoint([v[1],_]);return{x1:x[0],y1:x[1],x2:w[0],y2:w[1]}}function getRadiusIdx(o){return o.getRadiusAxis().inverse?0:1}function fixAngleOverlap(o){var v=o[0],_=o[o.length-1];v&&_&&1e-4>Math.abs(Math.abs(v.coord-_.coord)-360)&&o.pop()}var pF=function(o){function AngleAxisView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=AngleAxisView.type,v.axisPointerClass="PolarAxisPointer",v}return __extends(AngleAxisView,o),AngleAxisView.prototype.render=function(o,v){if(this.group.removeAll(),o.get("show")){var _=o.axis,x=_.polar,w=x.getRadiusAxis().getExtent(),T=_.getTicksCoords(),L=_.getMinorTicksCoords(),N=map(_.getViewLabels(),function(o){o=clone(o);var v=_.scale,x="ordinal"===v.type?v.getRawOrdinalNumber(o.tickValue):o.tickValue;return o.coord=_.dataToCoord(x),o});fixAngleOverlap(N),fixAngleOverlap(T),util_each(pN,function(v){o.get([v,"show"])&&(!_.scale.isBlank()||"axisLine"===v)&&pV[v](this.group,o,x,T,L,w,N)},this)}},AngleAxisView.type="angleAxis",AngleAxisView}(uA),pV={axisLine:function(o,v,_,x,w,T){var L,N=v.getModel(["axisLine","lineStyle"]),B=getRadiusIdx(_),H=B?0:1;(L=0===T[H]?new aR({shape:{cx:_.cx,cy:_.cy,r:T[B]},style:N.getLineStyle(),z2:1,silent:!0}):new a$({shape:{cx:_.cx,cy:_.cy,r:T[B],r0:T[H]},style:N.getLineStyle(),z2:1,silent:!0})).style.fill=null,o.add(L)},axisTick:function(o,v,_,x,w,T){var L=v.getModel("axisTick"),N=(L.get("inside")?-1:1)*L.get("length"),B=T[getRadiusIdx(_)],H=map(x,function(o){return new a3({shape:getAxisLineShape(_,[B,B+N],o.coord)})});o.add(om(H,{style:util_defaults(L.getModel("lineStyle").getLineStyle(),{stroke:v.get(["axisLine","lineStyle","color"])})}))},minorTick:function(o,v,_,x,w,T){if(w.length){for(var L=v.getModel("axisTick"),N=v.getModel("minorTick"),B=(L.get("inside")?-1:1)*N.get("length"),H=T[getRadiusIdx(_)],Y=[],Z=0;Z<w.length;Z++)for(var X=0;X<w[Z].length;X++)Y.push(new a3({shape:getAxisLineShape(_,[H,H+B],w[Z][X].coord)}));o.add(om(Y,{style:util_defaults(N.getModel("lineStyle").getLineStyle(),util_defaults(L.getLineStyle(),{stroke:v.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(o,v,_,x,w,T,L){var N=v.getCategories(!0),B=v.getModel("axisLabel"),H=B.get("margin"),Y=v.get("triggerEvent");util_each(L,function(x,w){var L=B,Z=x.tickValue,X=T[getRadiusIdx(_)],et=_.coordToPoint([X+H,x.coord]),en=_.cx,er=_.cy,ei=Math.abs(et[0]-en)/X<.3?"center":et[0]>en?"left":"right",ea=Math.abs(et[1]-er)/X<.3?"middle":et[1]>er?"top":"bottom";if(N&&N[Z]){var eo=N[Z];util_isObject(eo)&&eo.textStyle&&(L=new ii(eo.textStyle,B,B.ecModel))}var el=new rR({silent:uD.isLabelSilent(v),style:createTextStyle(L,{x:et[0],y:et[1],fill:L.getTextColor()||v.get(["axisLine","lineStyle","color"]),text:x.formattedLabel,align:ei,verticalAlign:ea})});if(o.add(el),Y){var eu=uD.makeAxisEventDataBase(v);eu.targetType="axisLabel",eu.value=x.rawLabel,rN(el).eventData=eu}},this)},splitLine:function(o,v,_,x,w,T){var L=v.getModel("splitLine").getModel("lineStyle"),N=L.get("color"),B=0;N=N instanceof Array?N:[N];for(var H=[],Y=0;Y<x.length;Y++){var Z=B++%N.length;H[Z]=H[Z]||[],H[Z].push(new a3({shape:getAxisLineShape(_,T,x[Y].coord)}))}for(var Y=0;Y<H.length;Y++)o.add(om(H[Y],{style:util_defaults({stroke:N[Y%N.length]},L.getLineStyle()),silent:!0,z:v.get("z")}))},minorSplitLine:function(o,v,_,x,w,T){if(w.length){for(var L=v.getModel("minorSplitLine").getModel("lineStyle"),N=[],B=0;B<w.length;B++)for(var H=0;H<w[B].length;H++)N.push(new a3({shape:getAxisLineShape(_,T,w[B][H].coord)}));o.add(om(N,{style:L.getLineStyle(),silent:!0,z:v.get("z")}))}},splitArea:function(o,v,_,x,w,T){if(x.length){var L=v.getModel("splitArea").getModel("areaStyle"),N=L.get("color"),B=0;N=N instanceof Array?N:[N];for(var H=[],Y=Math.PI/180,Z=-x[0].coord*Y,X=Math.min(T[0],T[1]),et=Math.max(T[0],T[1]),en=v.get("clockwise"),er=1,ei=x.length;er<=ei;er++){var ea=er===ei?x[0].coord:x[er].coord,eo=B++%N.length;H[eo]=H[eo]||[],H[eo].push(new aq({shape:{cx:_.cx,cy:_.cy,r0:X,r:et,startAngle:Z,endAngle:-ea*Y,clockwise:en},silent:!0})),Z=-ea*Y}for(var er=0;er<H.length;er++)o.add(om(H[er],{style:util_defaults({fill:N[er%N.length]},L.getAreaStyle()),silent:!0}))}}},pB=["axisLine","axisTickLabel","axisName"],pz=["splitLine","splitArea","minorSplitLine"],pj=function(o){function RadiusAxisView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=RadiusAxisView.type,v.axisPointerClass="PolarAxisPointer",v}return __extends(RadiusAxisView,o),RadiusAxisView.prototype.render=function(o,v){if(this.group.removeAll(),o.get("show")){var _=this._axisGroup,x=this._axisGroup=new nm;this.group.add(x);var w=o.axis,T=w.polar,L=T.getAngleAxis(),N=w.getTicksCoords(),B=w.getMinorTicksCoords(),H=L.getExtent()[0],Y=w.getExtent(),Z=layoutAxis(T,o,H),X=new uD(o,Z);util_each(pB,X.add,X),x.add(X.getGroup()),groupTransition(_,x,o),util_each(pz,function(v){o.get([v,"show"])&&!w.scale.isBlank()&&pH[v](this.group,o,T,H,Y,N,B)},this)}},RadiusAxisView.type="radiusAxis",RadiusAxisView}(uA),pH={splitLine:function(o,v,_,x,w,T){var L=v.getModel("splitLine").getModel("lineStyle"),N=L.get("color"),B=0;N=N instanceof Array?N:[N];for(var H=[],Y=0;Y<T.length;Y++){var Z=B++%N.length;H[Z]=H[Z]||[],H[Z].push(new aR({shape:{cx:_.cx,cy:_.cy,r:Math.max(T[Y].coord,0)}}))}for(var Y=0;Y<H.length;Y++)o.add(om(H[Y],{style:util_defaults({stroke:N[Y%N.length],fill:null},L.getLineStyle()),silent:!0}))},minorSplitLine:function(o,v,_,x,w,T,L){if(L.length){for(var N=v.getModel("minorSplitLine").getModel("lineStyle"),B=[],H=0;H<L.length;H++)for(var Y=0;Y<L[H].length;Y++)B.push(new aR({shape:{cx:_.cx,cy:_.cy,r:L[H][Y].coord}}));o.add(om(B,{style:util_defaults({fill:null},N.getLineStyle()),silent:!0}))}},splitArea:function(o,v,_,x,w,T){if(T.length){var L=v.getModel("splitArea").getModel("areaStyle"),N=L.get("color"),B=0;N=N instanceof Array?N:[N];for(var H=[],Y=T[0].coord,Z=1;Z<T.length;Z++){var X=B++%N.length;H[X]=H[X]||[],H[X].push(new aq({shape:{cx:_.cx,cy:_.cy,r0:Y,r:T[Z].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),Y=T[Z].coord}for(var Z=0;Z<H.length;Z++)o.add(om(H[Z],{style:util_defaults({fill:N[Z%N.length]},L.getAreaStyle()),silent:!0}))}}};function layoutAxis(o,v,_){return{position:[o.cx,o.cy],rotation:_/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:v.getModel("axisLabel").get("rotate"),z2:1}}function barPolar_getSeriesStackId(o){return o.get("stack")||"__ec_stack_"+o.seriesIndex}function barPolar_getAxisKey(o,v){return v.dim+o.model.componentIndex}function calRadialBar(o){var v={};util_each(o,function(o,_){var x=o.getData(),w=o.coordinateSystem,T=w.getBaseAxis(),L=barPolar_getAxisKey(w,T),N=T.getExtent(),B="category"===T.type?T.getBandWidth():Math.abs(N[1]-N[0])/x.count(),H=v[L]||{bandWidth:B,remainedWidth:B,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},Y=H.stacks;v[L]=H;var Z=barPolar_getSeriesStackId(o);!Y[Z]&&H.autoWidthCount++,Y[Z]=Y[Z]||{width:0,maxWidth:0};var X=number_parsePercent(o.get("barWidth"),B),et=number_parsePercent(o.get("barMaxWidth"),B),en=o.get("barGap"),er=o.get("barCategoryGap");X&&!Y[Z].width&&(X=Math.min(H.remainedWidth,X),Y[Z].width=X,H.remainedWidth-=X),et&&(Y[Z].maxWidth=et),null!=en&&(H.gap=en),null!=er&&(H.categoryGap=er)});var _={};return util_each(v,function(o,v){_[v]={};var x,w=o.stacks,T=o.bandWidth,L=number_parsePercent(o.categoryGap,T),N=number_parsePercent(o.gap,1),B=o.remainedWidth,H=o.autoWidthCount,Y=(B-L)/(H+(H-1)*N);Y=Math.max(Y,0),util_each(w,function(o,v){var _=o.maxWidth;_&&_<Y&&(_=Math.min(_,B),o.width&&(_=Math.min(_,o.width)),B-=_,o.width=_,H--)}),Y=Math.max(Y=(B-L)/(H+(H-1)*N),0);var Z=0;util_each(w,function(o,v){o.width||(o.width=Y),x=o,Z+=o.width*(1+N)}),x&&(Z-=x.width*N);var X=-Z/2;util_each(w,function(o,x){_[v][x]=_[v][x]||{offset:X,width:o.width},X+=o.width*(1+N)})}),_}var barPolar=function(o,v,_){var x={},w=calRadialBar(filter(v.getSeriesByType(o),function(o){return!v.isSeriesFiltered(o)&&o.coordinateSystem&&"polar"===o.coordinateSystem.type}));v.eachSeriesByType(o,function(o){if("polar"===o.coordinateSystem.type){var v=o.getData(),_=o.coordinateSystem,T=_.getBaseAxis(),L=barPolar_getAxisKey(_,T),N=barPolar_getSeriesStackId(o),B=w[L][N],H=B.offset,Y=B.width,Z=_.getOtherAxis(T),X=o.coordinateSystem.cx,et=o.coordinateSystem.cy,en=o.get("barMinHeight")||0,er=o.get("barMinAngle")||0;x[N]=x[N]||[];for(var ei=v.mapDimension(Z.dim),ea=v.mapDimension(T.dim),eo=isDimensionStacked(v,ei),el="radius"!==T.dim||!o.get("roundCap",!0),eu=Z.dataToCoord(0),ec=0,ed=v.count();ec<ed;ec++){var eh=v.get(ei,ec),ep=v.get(ea,ec),ef=eh>=0?"p":"n",eg=eu;eo&&(x[N][ep]||(x[N][ep]={p:eu,n:eu}),eg=x[N][ep][ef]);var em=void 0,ey=void 0,ev=void 0,e_=void 0;if("radius"===Z.dim){var eb=Z.dataToCoord(eh)-eu,eS=T.dataToCoord(ep);Math.abs(eb)<en&&(eb=(eb<0?-1:1)*en),em=eg,ey=eg+eb,e_=(ev=eS-H)-Y,eo&&(x[N][ep][ef]=ey)}else{var ex=Z.dataToCoord(eh,el)-eu,ew=T.dataToCoord(ep);Math.abs(ex)<er&&(ex=(ex<0?-1:1)*er),ey=(em=ew+H)+Y,ev=eg,e_=eg+ex,eo&&(x[N][ep][ef]=e_)}v.setItemLayout(ec,{cx:X,cy:et,r0:em,r:ey,startAngle:-ev*Math.PI/180,endAngle:-e_*Math.PI/180,clockwise:ev>=e_})}}})},pG={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},pU={splitNumber:5},pW=function(o){function PolarView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=PolarView.type,v}return __extends(PolarView,o),PolarView.type="polar",PolarView}(ax);function polar_install_install(o){use(axisPointer_install_install),uA.registerAxisPointerClass("PolarAxisPointer",pC),o.registerCoordinateSystem("polar",pR),o.registerComponentModel(pM),o.registerComponentView(pW),axisModelCreator(o,"angle",pI,pG),axisModelCreator(o,"radius",pD,pU),o.registerComponentView(pF),o.registerComponentView(pj),o.registerLayout(curry(barPolar,"bar"))}function singleAxisHelper_layout(o,v){v=v||{};var _=o.coordinateSystem,x=o.axis,w={},T=x.position,L=x.orient,N=_.getRect(),B=[N.x,N.x+N.width,N.y,N.y+N.height],H={horizontal:{top:B[2],bottom:B[3]},vertical:{left:B[0],right:B[1]}};w.position=["vertical"===L?H.vertical[T]:B[0],"horizontal"===L?H.horizontal[T]:B[3]],w.rotation=Math.PI/2*({horizontal:0,vertical:1})[L],w.labelDirection=w.tickDirection=w.nameDirection=({top:-1,bottom:1,right:1,left:-1})[T],o.get(["axisTick","inside"])&&(w.tickDirection=-w.tickDirection),retrieve(v.labelInside,o.get(["axisLabel","inside"]))&&(w.labelDirection=-w.labelDirection);var Y=v.rotate;return null==Y&&(Y=o.get(["axisLabel","rotate"])),w.labelRotation="top"===T?-Y:Y,w.z2=1,w}var pY=["axisLine","axisTickLabel","axisName"],pK=["splitArea","splitLine"],pZ=function(o){function SingleAxisView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SingleAxisView.type,v.axisPointerClass="SingleAxisPointer",v}return __extends(SingleAxisView,o),SingleAxisView.prototype.render=function(v,_,x,w){var T=this.group;T.removeAll();var L=this._axisGroup;this._axisGroup=new nm;var N=singleAxisHelper_layout(v),B=new uD(v,N);util_each(pY,B.add,B),T.add(this._axisGroup),T.add(B.getGroup()),util_each(pK,function(o){v.get([o,"show"])&&pq[o](this,this.group,this._axisGroup,v)},this),groupTransition(L,this._axisGroup,v),o.prototype.render.call(this,v,_,x,w)},SingleAxisView.prototype.remove=function(){rectCoordAxisHandleRemove(this)},SingleAxisView.type="singleAxis",SingleAxisView}(uA),pq={splitLine:function(o,v,_,x){var w=x.axis;if(!w.scale.isBlank()){var T=x.getModel("splitLine"),L=T.getModel("lineStyle"),N=L.get("color");N=N instanceof Array?N:[N];for(var B=L.get("width"),H=x.coordinateSystem.getRect(),Y=w.isHorizontal(),Z=[],X=0,et=w.getTicksCoords({tickModel:T}),en=[],er=[],ei=0;ei<et.length;++ei){var ea=w.toGlobalCoord(et[ei].coord);Y?(en[0]=ea,en[1]=H.y,er[0]=ea,er[1]=H.y+H.height):(en[0]=H.x,en[1]=ea,er[0]=H.x+H.width,er[1]=ea);var eo=new a3({shape:{x1:en[0],y1:en[1],x2:er[0],y2:er[1]},silent:!0});graphic_subPixelOptimizeLine(eo.shape,B);var el=X++%N.length;Z[el]=Z[el]||[],Z[el].push(eo)}for(var eu=L.getLineStyle(["color"]),ei=0;ei<Z.length;++ei)v.add(om(Z[ei],{style:util_defaults({stroke:N[ei%N.length]},eu),silent:!0}))}},splitArea:function(o,v,_,x){rectCoordAxisBuildSplitArea(o,_,x,x)}},pX=function(o){function SingleAxisModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SingleAxisModel.type,v}return __extends(SingleAxisModel,o),SingleAxisModel.prototype.getCoordSysModel=function(){return this},SingleAxisModel.type="singleAxis",SingleAxisModel.layoutMode="box",SingleAxisModel.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},SingleAxisModel}(ix);mixin(pX,l0.prototype);var p$=function(o){function SingleAxis(v,_,x,w,T){var L=o.call(this,v,_,x)||this;return L.type=w||"value",L.position=T||"bottom",L}return __extends(SingleAxis,o),SingleAxis.prototype.isHorizontal=function(){var o=this.position;return"top"===o||"bottom"===o},SingleAxis.prototype.pointToData=function(o,v){return this.coordinateSystem.pointToData(o)[0]},SingleAxis}(uC),pQ=["single"],pJ=function(){function Single(o,v,_){this.type="single",this.dimension="single",this.dimensions=pQ,this.axisPointerEnabled=!0,this.model=o,this._init(o,v,_)}return Single.prototype._init=function(o,v,_){var x=new p$(this.dimension,createScaleByModel(o),[0,0],o.get("type"),o.get("position")),w="category"===x.type;x.onBand=w&&o.get("boundaryGap"),x.inverse=o.get("inverse"),x.orient=o.get("orient"),o.axis=x,x.model=o,x.coordinateSystem=this,this._axis=x},Single.prototype.update=function(o,v){o.eachSeries(function(o){if(o.coordinateSystem===this){var v=o.getData();util_each(v.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(v,o)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},Single.prototype.resize=function(o,v){this._rect=getLayoutRect({left:o.get("left"),top:o.get("top"),right:o.get("right"),bottom:o.get("bottom"),width:o.get("width"),height:o.get("height")},{width:v.getWidth(),height:v.getHeight()}),this._adjustAxis()},Single.prototype.getRect=function(){return this._rect},Single.prototype._adjustAxis=function(){var o=this._rect,v=this._axis,_=v.isHorizontal(),x=_?[0,o.width]:[0,o.height],w=v.inverse?1:0;v.setExtent(x[w],x[1-w]),this._updateAxisTransform(v,_?o.x:o.y)},Single.prototype._updateAxisTransform=function(o,v){var _=o.getExtent(),x=_[0]+_[1],w=o.isHorizontal();o.toGlobalCoord=w?function(o){return o+v}:function(o){return x-o+v},o.toLocalCoord=w?function(o){return o-v}:function(o){return x-o+v}},Single.prototype.getAxis=function(){return this._axis},Single.prototype.getBaseAxis=function(){return this._axis},Single.prototype.getAxes=function(){return[this._axis]},Single.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},Single.prototype.containPoint=function(o){var v=this.getRect(),_=this.getAxis();return"horizontal"===_.orient?_.contain(_.toLocalCoord(o[0]))&&o[1]>=v.y&&o[1]<=v.y+v.height:_.contain(_.toLocalCoord(o[1]))&&o[0]>=v.y&&o[0]<=v.y+v.height},Single.prototype.pointToData=function(o){var v=this.getAxis();return[v.coordToData(v.toLocalCoord(o["horizontal"===v.orient?0:1]))]},Single.prototype.dataToPoint=function(o){var v=this.getAxis(),_=this.getRect(),x=[],w="horizontal"===v.orient?0:1;return o instanceof Array&&(o=o[0]),x[w]=v.toGlobalCoord(v.dataToCoord(+o)),x[1-w]=0===w?_.y+_.height/2:_.x+_.width/2,x},Single.prototype.convertToPixel=function(o,v,_){return Single_getCoordSys(v)===this?this.dataToPoint(_):null},Single.prototype.convertFromPixel=function(o,v,_){return Single_getCoordSys(v)===this?this.pointToData(_):null},Single}();function Single_getCoordSys(o){var v=o.seriesModel,_=o.singleAxisModel;return _&&_.coordinateSystem||v&&v.coordinateSystem}var p0={create:function(o,v){var _=[];return o.eachComponent("singleAxis",function(x,w){var T=new pJ(x,o,v);T.name="single_"+w,T.resize(x,v),x.coordinateSystem=T,_.push(T)}),o.eachSeries(function(o){if("singleAxis"===o.get("coordinateSystem")){var v=o.getReferringComponents("singleAxis",nT).models[0];o.coordinateSystem=v&&v.coordinateSystem}}),_},dimensions:pQ},p1=["x","y"],p2=["width","height"],p5=function(o){function SingleAxisPointer(){return null!==o&&o.apply(this,arguments)||this}return __extends(SingleAxisPointer,o),SingleAxisPointer.prototype.makeElOption=function(o,v,_,x,w){var T=_.axis,L=T.coordinateSystem,N=getGlobalExtent(L,1-getPointDimIndex(T)),B=L.dataToPoint(v)[0],H=x.get("type");if(H&&"none"!==H){var Y=buildElStyle(x),Z=p3[H](T,B,N);Z.style=Y,o.graphicKey=Z.type,o.pointer=Z}buildCartesianSingleLabelElOption(v,o,singleAxisHelper_layout(_),_,x,w)},SingleAxisPointer.prototype.getHandleTransform=function(o,v,_){var x=singleAxisHelper_layout(v,{labelInside:!1});x.labelMargin=_.get(["handle","margin"]);var w=getTransformedPosition(v.axis,o,x);return{x:w[0],y:w[1],rotation:x.rotation+(x.labelDirection<0?Math.PI:0)}},SingleAxisPointer.prototype.updateHandleTransform=function(o,v,_,x){var w=_.axis,T=w.coordinateSystem,L=getPointDimIndex(w),N=getGlobalExtent(T,L),B=[o.x,o.y];B[L]+=v[L],B[L]=Math.min(N[1],B[L]),B[L]=Math.max(N[0],B[L]);var H=getGlobalExtent(T,1-L),Y=(H[1]+H[0])/2,Z=[Y,Y];return Z[L]=B[L],{x:B[0],y:B[1],rotation:o.rotation,cursorPoint:Z,tooltipOption:{verticalAlign:"middle"}}},SingleAxisPointer}(pm),p3={line:function(o,v,_){return{type:"Line",subPixelOptimize:!0,shape:makeLineShape([v,_[0]],[v,_[1]],getPointDimIndex(o))}},shadow:function(o,v,_){var x=o.getBandWidth(),w=_[1]-_[0];return{type:"Rect",shape:makeRectShape([v-x/2,_[0]],[x,w],getPointDimIndex(o))}}};function getPointDimIndex(o){return o.isHorizontal()?0:1}function getGlobalExtent(o,v){var _=o.getRect();return[_[p1[v]],_[p1[v]]+_[p2[v]]]}var p4=function(o){function SingleView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SingleView.type,v}return __extends(SingleView,o),SingleView.type="single",SingleView}(ax);function singleAxis_install_install(o){use(axisPointer_install_install),uA.registerAxisPointerClass("SingleAxisPointer",p5),o.registerComponentView(p4),o.registerComponentView(pZ),o.registerComponentModel(pX),axisModelCreator(o,"single",pX,pX.defaultOption),o.registerCoordinateSystem("single",p0)}var p7=function(o){function CalendarModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=CalendarModel.type,v}return __extends(CalendarModel,o),CalendarModel.prototype.init=function(v,_,x){var w=getLayoutParams(v);o.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams(v,w)},CalendarModel.prototype.mergeOption=function(v){o.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams(this.option,v)},CalendarModel.prototype.getCellSize=function(){return this.option.cellSize},CalendarModel.type="calendar",CalendarModel.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},CalendarModel}(ix);function mergeAndNormalizeLayoutParams(o,v){var _,x=o.cellSize;1===(_=util_isArray(x)?x:o.cellSize=[x,x]).length&&(_[1]=_[0]);var w=map([0,1],function(o){return sizeCalculable(v,o)&&(_[o]="auto"),null!=_[o]&&"auto"!==_[o]});mergeLayoutParam(o,v,{type:"box",ignoreSize:w})}var p6=function(o){function CalendarView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=CalendarView.type,v}return __extends(CalendarView,o),CalendarView.prototype.render=function(o,v,_){var x=this.group;x.removeAll();var w=o.coordinateSystem,T=w.getRangeInfo(),L=w.getOrient(),N=v.getLocaleModel();this._renderDayRect(o,T,x),this._renderLines(o,T,L,x),this._renderYearText(o,T,L,x),this._renderMonthText(o,N,L,x),this._renderWeekText(o,N,T,L,x)},CalendarView.prototype._renderDayRect=function(o,v,_){for(var x=o.coordinateSystem,w=o.getModel("itemStyle").getItemStyle(),T=x.getCellWidth(),L=x.getCellHeight(),N=v.start.time;N<=v.end.time;N=x.getNextNDay(N,1).time){var B=x.dataToRect([N],!1).tl,H=new rI({shape:{x:B[0],y:B[1],width:T,height:L},cursor:"default",style:w});_.add(H)}},CalendarView.prototype._renderLines=function(o,v,_,x){var w=this,T=o.coordinateSystem,L=o.getModel(["splitLine","lineStyle"]).getLineStyle(),N=o.get(["splitLine","show"]),B=L.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var H=v.start,Y=0;H.time<=v.end.time;Y++){addPoints(H.formatedDate),0===Y&&(H=T.getDateInfo(v.start.y+"-"+v.start.m));var Z=H.date;Z.setMonth(Z.getMonth()+1),H=T.getDateInfo(Z)}function addPoints(v){w._firstDayOfMonth.push(T.getDateInfo(v)),w._firstDayPoints.push(T.dataToRect([v],!1).tl);var B=w._getLinePointsOfOneWeek(o,v,_);w._tlpoints.push(B[0]),w._blpoints.push(B[B.length-1]),N&&w._drawSplitline(B,L,x)}addPoints(T.getNextNDay(v.end.time,1).formatedDate),N&&this._drawSplitline(w._getEdgesPoints(w._tlpoints,B,_),L,x),N&&this._drawSplitline(w._getEdgesPoints(w._blpoints,B,_),L,x)},CalendarView.prototype._getEdgesPoints=function(o,v,_){var x=[o[0].slice(),o[o.length-1].slice()],w="horizontal"===_?0:1;return x[0][w]=x[0][w]-v/2,x[1][w]=x[1][w]+v/2,x},CalendarView.prototype._drawSplitline=function(o,v,_){var x=new a1({z2:20,shape:{points:o},style:v});_.add(x)},CalendarView.prototype._getLinePointsOfOneWeek=function(o,v,_){for(var x=o.coordinateSystem,w=x.getDateInfo(v),T=[],L=0;L<7;L++){var N=x.getNextNDay(w.time,L),B=x.dataToRect([N.time],!1);T[2*N.day]=B.tl,T[2*N.day+1]=B["horizontal"===_?"bl":"tr"]}return T},CalendarView.prototype._formatterLabel=function(o,v){return util_isString(o)&&o?formatTplSimple(o,v):isFunction(o)?o(v):v.nameMap},CalendarView.prototype._yearTextPositionControl=function(o,v,_,x,w){var T=v[0],L=v[1],N=["center","bottom"];"bottom"===x?(L+=w,N=["center","top"]):"left"===x?T-=w:"right"===x?(T+=w,N=["center","top"]):L-=w;var B=0;return("left"===x||"right"===x)&&(B=Math.PI/2),{rotation:B,x:T,y:L,style:{align:N[0],verticalAlign:N[1]}}},CalendarView.prototype._renderYearText=function(o,v,_,x){var w=o.getModel("yearLabel");if(w.get("show")){var T=w.get("margin"),L=w.get("position");L||(L="horizontal"!==_?"top":"left");var N=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],B=(N[0][0]+N[1][0])/2,H=(N[0][1]+N[1][1])/2,Y="horizontal"===_?0:1,Z={top:[B,N[Y][1]],bottom:[B,N[1-Y][1]],left:[N[1-Y][0],H],right:[N[Y][0],H]},X=v.start.y;+v.end.y>+v.start.y&&(X=X+"-"+v.end.y);var et=w.get("formatter"),en={start:v.start.y,end:v.end.y,nameMap:X},er=new rR({z2:30,style:createTextStyle(w,{text:this._formatterLabel(et,en)})});er.attr(this._yearTextPositionControl(er,Z[L],_,L,T)),x.add(er)}},CalendarView.prototype._monthTextPositionControl=function(o,v,_,x,w){var T="left",L="top",N=o[0],B=o[1];return"horizontal"===_?(B+=w,v&&(T="center"),"start"===x&&(L="bottom")):(N+=w,v&&(L="middle"),"start"===x&&(T="right")),{x:N,y:B,align:T,verticalAlign:L}},CalendarView.prototype._renderMonthText=function(o,v,_,x){var w=o.getModel("monthLabel");if(w.get("show")){var T=w.get("nameMap"),L=w.get("margin"),N=w.get("position"),B=w.get("align"),H=[this._tlpoints,this._blpoints];(!T||util_isString(T))&&(T&&(v=is[T]||v),T=v.get(["time","monthAbbr"])||[]);var Y="start"===N?0:1,Z="horizontal"===_?0:1;L="start"===N?-L:L;for(var X="center"===B,et=0;et<H[Y].length-1;et++){var en=H[Y][et].slice(),er=this._firstDayOfMonth[et];if(X){var ei=this._firstDayPoints[et];en[Z]=(ei[Z]+H[0][et+1][Z])/2}var ea=w.get("formatter"),eo=T[+er.m-1],el={yyyy:er.y,yy:(er.y+"").slice(2),MM:er.m,M:+er.m,nameMap:eo},eu=new rR({z2:30,style:extend(createTextStyle(w,{text:this._formatterLabel(ea,el)}),this._monthTextPositionControl(en,X,_,N,L))});x.add(eu)}}},CalendarView.prototype._weekTextPositionControl=function(o,v,_,x,w){var T="center",L="middle",N=o[0],B=o[1],H="start"===_;return"horizontal"===v?(N=N+x+(H?1:-1)*w[0]/2,T=H?"right":"left"):(B=B+x+(H?1:-1)*w[1]/2,L=H?"bottom":"top"),{x:N,y:B,align:T,verticalAlign:L}},CalendarView.prototype._renderWeekText=function(o,v,_,x,w){var T=o.getModel("dayLabel");if(T.get("show")){var L=o.coordinateSystem,N=T.get("position"),B=T.get("nameMap"),H=T.get("margin"),Y=L.getFirstDayOfWeek();(!B||util_isString(B))&&(B&&(v=is[B]||v),B=v.get(["time","dayOfWeekShort"])||map(v.get(["time","dayOfWeekAbbr"]),function(o){return o[0]}));var Z=L.getNextNDay(_.end.time,7-_.lweek).time,X=[L.getCellWidth(),L.getCellHeight()];H=number_parsePercent(H,Math.min(X[1],X[0])),"start"===N&&(Z=L.getNextNDay(_.start.time,-(7+_.fweek)).time,H=-H);for(var et=0;et<7;et++){var en=L.getNextNDay(Z,et),er=L.dataToRect([en.time],!1).center,ei=new rR({z2:30,style:extend(createTextStyle(T,{text:B[Math.abs((et+Y)%7)]}),this._weekTextPositionControl(er,x,N,H,X))});w.add(ei)}}},CalendarView.type="calendar",CalendarView}(ax),p9=function(){function Calendar(o,v,_){this.type="calendar",this.dimensions=Calendar.dimensions,this.getDimensionsInfo=Calendar.getDimensionsInfo,this._model=o}return Calendar.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},Calendar.prototype.getRangeInfo=function(){return this._rangeInfo},Calendar.prototype.getModel=function(){return this._model},Calendar.prototype.getRect=function(){return this._rect},Calendar.prototype.getCellWidth=function(){return this._sw},Calendar.prototype.getCellHeight=function(){return this._sh},Calendar.prototype.getOrient=function(){return this._orient},Calendar.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},Calendar.prototype.getDateInfo=function(o){var v=(o=number_parseDate(o)).getFullYear(),_=o.getMonth()+1,x=_<10?"0"+_:""+_,w=o.getDate(),T=w<10?"0"+w:""+w,L=o.getDay();return{y:v+"",m:x,d:T,day:L=Math.abs((L+7-this.getFirstDayOfWeek())%7),time:o.getTime(),formatedDate:v+"-"+x+"-"+T,date:o}},Calendar.prototype.getNextNDay=function(o,v){return 0===(v=v||0)||(o=new Date(this.getDateInfo(o).time)).setDate(o.getDate()+v),this.getDateInfo(o)},Calendar.prototype.update=function(o,v){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var _=this._rangeInfo.weeks||1,x=["width","height"],w=this._model.getCellSize().slice(),T=this._model.getBoxLayoutParams(),L="horizontal"===this._orient?[_,7]:[7,_];util_each([0,1],function(o){cellSizeSpecified(w,o)&&(T[x[o]]=w[o]*L[o])});var N={width:v.getWidth(),height:v.getHeight()},B=this._rect=getLayoutRect(T,N);function cellSizeSpecified(o,v){return null!=o[v]&&"auto"!==o[v]}util_each([0,1],function(o){cellSizeSpecified(w,o)||(w[o]=B[x[o]]/L[o])}),this._sw=w[0],this._sh=w[1]},Calendar.prototype.dataToPoint=function(o,v){util_isArray(o)&&(o=o[0]),null==v&&(v=!0);var _=this.getDateInfo(o),x=this._rangeInfo,w=_.formatedDate;if(v&&!(_.time>=x.start.time&&_.time<x.end.time+864e5))return[NaN,NaN];var T=_.day,L=this._getRangeInfo([x.start.time,w]).nthWeek;return"vertical"===this._orient?[this._rect.x+T*this._sw+this._sw/2,this._rect.y+L*this._sh+this._sh/2]:[this._rect.x+L*this._sw+this._sw/2,this._rect.y+T*this._sh+this._sh/2]},Calendar.prototype.pointToData=function(o){var v=this.pointToDate(o);return v&&v.time},Calendar.prototype.dataToRect=function(o,v){var _=this.dataToPoint(o,v);return{contentShape:{x:_[0]-(this._sw-this._lineWidth)/2,y:_[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:_,tl:[_[0]-this._sw/2,_[1]-this._sh/2],tr:[_[0]+this._sw/2,_[1]-this._sh/2],br:[_[0]+this._sw/2,_[1]+this._sh/2],bl:[_[0]-this._sw/2,_[1]+this._sh/2]}},Calendar.prototype.pointToDate=function(o){var v=Math.floor((o[0]-this._rect.x)/this._sw)+1,_=Math.floor((o[1]-this._rect.y)/this._sh)+1,x=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(_,v-1,x):this._getDateByWeeksAndDay(v,_-1,x)},Calendar.prototype.convertToPixel=function(o,v,_){var x=Calendar_getCoordSys(v);return x===this?x.dataToPoint(_):null},Calendar.prototype.convertFromPixel=function(o,v,_){var x=Calendar_getCoordSys(v);return x===this?x.pointToData(_):null},Calendar.prototype.containPoint=function(o){return console.warn("Not implemented."),!1},Calendar.prototype._initRangeOption=function(){var o,v=this._model.get("range");if(util_isArray(v)&&1===v.length&&(v=v[0]),util_isArray(v))o=v;else{var _=v.toString();if(/^\d{4}$/.test(_)&&(o=[_+"-01-01",_+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(_)){var x=this.getDateInfo(_),w=x.date;w.setMonth(w.getMonth()+1);var T=this.getNextNDay(w,-1);o=[x.formatedDate,T.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(_)&&(o=[_,_])}if(!o)return v;var L=this._getRangeInfo(o);return L.start.time>L.end.time&&o.reverse(),o},Calendar.prototype._getRangeInfo=function(o){var v,_=[this.getDateInfo(o[0]),this.getDateInfo(o[1])];_[0].time>_[1].time&&(v=!0,_.reverse());var x=Math.floor(_[1].time/864e5)-Math.floor(_[0].time/864e5)+1,w=new Date(_[0].time),T=w.getDate(),L=_[1].date.getDate();w.setDate(T+x-1);var N=w.getDate();if(N!==L)for(var B=w.getTime()-_[1].time>0?1:-1;(N=w.getDate())!==L&&(w.getTime()-_[1].time)*B>0;)x-=B,w.setDate(N-B);var H=Math.floor((x+_[0].day+6)/7),Y=v?-H+1:H-1;return v&&_.reverse(),{range:[_[0].formatedDate,_[1].formatedDate],start:_[0],end:_[1],allDay:x,weeks:H,nthWeek:Y,fweek:_[0].day,lweek:_[1].day}},Calendar.prototype._getDateByWeeksAndDay=function(o,v,_){var x=this._getRangeInfo(_);if(o>x.weeks||0===o&&v<x.fweek||o===x.weeks&&v>x.lweek)return null;var w=(o-1)*7-x.fweek+v,T=new Date(x.start.time);return T.setDate(+x.start.d+w),this.getDateInfo(T)},Calendar.create=function(o,v){var _=[];return o.eachComponent("calendar",function(x){var w=new Calendar(x,o,v);_.push(w),x.coordinateSystem=w}),o.eachSeries(function(o){"calendar"===o.get("coordinateSystem")&&(o.coordinateSystem=_[o.get("calendarIndex")||0])}),_},Calendar.dimensions=["time","value"],Calendar}();function Calendar_getCoordSys(o){var v=o.calendarModel,_=o.seriesModel;return v?v.coordinateSystem:_?_.coordinateSystem:null}function calendar_install_install(o){o.registerComponentModel(p7),o.registerComponentView(p6),o.registerCoordinateSystem("calendar",p9)}function setKeyInfoToNewElOption(o,v){var _=o.existing;if(v.id=o.keyInfo.id,!v.type&&_&&(v.type=_.type),null==v.parentId){var x=v.parentOption;x?v.parentId=x.id:_&&(v.parentId=_.parentId)}v.parentOption=null}function isSetLoc(o,v){var _;return util_each(v,function(v){null!=o[v]&&"auto"!==o[v]&&(_=!0)}),_}function mergeNewElOptionToExist(o,v,_){var x=extend({},_),w=o[v],T=_.$action||"merge";"merge"===T?w?(merge(w,x,!0),mergeLayoutParam(w,x,{ignoreSize:!0}),copyLayoutParams(_,w),copyTransitionInfo(_,w),copyTransitionInfo(_,w,"shape"),copyTransitionInfo(_,w,"style"),copyTransitionInfo(_,w,"extra"),_.clipPath=w.clipPath):o[v]=x:"replace"===T?o[v]=x:"remove"===T&&w&&(o[v]=null)}var p8=["transition","enterFrom","leaveTo"],fr=p8.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(o,v,_){if(_&&(!o[_]&&v[_]&&(o[_]={}),o=o[_],v=v[_]),o&&v)for(var x=_?p8:fr,w=0;w<x.length;w++){var T=x[w];null==o[T]&&null!=v[T]&&(o[T]=v[T])}}function setLayoutInfoToExist(o,v){o&&(o.hv=v.hv=[isSetLoc(v,["left","right"]),isSetLoc(v,["top","bottom"])],"group"===o.type&&(null==o.width&&(o.width=v.width=0),null==o.height&&(o.height=v.height=0)))}var fi=function(o){function GraphicComponentModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=GraphicComponentModel.type,v.preventAutoZ=!0,v}return __extends(GraphicComponentModel,o),GraphicComponentModel.prototype.mergeOption=function(v,_){var x=this.option.elements;this.option.elements=null,o.prototype.mergeOption.call(this,v,_),this.option.elements=x},GraphicComponentModel.prototype.optionUpdated=function(o,v){var _=this.option,x=(v?_:o).elements,w=_.elements=v?[]:_.elements,T=[];this._flatten(x,T,null);var L=mappingToExists(w,T,"normalMerge"),N=this._elOptionsToUpdate=[];util_each(L,function(o,v){var _=o.newOption;_&&(N.push(_),setKeyInfoToNewElOption(o,_),mergeNewElOptionToExist(w,v,_),setLayoutInfoToExist(w[v],_))},this),_.elements=filter(w,function(o){return o&&delete o.$action,null!=o})},GraphicComponentModel.prototype._flatten=function(o,v,_){util_each(o,function(o){if(o){_&&(o.parentOption=_),v.push(o);var x=o.children;x&&x.length&&this._flatten(x,v,o),delete o.children}},this)},GraphicComponentModel.prototype.useElOptionsToUpdate=function(){var o=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,o},GraphicComponentModel.type="graphic",GraphicComponentModel.defaultOption={elements:[]},GraphicComponentModel}(ix),fa={path:null,compoundPath:null,group:nm,image:rC,text:rR},fo=makeInner(),fs=function(o){function GraphicComponentView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=GraphicComponentView.type,v}return __extends(GraphicComponentView,o),GraphicComponentView.prototype.init=function(){this._elMap=createHashMap()},GraphicComponentView.prototype.render=function(o,v,_){o!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=o,this._updateElements(o),this._relocate(o,_)},GraphicComponentView.prototype._updateElements=function(o){var v=o.useElOptionsToUpdate();if(v){var _=this._elMap,x=this.group,w=o.get("z"),T=o.get("zlevel");util_each(v,function(v){var L=convertOptionIdName(v.id,null),N=null!=L?_.get(L):null,B=convertOptionIdName(v.parentId,null),H=null!=B?_.get(B):x,Y=v.type,Z=v.style;"text"===Y&&Z&&v.hv&&v.hv[1]&&(Z.textVerticalAlign=Z.textBaseline=Z.verticalAlign=Z.align=null);var X=v.textContent,et=v.textConfig;if(Z&&isEC4CompatibleStyle(Z,Y,!!et,!!X)){var en=convertFromEC4CompatibleStyle(Z,Y,!0);!et&&en.textConfig&&(et=v.textConfig=en.textConfig),!X&&en.textContent&&(X=en.textContent)}var er=getCleanedElOption(v),ei=v.$action||"merge",ea="merge"===ei,eo="replace"===ei;if(ea){var el=!N,eu=N;el?eu=GraphicView_createEl(L,H,v.type,_):(eu&&(fo(eu).isNew=!1),stopPreviousKeyframeAnimationAndRestore(eu)),eu&&(applyUpdateTransition(eu,er,o,{isInit:el}),updateCommonAttrs(eu,v,w,T))}else if(eo){removeEl(N,v,_,o);var ec=GraphicView_createEl(L,H,v.type,_);ec&&(applyUpdateTransition(ec,er,o,{isInit:!0}),updateCommonAttrs(ec,v,w,T))}else"remove"===ei&&(updateLeaveTo(N,v),removeEl(N,v,_,o));var ed=_.get(L);if(ed&&X){if(ea){var eh=ed.getTextContent();eh?eh.attr(X):ed.setTextContent(new rR(X))}else eo&&ed.setTextContent(new rR(X))}if(ed){var ep=v.clipPath;if(ep){var ef=ep.type,eg=void 0,el=!1;if(ea){var em=ed.getClipPath();eg=(el=!em||fo(em).type!==ef)?newEl(ef):em}else eo&&(el=!0,eg=newEl(ef));ed.setClipPath(eg),applyUpdateTransition(eg,ep,o,{isInit:el}),applyKeyframeAnimation(eg,ep.keyframeAnimation,o)}var ey=fo(ed);ed.setTextConfig(et),ey.option=v,setEventData(ed,o,v),setTooltipConfig({el:ed,componentModel:o,itemName:ed.name,itemTooltipOption:v.tooltip}),applyKeyframeAnimation(ed,v.keyframeAnimation,o)}})}},GraphicComponentView.prototype._relocate=function(o,v){for(var _=o.option.elements,x=this.group,w=this._elMap,T=v.getWidth(),L=v.getHeight(),N=["x","y"],B=0;B<_.length;B++){var H=_[B],Y=convertOptionIdName(H.id,null),Z=null!=Y?w.get(Y):null;if(Z&&Z.isGroup){var X=Z.parent,et=X===x,en=fo(Z),er=fo(X);en.width=number_parsePercent(en.option.width,et?T:er.width)||0,en.height=number_parsePercent(en.option.height,et?L:er.height)||0}}for(var B=_.length-1;B>=0;B--){var H=_[B],Y=convertOptionIdName(H.id,null),Z=null!=Y?w.get(Y):null;if(Z){var X=Z.parent,er=fo(X),ei=X===x?{width:T,height:L}:{width:er.width,height:er.height},ea={},eo=positionElement(Z,H,ei,null,{hv:H.hv,boundingMode:H.bounding},ea);if(!fo(Z).isNew&&eo){for(var el=H.transition,eu={},ec=0;ec<N.length;ec++){var ed=N[ec],eh=ea[ed];el&&(isTransitionAll(el)||indexOf(el,ed)>=0)?eu[ed]=eh:Z[ed]=eh}updateProps(Z,eu,o,0)}else Z.attr(ea)}}},GraphicComponentView.prototype._clear=function(){var o=this,v=this._elMap;v.each(function(_){removeEl(_,fo(_).option,v,o._lastGraphicModel)}),this._elMap=createHashMap()},GraphicComponentView.prototype.dispose=function(){this._clear()},GraphicComponentView.type="graphic",GraphicComponentView}(ax);function newEl(o){var v=new(hasOwn(fa,o)?fa[o]:getShapeClass(o))({});return fo(v).type=o,v}function GraphicView_createEl(o,v,_,x){var w=newEl(_);return v.add(w),x.set(o,w),fo(w).id=o,fo(w).isNew=!0,w}function removeEl(o,v,_,x){o&&o.parent&&("group"===o.type&&o.traverse(function(o){removeEl(o,v,_,x)}),applyLeaveTransition(o,v,x),_.removeKey(fo(o).id))}function updateCommonAttrs(o,v,_,x){o.isGroup||util_each([["cursor",nz.prototype.cursor],["zlevel",x||0],["z",_||0],["z2",0]],function(_){var x=_[0];hasOwn(v,x)?o[x]=retrieve2(v[x],_[1]):null==o[x]&&(o[x]=_[1])}),util_each(keys(v),function(_){if(0===_.indexOf("on")){var x=v[_];o[_]=isFunction(x)?x:null}}),hasOwn(v,"draggable")&&(o.draggable=v.draggable),null!=v.name&&(o.name=v.name),null!=v.id&&(o.id=v.id)}function getCleanedElOption(o){return o=extend({},o),util_each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(iv),function(v){delete o[v]}),o}function setEventData(o,v,_){var x=rN(o).eventData;o.silent||o.ignore||x||(x=rN(o).eventData={componentType:"graphic",componentIndex:v.componentIndex,name:o.name}),x&&(x.info=_.info)}function graphic_install_install(o){o.registerComponentModel(fi),o.registerComponentView(fs),o.registerPreprocessor(function(o){var v=o.graphic;util_isArray(v)?v[0]&&v[0].elements?o.graphic=[o.graphic[0]]:o.graphic=[{elements:v}]:v&&!v.elements&&(o.graphic=[{elements:[v]}])})}var fl=["x","y","radius","angle","single"],fu=["cartesian2d","polar","singleAxis"];function isCoordSupported(o){return indexOf(fu,o.get("coordinateSystem"))>=0}function getAxisMainType(o){return o+"Axis"}function findEffectedDataZooms(o,v){var _,x=createHashMap(),w=[],T=createHashMap();o.eachComponent({mainType:"dataZoom",query:v},function(o){T.get(o.uid)||addToEffected(o)});do _=!1,o.eachComponent("dataZoom",processSingle);while(_);function processSingle(o){!T.get(o.uid)&&isLinked(o)&&(addToEffected(o),_=!0)}function addToEffected(o){T.set(o.uid,!0),w.push(o),markAxisControlled(o)}function isLinked(o){var v=!1;return o.eachTargetAxis(function(o,_){var w=x.get(o);w&&w[_]&&(v=!0)}),v}function markAxisControlled(o){o.eachTargetAxis(function(o,v){(x.get(o)||x.set(o,[]))[v]=!0})}return w}function collectReferCoordSysModelInfo(o){var v=o.ecModel,_={infoList:[],infoMap:createHashMap()};return o.eachTargetAxis(function(o,x){var w=v.getComponent(getAxisMainType(o),x);if(w){var T=w.getCoordSysModel();if(T){var L=T.uid,N=_.infoMap.get(L);N||(N={model:T,axisModels:[]},_.infoList.push(N),_.infoMap.set(L,N)),N.axisModels.push(w)}}}),_}var fc=function(){function DataZoomAxisInfo(){this.indexList=[],this.indexMap=[]}return DataZoomAxisInfo.prototype.add=function(o){this.indexMap[o]||(this.indexList.push(o),this.indexMap[o]=!0)},DataZoomAxisInfo}(),fd=function(o){function DataZoomModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=DataZoomModel.type,v._autoThrottle=!0,v._noTarget=!0,v._rangePropMode=["percent","percent"],v}return __extends(DataZoomModel,o),DataZoomModel.prototype.init=function(o,v,_){var x=retrieveRawOption(o);this.settledOption=x,this.mergeDefaultAndTheme(o,_),this._doInit(x)},DataZoomModel.prototype.mergeOption=function(o){var v=retrieveRawOption(o);merge(this.option,o,!0),merge(this.settledOption,v,!0),this._doInit(v)},DataZoomModel.prototype._doInit=function(o){var v=this.option;this._setDefaultThrottle(o),this._updateRangeUse(o);var _=this.settledOption;util_each([["start","startValue"],["end","endValue"]],function(o,x){"value"===this._rangePropMode[x]&&(v[o[0]]=_[o[0]]=null)},this),this._resetTarget()},DataZoomModel.prototype._resetTarget=function(){var o=this.get("orient",!0),v=this._targetAxisInfoMap=createHashMap();this._fillSpecifiedTargetAxis(v)?this._orient=o||this._makeAutoOrientByTargetAxis():(this._orient=o||"horizontal",this._fillAutoTargetAxisByOrient(v,this._orient)),this._noTarget=!0,v.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},DataZoomModel.prototype._fillSpecifiedTargetAxis=function(o){var v=!1;return util_each(fl,function(_){var x=this.getReferringComponents(getAxisMainType(_),nM);if(x.specified){v=!0;var w=new fc;util_each(x.models,function(o){w.add(o.componentIndex)}),o.set(_,w)}},this),v},DataZoomModel.prototype._fillAutoTargetAxisByOrient=function(o,v){var _=this.ecModel,x=!0,w="vertical"===v?"y":"x",T=_.findComponents({mainType:w+"Axis"});if(setParallelAxis(T,w),x){var T=_.findComponents({mainType:"singleAxis",filter:function(o){return o.get("orient",!0)===v}});setParallelAxis(T,"single")}function setParallelAxis(v,_){var w=v[0];if(w){var T=new fc;if(T.add(w.componentIndex),o.set(_,T),x=!1,"x"===_||"y"===_){var L=w.getReferringComponents("grid",nT).models[0];L&&util_each(v,function(o){w.componentIndex!==o.componentIndex&&L===o.getReferringComponents("grid",nT).models[0]&&T.add(o.componentIndex)})}}}x&&util_each(fl,function(v){if(x){var w=_.findComponents({mainType:getAxisMainType(v),filter:function(o){return"category"===o.get("type",!0)}});if(w[0]){var T=new fc;T.add(w[0].componentIndex),o.set(v,T),x=!1}}},this)},DataZoomModel.prototype._makeAutoOrientByTargetAxis=function(){var o;return this.eachTargetAxis(function(v){o||(o=v)},this),"y"===o?"vertical":"horizontal"},DataZoomModel.prototype._setDefaultThrottle=function(o){if(o.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var v=this.ecModel.option;this.option.throttle=v.animation&&v.animationDurationUpdate>0?100:20}},DataZoomModel.prototype._updateRangeUse=function(o){var v=this._rangePropMode,_=this.get("rangeMode");util_each([["start","startValue"],["end","endValue"]],function(x,w){var T=null!=o[x[0]],L=null!=o[x[1]];T&&!L?v[w]="percent":!T&&L?v[w]="value":_?v[w]=_[w]:T&&(v[w]="percent")})},DataZoomModel.prototype.noTarget=function(){return this._noTarget},DataZoomModel.prototype.getFirstTargetAxisModel=function(){var o;return this.eachTargetAxis(function(v,_){null==o&&(o=this.ecModel.getComponent(getAxisMainType(v),_))},this),o},DataZoomModel.prototype.eachTargetAxis=function(o,v){this._targetAxisInfoMap.each(function(_,x){util_each(_.indexList,function(_){o.call(v,x,_)})})},DataZoomModel.prototype.getAxisProxy=function(o,v){var _=this.getAxisModel(o,v);if(_)return _.__dzAxisProxy},DataZoomModel.prototype.getAxisModel=function(o,v){var _=this._targetAxisInfoMap.get(o);if(_&&_.indexMap[v])return this.ecModel.getComponent(getAxisMainType(o),v)},DataZoomModel.prototype.setRawRange=function(o){var v=this.option,_=this.settledOption;util_each([["start","startValue"],["end","endValue"]],function(x){(null!=o[x[0]]||null!=o[x[1]])&&(v[x[0]]=_[x[0]]=o[x[0]],v[x[1]]=_[x[1]]=o[x[1]])},this),this._updateRangeUse(o)},DataZoomModel.prototype.setCalculatedRange=function(o){var v=this.option;util_each(["start","startValue","end","endValue"],function(_){v[_]=o[_]})},DataZoomModel.prototype.getPercentRange=function(){var o=this.findRepresentativeAxisProxy();if(o)return o.getDataPercentWindow()},DataZoomModel.prototype.getValueRange=function(o,v){if(null!=o||null!=v)return this.getAxisProxy(o,v).getDataValueWindow();var _=this.findRepresentativeAxisProxy();if(_)return _.getDataValueWindow()},DataZoomModel.prototype.findRepresentativeAxisProxy=function(o){if(o)return o.__dzAxisProxy;for(var v,_=this._targetAxisInfoMap.keys(),x=0;x<_.length;x++)for(var w=_[x],T=this._targetAxisInfoMap.get(w),L=0;L<T.indexList.length;L++){var N=this.getAxisProxy(w,T.indexList[L]);if(N.hostedBy(this))return N;v||(v=N)}return v},DataZoomModel.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},DataZoomModel.prototype.getOrient=function(){return this._orient},DataZoomModel.type="dataZoom",DataZoomModel.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],DataZoomModel.defaultOption={z:4,filterMode:"filter",start:0,end:100},DataZoomModel}(ix);function retrieveRawOption(o){var v={};return util_each(["start","end","startValue","endValue","throttle"],function(_){o.hasOwnProperty(_)&&(v[_]=o[_])}),v}var fh=function(o){function SelectDataZoomModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SelectDataZoomModel.type,v}return __extends(SelectDataZoomModel,o),SelectDataZoomModel.type="dataZoom.select",SelectDataZoomModel}(fd),fp=function(o){function DataZoomView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=DataZoomView.type,v}return __extends(DataZoomView,o),DataZoomView.prototype.render=function(o,v,_,x){this.dataZoomModel=o,this.ecModel=v,this.api=_},DataZoomView.type="dataZoom",DataZoomView}(ax),ff=function(o){function SelectDataZoomView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SelectDataZoomView.type,v}return __extends(SelectDataZoomView,o),SelectDataZoomView.type="dataZoom.select",SelectDataZoomView}(fp),fg=util_each,fm=asc,fy=function(){function AxisProxy(o,v,_,x){this._dimName=o,this._axisIndex=v,this.ecModel=x,this._dataZoomModel=_}return AxisProxy.prototype.hostedBy=function(o){return this._dataZoomModel===o},AxisProxy.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},AxisProxy.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},AxisProxy.prototype.getTargetSeriesModels=function(){var o=[];return this.ecModel.eachSeries(function(v){if(isCoordSupported(v)){var _=getAxisMainType(this._dimName),x=v.getReferringComponents(_,nT).models[0];x&&this._axisIndex===x.componentIndex&&o.push(v)}},this),o},AxisProxy.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},AxisProxy.prototype.getMinMaxSpan=function(){return clone(this._minMaxSpan)},AxisProxy.prototype.calculateDataWindow=function(o){var v,_=this._dataExtent,x=this.getAxisModel().axis.scale,w=this._dataZoomModel.getRangePropMode(),T=[0,100],L=[],N=[];fg(["start","end"],function(B,H){var Y=o[B],Z=o[B+"Value"];"percent"===w[H]?(null==Y&&(Y=T[H]),Z=x.parse(linearMap(Y,T,_))):(v=!0,Y=linearMap(Z=null==Z?_[H]:x.parse(Z),_,T)),N[H]=null==Z||isNaN(Z)?_[H]:Z,L[H]=null==Y||isNaN(Y)?T[H]:Y}),fm(N),fm(L);var B=this._minMaxSpan;function restrictSet(o,v,_,w,T){var L=T?"Span":"ValueSpan";sliderMove(0,o,_,"all",B["min"+L],B["max"+L]);for(var N=0;N<2;N++)v[N]=linearMap(o[N],_,w,!0),T&&(v[N]=x.parse(v[N]))}return v?restrictSet(N,L,_,T,!1):restrictSet(L,N,T,_,!0),{valueWindow:N,percentWindow:L}},AxisProxy.prototype.reset=function(o){if(o===this._dataZoomModel){var v=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,v),this._updateMinMaxSpan();var _=this.calculateDataWindow(o.settledOption);this._valueWindow=_.valueWindow,this._percentWindow=_.percentWindow,this._setAxisModel()}},AxisProxy.prototype.filterData=function(o,v){if(o===this._dataZoomModel){var _=this._dimName,x=this.getTargetSeriesModels(),w=o.get("filterMode"),T=this._valueWindow;"none"!==w&&fg(x,function(o){var v=o.getData(),x=v.mapDimensionsAll(_);if(x.length){if("weakFilter"===w){var L=v.getStore(),N=map(x,function(o){return v.getDimensionIndex(o)},v);v.filterSelf(function(o){for(var v,_,w,B=0;B<x.length;B++){var H=L.get(N[B],o),Y=!isNaN(H),Z=H<T[0],X=H>T[1];if(Y&&!Z&&!X)return!0;Y&&(w=!0),Z&&(v=!0),X&&(_=!0)}return w&&v&&_})}else fg(x,function(_){if("empty"===w)o.setData(v=v.map(_,function(o){return isInWindow(o)?o:NaN}));else{var x={};x[_]=T,v.selectRange(x)}});fg(x,function(o){v.setApproximateExtent(T,o)})}})}function isInWindow(o){return o>=T[0]&&o<=T[1]}},AxisProxy.prototype._updateMinMaxSpan=function(){var o=this._minMaxSpan={},v=this._dataZoomModel,_=this._dataExtent;fg(["min","max"],function(x){var w=v.get(x+"Span"),T=v.get(x+"ValueSpan");null!=T&&(T=this.getAxisModel().axis.scale.parse(T)),null!=T?w=linearMap(_[0]+T,_,[0,100],!0):null!=w&&(T=linearMap(w,[0,100],_,!0)-_[0]),o[x+"Span"]=w,o[x+"ValueSpan"]=T},this)},AxisProxy.prototype._setAxisModel=function(){var o=this.getAxisModel(),v=this._percentWindow,_=this._valueWindow;if(v){var x=getPixelPrecision(_,[0,500]);x=Math.min(x,20);var w=o.axis.scale.rawExtentInfo;0!==v[0]&&w.setDeterminedMinMax("min",+_[0].toFixed(x)),100!==v[1]&&w.setDeterminedMinMax("max",+_[1].toFixed(x)),w.freeze()}},AxisProxy}();function calculateDataExtent(o,v,_){var x=[1/0,-1/0];fg(_,function(o){unionAxisExtentFromData(x,o.getData(),v)});var w=o.getAxisModel(),T=ensureScaleRawExtentInfo(w.axis.scale,w,x).calculate();return[T.min,T.max]}var fv={getTargetSeries:function(o){function eachAxisModel(v){o.eachComponent("dataZoom",function(_){_.eachTargetAxis(function(x,w){var T=o.getComponent(getAxisMainType(x),w);v(x,w,T,_)})})}eachAxisModel(function(o,v,_,x){_.__dzAxisProxy=null});var v=[];eachAxisModel(function(_,x,w,T){w.__dzAxisProxy||(w.__dzAxisProxy=new fy(_,x,T,o),v.push(w.__dzAxisProxy))});var _=createHashMap();return util_each(v,function(o){util_each(o.getTargetSeriesModels(),function(o){_.set(o.uid,o)})}),_},overallReset:function(o,v){o.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(v,_){o.getAxisProxy(v,_).reset(o)}),o.eachTargetAxis(function(_,x){o.getAxisProxy(_,x).filterData(o,v)})}),o.eachComponent("dataZoom",function(o){var v=o.findRepresentativeAxisProxy();if(v){var _=v.getDataPercentWindow(),x=v.getDataValueWindow();o.setCalculatedRange({start:_[0],end:_[1],startValue:x[0],endValue:x[1]})}})}};function installDataZoomAction(o){o.registerAction("dataZoom",function(o,v){util_each(findEffectedDataZooms(v,o),function(v){v.setRawRange({start:o.start,end:o.end,startValue:o.startValue,endValue:o.endValue})})})}var f_=!1;function installCommon(o){f_||(f_=!0,o.registerProcessor(o.PRIORITY.PROCESSOR.FILTER,fv),installDataZoomAction(o),o.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function installDataZoomSelect_install(o){o.registerComponentModel(fh),o.registerComponentView(ff),installCommon(o)}var ToolboxFeature=function(){},fb={},fS=function(o){function ToolboxModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ToolboxModel.type,v}return __extends(ToolboxModel,o),ToolboxModel.prototype.optionUpdated=function(){o.prototype.optionUpdated.apply(this,arguments);var v=this.ecModel;util_each(this.option.feature,function(o,_){var x=fb[_];x&&(x.getDefaultOption&&(x.defaultOption=x.getDefaultOption(v)),merge(o,x.defaultOption))})},ToolboxModel.type="toolbox",ToolboxModel.layoutMode={type:"box",ignoreSize:!0},ToolboxModel.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},ToolboxModel}(ix);function listComponent_layout(o,v,_){var x=v.getBoxLayoutParams(),w=v.get("padding"),T={width:_.getWidth(),height:_.getHeight()},L=getLayoutRect(x,T,w);ib(v.get("orient"),o,v.get("itemGap"),L.width,L.height),positionElement(o,x,T,w)}function makeBackground(o,v){var _=ig(v.get("padding")),x=v.getItemStyle(["color","opacity"]);return x.fill=v.get("backgroundColor"),o=new rI({shape:{x:o.x-_[3],y:o.y-_[0],width:o.width+_[1]+_[3],height:o.height+_[0]+_[2],r:v.get("borderRadius")},style:x,silent:!0,z2:-1})}var fx=function(o){function ToolboxView(){return null!==o&&o.apply(this,arguments)||this}return __extends(ToolboxView,o),ToolboxView.prototype.render=function(o,v,_,x){var w=this.group;if(w.removeAll(),o.get("show")){var T=+o.get("itemSize"),L="vertical"===o.get("orient"),N=o.get("feature")||{},B=this._features||(this._features={}),H=[];util_each(N,function(o,v){H.push(v)}),new ln(this._featureNames||[],H).add(processFeature).update(processFeature).remove(curry(processFeature,null)).execute(),this._featureNames=H,listComponent_layout(w,o,_),w.add(makeBackground(w.getBoundingRect(),o)),L||w.eachChild(function(o){var v=o.__title,x=o.ensureState("emphasis"),L=x.textConfig||(x.textConfig={}),N=o.getTextContent(),B=N&&N.ensureState("emphasis");if(B&&!isFunction(B)&&v){var H=B.style||(B.style={}),Y=getBoundingRect(v,rR.makeFont(H)),Z=o.x+w.x,X=o.y+w.y+T,et=!1;X+Y.height>_.getHeight()&&(L.position="top",et=!0);var en=et?-5-Y.height:T+10;Z+Y.width/2>_.getWidth()?(L.position=["100%",en],H.align="right"):Z-Y.width/2<0&&(L.position=[0,en],H.align="left")}})}function processFeature(w,T){var L,Y=H[w],Z=H[T],X=N[Y],et=new ii(X,o,o.ecModel);if(x&&null!=x.newTitle&&x.featureName===Y&&(X.title=x.newTitle),Y&&!Z){if(isUserFeatureName(Y))L={onclick:et.option.onclick,featureName:Y};else{var en=fb[Y];if(!en)return;L=new en}B[Y]=L}else if(!(L=B[Z]))return;L.uid=getUID("toolbox-feature"),L.model=et,L.ecModel=v,L.api=_;var er=L instanceof ToolboxFeature;if(!Y&&Z){er&&L.dispose&&L.dispose(v,_);return}if(!et.get("show")||er&&L.unusable){er&&L.remove&&L.remove(v,_);return}createIconPaths(et,L,Y),et.setIconStatus=function(o,v){var _=this.option,x=this.iconPaths;_.iconStatus=_.iconStatus||{},_.iconStatus[o]=v,x[o]&&("emphasis"===v?enterEmphasis:leaveEmphasis)(x[o])},L instanceof ToolboxFeature&&L.render&&L.render(et,v,_,x)}function createIconPaths(x,N,B){var H,Y,Z=x.getModel("iconStyle"),X=x.getModel(["emphasis","iconStyle"]),et=N instanceof ToolboxFeature&&N.getIcons?N.getIcons():x.get("icon"),en=x.get("title")||{};util_isString(et)?(H={})[B]=et:H=et,util_isString(en)?(Y={})[B]=en:Y=en;var er=x.iconPaths={};util_each(H,function(B,H){var et=createIcon(B,{},{x:-T/2,y:-T/2,width:T,height:T});et.setStyle(Z.getItemStyle()),et.ensureState("emphasis").style=X.getItemStyle();var en=new rR({style:{text:Y[H],align:X.get("textAlign"),borderRadius:X.get("textBorderRadius"),padding:X.get("textPadding"),fill:null},ignore:!0});et.setTextContent(en),setTooltipConfig({el:et,componentModel:o,itemName:H,formatterParamsExtra:{title:Y[H]}}),et.__title=Y[H],et.on("mouseover",function(){var v=X.getItemStyle(),x=L?null==o.get("right")&&"right"!==o.get("left")?"right":"left":null==o.get("bottom")&&"bottom"!==o.get("top")?"bottom":"top";en.setStyle({fill:X.get("textFill")||v.fill||v.stroke||"#000",backgroundColor:X.get("textBackgroundColor")}),et.setTextConfig({position:X.get("textPosition")||x}),en.ignore=!o.get("showTitle"),_.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==x.get(["iconStatus",H])&&_.leaveEmphasis(this),en.hide()}),("emphasis"===x.get(["iconStatus",H])?enterEmphasis:leaveEmphasis)(et),w.add(et),et.on("click",e2(N.onclick,N,v,_,H)),er[H]=et})}},ToolboxView.prototype.updateView=function(o,v,_,x){util_each(this._features,function(o){o instanceof ToolboxFeature&&o.updateView&&o.updateView(o.model,v,_,x)})},ToolboxView.prototype.remove=function(o,v){util_each(this._features,function(_){_ instanceof ToolboxFeature&&_.remove&&_.remove(o,v)}),this.group.removeAll()},ToolboxView.prototype.dispose=function(o,v){util_each(this._features,function(_){_ instanceof ToolboxFeature&&_.dispose&&_.dispose(o,v)})},ToolboxView.type="toolbox",ToolboxView}(ax);function isUserFeatureName(o){return 0===o.indexOf("my")}var fw=function(o){function SaveAsImage(){return null!==o&&o.apply(this,arguments)||this}return __extends(SaveAsImage,o),SaveAsImage.prototype.onclick=function(o,v){var _=this.model,x=_.get("name")||o.get("title.0.text")||"echarts",w="svg"===v.getZr().painter.getType(),T=w?"svg":_.get("type",!0)||"png",L=v.getConnectedDataURL({type:T,backgroundColor:_.get("backgroundColor",!0)||o.get("backgroundColor")||"#fff",connectedBackgroundColor:_.get("connectedBackgroundColor"),excludeComponents:_.get("excludeComponents"),pixelRatio:_.get("pixelRatio")}),N=eV.browser;if(isFunction(MouseEvent)&&(N.newEdge||!N.ie&&!N.edge)){var B=document.createElement("a");B.download=x+"."+T,B.target="_blank",B.href=L;var H=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});B.dispatchEvent(H)}else if(window.navigator.msSaveOrOpenBlob||w){var Y=L.split(","),Z=Y[0].indexOf("base64")>-1,X=w?decodeURIComponent(Y[1]):Y[1];Z&&(X=window.atob(X));var et=x+"."+T;if(window.navigator.msSaveOrOpenBlob){for(var en=X.length,er=new Uint8Array(en);en--;)er[en]=X.charCodeAt(en);var ei=new Blob([er]);window.navigator.msSaveOrOpenBlob(ei,et)}else{var ea=document.createElement("iframe");document.body.appendChild(ea);var eo=ea.contentWindow,el=eo.document;el.open("image/svg+xml","replace"),el.write(X),el.close(),eo.focus(),el.execCommand("SaveAs",!0,et),document.body.removeChild(ea)}}else{var eu=_.get("lang"),ec='<body style="margin:0;"><img src="'+L+'" style="max-width:100%;" title="'+(eu&&eu[0]||"")+'" /></body>',ed=window.open();ed.document.write(ec),ed.document.title=x}},SaveAsImage.getDefaultOption=function(o){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:o.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:o.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},SaveAsImage}(ToolboxFeature),fC="__ec_magicType_stack__",fT=[["line","bar"],["stack"]],fM=function(o){function MagicType(){return null!==o&&o.apply(this,arguments)||this}return __extends(MagicType,o),MagicType.prototype.getIcons=function(){var o=this.model,v=o.get("icon"),_={};return util_each(o.get("type"),function(o){v[o]&&(_[o]=v[o])}),_},MagicType.getDefaultOption=function(o){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:o.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},MagicType.prototype.onclick=function(o,v,_){var x,w=this.model,T=w.get(["seriesIndex",_]);if(fP[_]){var L={series:[]};util_each(fT,function(o){indexOf(o,_)>=0&&util_each(o,function(o){w.setIconStatus(o,"normal")})}),w.setIconStatus(_,"emphasis"),o.eachComponent({mainType:"series",query:null==T?null:{seriesIndex:T}},function(o){var v=o.subType,x=o.id,T=fP[_](v,x,o,w);T&&(util_defaults(T,o.option),L.series.push(T));var N=o.coordinateSystem;if(N&&"cartesian2d"===N.type&&("line"===_||"bar"===_)){var B=N.getAxesByScale("ordinal")[0];if(B){var H=B.dim+"Axis",Y=o.getReferringComponents(H,nT).models[0].componentIndex;L[H]=L[H]||[];for(var Z=0;Z<=Y;Z++)L[H][Y]=L[H][Y]||{};L[H][Y].boundaryGap="bar"===_}}});var N=_;"stack"===_&&(x=merge({stack:w.option.title.tiled,tiled:w.option.title.stack},w.option.title),"emphasis"!==w.get(["iconStatus",_])&&(N="tiled")),v.dispatchAction({type:"changeMagicType",currentType:N,newOption:L,newTitle:x,featureName:"magicType"})}},MagicType}(ToolboxFeature),fP={line:function(o,v,_,x){if("bar"===o)return merge({id:v,type:"line",data:_.get("data"),stack:_.get("stack"),markPoint:_.get("markPoint"),markLine:_.get("markLine")},x.get(["option","line"])||{},!0)},bar:function(o,v,_,x){if("line"===o)return merge({id:v,type:"bar",data:_.get("data"),stack:_.get("stack"),markPoint:_.get("markPoint"),markLine:_.get("markLine")},x.get(["option","bar"])||{},!0)},stack:function(o,v,_,x){var w=_.get("stack")===fC;if("line"===o||"bar"===o)return x.setIconStatus("stack",w?"normal":"emphasis"),merge({id:v,stack:w?"":fC},x.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(o,v){v.mergeOption(o.newOption)});var fI=Array(60).join("-");function groupSeries(o){var v={},_=[],x=[];return o.eachRawSeries(function(o){var w=o.coordinateSystem;if(w&&("cartesian2d"===w.type||"polar"===w.type)){var T=w.getBaseAxis();if("category"===T.type){var L=T.dim+"_"+T.index;v[L]||(v[L]={categoryAxis:T,valueAxis:w.getOtherAxis(T),series:[]},x.push({axisDim:T.dim,axisIndex:T.index})),v[L].series.push(o)}else _.push(o)}else _.push(o)}),{seriesGroupByCategoryAxis:v,other:_,meta:x}}function assembleSeriesWithCategoryAxis(o){var v=[];return util_each(o,function(o,_){var x=o.categoryAxis,w=o.valueAxis.dim,T=[" "].concat(map(o.series,function(o){return o.name})),L=[x.model.getCategories()];util_each(o.series,function(o){var v=o.getRawData();L.push(o.getRawData().mapArray(v.mapDimension(w),function(o){return o}))});for(var N=[T.join("	")],B=0;B<L[0].length;B++){for(var H=[],Y=0;Y<L.length;Y++)H.push(L[Y][B]);N.push(H.join("	"))}v.push(N.join("\n"))}),v.join("\n\n"+fI+"\n\n")}function assembleOtherSeries(o){return map(o,function(o){var v=o.getRawData(),_=[o.name],x=[];return v.each(v.dimensions,function(){for(var o=arguments.length,w=arguments[o-1],T=v.getName(w),L=0;L<o-1;L++)x[L]=arguments[L];_.push((T?T+"	":"")+x.join("	"))}),_.join("\n")}).join("\n\n"+fI+"\n\n")}function getContentFromModel(o){var v=groupSeries(o);return{value:filter([assembleSeriesWithCategoryAxis(v.seriesGroupByCategoryAxis),assembleOtherSeries(v.other)],function(o){return!!o.replace(/[\n\t\s]/g,"")}).join("\n\n"+fI+"\n\n"),meta:v.meta}}function DataView_trim(o){return o.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(o){if(o.slice(0,o.indexOf("\n")).indexOf("	")>=0)return!0}var fD=RegExp("[	]+","g");function parseTSVContents(o){for(var v=o.split(/\n+/g),_=DataView_trim(v.shift()).split(fD),x=[],w=map(_,function(o){return{name:o,data:[]}}),T=0;T<v.length;T++){var L=DataView_trim(v[T]).split(fD);x.push(L.shift());for(var N=0;N<L.length;N++)w[N]&&(w[N].data[T]=L[N])}return{series:w,categories:x}}function parseListContents(o){for(var v=o.split(/\n+/g),_=DataView_trim(v.shift()),x=[],w=0;w<v.length;w++){var T=DataView_trim(v[w]);if(T){var L=T.split(fD),N="",B=void 0,H=!1;isNaN(L[0])?(H=!0,N=L[0],L=L.slice(1),x[w]={name:N,value:[]},B=x[w].value):B=x[w]=[];for(var Y=0;Y<L.length;Y++)B.push(+L[Y]);1===B.length&&(H?x[w].value=B[0]:x[w]=B[0])}}return{name:_,data:x}}function parseContents(o,v){var _=o.split(RegExp("\n*"+fI+"\n*","g")),x={series:[]};return util_each(_,function(o,_){if(isTSVFormat(o)){var w=parseTSVContents(o),T=v[_],L=T.axisDim+"Axis";T&&(x[L]=x[L]||[],x[L][T.axisIndex]={data:w.categories},x.series=x.series.concat(w.series))}else{var w=parseListContents(o);x.series.push(w)}}),x}var fE=function(o){function DataView(){return null!==o&&o.apply(this,arguments)||this}return __extends(DataView,o),DataView.prototype.onclick=function(o,v){setTimeout(function(){v.dispatchAction({type:"hideTip"})});var _=v.getDom(),x=this.model;this._dom&&_.removeChild(this._dom);var w=document.createElement("div");w.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",w.style.backgroundColor=x.get("backgroundColor")||"#fff";var T=document.createElement("h4"),L=x.get("lang")||[];T.innerHTML=L[0]||x.get("title"),T.style.cssText="margin:10px 20px",T.style.color=x.get("textColor");var N=document.createElement("div"),B=document.createElement("textarea");N.style.cssText="overflow:auto";var H=x.get("optionToContent"),Y=x.get("contentToOption"),Z=getContentFromModel(o);if(isFunction(H)){var X=H(v.getOption());util_isString(X)?N.innerHTML=X:isDom(X)&&N.appendChild(X)}else{B.readOnly=x.get("readOnly");var et=B.style;et.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",et.color=x.get("textColor"),et.borderColor=x.get("textareaBorderColor"),et.backgroundColor=x.get("textareaColor"),B.value=Z.value,N.appendChild(B)}var en=Z.meta,er=document.createElement("div");er.style.cssText="position:absolute;bottom:5px;left:0;right:0";var ei="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",ea=document.createElement("div"),eo=document.createElement("div");ei+=";background-color:"+x.get("buttonColor")+";color:"+x.get("buttonTextColor");var el=this;function close(){_.removeChild(w),el._dom=null}addEventListener(ea,"click",close),addEventListener(eo,"click",function(){var o;if(null==Y&&null!=H||null!=Y&&null==H){close();return}try{o=isFunction(Y)?Y(N,v.getOption()):parseContents(B.value,en)}catch(o){throw close(),Error("Data view format error "+o)}o&&v.dispatchAction({type:"changeDataView",newOption:o}),close()}),ea.innerHTML=L[1],eo.innerHTML=L[2],eo.style.cssText=ea.style.cssText=ei,x.get("readOnly")||er.appendChild(eo),er.appendChild(ea),w.appendChild(T),w.appendChild(N),w.appendChild(er),N.style.height=_.clientHeight-80+"px",_.appendChild(w),this._dom=w},DataView.prototype.remove=function(o,v){this._dom&&v.getDom().removeChild(this._dom)},DataView.prototype.dispose=function(o,v){this.remove(o,v)},DataView.getDefaultOption=function(o){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:o.getLocaleModel().get(["toolbox","dataView","title"]),lang:o.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},DataView}(ToolboxFeature);function tryMergeDataOption(o,v){return map(o,function(o,_){var x=v&&v[_];if(!util_isObject(x)||util_isArray(x))return o;util_isObject(o)&&!util_isArray(o)||(o={value:o});var w=null!=x.name&&null==o.name;return o=util_defaults(o,x),w&&delete o.name,o})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(o,v){var _=[];util_each(o.newOption.series,function(o){var x=v.getSeriesByName(o.name)[0];if(x){var w=x.get("data");_.push({name:o.name,data:tryMergeDataOption(o.data,w)})}else _.push(extend({type:"scatter"},o))}),v.mergeOption(util_defaults({series:_},o.newOption))});var fO=util_each,fA=makeInner();function push(o,v){var _=getStoreSnapshots(o);fO(v,function(v,x){for(var w=_.length-1;w>=0&&!_[w][x];w--);if(w<0){var T=o.queryComponents({mainType:"dataZoom",subType:"select",id:x})[0];if(T){var L=T.getPercentRange();_[0][x]={dataZoomId:x,start:L[0],end:L[1]}}}}),_.push(v)}function pop(o){var v=getStoreSnapshots(o),_=v[v.length-1];v.length>1&&v.pop();var x={};return fO(_,function(o,_){for(var w=v.length-1;w>=0;w--)if(o=v[w][_]){x[_]=o;break}}),x}function history_clear(o){fA(o).snapshots=null}function count(o){return getStoreSnapshots(o).length}function getStoreSnapshots(o){var v=fA(o);return v.snapshots||(v.snapshots=[{}]),v.snapshots}var fk=function(o){function RestoreOption(){return null!==o&&o.apply(this,arguments)||this}return __extends(RestoreOption,o),RestoreOption.prototype.onclick=function(o,v){history_clear(o),v.dispatchAction({type:"restore",from:this.uid})},RestoreOption.getDefaultOption=function(o){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:o.getLocaleModel().get(["toolbox","restore","title"])}},RestoreOption}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(o,v){v.resetOption("recreate")});var fL=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],fR=function(){function BrushTargetManager(o,v,_){var x=this;this._targetInfoList=[];var w=BrushTargetManager_parseFinder(v,o);util_each(fN,function(o,v){(!_||!_.include||indexOf(_.include,v)>=0)&&o(w,x._targetInfoList)})}return BrushTargetManager.prototype.setOutputRanges=function(o,v){return this.matchOutputRanges(o,v,function(o,v,_){if((o.coordRanges||(o.coordRanges=[])).push(v),!o.coordRange){o.coordRange=v;var x=fB[o.brushType](0,_,v);o.__rangeOffset={offset:fz[o.brushType](x.values,o.range,[1,1]),xyMinMax:x.xyMinMax}}}),o},BrushTargetManager.prototype.matchOutputRanges=function(o,v,_){util_each(o,function(o){var x=this.findTargetInfo(o,v);x&&!0!==x&&util_each(x.coordSyses,function(x){var w=fB[o.brushType](1,x,o.range,!0);_(o,w.values,x,v)})},this)},BrushTargetManager.prototype.setInputRanges=function(o,v){util_each(o,function(o){var _=this.findTargetInfo(o,v);if(o.range=o.range||[],_&&!0!==_){o.panelId=_.panelId;var x=fB[o.brushType](0,_.coordSys,o.coordRange),w=o.__rangeOffset;o.range=w?fz[o.brushType](x.values,w.offset,getScales(x.xyMinMax,w.xyMinMax)):x.values}},this)},BrushTargetManager.prototype.makePanelOpts=function(o,v){return map(this._targetInfoList,function(_){var x=_.getPanelRect();return{panelId:_.panelId,defaultBrushType:v?v(_):null,clipPath:makeRectPanelClipPath(x),isTargetByCursor:makeRectIsTargetByCursor(x,o,_.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(x)}})},BrushTargetManager.prototype.controlSeries=function(o,v,_){var x=this.findTargetInfo(o,_);return!0===x||x&&indexOf(x.coordSyses,v.coordinateSystem)>=0},BrushTargetManager.prototype.findTargetInfo=function(o,v){for(var _=this._targetInfoList,x=BrushTargetManager_parseFinder(v,o),w=0;w<_.length;w++){var T=_[w],L=o.panelId;if(L){if(T.panelId===L)return T}else for(var N=0;N<fF.length;N++)if(fF[N](x,T))return T}return!0},BrushTargetManager}();function formatMinMax(o){return o[0]>o[1]&&o.reverse(),o}function BrushTargetManager_parseFinder(o,v){return parseFinder(o,v,{includeMainTypes:fL})}var fN={grid:function(o,v){var _=o.xAxisModels,x=o.yAxisModels,w=o.gridModels,T=createHashMap(),L={},N={};(_||x||w)&&(util_each(_,function(o){var v=o.axis.grid.model;T.set(v.id,v),L[v.id]=!0}),util_each(x,function(o){var v=o.axis.grid.model;T.set(v.id,v),N[v.id]=!0}),util_each(w,function(o){T.set(o.id,o),L[o.id]=!0,N[o.id]=!0}),T.each(function(o){var w=o.coordinateSystem,T=[];util_each(w.getCartesians(),function(o,v){(indexOf(_,o.getAxis("x").model)>=0||indexOf(x,o.getAxis("y").model)>=0)&&T.push(o)}),v.push({panelId:"grid--"+o.id,gridModel:o,coordSysModel:o,coordSys:T[0],coordSyses:T,getPanelRect:fV.grid,xAxisDeclared:L[o.id],yAxisDeclared:N[o.id]})}))},geo:function(o,v){util_each(o.geoModels,function(o){var _=o.coordinateSystem;v.push({panelId:"geo--"+o.id,geoModel:o,coordSysModel:o,coordSys:_,coordSyses:[_],getPanelRect:fV.geo})})}},fF=[function(o,v){var _=o.xAxisModel,x=o.yAxisModel,w=o.gridModel;return!w&&_&&(w=_.axis.grid.model),!w&&x&&(w=x.axis.grid.model),w&&w===v.gridModel},function(o,v){var _=o.geoModel;return _&&_===v.geoModel}],fV={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var o=this.coordSys,v=o.getBoundingRect().clone();return v.applyTransform(getTransform(o)),v}},fB={lineX:curry(axisConvert,0),lineY:curry(axisConvert,1),rect:function(o,v,_,x){var w=o?v.pointToData([_[0][0],_[1][0]],x):v.dataToPoint([_[0][0],_[1][0]],x),T=o?v.pointToData([_[0][1],_[1][1]],x):v.dataToPoint([_[0][1],_[1][1]],x),L=[formatMinMax([w[0],T[0]]),formatMinMax([w[1],T[1]])];return{values:L,xyMinMax:L}},polygon:function(o,v,_,x){var w=[[1/0,-1/0],[1/0,-1/0]];return{values:map(_,function(_){var T=o?v.pointToData(_,x):v.dataToPoint(_,x);return w[0][0]=Math.min(w[0][0],T[0]),w[1][0]=Math.min(w[1][0],T[1]),w[0][1]=Math.max(w[0][1],T[0]),w[1][1]=Math.max(w[1][1],T[1]),T}),xyMinMax:w}}};function axisConvert(o,v,_,x){var w=_.getAxis(["x","y"][o]),T=formatMinMax(map([0,1],function(o){return v?w.coordToData(w.toLocalCoord(x[o]),!0):w.toGlobalCoord(w.dataToCoord(x[o]))})),L=[];return L[o]=T,L[1-o]=[NaN,NaN],{values:T,xyMinMax:L}}var fz={lineX:curry(axisDiffProcessor,0),lineY:curry(axisDiffProcessor,1),rect:function(o,v,_){return[[o[0][0]-_[0]*v[0][0],o[0][1]-_[0]*v[0][1]],[o[1][0]-_[1]*v[1][0],o[1][1]-_[1]*v[1][1]]]},polygon:function(o,v,_){return map(o,function(o,x){return[o[0]-_[0]*v[x][0],o[1]-_[1]*v[x][1]]})}};function axisDiffProcessor(o,v,_,x){return[v[0]-x[o]*_[0],v[1]-x[o]*_[1]]}function getScales(o,v){var _=BrushTargetManager_getSize(o),x=BrushTargetManager_getSize(v),w=[_[0]/x[0],_[1]/x[1]];return isNaN(w[0])&&(w[0]=1),isNaN(w[1])&&(w[1]=1),w}function BrushTargetManager_getSize(o){return o?[o[0][1]-o[0][0],o[1][1]-o[1][0]]:[NaN,NaN]}var fj=util_each,fH=makeInternalComponentId("toolbox-dataZoom_"),fG=function(o){function DataZoomFeature(){return null!==o&&o.apply(this,arguments)||this}return __extends(DataZoomFeature,o),DataZoomFeature.prototype.render=function(o,v,_,x){this._brushController||(this._brushController=new d2(_.getZr()),this._brushController.on("brush",e2(this._onBrush,this)).mount()),updateZoomBtnStatus(o,v,this,x,_),updateBackBtnStatus(o,v)},DataZoomFeature.prototype.onclick=function(o,v,_){fU[_].call(this)},DataZoomFeature.prototype.remove=function(o,v){this._brushController&&this._brushController.unmount()},DataZoomFeature.prototype.dispose=function(o,v){this._brushController&&this._brushController.dispose()},DataZoomFeature.prototype._onBrush=function(o){var v=o.areas;if(o.isEnd&&v.length){var _={},x=this.ecModel;this._brushController.updateCovers([]),new fR(makeAxisFinder(this.model),x,{include:["grid"]}).matchOutputRanges(v,x,function(o,v,_){if("cartesian2d"===_.type){var x=o.brushType;"rect"===x?(setBatch("x",_,v[0]),setBatch("y",_,v[1])):setBatch({lineX:"x",lineY:"y"}[x],_,v)}}),push(x,_),this._dispatchZoomAction(_)}function setBatch(o,v,w){var T=v.getAxis(o),L=T.model,N=findDataZoom(o,L,x),B=N.findRepresentativeAxisProxy(L).getMinMaxSpan();(null!=B.minValueSpan||null!=B.maxValueSpan)&&(w=sliderMove(0,w.slice(),T.scale.getExtent(),0,B.minValueSpan,B.maxValueSpan)),N&&(_[N.id]={dataZoomId:N.id,startValue:w[0],endValue:w[1]})}function findDataZoom(o,v,_){var x;return _.eachComponent({mainType:"dataZoom",subType:"select"},function(_){_.getAxisModel(o,v.componentIndex)&&(x=_)}),x}},DataZoomFeature.prototype._dispatchZoomAction=function(o){var v=[];fj(o,function(o,_){v.push(clone(o))}),v.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:v})},DataZoomFeature.getDefaultOption=function(o){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:o.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},DataZoomFeature}(ToolboxFeature),fU={zoom:function(){var o=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:o})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(o){var v={xAxisIndex:o.get("xAxisIndex",!0),yAxisIndex:o.get("yAxisIndex",!0),xAxisId:o.get("xAxisId",!0),yAxisId:o.get("yAxisId",!0)};return null==v.xAxisIndex&&null==v.xAxisId&&(v.xAxisIndex="all"),null==v.yAxisIndex&&null==v.yAxisId&&(v.yAxisIndex="all"),v}function updateBackBtnStatus(o,v){o.setIconStatus("back",count(v)>1?"emphasis":"normal")}function updateZoomBtnStatus(o,v,_,x,w){var T=_._isZoomActive;x&&"takeGlobalCursor"===x.type&&(T="dataZoomSelect"===x.key&&x.dataZoomSelectActive),_._isZoomActive=T,o.setIconStatus("zoom",T?"emphasis":"normal");var L=new fR(makeAxisFinder(o),v,{include:["grid"]}).makePanelOpts(w,function(o){return o.xAxisDeclared&&!o.yAxisDeclared?"lineX":!o.xAxisDeclared&&o.yAxisDeclared?"lineY":"rect"});_._brushController.setPanels(L).enableBrush(!!T&&!!L.length&&{brushType:"auto",brushStyle:o.getModel("brushStyle").getItemStyle()})}function toolbox_install_install(o){o.registerComponentModel(fS),o.registerComponentView(fx),fb.saveAsImage=fw,fb.magicType=fM,fb.dataView=fE,fb.dataZoom=fG,fb.restore=fk,use(installDataZoomSelect_install)}registerInternalOptionCreator("dataZoom",function(o){var v=o.getComponent("toolbox",0),_=["feature","dataZoom"];if(v&&null!=v.get(_)){var x=v.getModel(_),w=[],T=parseFinder(o,makeAxisFinder(x));return fj(T.xAxisModels,function(o){return buildInternalOptions(o,"xAxis","xAxisIndex")}),fj(T.yAxisModels,function(o){return buildInternalOptions(o,"yAxis","yAxisIndex")}),w}function buildInternalOptions(o,v,_){var T=o.componentIndex,L={type:"select",$fromToolbox:!0,filterMode:x.get("filterMode",!0)||"filter",id:fH+v+T};L[_]=T,w.push(L)}});var fW=function(o){function TooltipModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=TooltipModel.type,v}return __extends(TooltipModel,o),TooltipModel.type="tooltip",TooltipModel.dependencies=["axisPointer"],TooltipModel.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},TooltipModel}(ix);function shouldTooltipConfine(o){var v=o.get("confine");return null!=v?!!v:"richText"===o.get("renderMode")}function testStyle(o){if(eV.domSupported){for(var v=document.documentElement.style,_=0,x=o.length;_<x;_++)if(o[_]in v)return o[_]}}var fY=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function toCSSVendorPrefix(o,v){if(!o)return v;v=toCamelCase(v,!0);var _=o.indexOf(v);return(o=-1===_?v:"-"+o.slice(0,_)+"-"+v).toLowerCase()}function getComputedStyle(o,v){var _=o.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(o);return _?v?_[v]:_:null}var fK=toCSSVendorPrefix(testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),fZ=toCSSVendorPrefix(fY,"transform"),fq="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(eV.transform3dSupported?"will-change:transform;":"");function mirrorPos(o){return o="left"===o?"right":"right"===o?"left":"top"===o?"bottom":"top"}function assembleArrow(o,v,_){if(!util_isString(_)||"inside"===_)return"";var x,w=o.get("backgroundColor"),T=o.get("borderWidth");v=convertToColorString(v);var L=mirrorPos(_),N=Math.max(1.5*Math.round(T),6),B="",H=fZ+":";indexOf(["left","right"],L)>-1?(B+="top:50%",H+="translateY(-50%) rotate("+(x="left"===L?-225:-45)+"deg)"):(B+="left:50%",H+="translateX(-50%) rotate("+(x="top"===L?225:45)+"deg)");var Y=x*Math.PI/180,Z=N+T,X=Z*Math.abs(Math.cos(Y))+Z*Math.abs(Math.sin(Y));B+=";"+L+":-"+Math.round(((X-Math.SQRT2*T)/2+Math.SQRT2*T-(X-Z)/2)*100)/100+"px";var et=v+" solid "+T+"px;";return'<div style="'+["position:absolute;width:"+N+"px;height:"+N+"px;z-index:-1;",B+";"+H+";","border-bottom:"+et,"border-right:"+et,"background-color:"+w+";"].join("")+'"></div>'}function assembleTransition(o,v){var _="cubic-bezier(0.23,1,0.32,1)",x=" "+o/2+"s "+_,w="opacity"+x+",visibility"+x;return v||(x=" "+o+"s "+_,w+=eV.transformSupported?","+fZ+x:",left"+x+",top"+x),fK+":"+w}function assembleTransform(o,v,_){var x=o.toFixed(0)+"px",w=v.toFixed(0)+"px";if(!eV.transformSupported)return _?"top:"+w+";left:"+x+";":[["top",w],["left",x]];var T=eV.transform3dSupported,L="translate"+(T?"3d":"")+"("+x+","+w+(T?",0":"")+")";return _?"top:0;left:0;"+fZ+":"+L+";":[["top",0],["left",0],[fY,L]]}function assembleFont(o){var v=[],_=o.get("fontSize"),x=o.getTextColor();x&&v.push("color:"+x),v.push("font:"+o.getFont()),_&&v.push("line-height:"+Math.round(3*_/2)+"px");var w=o.get("textShadowColor"),T=o.get("textShadowBlur")||0,L=o.get("textShadowOffsetX")||0,N=o.get("textShadowOffsetY")||0;return w&&T&&v.push("text-shadow:"+L+"px "+N+"px "+T+"px "+w),util_each(["decoration","align"],function(_){var x=o.get(_);x&&v.push("text-"+_+":"+x)}),v.join(";")}function assembleCssText(o,v,_){var x=[],w=o.get("transitionDuration"),T=o.get("backgroundColor"),L=o.get("shadowBlur"),N=o.get("shadowColor"),B=o.get("shadowOffsetX"),H=o.get("shadowOffsetY"),Y=o.getModel("textStyle"),Z=getPaddingFromTooltipModel(o,"html");return x.push("box-shadow:"+(B+"px "+H+"px ")+L+"px "+N),v&&w&&x.push(assembleTransition(w,_)),T&&x.push("background-color:"+T),util_each(["width","color","radius"],function(v){var _="border-"+v,w=toCamelCase(_),T=o.get(w);null!=T&&x.push(_+":"+T+("color"===v?"":"px"))}),x.push(assembleFont(Y)),null!=Z&&x.push("padding:"+ig(Z).join("px ")+"px"),x.join(";")+";"}function makeStyleCoord(o,v,_,x,w){var T=v&&v.painter;if(_){var L=T&&T.getViewportRoot();L&&transformLocalCoord(o,L,document.body,x,w)}else{o[0]=x,o[1]=w;var N=T&&T.getViewportRootOffset();N&&(o[0]+=N.offsetLeft,o[1]+=N.offsetTop)}o[2]=o[0]/v.getWidth(),o[3]=o[1]/v.getHeight()}var fX=function(){function TooltipHTMLContent(o,v,_){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,eV.wxa)return null;var x=document.createElement("div");x.domBelongToZr=!0,this.el=x;var w=this._zr=v.getZr(),T=this._appendToBody=_&&_.appendToBody;makeStyleCoord(this._styleCoord,w,T,v.getWidth()/2,v.getHeight()/2),T?document.body.appendChild(x):o.appendChild(x),this._container=o;var L=this;x.onmouseenter=function(){L._enterable&&(clearTimeout(L._hideTimeout),L._show=!0),L._inContent=!0},x.onmousemove=function(o){if(o=o||window.event,!L._enterable){var v=w.handler;normalizeEvent(w.painter.getViewportRoot(),o,!0),v.dispatch("mousemove",o)}},x.onmouseleave=function(){L._inContent=!1,L._enterable&&L._show&&L.hideLater(L._hideDelay)}}return TooltipHTMLContent.prototype.update=function(o){var v=this._container,_=getComputedStyle(v,"position"),x=v.style;"absolute"!==x.position&&"absolute"!==_&&(x.position="relative");var w=o.get("alwaysShowContent");w&&this._moveIfResized(),this._alwaysShowContent=w,this.el.className=o.get("className")||""},TooltipHTMLContent.prototype.show=function(o,v){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var _=this.el,x=_.style,w=this._styleCoord;_.innerHTML?x.cssText=fq+assembleCssText(o,!this._firstShow,this._longHide)+assembleTransform(w[0],w[1],!0)+"border-color:"+convertToColorString(v)+";"+(o.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):x.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},TooltipHTMLContent.prototype.setContent=function(o,v,_,x,w){var T=this.el;if(null==o){T.innerHTML="";return}var L="";if(util_isString(w)&&"item"===_.get("trigger")&&!shouldTooltipConfine(_)&&(L=assembleArrow(_,x,w)),util_isString(o))T.innerHTML=o+L;else if(o){T.innerHTML="",util_isArray(o)||(o=[o]);for(var N=0;N<o.length;N++)isDom(o[N])&&o[N].parentNode!==T&&T.appendChild(o[N]);if(L&&T.childNodes.length){var B=document.createElement("div");B.innerHTML=L,T.appendChild(B)}}},TooltipHTMLContent.prototype.setEnterable=function(o){this._enterable=o},TooltipHTMLContent.prototype.getSize=function(){var o=this.el;return[o.offsetWidth,o.offsetHeight]},TooltipHTMLContent.prototype.moveTo=function(o,v){var _=this._styleCoord;if(makeStyleCoord(_,this._zr,this._appendToBody,o,v),null!=_[0]&&null!=_[1]){var x=this.el.style;util_each(assembleTransform(_[0],_[1]),function(o){x[o[0]]=o[1]})}},TooltipHTMLContent.prototype._moveIfResized=function(){var o=this._styleCoord[2],v=this._styleCoord[3];this.moveTo(o*this._zr.getWidth(),v*this._zr.getHeight())},TooltipHTMLContent.prototype.hide=function(){var o=this,v=this.el.style;v.visibility="hidden",v.opacity="0",eV.transform3dSupported&&(v.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return o._longHide=!0},500)},TooltipHTMLContent.prototype.hideLater=function(o){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(o?(this._hideDelay=o,this._show=!1,this._hideTimeout=setTimeout(e2(this.hide,this),o)):this.hide())},TooltipHTMLContent.prototype.isShow=function(){return this._show},TooltipHTMLContent.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},TooltipHTMLContent}(),f$=function(){function TooltipRichContent(o){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=o.getZr(),TooltipRichContent_makeStyleCoord(this._styleCoord,this._zr,o.getWidth()/2,o.getHeight()/2)}return TooltipRichContent.prototype.update=function(o){var v=o.get("alwaysShowContent");v&&this._moveIfResized(),this._alwaysShowContent=v},TooltipRichContent.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},TooltipRichContent.prototype.setContent=function(o,v,_,x,w){var T=this;util_isObject(o)&&throwError(""),this.el&&this._zr.remove(this.el);var L=_.getModel("textStyle");this.el=new rR({style:{rich:v.richTextStyles,text:o,lineHeight:22,borderWidth:1,borderColor:x,textShadowColor:L.get("textShadowColor"),fill:_.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(_,"richText"),verticalAlign:"top",align:"left"},z:_.get("z")}),util_each(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(o){T.el.style[o]=_.get(o)}),util_each(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(o){T.el.style[o]=L.get(o)||0}),this._zr.add(this.el);var N=this;this.el.on("mouseover",function(){N._enterable&&(clearTimeout(N._hideTimeout),N._show=!0),N._inContent=!0}),this.el.on("mouseout",function(){N._enterable&&N._show&&N.hideLater(N._hideDelay),N._inContent=!1})},TooltipRichContent.prototype.setEnterable=function(o){this._enterable=o},TooltipRichContent.prototype.getSize=function(){var o=this.el,v=this.el.getBoundingRect(),_=calcShadowOuterSize(o.style);return[v.width+_.left+_.right,v.height+_.top+_.bottom]},TooltipRichContent.prototype.moveTo=function(o,v){var _=this.el;if(_){var x=this._styleCoord;TooltipRichContent_makeStyleCoord(x,this._zr,o,v),o=x[0],v=x[1];var w=_.style,T=mathMaxWith0(w.borderWidth||0),L=calcShadowOuterSize(w);_.x=o+T+L.left,_.y=v+T+L.top,_.markRedraw()}},TooltipRichContent.prototype._moveIfResized=function(){var o=this._styleCoord[2],v=this._styleCoord[3];this.moveTo(o*this._zr.getWidth(),v*this._zr.getHeight())},TooltipRichContent.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},TooltipRichContent.prototype.hideLater=function(o){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(o?(this._hideDelay=o,this._show=!1,this._hideTimeout=setTimeout(e2(this.hide,this),o)):this.hide())},TooltipRichContent.prototype.isShow=function(){return this._show},TooltipRichContent.prototype.dispose=function(){this._zr.remove(this.el)},TooltipRichContent}();function mathMaxWith0(o){return Math.max(0,o)}function calcShadowOuterSize(o){var v=mathMaxWith0(o.shadowBlur||0),_=mathMaxWith0(o.shadowOffsetX||0),x=mathMaxWith0(o.shadowOffsetY||0);return{left:mathMaxWith0(v-_),right:mathMaxWith0(v+_),top:mathMaxWith0(v-x),bottom:mathMaxWith0(v+x)}}function TooltipRichContent_makeStyleCoord(o,v,_,x){o[0]=_,o[1]=x,o[2]=o[0]/v.getWidth(),o[3]=o[1]/v.getHeight()}var fQ=new rI({shape:{x:-1,y:-1,width:2,height:2}}),fJ=function(o){function TooltipView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=TooltipView.type,v}return __extends(TooltipView,o),TooltipView.prototype.init=function(o,v){if(!eV.node&&v.getDom()){var _=o.getComponent("tooltip"),x=this._renderMode=getTooltipRenderMode(_.get("renderMode"));this._tooltipContent="richText"===x?new f$(v):new fX(v.getDom(),v,{appendToBody:_.get("appendToBody",!0)})}},TooltipView.prototype.render=function(o,v,_){if(!eV.node&&_.getDom()){this.group.removeAll(),this._tooltipModel=o,this._ecModel=v,this._api=_;var x=this._tooltipContent;x.update(o),x.setEnterable(o.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&o.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear(this,"_updatePosition")}},TooltipView.prototype._initGlobalListener=function(){var o=this._tooltipModel.get("triggerOn");register("itemTooltip",this._api,e2(function(v,_,x){"none"!==o&&(o.indexOf(v)>=0?this._tryShow(_,x):"leave"===v&&this._hide(x))},this))},TooltipView.prototype._keepShow=function(){var o=this._tooltipModel,v=this._ecModel,_=this._api,x=o.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==x&&"click"!==x){var w=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){_.isDisposed()||w.manuallyShowTip(o,v,_,{x:w._lastX,y:w._lastY,dataByCoordSys:w._lastDataByCoordSys})})}},TooltipView.prototype.manuallyShowTip=function(o,v,_,x){if(x.from!==this.uid&&!eV.node&&_.getDom()){var w=TooltipView_makeDispatchAction(x,_);this._ticket="";var T=x.dataByCoordSys,L=findComponentReference(x,v,_);if(L){var N=L.el.getBoundingRect().clone();N.applyTransform(L.el.transform),this._tryShow({offsetX:N.x+N.width/2,offsetY:N.y+N.height/2,target:L.el,position:x.position,positionDefault:"bottom"},w)}else if(x.tooltip&&null!=x.x&&null!=x.y)fQ.x=x.x,fQ.y=x.y,fQ.update(),rN(fQ).tooltipConfig={name:null,option:x.tooltip},this._tryShow({offsetX:x.x,offsetY:x.y,target:fQ},w);else if(T)this._tryShow({offsetX:x.x,offsetY:x.y,position:x.position,dataByCoordSys:T,tooltipOption:x.tooltipOption},w);else if(null!=x.seriesIndex){if(this._manuallyAxisShowTip(o,v,_,x))return;var B=findPointFromSeries(x,v),H=B.point[0],Y=B.point[1];null!=H&&null!=Y&&this._tryShow({offsetX:H,offsetY:Y,target:B.el,position:x.position,positionDefault:"bottom"},w)}else null!=x.x&&null!=x.y&&(_.dispatchAction({type:"updateAxisPointer",x:x.x,y:x.y}),this._tryShow({offsetX:x.x,offsetY:x.y,position:x.position,target:_.getZr().findHover(x.x,x.y).target},w))}},TooltipView.prototype.manuallyHideTip=function(o,v,_,x){var w=this._tooltipContent;this._tooltipModel&&w.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,x.from!==this.uid&&this._hide(TooltipView_makeDispatchAction(x,_))},TooltipView.prototype._manuallyAxisShowTip=function(o,v,_,x){var w=x.seriesIndex,T=x.dataIndex,L=v.getComponent("axisPointer").coordSysAxesInfo;if(null!=w&&null!=T&&null!=L){var N=v.getSeriesByIndex(w);if(N&&"axis"===buildTooltipModel([N.getData().getItemModel(T),N,(N.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return _.dispatchAction({type:"updateAxisPointer",seriesIndex:w,dataIndex:T,position:x.position}),!0}},TooltipView.prototype._tryShow=function(o,v){var _,x,w=o.target;if(this._tooltipModel){this._lastX=o.offsetX,this._lastY=o.offsetY;var T=o.dataByCoordSys;T&&T.length?this._showAxisTooltip(T,o):w?(this._lastDataByCoordSys=null,findEventDispatcher(w,function(o){return null!=rN(o).dataIndex?(_=o,!0):null!=rN(o).tooltipConfig?(x=o,!0):void 0},!0),_?this._showSeriesItemTooltip(o,_,v):x?this._showComponentItemTooltip(o,x,v):this._hide(v)):(this._lastDataByCoordSys=null,this._hide(v))}},TooltipView.prototype._showOrMove=function(o,v){var _=o.get("showDelay");v=e2(v,this),clearTimeout(this._showTimout),_>0?this._showTimout=setTimeout(v,_):v()},TooltipView.prototype._showAxisTooltip=function(o,v){var _=this._ecModel,x=this._tooltipModel,w=[v.offsetX,v.offsetY],T=buildTooltipModel([v.tooltipOption],x),L=this._renderMode,N=[],B=createTooltipMarkup("section",{blocks:[],noHeader:!0}),H=[],Y=new av;util_each(o,function(o){util_each(o.dataByAxis,function(o){var v=_.getComponent(o.axisDim+"Axis",o.axisIndex),w=o.value;if(v&&null!=w){var T=getValueLabel(w,v.axis,_,o.seriesDataIndices,o.valueLabelOpt),Z=createTooltipMarkup("section",{header:T,noHeader:!trim(T),sortBlocks:!0,blocks:[]});B.blocks.push(Z),util_each(o.seriesDataIndices,function(B){var X=_.getSeriesByIndex(B.seriesIndex),et=B.dataIndexInside,en=X.getDataParams(et);if(!(en.dataIndex<0)){en.axisDim=o.axisDim,en.axisIndex=o.axisIndex,en.axisType=o.axisType,en.axisId=o.axisId,en.axisValue=getAxisRawValue(v.axis,{value:w}),en.axisValueLabel=T,en.marker=Y.makeTooltipMarker("item",convertToColorString(en.color),L);var er=normalizeTooltipFormatResult(X.formatTooltip(et,!0,null)),ei=er.frag;if(ei){var ea=buildTooltipModel([X],x).get("valueFormatter");Z.blocks.push(ea?extend({valueFormatter:ea},ei):ei)}er.text&&H.push(er.text),N.push(en)}})}})}),B.blocks.reverse(),H.reverse();var Z=v.position,X=buildTooltipMarkup(B,Y,L,T.get("order"),_.get("useUTC"),T.get("textStyle"));X&&H.unshift(X);var et="richText"===L?"\n\n":"<br/>",en=H.join(et);this._showOrMove(T,function(){this._updateContentNotChangedOnAxis(o,N)?this._updatePosition(T,Z,w[0],w[1],this._tooltipContent,N):this._showTooltipContent(T,en,N,Math.random()+"",w[0],w[1],Z,null,Y)})},TooltipView.prototype._showSeriesItemTooltip=function(o,v,_){var x=this._ecModel,w=rN(v),T=w.seriesIndex,L=x.getSeriesByIndex(T),N=w.dataModel||L,B=w.dataIndex,H=w.dataType,Y=N.getData(H),Z=this._renderMode,X=o.positionDefault,et=buildTooltipModel([Y.getItemModel(B),N,L&&(L.coordinateSystem||{}).model],this._tooltipModel,X?{position:X}:null),en=et.get("trigger");if(null==en||"item"===en){var er=N.getDataParams(B,H),ei=new av;er.marker=ei.makeTooltipMarker("item",convertToColorString(er.color),Z);var ea=normalizeTooltipFormatResult(N.formatTooltip(B,!1,H)),eo=et.get("order"),el=et.get("valueFormatter"),eu=ea.frag,ec=eu?buildTooltipMarkup(el?extend({valueFormatter:el},eu):eu,ei,Z,eo,x.get("useUTC"),et.get("textStyle")):ea.text,ed="item_"+N.name+"_"+B;this._showOrMove(et,function(){this._showTooltipContent(et,ec,er,ed,o.offsetX,o.offsetY,o.position,o.target,ei)}),_({type:"showTip",dataIndexInside:B,dataIndex:Y.getRawIndex(B),seriesIndex:T,from:this.uid})}},TooltipView.prototype._showComponentItemTooltip=function(o,v,_){var x=rN(v),w=x.tooltipConfig.option||{};if(util_isString(w)){var T=w;w={content:T,formatter:T}}var L=[w],N=this._ecModel.getComponent(x.componentMainType,x.componentIndex);N&&L.push(N),L.push({formatter:w.content});var B=o.positionDefault,H=buildTooltipModel(L,this._tooltipModel,B?{position:B}:null),Y=H.get("content"),Z=Math.random()+"",X=new av;this._showOrMove(H,function(){var _=clone(H.get("formatterParams")||{});this._showTooltipContent(H,Y,_,Z,o.offsetX,o.offsetY,o.position,v,X)}),_({type:"showTip",from:this.uid})},TooltipView.prototype._showTooltipContent=function(o,v,_,x,w,T,L,N,B){if(this._ticket="",o.get("showContent")&&o.get("show")){var H=this._tooltipContent;H.setEnterable(o.get("enterable"));var Y=o.get("formatter");L=L||o.get("position");var Z=v,X=this._getNearestPoint([w,T],_,o.get("trigger"),o.get("borderColor")).color;if(Y){if(util_isString(Y)){var et=o.ecModel.get("useUTC"),en=util_isArray(_)?_[0]:_,er=en&&en.axisType&&en.axisType.indexOf("time")>=0;Z=Y,er&&(Z=format(en.axisValue,Z,et)),Z=formatTpl(Z,_,!0)}else if(isFunction(Y)){var ei=e2(function(v,x){v===this._ticket&&(H.setContent(x,B,o,X,L),this._updatePosition(o,L,w,T,H,_,N))},this);this._ticket=x,Z=Y(_,x,ei)}else Z=Y}H.setContent(Z,B,o,X,L),H.show(o,X),this._updatePosition(o,L,w,T,H,_,N)}},TooltipView.prototype._getNearestPoint=function(o,v,_,x){return"axis"===_||util_isArray(v)?{color:x||("html"===this._renderMode?"#fff":"none")}:util_isArray(v)?void 0:{color:x||v.color||v.borderColor}},TooltipView.prototype._updatePosition=function(o,v,_,x,w,T,L){var N=this._api.getWidth(),B=this._api.getHeight();v=v||o.get("position");var H=w.getSize(),Y=o.get("align"),Z=o.get("verticalAlign"),X=L&&L.getBoundingRect().clone();if(L&&X.applyTransform(L.transform),isFunction(v)&&(v=v([_,x],T,w.el,X,{viewSize:[N,B],contentSize:H.slice()})),util_isArray(v))_=number_parsePercent(v[0],N),x=number_parsePercent(v[1],B);else if(util_isObject(v)){var et=v;et.width=H[0],et.height=H[1];var en=getLayoutRect(et,{width:N,height:B});_=en.x,x=en.y,Y=null,Z=null}else if(util_isString(v)&&L){var er=calcTooltipPosition(v,X,H,o.get("borderWidth"));_=er[0],x=er[1]}else{var er=refixTooltipPosition(_,x,w,N,B,Y?null:20,Z?null:20);_=er[0],x=er[1]}if(Y&&(_-=isCenterAlign(Y)?H[0]/2:"right"===Y?H[0]:0),Z&&(x-=isCenterAlign(Z)?H[1]/2:"bottom"===Z?H[1]:0),shouldTooltipConfine(o)){var er=confineTooltipPosition(_,x,w,N,B);_=er[0],x=er[1]}w.moveTo(_,x)},TooltipView.prototype._updateContentNotChangedOnAxis=function(o,v){var _=this._lastDataByCoordSys,x=this._cbParamsList,w=!!_&&_.length===o.length;return w&&util_each(_,function(_,T){var L=_.dataByAxis||[],N=(o[T]||{}).dataByAxis||[];(w=w&&L.length===N.length)&&util_each(L,function(o,_){var T=N[_]||{},L=o.seriesDataIndices||[],B=T.seriesDataIndices||[];(w=w&&o.value===T.value&&o.axisType===T.axisType&&o.axisId===T.axisId&&L.length===B.length)&&util_each(L,function(o,v){var _=B[v];w=w&&o.seriesIndex===_.seriesIndex&&o.dataIndex===_.dataIndex}),x&&util_each(o.seriesDataIndices,function(o){var _=o.seriesIndex,T=v[_],L=x[_];T&&L&&L.data!==T.data&&(w=!1)})})}),this._lastDataByCoordSys=o,this._cbParamsList=v,!!w},TooltipView.prototype._hide=function(o){this._lastDataByCoordSys=null,o({type:"hideTip",from:this.uid})},TooltipView.prototype.dispose=function(o,v){!eV.node&&v.getDom()&&(clear(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",v))},TooltipView.type="tooltip",TooltipView}(ax);function buildTooltipModel(o,v,_){var x,w=v.ecModel;_?(x=new ii(_,w,w),x=new ii(v.option,x,w)):x=v;for(var T=o.length-1;T>=0;T--){var L=o[T];L&&(L instanceof ii&&(L=L.get("tooltip",!0)),util_isString(L)&&(L={formatter:L}),L&&(x=new ii(L,x,w)))}return x}function TooltipView_makeDispatchAction(o,v){return o.dispatchAction||e2(v.dispatchAction,v)}function refixTooltipPosition(o,v,_,x,w,T,L){var N=_.getSize(),B=N[0],H=N[1];return null!=T&&(o+B+T+2>x?o-=B+T:o+=T),null!=L&&(v+H+L>w?v-=H+L:v+=L),[o,v]}function confineTooltipPosition(o,v,_,x,w){var T=_.getSize(),L=T[0],N=T[1];return o=Math.min(o+L,x)-L,v=Math.min(v+N,w)-N,[o=Math.max(o,0),v=Math.max(v,0)]}function calcTooltipPosition(o,v,_,x){var w=_[0],T=_[1],L=Math.ceil(Math.SQRT2*x)+8,N=0,B=0,H=v.width,Y=v.height;switch(o){case"inside":N=v.x+H/2-w/2,B=v.y+Y/2-T/2;break;case"top":N=v.x+H/2-w/2,B=v.y-T-L;break;case"bottom":N=v.x+H/2-w/2,B=v.y+Y+L;break;case"left":N=v.x-w-L,B=v.y+Y/2-T/2;break;case"right":N=v.x+H+L,B=v.y+Y/2-T/2}return[N,B]}function isCenterAlign(o){return"center"===o||"middle"===o}function findComponentReference(o,v,_){var x,w=preParseFinder(o).queryOptionMap,T=w.keys()[0];if(T&&"series"!==T){var L=queryReferringComponents(v,T,w.get(T),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(L&&(_.getViewOfComponentModel(L).group.traverse(function(v){var _=rN(v).tooltipConfig;if(_&&_.name===o.name)return x=v,!0}),x))return{componentMainType:T,componentIndex:L.componentIndex,el:x}}}function tooltip_install_install(o){use(axisPointer_install_install),o.registerComponentModel(fW),o.registerComponentView(fJ),o.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),o.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var f0=["rect","polygon","keep","clear"];function brushPreprocessor(o,v){var _=normalizeToArray(o?o.brush:[]);if(_.length){var x=[];util_each(_,function(o){var v=o.hasOwnProperty("toolbox")?o.toolbox:[];v instanceof Array&&(x=x.concat(v))});var w=o&&o.toolbox;util_isArray(w)&&(w=w[0]),w||(w={feature:{}},o.toolbox=[w]);var T=w.feature||(w.feature={}),L=T.brush||(T.brush={}),N=L.type||(L.type=[]);N.push.apply(N,x),removeDuplicate(N),v&&!N.length&&N.push.apply(N,f0)}}function removeDuplicate(o){var v={};util_each(o,function(o){v[o]=1}),o.length=0,util_each(v,function(v,_){o.push(_)})}var f1=util_each;function hasKeys(o){if(o){for(var v in o)if(o.hasOwnProperty(v))return!0}}function createVisualMappings(o,v,_){var x={};return f1(v,function(v){var w=x[v]=createMappings();f1(o[v],function(o,x){if(c$.isValidType(x)){var T={type:x,visual:o};_&&_(T,v),w[x]=new c$(T),"opacity"===x&&((T=clone(T)).type="colorAlpha",w.__hidden.__alphaForOpacity=new c$(T))}})}),x;function createMappings(){var Creater=function(){};return Creater.prototype.__hidden=Creater.prototype,new Creater}}function replaceVisualOption(o,v,_){var x;util_each(_,function(o){v.hasOwnProperty(o)&&hasKeys(v[o])&&(x=!0)}),x&&util_each(_,function(_){v.hasOwnProperty(_)&&hasKeys(v[_])?o[_]=clone(v[_]):delete o[_]})}function applyVisual(o,v,_,x,w,T){var L,N={};function getVisual(o){return getItemVisualFromData(_,L,o)}function setVisual(o,v){setItemVisualFromData(_,L,o,v)}function eachItem(o,B){L=null==T?o:B;var H=_.getRawDataItem(L);if(!H||!1!==H.visualMap)for(var Y=x.call(w,o),Z=v[Y],X=N[Y],et=0,en=X.length;et<en;et++){var er=X[et];Z[er]&&Z[er].applyVisual(o,getVisual,setVisual)}}util_each(o,function(o){var _=c$.prepareVisualTypes(v[o]);N[o]=_}),null==T?_.each(eachItem):_.each([T],eachItem)}function incrementalApplyVisual(o,v,_,x){var w={};return util_each(o,function(o){var _=c$.prepareVisualTypes(v[o]);w[o]=_}),{progress:function(o,T){function getVisual(o){return getItemVisualFromData(T,N,o)}function setVisual(o,v){setItemVisualFromData(T,N,o,v)}null!=x&&(L=T.getDimensionIndex(x));for(var L,N,B=T.getStore();null!=(N=o.next());){var H=T.getRawDataItem(N);if(!H||!1!==H.visualMap)for(var Y=null!=x?B.get(L,N):N,Z=_(Y),X=v[Z],et=w[Z],en=0,er=et.length;en<er;en++){var ei=et[en];X[ei]&&X[ei].applyVisual(Y,getVisual,setVisual)}}}}}function makeBrushCommonSelectorForSeries(o){var v=o.brushType,_={point:function(x){return f2[v].point(x,_,o)},rect:function(x){return f2[v].rect(x,_,o)}};return _}var f2={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(o,v,_){return o&&_.boundingRect.contain(o[0],o[1])},rect:function(o,v,_){return o&&_.boundingRect.intersect(o)}},polygon:{point:function(o,v,_){return o&&_.boundingRect.contain(o[0],o[1])&&polygon_contain(_.range,o[0],o[1])},rect:function(o,v,_){var x=_.range;if(!o||x.length<=1)return!1;var w=o.x,T=o.y,L=o.width,N=o.height,B=x[0];if(polygon_contain(x,w,T)||polygon_contain(x,w+L,T)||polygon_contain(x,w,T+N)||polygon_contain(x,w+L,T+N)||tS.create(o).contain(B[0],B[1])||linePolygonIntersect(w,T,w+L,T,x)||linePolygonIntersect(w,T,w,T+N,x)||linePolygonIntersect(w+L,T,w+L,T+N,x)||linePolygonIntersect(w,T+N,w+L,T+N,x))return!0}}};function getLineSelectors(o){var v=["x","y"],_=["width","height"];return{point:function(v,_,x){if(v){var w=x.range;return inLineRange(v[o],w)}},rect:function(x,w,T){if(x){var L=T.range,N=[x[v[o]],x[v[o]]+x[_[o]]];return N[1]<N[0]&&N.reverse(),inLineRange(N[0],L)||inLineRange(N[1],L)||inLineRange(L[0],N)||inLineRange(L[1],N)}}}}function inLineRange(o,v){return v[0]<=o&&o<=v[1]}var f5=["inBrush","outOfBrush"],f3="__ecBrushSelect",f4="__ecInBrushSelectEvent";function layoutCovers(o){o.eachComponent({mainType:"brush"},function(v){(v.brushTargetManager=new fR(v.option,o)).setInputRanges(v.areas,o)})}function brushVisual(o,v,_){var x,w,T=[];o.eachComponent({mainType:"brush"},function(o){_&&"takeGlobalCursor"===_.type&&o.setBrushOption("brush"===_.key?_.brushOption:{brushType:!1})}),layoutCovers(o),o.eachComponent({mainType:"brush"},function(v,_){var L={brushId:v.id,brushIndex:_,brushName:v.name,areas:clone(v.areas),selected:[]};T.push(L);var N=v.option,B=N.brushLink,H=[],Y=[],Z=[],X=!1;_||(x=N.throttleType,w=N.throttleDelay);var et=map(v.areas,function(o){var v=f7[o.brushType],_=util_defaults({boundingRect:v?v(o):void 0},o);return _.selectors=makeBrushCommonSelectorForSeries(_),_}),en=createVisualMappings(v.option,f5,function(o){o.mappingMethod="fixed"});function linkOthers(o){return"all"===B||!!H[o]}function brushed(o){return!!o.length}function stepAParallel(o,v){var _=o.coordinateSystem;X=X||_.hasAxisBrushed(),linkOthers(v)&&_.eachActiveState(o.getData(),function(o,v){"active"===o&&(Y[v]=1)})}function stepAOthers(_,x,w){if(!(!_.brushSelector||brushModelNotControll(v,x))&&(util_each(et,function(x){v.brushTargetManager.controlSeries(x,_,o)&&w.push(x),X=X||brushed(w)}),linkOthers(x)&&brushed(w))){var T=_.getData();T.each(function(o){checkInRange(_,w,T,o)&&(Y[o]=1)})}}util_isArray(B)&&util_each(B,function(o){H[o]=1}),o.eachSeries(function(o,v){var _=Z[v]=[];"parallel"===o.subType?stepAParallel(o,v):stepAOthers(o,v,_)}),o.eachSeries(function(o,v){var _={seriesId:o.id,seriesIndex:v,seriesName:o.name,dataIndex:[]};L.selected.push(_);var x=Z[v],w=o.getData(),T=linkOthers(v)?function(o){return Y[o]?(_.dataIndex.push(w.getRawIndex(o)),"inBrush"):"outOfBrush"}:function(v){return checkInRange(o,x,w,v)?(_.dataIndex.push(w.getRawIndex(v)),"inBrush"):"outOfBrush"};(linkOthers(v)?X:brushed(x))&&applyVisual(f5,en,w,T)})}),dispatchAction(v,x,w,T,_)}function dispatchAction(o,v,_,x,w){if(w){var T=o.getZr();T[f4]||(T[f3]||(T[f3]=doDispatch),createOrUpdate(T,f3,_,v)(o,x))}}function doDispatch(o,v){if(!o.isDisposed()){var _=o.getZr();_[f4]=!0,o.dispatchAction({type:"brushSelect",batch:v}),_[f4]=!1}}function checkInRange(o,v,_,x){for(var w=0,T=v.length;w<T;w++){var L=v[w];if(o.brushSelector(x,_,L.selectors,L))return!0}}function brushModelNotControll(o,v){var _=o.option.seriesIndex;return null!=_&&"all"!==_&&(util_isArray(_)?0>indexOf(_,v):v!==_)}var f7={rect:function(o){return getBoundingRectFromMinMax(o.range)},polygon:function(o){for(var v,_=o.range,x=0,w=_.length;x<w;x++){v=v||[[1/0,-1/0],[1/0,-1/0]];var T=_[x];T[0]<v[0][0]&&(v[0][0]=T[0]),T[0]>v[0][1]&&(v[0][1]=T[0]),T[1]<v[1][0]&&(v[1][0]=T[1]),T[1]>v[1][1]&&(v[1][1]=T[1])}return v&&getBoundingRectFromMinMax(v)}};function getBoundingRectFromMinMax(o){return new tS(o[0][0],o[1][0],o[0][1]-o[0][0],o[1][1]-o[1][0])}var f6=function(o){function BrushView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=BrushView.type,v}return __extends(BrushView,o),BrushView.prototype.init=function(o,v){this.ecModel=o,this.api=v,this.model,(this._brushController=new d2(v.getZr())).on("brush",e2(this._onBrush,this)).mount()},BrushView.prototype.render=function(o,v,_,x){this.model=o,this._updateController(o,v,_,x)},BrushView.prototype.updateTransform=function(o,v,_,x){layoutCovers(v),this._updateController(o,v,_,x)},BrushView.prototype.updateVisual=function(o,v,_,x){this.updateTransform(o,v,_,x)},BrushView.prototype.updateView=function(o,v,_,x){this._updateController(o,v,_,x)},BrushView.prototype._updateController=function(o,v,_,x){x&&x.$from===o.id||this._brushController.setPanels(o.brushTargetManager.makePanelOpts(_)).enableBrush(o.brushOption).updateCovers(o.areas.slice())},BrushView.prototype.dispose=function(){this._brushController.dispose()},BrushView.prototype._onBrush=function(o){var v=this.model.id,_=this.model.brushTargetManager.setOutputRanges(o.areas,this.ecModel);(!o.isEnd||o.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:v,areas:clone(_),$from:v}),o.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:v,areas:clone(_),$from:v})},BrushView.type="brush",BrushView}(ax),f9=function(o){function BrushModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=BrushModel.type,v.areas=[],v.brushOption={},v}return __extends(BrushModel,o),BrushModel.prototype.optionUpdated=function(o,v){var _=this.option;v||replaceVisualOption(_,o,["inBrush","outOfBrush"]);var x=_.inBrush=_.inBrush||{};_.outOfBrush=_.outOfBrush||{color:"#ddd"},x.hasOwnProperty("liftZ")||(x.liftZ=5)},BrushModel.prototype.setAreas=function(o){o&&(this.areas=map(o,function(o){return generateBrushOption(this.option,o)},this))},BrushModel.prototype.setBrushOption=function(o){this.brushOption=generateBrushOption(this.option,o),this.brushType=this.brushOption.brushType},BrushModel.type="brush",BrushModel.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],BrushModel.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},BrushModel}(ix);function generateBrushOption(o,v){return merge({brushType:o.brushType,brushMode:o.brushMode,transformable:o.transformable,brushStyle:new ii(o.brushStyle).getItemStyle(),removeOnClick:o.removeOnClick,z:o.z},v,!0)}var f8=["rect","polygon","lineX","lineY","keep","clear"],gr=function(o){function BrushFeature(){return null!==o&&o.apply(this,arguments)||this}return __extends(BrushFeature,o),BrushFeature.prototype.render=function(o,v,_){var x,w,T;v.eachComponent({mainType:"brush"},function(o){x=o.brushType,w=o.brushOption.brushMode||"single",T=T||!!o.areas.length}),this._brushType=x,this._brushMode=w,util_each(o.get("type",!0),function(v){o.setIconStatus(v,("keep"===v?"multiple"===w:"clear"===v?T:v===x)?"emphasis":"normal")})},BrushFeature.prototype.updateView=function(o,v,_){this.render(o,v,_)},BrushFeature.prototype.getIcons=function(){var o=this.model,v=o.get("icon",!0),_={};return util_each(o.get("type",!0),function(o){v[o]&&(_[o]=v[o])}),_},BrushFeature.prototype.onclick=function(o,v,_){var x=this._brushType,w=this._brushMode;"clear"===_?(v.dispatchAction({type:"axisAreaSelect",intervals:[]}),v.dispatchAction({type:"brush",command:"clear",areas:[]})):v.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===_?x:x!==_&&_,brushMode:"keep"===_?"multiple"===w?"single":"multiple":w}})},BrushFeature.getDefaultOption=function(o){return{show:!0,type:f8.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:o.getLocaleModel().get(["toolbox","brush","title"])}},BrushFeature}(ToolboxFeature);function brush_install_install(o){o.registerComponentView(f6),o.registerComponentModel(f9),o.registerPreprocessor(brushPreprocessor),o.registerVisual(o.PRIORITY.VISUAL.BRUSH,brushVisual),o.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(o,v){v.eachComponent({mainType:"brush",query:o},function(v){v.setAreas(o.areas)})}),o.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),o.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),fb.brush=gr}var gi=function(o){function TitleModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=TitleModel.type,v.layoutMode={type:"box",ignoreSize:!0},v}return __extends(TitleModel,o),TitleModel.type="title",TitleModel.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},TitleModel}(ix),ga=function(o){function TitleView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=TitleView.type,v}return __extends(TitleView,o),TitleView.prototype.render=function(o,v,_){if(this.group.removeAll(),o.get("show")){var x=this.group,w=o.getModel("textStyle"),T=o.getModel("subtextStyle"),L=o.get("textAlign"),N=retrieve2(o.get("textBaseline"),o.get("textVerticalAlign")),B=new rR({style:createTextStyle(w,{text:o.get("text"),fill:w.getTextColor()},{disableBox:!0}),z2:10}),H=B.getBoundingRect(),Y=o.get("subtext"),Z=new rR({style:createTextStyle(T,{text:Y,fill:T.getTextColor(),y:H.height+o.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),X=o.get("link"),et=o.get("sublink"),en=o.get("triggerEvent",!0);B.silent=!X&&!en,Z.silent=!et&&!en,X&&B.on("click",function(){windowOpen(X,"_"+o.get("target"))}),et&&Z.on("click",function(){windowOpen(et,"_"+o.get("subtarget"))}),rN(B).eventData=rN(Z).eventData=en?{componentType:"title",componentIndex:o.componentIndex}:null,x.add(B),Y&&x.add(Z);var er=x.getBoundingRect(),ei=o.getBoxLayoutParams();ei.width=er.width,ei.height=er.height;var ea=getLayoutRect(ei,{width:_.getWidth(),height:_.getHeight()},o.get("padding"));L||("middle"===(L=o.get("left")||o.get("right"))&&(L="center"),"right"===L?ea.x+=ea.width:"center"!==L||(ea.x+=ea.width/2)),N||("center"===(N=o.get("top")||o.get("bottom"))&&(N="middle"),"bottom"===N?ea.y+=ea.height:"middle"===N&&(ea.y+=ea.height/2),N=N||"top"),x.x=ea.x,x.y=ea.y,x.markRedraw();var eo={align:L,verticalAlign:N};B.setStyle(eo),Z.setStyle(eo),er=x.getBoundingRect();var el=ea.margin,eu=o.getItemStyle(["color","opacity"]);eu.fill=o.get("backgroundColor");var ec=new rI({shape:{x:er.x-el[3],y:er.y-el[0],width:er.width+el[1]+el[3],height:er.height+el[0]+el[2],r:o.get("borderRadius")},style:eu,subPixelOptimize:!0,silent:!0});x.add(ec)}},TitleView.type="title",TitleView}(ax);function title_install_install(o){o.registerComponentModel(gi),o.registerComponentView(ga)}var go=function(o){function TimelineModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=TimelineModel.type,v.layoutMode="box",v}return __extends(TimelineModel,o),TimelineModel.prototype.init=function(o,v,_){this.mergeDefaultAndTheme(o,_),this._initData()},TimelineModel.prototype.mergeOption=function(v){o.prototype.mergeOption.apply(this,arguments),this._initData()},TimelineModel.prototype.setCurrentIndex=function(o){null==o&&(o=this.option.currentIndex);var v=this._data.count();this.option.loop?o=(o%v+v)%v:(o>=v&&(o=v-1),o<0&&(o=0)),this.option.currentIndex=o},TimelineModel.prototype.getCurrentIndex=function(){return this.option.currentIndex},TimelineModel.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},TimelineModel.prototype.setPlayState=function(o){this.option.autoPlay=!!o},TimelineModel.prototype.getPlayState=function(){return!!this.option.autoPlay},TimelineModel.prototype._initData=function(){var o,v=this.option,_=v.data||[],x=v.axisType,w=this._names=[];"category"===x?(o=[],util_each(_,function(v,_){var x,T=convertOptionIdName(getDataItemValue(v),"");util_isObject(v)?(x=clone(v)).value=_:x=_,o.push(x),w.push(T)})):o=_,(this._data=new lh([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[x]||"number"}],this)).initData(o,w)},TimelineModel.prototype.getData=function(){return this._data},TimelineModel.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},TimelineModel.type="timeline",TimelineModel.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},TimelineModel}(ix),gs=function(o){function SliderTimelineModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SliderTimelineModel.type,v}return __extends(SliderTimelineModel,o),SliderTimelineModel.type="timeline.slider",SliderTimelineModel.defaultOption=inheritDefaultOption(go.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),SliderTimelineModel}(go);mixin(gs,i3.prototype);var gl=function(o){function TimelineView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=TimelineView.type,v}return __extends(TimelineView,o),TimelineView.type="timeline",TimelineView}(ax),gu=function(o){function TimelineAxis(v,_,x,w){var T=o.call(this,v,_,x)||this;return T.type=w||"value",T}return __extends(TimelineAxis,o),TimelineAxis.prototype.getLabelModel=function(){return this.model.getModel("label")},TimelineAxis.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},TimelineAxis}(uC),gc=Math.PI,gd=makeInner(),gh=function(o){function SliderTimelineView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SliderTimelineView.type,v}return __extends(SliderTimelineView,o),SliderTimelineView.prototype.init=function(o,v){this.api=v},SliderTimelineView.prototype.render=function(o,v,_){if(this.model=o,this.api=_,this.ecModel=v,this.group.removeAll(),o.get("show",!0)){var x=this._layout(o,_),w=this._createGroup("_mainGroup"),T=this._createGroup("_labelGroup"),L=this._axis=this._createAxis(x,o);o.formatTooltip=function(o){return createTooltipMarkup("nameValue",{noName:!0,value:L.scale.getLabel({value:o})})},util_each(["AxisLine","AxisTick","Control","CurrentPointer"],function(v){this["_render"+v](x,w,L,o)},this),this._renderAxisLabel(x,T,L,o),this._position(x,o)}this._doPlayStop(),this._updateTicksStatus()},SliderTimelineView.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},SliderTimelineView.prototype.dispose=function(){this._clearTimer()},SliderTimelineView.prototype._layout=function(o,v){var _,x,w,T,L=o.get(["label","position"]),N=o.get("orient"),B=SliderTimelineView_getViewRect(o,v),H={horizontal:"center",vertical:(_=null==L||"auto"===L?"horizontal"===N?B.y+B.height/2<v.getHeight()/2?"-":"+":B.x+B.width/2<v.getWidth()/2?"+":"-":util_isString(L)?({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[N][L]:L)>=0||"+"===_?"left":"right"},Y="vertical"===N?B.height:B.width,Z=o.getModel("controlStyle"),X=Z.get("show",!0),et=X?Z.get("itemSize"):0,en=X?Z.get("itemGap"):0,er=et+en,ei=o.get(["label","rotate"])||0;ei=ei*gc/180;var ea=Z.get("position",!0),eo=X&&Z.get("showPlayBtn",!0),el=X&&Z.get("showPrevBtn",!0),eu=X&&Z.get("showNextBtn",!0),ec=0,ed=Y;"left"===ea||"bottom"===ea?(eo&&(x=[0,0],ec+=er),el&&(w=[ec,0],ec+=er)):(eo&&(x=[ed-et,0],ed-=er),el&&(w=[0,0],ec+=er)),eu&&(T=[ed-et,0],ed-=er);var eh=[ec,ed];return o.get("inverse")&&eh.reverse(),{viewRect:B,mainLength:Y,orient:N,rotation:({horizontal:0,vertical:gc/2})[N],labelRotation:ei,labelPosOpt:_,labelAlign:o.get(["label","align"])||H[N],labelBaseline:o.get(["label","verticalAlign"])||o.get(["label","baseline"])||({horizontal:_>=0||"+"===_?"top":"bottom",vertical:"middle"})[N],playPosition:x,prevBtnPosition:w,nextBtnPosition:T,axisExtent:eh,controlSize:et,controlGap:en}},SliderTimelineView.prototype._position=function(o,v){var _=this._mainGroup,x=this._labelGroup,w=o.viewRect;if("vertical"===o.orient){var T=matrix_create(),L=w.x,N=w.y+w.height;translate(T,T,[-L,-N]),rotate(T,T,-gc/2),translate(T,T,[L,N]),(w=w.clone()).applyTransform(T)}var B=getBound(w),H=getBound(_.getBoundingRect()),Y=getBound(x.getBoundingRect()),Z=[_.x,_.y],X=[x.x,x.y];X[0]=Z[0]=B[0][0];var et=o.labelPosOpt;if(null==et||util_isString(et)){var en="+"===et?0:1;toBound(Z,H,B,1,en),toBound(X,Y,B,1,1-en)}else{var en=et>=0?0:1;toBound(Z,H,B,1,en),X[1]=Z[1]+et}function setOrigin(o){o.originX=B[0][0]-o.x,o.originY=B[1][0]-o.y}function getBound(o){return[[o.x,o.x+o.width],[o.y,o.y+o.height]]}function toBound(o,v,_,x,w){o[x]+=_[x][w]-v[x][w]}_.setPosition(Z),x.setPosition(X),_.rotation=x.rotation=o.rotation,setOrigin(_),setOrigin(x)},SliderTimelineView.prototype._createAxis=function(o,v){var _=v.getData(),x=v.get("axisType"),w=SliderTimelineView_createScaleByModel(v,x);w.getTicks=function(){return _.mapArray(["value"],function(o){return{value:o}})};var T=_.getDataExtent("value");w.setExtent(T[0],T[1]),w.calcNiceTicks();var L=new gu("value",w,o.axisExtent,x);return L.model=v,L},SliderTimelineView.prototype._createGroup=function(o){var v=this[o]=new nm;return this.group.add(v),v},SliderTimelineView.prototype._renderAxisLine=function(o,v,_,x){var w=_.getExtent();if(x.get(["lineStyle","show"])){var T=new a3({shape:{x1:w[0],y1:0,x2:w[1],y2:0},style:extend({lineCap:"round"},x.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});v.add(T);var L=this._progressLine=new a3({shape:{x1:w[0],x2:this._currentPointer?this._currentPointer.x:w[0],y1:0,y2:0},style:util_defaults({lineCap:"round",lineWidth:T.style.lineWidth},x.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});v.add(L)}},SliderTimelineView.prototype._renderAxisTick=function(o,v,_,x){var w=this,T=x.getData(),L=_.scale.getTicks();this._tickSymbols=[],util_each(L,function(o){var L=_.dataToCoord(o.value),N=T.getItemModel(o.value),B=N.getModel("itemStyle"),H=N.getModel(["emphasis","itemStyle"]),Y=N.getModel(["progress","itemStyle"]),Z=giveSymbol(N,B,v,{x:L,y:0,onclick:e2(w._changeTimeline,w,o.value)});Z.ensureState("emphasis").style=H.getItemStyle(),Z.ensureState("progress").style=Y.getItemStyle(),enableHoverEmphasis(Z);var X=rN(Z);N.get("tooltip")?(X.dataIndex=o.value,X.dataModel=x):X.dataIndex=X.dataModel=null,w._tickSymbols.push(Z)})},SliderTimelineView.prototype._renderAxisLabel=function(o,v,_,x){var w=this;if(_.getLabelModel().get("show")){var T=x.getData(),L=_.getViewLabels();this._tickLabels=[],util_each(L,function(x){var L=x.tickValue,N=T.getItemModel(L),B=N.getModel("label"),H=N.getModel(["emphasis","label"]),Y=N.getModel(["progress","label"]),Z=new rR({x:_.dataToCoord(x.tickValue),y:0,rotation:o.labelRotation-o.rotation,onclick:e2(w._changeTimeline,w,L),silent:!1,style:createTextStyle(B,{text:x.formattedLabel,align:o.labelAlign,verticalAlign:o.labelBaseline})});Z.ensureState("emphasis").style=createTextStyle(H),Z.ensureState("progress").style=createTextStyle(Y),v.add(Z),enableHoverEmphasis(Z),gd(Z).dataIndex=L,w._tickLabels.push(Z)})}},SliderTimelineView.prototype._renderControl=function(o,v,_,x){var w=o.controlSize,T=o.rotation,L=x.getModel("controlStyle").getItemStyle(),N=x.getModel(["emphasis","controlStyle"]).getItemStyle(),B=x.getPlayState(),H=x.get("inverse",!0);function makeBtn(o,_,B,H){if(o){var Y=parsePercent(retrieve2(x.get(["controlStyle",_+"BtnSize"]),w),w),Z=makeControlIcon(x,_+"Icon",[0,-Y/2,Y,Y],{x:o[0],y:o[1],originX:w/2,originY:0,rotation:H?-T:0,rectHover:!0,style:L,onclick:B});Z.ensureState("emphasis").style=N,v.add(Z),enableHoverEmphasis(Z)}}makeBtn(o.nextBtnPosition,"next",e2(this._changeTimeline,this,H?"-":"+")),makeBtn(o.prevBtnPosition,"prev",e2(this._changeTimeline,this,H?"+":"-")),makeBtn(o.playPosition,B?"stop":"play",e2(this._handlePlayClick,this,!B),!0)},SliderTimelineView.prototype._renderCurrentPointer=function(o,v,_,x){var w=x.getData(),T=x.getCurrentIndex(),L=w.getItemModel(T).getModel("checkpointStyle"),N=this;this._currentPointer=giveSymbol(L,L,this._mainGroup,{},this._currentPointer,{onCreate:function(o){o.draggable=!0,o.drift=e2(N._handlePointerDrag,N),o.ondragend=e2(N._handlePointerDragend,N),pointerMoveTo(o,N._progressLine,T,_,x,!0)},onUpdate:function(o){pointerMoveTo(o,N._progressLine,T,_,x)}})},SliderTimelineView.prototype._handlePlayClick=function(o){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:o,from:this.uid})},SliderTimelineView.prototype._handlePointerDrag=function(o,v,_){this._clearTimer(),this._pointerChangeTimeline([_.offsetX,_.offsetY])},SliderTimelineView.prototype._handlePointerDragend=function(o){this._pointerChangeTimeline([o.offsetX,o.offsetY],!0)},SliderTimelineView.prototype._pointerChangeTimeline=function(o,v){var _=this._toAxisCoord(o)[0],x=asc(this._axis.getExtent().slice());_>x[1]&&(_=x[1]),_<x[0]&&(_=x[0]),this._currentPointer.x=_,this._currentPointer.markRedraw();var w=this._progressLine;w&&(w.shape.x2=_,w.dirty());var T=this._findNearestTick(_),L=this.model;(v||T!==L.getCurrentIndex()&&L.get("realtime"))&&this._changeTimeline(T)},SliderTimelineView.prototype._doPlayStop=function(){var o=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var v=o.model;o._changeTimeline(v.getCurrentIndex()+(v.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},SliderTimelineView.prototype._toAxisCoord=function(o){return graphic_applyTransform(o,this._mainGroup.getLocalTransform(),!0)},SliderTimelineView.prototype._findNearestTick=function(o){var v,_=this.model.getData(),x=1/0,w=this._axis;return _.each(["value"],function(_,T){var L=Math.abs(w.dataToCoord(_)-o);L<x&&(x=L,v=T)}),v},SliderTimelineView.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},SliderTimelineView.prototype._changeTimeline=function(o){var v=this.model.getCurrentIndex();"+"===o?o=v+1:"-"===o&&(o=v-1),this.api.dispatchAction({type:"timelineChange",currentIndex:o,from:this.uid})},SliderTimelineView.prototype._updateTicksStatus=function(){var o=this.model.getCurrentIndex(),v=this._tickSymbols,_=this._tickLabels;if(v)for(var x=0;x<v.length;x++)v&&v[x]&&v[x].toggleState("progress",x<o);if(_)for(var x=0;x<_.length;x++)_&&_[x]&&_[x].toggleState("progress",gd(_[x]).dataIndex<=o)},SliderTimelineView.type="timeline.slider",SliderTimelineView}(gl);function SliderTimelineView_createScaleByModel(o,v){if(v=v||o.get("type"))switch(v){case"category":return new un({ordinalMeta:o.getCategories(),extent:[1/0,-1/0]});case"time":return new ua({locale:o.ecModel.getLocaleModel(),useUTC:o.ecModel.get("useUTC")});default:return new ui}}function SliderTimelineView_getViewRect(o,v){return getLayoutRect(o.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()},o.get("padding"))}function makeControlIcon(o,v,_,x){var w=x.style,T=createIcon(o.get(["controlStyle",v]),x||{},new tS(_[0],_[1],_[2],_[3]));return w&&T.setStyle(w),T}function giveSymbol(o,v,_,x,w,T){var L=v.get("color");w?(w.setColor(L),_.add(w),T&&T.onUpdate(w)):((w=symbol_createSymbol(o.get("symbol"),-1,-1,2,2,L)).setStyle("strokeNoScale",!0),_.add(w),T&&T.onCreate(w));var N=v.getItemStyle(["color"]);w.setStyle(N),x=merge({rectHover:!0,z2:100},x,!0);var B=normalizeSymbolSize(o.get("symbolSize"));x.scaleX=B[0]/2,x.scaleY=B[1]/2;var H=normalizeSymbolOffset(o.get("symbolOffset"),B);H&&(x.x=(x.x||0)+H[0],x.y=(x.y||0)+H[1]);var Y=o.get("symbolRotate");return x.rotation=(Y||0)*Math.PI/180||0,w.attr(x),w.updateTransform(),w}function pointerMoveTo(o,v,_,x,w,T){if(!o.dragging){var L=w.getModel("checkpointStyle"),N=x.dataToCoord(w.getData().get("value",_));if(T||!L.get("animation",!0))o.attr({x:N,y:0}),v&&v.attr({shape:{x2:N}});else{var B={duration:L.get("animationDuration",!0),easing:L.get("animationEasing",!0)};o.stopAnimation(null,!0),o.animateTo({x:N,y:0},B),v&&v.animateTo({shape:{x2:N}},B)}}}function installTimelineAction(o){o.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(o,v,_){var x=v.getComponent("timeline");return x&&null!=o.currentIndex&&(x.setCurrentIndex(o.currentIndex),!x.get("loop",!0)&&x.isIndexMax()&&x.getPlayState()&&(x.setPlayState(!1),_.dispatchAction({type:"timelinePlayChange",playState:!1,from:o.from}))),v.resetOption("timeline",{replaceMerge:x.get("replaceMerge",!0)}),util_defaults({currentIndex:x.option.currentIndex},o)}),o.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(o,v){var _=v.getComponent("timeline");_&&null!=o.playState&&_.setPlayState(o.playState)})}function timelinePreprocessor(o){var v=o&&o.timeline;util_isArray(v)||(v=v?[v]:[]),util_each(v,function(o){o&&compatibleEC2(o)})}function compatibleEC2(o){var v=o.type,_={number:"value",time:"time"};if(_[v]&&(o.axisType=_[v],delete o.type),transferItem(o),has(o,"controlPosition")){var x=o.controlStyle||(o.controlStyle={});has(x,"position")||(x.position=o.controlPosition),"none"!==x.position||has(x,"show")||(x.show=!1,delete x.position),delete o.controlPosition}util_each(o.data||[],function(o){util_isObject(o)&&!util_isArray(o)&&(!has(o,"value")&&has(o,"name")&&(o.value=o.name),transferItem(o))})}function transferItem(o){var v=o.itemStyle||(o.itemStyle={}),_=v.emphasis||(v.emphasis={}),x=o.label||o.label||{},w=x.normal||(x.normal={}),T={normal:1,emphasis:1};util_each(x,function(o,v){T[v]||has(w,v)||(w[v]=o)}),_.label&&!has(x,"emphasis")&&(x.emphasis=_.label,delete _.label)}function has(o,v){return o.hasOwnProperty(v)}function timeline_install_install(o){o.registerComponentModel(gs),o.registerComponentView(gh),o.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(o),o.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(o,v){if(!o)return!1;for(var _=util_isArray(o)?o:[o],x=0;x<_.length;x++)if(_[x]&&_[x][v])return!0;return!1}function fillLabel(o){defaultEmphasis(o,"label",["show"])}var gp=makeInner(),gf=function(o){function MarkerModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=MarkerModel.type,v.createdBySelf=!1,v}return __extends(MarkerModel,o),MarkerModel.prototype.init=function(o,v,_){this.mergeDefaultAndTheme(o,_),this._mergeOption(o,_,!1,!0)},MarkerModel.prototype.isAnimationEnabled=function(){if(eV.node)return!1;var o=this.__hostSeries;return this.getShallow("animation")&&o&&o.isAnimationEnabled()},MarkerModel.prototype.mergeOption=function(o,v){this._mergeOption(o,v,!1,!1)},MarkerModel.prototype._mergeOption=function(o,v,_,x){var w=this.mainType;_||v.eachSeries(function(o){var _=o.get(this.mainType,!0),T=gp(o)[w];if(!_||!_.data){gp(o)[w]=null;return}T?T._mergeOption(_,v,!0):(x&&fillLabel(_),util_each(_.data,function(o){o instanceof Array?(fillLabel(o[0]),fillLabel(o[1])):fillLabel(o)}),extend(T=this.createMarkerModelFromSeries(_,this,v),{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),T.__hostSeries=o),gp(o)[w]=T},this)},MarkerModel.prototype.formatTooltip=function(o,v,_){var x=this.getData(),w=this.getRawValue(o),T=x.getName(o);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:T,value:w,noName:!T,noValue:null==w})]})},MarkerModel.prototype.getData=function(){return this._data},MarkerModel.prototype.setData=function(o){this._data=o},MarkerModel.getMarkerModelFromSeries=function(o,v){return gp(o)[v]},MarkerModel.type="marker",MarkerModel.dependencies=["series","grid","polar","geo"],MarkerModel}(ix);mixin(gf,i3.prototype);var gg=function(o){function MarkPointModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=MarkPointModel.type,v}return __extends(MarkPointModel,o),MarkPointModel.prototype.createMarkerModelFromSeries=function(o,v,_){return new MarkPointModel(o,v,_)},MarkPointModel.type="markPoint",MarkPointModel.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},MarkPointModel}(gf);function hasXOrY(o){return!(isNaN(parseFloat(o.x))&&isNaN(parseFloat(o.y)))}function hasXAndY(o){return!isNaN(parseFloat(o.x))&&!isNaN(parseFloat(o.y))}function markerTypeCalculatorWithExtent(o,v,_,x,w,T){var L=[],N=isDimensionStacked(v,x)?v.getCalculationInfo("stackResultDimension"):x,B=numCalculate(v,N,o),H=v.indicesOfNearest(N,B)[0];L[w]=v.get(_,H),L[T]=v.get(N,H);var Y=v.get(x,H),Z=getPrecision(v.get(x,H));return(Z=Math.min(Z,20))>=0&&(L[T]=+L[T].toFixed(Z)),[L,Y]}var gm={min:curry(markerTypeCalculatorWithExtent,"min"),max:curry(markerTypeCalculatorWithExtent,"max"),average:curry(markerTypeCalculatorWithExtent,"average"),median:curry(markerTypeCalculatorWithExtent,"median")};function dataTransform(o,v){if(v){var _=o.getData(),x=o.coordinateSystem,w=x&&x.dimensions;if(!hasXAndY(v)&&!util_isArray(v.coord)&&util_isArray(w)){var T=markerHelper_getAxisInfo(v,_,x,o);if((v=clone(v)).type&&gm[v.type]&&T.baseAxis&&T.valueAxis){var L=indexOf(w,T.baseAxis.dim),N=indexOf(w,T.valueAxis.dim),B=gm[v.type](_,T.baseDataDim,T.valueDataDim,L,N);v.coord=B[0],v.value=B[1]}else v.coord=[null!=v.xAxis?v.xAxis:v.radiusAxis,null!=v.yAxis?v.yAxis:v.angleAxis]}if(null!=v.coord&&util_isArray(w))for(var H=v.coord,Y=0;Y<2;Y++)gm[H[Y]]&&(H[Y]=numCalculate(_,_.mapDimension(w[Y]),H[Y]));else v.coord=[];return v}}function markerHelper_getAxisInfo(o,v,_,x){var w={};return null!=o.valueIndex||null!=o.valueDim?(w.valueDataDim=null!=o.valueIndex?v.getDimension(o.valueIndex):o.valueDim,w.valueAxis=_.getAxis(dataDimToCoordDim(x,w.valueDataDim)),w.baseAxis=_.getOtherAxis(w.valueAxis),w.baseDataDim=v.mapDimension(w.baseAxis.dim)):(w.baseAxis=x.getBaseAxis(),w.valueAxis=_.getOtherAxis(w.baseAxis),w.baseDataDim=v.mapDimension(w.baseAxis.dim),w.valueDataDim=v.mapDimension(w.valueAxis.dim)),w}function dataDimToCoordDim(o,v){var _=o.getData().getDimensionInfo(v);return _&&_.coordDim}function markerHelper_dataFilter(o,v){return!o||!o.containData||!v.coord||!!hasXOrY(v)||o.containData(v.coord)}function zoneFilter(o,v,_){return!o||!o.containZone||!v.coord||!_.coord||!!hasXOrY(v)||!!hasXOrY(_)||o.containZone(v.coord,_.coord)}function createMarkerDimValueGetter(o,v){return o?function(o,_,x,w){return parseDataValue(w<2?o.coord&&o.coord[w]:o.value,v[w])}:function(o,_,x,w){return parseDataValue(o.value,v[w])}}function numCalculate(o,v,_){if("average"===_){var x=0,w=0;return o.each(v,function(o,v){!isNaN(o)&&(x+=o,w++)}),x/w}return"median"===_?o.getMedian(v):o.getDataExtent(v)["max"===_?1:0]}var gy=makeInner(),gv=function(o){function MarkerView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=MarkerView.type,v}return __extends(MarkerView,o),MarkerView.prototype.init=function(){this.markerGroupMap=createHashMap()},MarkerView.prototype.render=function(o,v,_){var x=this,w=this.markerGroupMap;w.each(function(o){gy(o).keep=!1}),v.eachSeries(function(o){var w=gf.getMarkerModelFromSeries(o,x.type);w&&x.renderSeries(o,w,v,_)}),w.each(function(o){gy(o).keep||x.group.remove(o.group)})},MarkerView.prototype.markKeep=function(o){gy(o).keep=!0},MarkerView.prototype.toggleBlurSeries=function(o,v){var _=this;util_each(o,function(o){var x=gf.getMarkerModelFromSeries(o,_.type);x&&x.getData().eachItemGraphicEl(function(o){o&&(v?traverseUpdateState(o,singleEnterBlur):traverseUpdateState(o,singleLeaveBlur))})})},MarkerView.type="marker",MarkerView}(ax);function updateMarkerLayout(o,v,_){var x=v.coordinateSystem;o.each(function(w){var T,L=o.getItemModel(w),N=number_parsePercent(L.get("x"),_.getWidth()),B=number_parsePercent(L.get("y"),_.getHeight());if(isNaN(N)||isNaN(B)){if(v.getMarkerPosition)T=v.getMarkerPosition(o.getValues(o.dimensions,w));else if(x){var H=o.get(x.dimensions[0],w),Y=o.get(x.dimensions[1],w);T=x.dataToPoint([H,Y])}}else T=[N,B];isNaN(N)||(T[0]=N),isNaN(B)||(T[1]=B),o.setItemLayout(w,T)})}var g_=function(o){function MarkPointView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=MarkPointView.type,v}return __extends(MarkPointView,o),MarkPointView.prototype.updateTransform=function(o,v,_){v.eachSeries(function(o){var v=gf.getMarkerModelFromSeries(o,"markPoint");v&&(updateMarkerLayout(v.getData(),o,_),this.markerGroupMap.get(o.id).updateLayout())},this)},MarkPointView.prototype.renderSeries=function(o,v,_,x){var w=o.coordinateSystem,T=o.id,L=o.getData(),N=this.markerGroupMap,B=N.get(T)||N.set(T,new lm),H=createData(w,o,v);v.setData(H),updateMarkerLayout(v.getData(),o,x),H.each(function(o){var _=H.getItemModel(o),x=_.getShallow("symbol"),w=_.getShallow("symbolSize"),T=_.getShallow("symbolRotate"),N=_.getShallow("symbolOffset"),B=_.getShallow("symbolKeepAspect");if(isFunction(x)||isFunction(w)||isFunction(T)||isFunction(N)){var Y=v.getRawValue(o),Z=v.getDataParams(o);isFunction(x)&&(x=x(Y,Z)),isFunction(w)&&(w=w(Y,Z)),isFunction(T)&&(T=T(Y,Z)),isFunction(N)&&(N=N(Y,Z))}var X=_.getModel("itemStyle").getItemStyle(),et=getVisualFromData(L,"color");X.fill||(X.fill=et),H.setItemVisual(o,{symbol:x,symbolSize:w,symbolRotate:T,symbolOffset:N,symbolKeepAspect:B,style:X})}),B.updateData(H),this.group.add(B.group),H.eachItemGraphicEl(function(o){o.traverse(function(o){rN(o).dataModel=v})}),this.markKeep(B),B.group.silent=v.get("silent")||o.get("silent")},MarkPointView.type="markPoint",MarkPointView}(gv);function createData(o,v,_){var x,w=new lh(x=o?map(o&&o.dimensions,function(o){return extend(extend({},v.getData().getDimensionInfo(v.getData().mapDimension(o))||{}),{name:o,ordinalMeta:null})}):[{name:"value",type:"float"}],_),T=map(_.get("data"),curry(dataTransform,v));o&&(T=filter(T,curry(markerHelper_dataFilter,o)));var L=createMarkerDimValueGetter(!!o,x);return w.initData(T,null,L),w}function installMarkPoint_install(o){o.registerComponentModel(gg),o.registerComponentView(g_),o.registerPreprocessor(function(o){checkMarkerInSeries(o.series,"markPoint")&&(o.markPoint=o.markPoint||{})})}var gb=function(o){function MarkLineModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=MarkLineModel.type,v}return __extends(MarkLineModel,o),MarkLineModel.prototype.createMarkerModelFromSeries=function(o,v,_){return new MarkLineModel(o,v,_)},MarkLineModel.type="markLine",MarkLineModel.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},MarkLineModel}(gf),gS=makeInner(),markLineTransform=function(o,v,_,x){var w,T=o.getData();if(util_isArray(x))w=x;else{var L=x.type;if("min"===L||"max"===L||"average"===L||"median"===L||null!=x.xAxis||null!=x.yAxis){var N=void 0,B=void 0;if(null!=x.yAxis||null!=x.xAxis)N=v.getAxis(null!=x.yAxis?"y":"x"),B=retrieve(x.yAxis,x.xAxis);else{var H=markerHelper_getAxisInfo(x,T,v,o);N=H.valueAxis;var Y=getStackedDimension(T,H.valueDataDim);B=numCalculate(T,Y,L)}var Z="x"===N.dim?0:1,X=1-Z,et=clone(x),en={coord:[]};et.type=null,et.coord=[],et.coord[X]=-1/0,en.coord[X]=1/0;var er=_.get("precision");er>=0&&isNumber(B)&&(B=+B.toFixed(Math.min(er,20))),et.coord[Z]=en.coord[Z]=B,w=[et,en,{type:L,valueIndex:x.valueIndex,value:B}]}else w=[]}var ei=[dataTransform(o,w[0]),dataTransform(o,w[1]),extend({},w[2])];return ei[2].type=ei[2].type||null,merge(ei[2],ei[0]),merge(ei[2],ei[1]),ei};function isInfinity(o){return!isNaN(o)&&!isFinite(o)}function ifMarkLineHasOnlyDim(o,v,_,x){var w=1-o,T=x.dimensions[o];return isInfinity(v[w])&&isInfinity(_[w])&&v[o]===_[o]&&x.getAxis(T).containData(v[o])}function markLineFilter(o,v){if("cartesian2d"===o.type){var _=v[0].coord,x=v[1].coord;if(_&&x&&(ifMarkLineHasOnlyDim(1,_,x,o)||ifMarkLineHasOnlyDim(0,_,x,o)))return!0}return markerHelper_dataFilter(o,v[0])&&markerHelper_dataFilter(o,v[1])}function updateSingleMarkerEndLayout(o,v,_,x,w){var T,L=x.coordinateSystem,N=o.getItemModel(v),B=number_parsePercent(N.get("x"),w.getWidth()),H=number_parsePercent(N.get("y"),w.getHeight());if(isNaN(B)||isNaN(H)){if(x.getMarkerPosition)T=x.getMarkerPosition(o.getValues(o.dimensions,v));else{var Y=L.dimensions,Z=o.get(Y[0],v),X=o.get(Y[1],v);T=L.dataToPoint([Z,X])}if(isCoordinateSystemType(L,"cartesian2d")){var et=L.getAxis("x"),en=L.getAxis("y"),Y=L.dimensions;isInfinity(o.get(Y[0],v))?T[0]=et.toGlobalCoord(et.getExtent()[_?0:1]):isInfinity(o.get(Y[1],v))&&(T[1]=en.toGlobalCoord(en.getExtent()[_?0:1]))}isNaN(B)||(T[0]=B),isNaN(H)||(T[1]=H)}else T=[B,H];o.setItemLayout(v,T)}var gx=function(o){function MarkLineView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=MarkLineView.type,v}return __extends(MarkLineView,o),MarkLineView.prototype.updateTransform=function(o,v,_){v.eachSeries(function(o){var v=gf.getMarkerModelFromSeries(o,"markLine");if(v){var x=v.getData(),w=gS(v).from,T=gS(v).to;w.each(function(v){updateSingleMarkerEndLayout(w,v,!0,o,_),updateSingleMarkerEndLayout(T,v,!1,o,_)}),x.each(function(o){x.setItemLayout(o,[w.getItemLayout(o),T.getItemLayout(o)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},MarkLineView.prototype.renderSeries=function(o,v,_,x){var w=o.coordinateSystem,T=o.id,L=o.getData(),N=this.markerGroupMap,B=N.get(T)||N.set(T,new dd);this.group.add(B.group);var H=createList(w,o,v),Y=H.from,Z=H.to,X=H.line;gS(v).from=Y,gS(v).to=Z,v.setData(X);var et=v.get("symbol"),en=v.get("symbolSize"),er=v.get("symbolRotate"),ei=v.get("symbolOffset");function updateDataVisualAndLayout(v,_,w){var T=v.getItemModel(_);updateSingleMarkerEndLayout(v,_,w,o,x);var N=T.getModel("itemStyle").getItemStyle();null==N.fill&&(N.fill=getVisualFromData(L,"color")),v.setItemVisual(_,{symbolKeepAspect:T.get("symbolKeepAspect"),symbolOffset:retrieve2(T.get("symbolOffset",!0),ei[w?0:1]),symbolRotate:retrieve2(T.get("symbolRotate",!0),er[w?0:1]),symbolSize:retrieve2(T.get("symbolSize"),en[w?0:1]),symbol:retrieve2(T.get("symbol",!0),et[w?0:1]),style:N})}util_isArray(et)||(et=[et,et]),util_isArray(en)||(en=[en,en]),util_isArray(er)||(er=[er,er]),util_isArray(ei)||(ei=[ei,ei]),H.from.each(function(o){updateDataVisualAndLayout(Y,o,!0),updateDataVisualAndLayout(Z,o,!1)}),X.each(function(o){var v=X.getItemModel(o).getModel("lineStyle").getLineStyle();X.setItemLayout(o,[Y.getItemLayout(o),Z.getItemLayout(o)]),null==v.stroke&&(v.stroke=Y.getItemVisual(o,"style").fill),X.setItemVisual(o,{fromSymbolKeepAspect:Y.getItemVisual(o,"symbolKeepAspect"),fromSymbolOffset:Y.getItemVisual(o,"symbolOffset"),fromSymbolRotate:Y.getItemVisual(o,"symbolRotate"),fromSymbolSize:Y.getItemVisual(o,"symbolSize"),fromSymbol:Y.getItemVisual(o,"symbol"),toSymbolKeepAspect:Z.getItemVisual(o,"symbolKeepAspect"),toSymbolOffset:Z.getItemVisual(o,"symbolOffset"),toSymbolRotate:Z.getItemVisual(o,"symbolRotate"),toSymbolSize:Z.getItemVisual(o,"symbolSize"),toSymbol:Z.getItemVisual(o,"symbol"),style:v})}),B.updateData(X),H.line.eachItemGraphicEl(function(o){rN(o).dataModel=v,o.traverse(function(o){rN(o).dataModel=v})}),this.markKeep(B),B.group.silent=v.get("silent")||o.get("silent")},MarkLineView.type="markLine",MarkLineView}(gv);function createList(o,v,_){var x,w=new lh(x=o?map(o&&o.dimensions,function(o){return extend(extend({},v.getData().getDimensionInfo(v.getData().mapDimension(o))||{}),{name:o,ordinalMeta:null})}):[{name:"value",type:"float"}],_),T=new lh(x,_),L=new lh([],_),N=map(_.get("data"),curry(markLineTransform,v,o,_));o&&(N=filter(N,curry(markLineFilter,o)));var B=createMarkerDimValueGetter(!!o,x);return w.initData(map(N,function(o){return o[0]}),null,B),T.initData(map(N,function(o){return o[1]}),null,B),L.initData(map(N,function(o){return o[2]})),L.hasItemOption=!0,{from:w,to:T,line:L}}function installMarkLine_install(o){o.registerComponentModel(gb),o.registerComponentView(gx),o.registerPreprocessor(function(o){checkMarkerInSeries(o.series,"markLine")&&(o.markLine=o.markLine||{})})}var gw=function(o){function MarkAreaModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=MarkAreaModel.type,v}return __extends(MarkAreaModel,o),MarkAreaModel.prototype.createMarkerModelFromSeries=function(o,v,_){return new MarkAreaModel(o,v,_)},MarkAreaModel.type="markArea",MarkAreaModel.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},MarkAreaModel}(gf),gC=makeInner(),markAreaTransform=function(o,v,_,x){var w=x[0],T=x[1];if(w&&T){var L=dataTransform(o,w),N=dataTransform(o,T),B=L.coord,H=N.coord;B[0]=retrieve(B[0],-1/0),B[1]=retrieve(B[1],-1/0),H[0]=retrieve(H[0],1/0),H[1]=retrieve(H[1],1/0);var Y=mergeAll([{},L,N]);return Y.coord=[L.coord,N.coord],Y.x0=L.x,Y.y0=L.y,Y.x1=N.x,Y.y1=N.y,Y}};function MarkAreaView_isInfinity(o){return!isNaN(o)&&!isFinite(o)}function ifMarkAreaHasOnlyDim(o,v,_,x){var w=1-o;return MarkAreaView_isInfinity(v[w])&&MarkAreaView_isInfinity(_[w])}function markAreaFilter(o,v){var _=v.coord[0],x=v.coord[1],w={coord:_,x:v.x0,y:v.y0},T={coord:x,x:v.x1,y:v.y1};return isCoordinateSystemType(o,"cartesian2d")?!!(_&&x&&(ifMarkAreaHasOnlyDim(1,_,x,o)||ifMarkAreaHasOnlyDim(0,_,x,o)))||zoneFilter(o,w,T):markerHelper_dataFilter(o,w)||markerHelper_dataFilter(o,T)}function getSingleMarkerEndPoint(o,v,_,x,w){var T,L=x.coordinateSystem,N=o.getItemModel(v),B=number_parsePercent(N.get(_[0]),w.getWidth()),H=number_parsePercent(N.get(_[1]),w.getHeight());if(isNaN(B)||isNaN(H)){if(x.getMarkerPosition){var Y=o.getValues(["x0","y0"],v),Z=o.getValues(["x1","y1"],v),X=L.clampData(Y),et=L.clampData(Z),en=[];"x0"===_[0]?en[0]=X[0]>et[0]?Z[0]:Y[0]:en[0]=X[0]>et[0]?Y[0]:Z[0],"y0"===_[1]?en[1]=X[1]>et[1]?Z[1]:Y[1]:en[1]=X[1]>et[1]?Y[1]:Z[1],T=x.getMarkerPosition(en,_,!0)}else{var er=o.get(_[0],v),ei=o.get(_[1],v),ea=[er,ei];L.clampData&&L.clampData(ea,ea),T=L.dataToPoint(ea,!0)}if(isCoordinateSystemType(L,"cartesian2d")){var eo=L.getAxis("x"),el=L.getAxis("y"),er=o.get(_[0],v),ei=o.get(_[1],v);MarkAreaView_isInfinity(er)?T[0]=eo.toGlobalCoord(eo.getExtent()["x0"===_[0]?0:1]):MarkAreaView_isInfinity(ei)&&(T[1]=el.toGlobalCoord(el.getExtent()["y0"===_[1]?0:1]))}isNaN(B)||(T[0]=B),isNaN(H)||(T[1]=H)}else T=[B,H];return T}var gT=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],gM=function(o){function MarkAreaView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=MarkAreaView.type,v}return __extends(MarkAreaView,o),MarkAreaView.prototype.updateTransform=function(o,v,_){v.eachSeries(function(o){var v=gf.getMarkerModelFromSeries(o,"markArea");if(v){var x=v.getData();x.each(function(v){var w=map(gT,function(w){return getSingleMarkerEndPoint(x,v,w,o,_)});x.setItemLayout(v,w),x.getItemGraphicEl(v).setShape("points",w)})}},this)},MarkAreaView.prototype.renderSeries=function(o,v,_,x){var w=o.coordinateSystem,T=o.id,L=o.getData(),N=this.markerGroupMap,B=N.get(T)||N.set(T,{group:new nm});this.group.add(B.group),this.markKeep(B);var H=MarkAreaView_createList(w,o,v);v.setData(H),H.each(function(v){var _=map(gT,function(_){return getSingleMarkerEndPoint(H,v,_,o,x)}),T=w.getAxis("x").scale,N=w.getAxis("y").scale,B=T.getExtent(),Y=N.getExtent(),Z=[T.parse(H.get("x0",v)),T.parse(H.get("x1",v))],X=[N.parse(H.get("y0",v)),N.parse(H.get("y1",v))];asc(Z),asc(X);var et=!(B[0]>Z[1]||B[1]<Z[0]||Y[0]>X[1]||Y[1]<X[0]);H.setItemLayout(v,{points:_,allClipped:!et});var en=H.getItemModel(v).getModel("itemStyle").getItemStyle(),er=getVisualFromData(L,"color");!en.fill&&(en.fill=er,util_isString(en.fill)&&(en.fill=modifyAlpha(en.fill,.4))),en.stroke||(en.stroke=er),H.setItemVisual(v,"style",en)}),H.diff(gC(B).data).add(function(o){var v=H.getItemLayout(o);if(!v.allClipped){var _=new aJ({shape:{points:v.points}});H.setItemGraphicEl(o,_),B.group.add(_)}}).update(function(o,_){var x=gC(B).data.getItemGraphicEl(_),w=H.getItemLayout(o);w.allClipped?x&&B.group.remove(x):(x?updateProps(x,{shape:{points:w.points}},v,o):x=new aJ({shape:{points:w.points}}),H.setItemGraphicEl(o,x),B.group.add(x))}).remove(function(o){var v=gC(B).data.getItemGraphicEl(o);B.group.remove(v)}).execute(),H.eachItemGraphicEl(function(o,_){var x=H.getItemModel(_),w=H.getItemVisual(_,"style");o.useStyle(H.getItemVisual(_,"style")),setLabelStyle(o,getLabelStatesModels(x),{labelFetcher:v,labelDataIndex:_,defaultText:H.getName(_)||"",inheritColor:util_isString(w.fill)?modifyAlpha(w.fill,1):"#000"}),setStatesStylesFromModel(o,x),toggleHoverEmphasis(o,null,null,x.get(["emphasis","disabled"])),rN(o).dataModel=v}),gC(B).data=H,B.group.silent=v.get("silent")||o.get("silent")},MarkAreaView.type="markArea",MarkAreaView}(gv);function MarkAreaView_createList(o,v,_){if(o){var x,w,T=map(o&&o.dimensions,function(o){var _=v.getData();return extend(extend({},_.getDimensionInfo(_.mapDimension(o))||{}),{name:o,ordinalMeta:null})});x=new lh(w=map(["x0","y0","x1","y1"],function(o,v){return{name:o,type:T[v%2].type}}),_)}else x=new lh(w=[{name:"value",type:"float"}],_);var L=map(_.get("data"),curry(markAreaTransform,v,o,_));o&&(L=filter(L,curry(markAreaFilter,o)));var N=o?function(o,v,_,x){return parseDataValue(o.coord[Math.floor(x/2)][x%2],w[x])}:function(o,v,_,x){return parseDataValue(o.value,w[x])};return x.initData(L,null,N),x.hasItemOption=!0,x}function installMarkArea_install(o){o.registerComponentModel(gw),o.registerComponentView(gM),o.registerPreprocessor(function(o){checkMarkerInSeries(o.series,"markArea")&&(o.markArea=o.markArea||{})})}var gP=function(o){function LegendModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=LegendModel.type,v.layoutMode={type:"box",ignoreSize:!0},v}return __extends(LegendModel,o),LegendModel.prototype.init=function(o,v,_){this.mergeDefaultAndTheme(o,_),o.selected=o.selected||{},this._updateSelector(o)},LegendModel.prototype.mergeOption=function(v,_){o.prototype.mergeOption.call(this,v,_),this._updateSelector(v)},LegendModel.prototype._updateSelector=function(o){var v=o.selector,_=this.ecModel;!0===v&&(v=o.selector=["all","inverse"]),util_isArray(v)&&util_each(v,function(o,x){var w;util_isString(o)&&(o={type:o}),v[x]=merge(o,"all"===(w=o.type)?{type:"all",title:_.getLocaleModel().get(["legend","selector","all"])}:"inverse"===w?{type:"inverse",title:_.getLocaleModel().get(["legend","selector","inverse"])}:void 0)})},LegendModel.prototype.optionUpdated=function(){this._updateData(this.ecModel);var o=this._data;if(o[0]&&"single"===this.get("selectedMode")){for(var v=!1,_=0;_<o.length;_++){var x=o[_].get("name");if(this.isSelected(x)){this.select(x),v=!0;break}}v||this.select(o[0].get("name"))}},LegendModel.prototype._updateData=function(o){var v=[],_=[];o.eachRawSeries(function(x){var w,T=x.name;if(_.push(T),x.legendVisualProvider){var L=x.legendVisualProvider.getAllNames();o.isSeriesFiltered(x)||(_=_.concat(L)),L.length?v=v.concat(L):w=!0}else w=!0;w&&isNameSpecified(x)&&v.push(x.name)}),this._availableNames=_;var x=this.get("data")||v,w=createHashMap(),T=map(x,function(o){return((util_isString(o)||isNumber(o))&&(o={name:o}),w.get(o.name))?null:(w.set(o.name,!0),new ii(o,this,this.ecModel))},this);this._data=filter(T,function(o){return!!o})},LegendModel.prototype.getData=function(){return this._data},LegendModel.prototype.select=function(o){var v=this.option.selected;"single"===this.get("selectedMode")&&util_each(this._data,function(o){v[o.get("name")]=!1}),v[o]=!0},LegendModel.prototype.unSelect=function(o){"single"!==this.get("selectedMode")&&(this.option.selected[o]=!1)},LegendModel.prototype.toggleSelected=function(o){var v=this.option.selected;v.hasOwnProperty(o)||(v[o]=!0),this[v[o]?"unSelect":"select"](o)},LegendModel.prototype.allSelect=function(){var o=this._data,v=this.option.selected;util_each(o,function(o){v[o.get("name",!0)]=!0})},LegendModel.prototype.inverseSelect=function(){var o=this._data,v=this.option.selected;util_each(o,function(o){var _=o.get("name",!0);v.hasOwnProperty(_)||(v[_]=!0),v[_]=!v[_]})},LegendModel.prototype.isSelected=function(o){var v=this.option.selected;return!(v.hasOwnProperty(o)&&!v[o])&&indexOf(this._availableNames,o)>=0},LegendModel.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},LegendModel.type="legend.plain",LegendModel.dependencies=["series"],LegendModel.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},LegendModel}(ix),gI=curry,gD=util_each,gE=function(o){function LegendView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=LegendView.type,v.newlineDisabled=!1,v}return __extends(LegendView,o),LegendView.prototype.init=function(){this.group.add(this._contentGroup=new nm),this.group.add(this._selectorGroup=new nm),this._isFirstRender=!0},LegendView.prototype.getContentGroup=function(){return this._contentGroup},LegendView.prototype.getSelectorGroup=function(){return this._selectorGroup},LegendView.prototype.render=function(o,v,_){var x=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),o.get("show",!0)){var w=o.get("align"),T=o.get("orient");w&&"auto"!==w||(w="right"===o.get("left")&&"vertical"===T?"right":"left");var L=o.get("selector",!0),N=o.get("selectorPosition",!0);L&&(!N||"auto"===N)&&(N="horizontal"===T?"end":"start"),this.renderInner(w,o,v,_,L,T,N);var B=o.getBoxLayoutParams(),H={width:_.getWidth(),height:_.getHeight()},Y=o.get("padding"),Z=getLayoutRect(B,H,Y),X=this.layoutInner(o,w,Z,x,L,N),et=getLayoutRect(util_defaults({width:X.width,height:X.height},B),H,Y);this.group.x=et.x-X.x,this.group.y=et.y-X.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(X,o))}},LegendView.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},LegendView.prototype.renderInner=function(o,v,_,x,w,T,L){var N=this.getContentGroup(),B=createHashMap(),H=v.get("selectedMode"),Y=[];_.eachRawSeries(function(o){o.get("legendHoverLink")||Y.push(o.id)}),gD(v.getData(),function(w,T){var L=w.get("name");if(!this.newlineDisabled&&(""===L||"\n"===L)){var Z=new nm;Z.newline=!0,N.add(Z);return}var X=_.getSeriesByName(L)[0];if(!B.get(L)){if(X){var et=X.getData(),en=et.getVisual("legendLineStyle")||{},er=et.getVisual("legendIcon"),ei=et.getVisual("style");this._createItem(X,L,T,w,v,o,en,ei,er,H,x).on("click",gI(dispatchSelectAction,L,null,x,Y)).on("mouseover",gI(dispatchHighlightAction,X.name,null,x,Y)).on("mouseout",gI(dispatchDownplayAction,X.name,null,x,Y)),B.set(L,!0)}else _.eachRawSeries(function(_){if(!B.get(L)&&_.legendVisualProvider){var N=_.legendVisualProvider;if(N.containName(L)){var Z=N.indexOfName(L),X=N.getItemVisual(Z,"style"),et=N.getItemVisual(Z,"legendIcon"),en=parse(X.fill);en&&0===en[3]&&(en[3]=.2,X=extend(extend({},X),{fill:stringify(en,"rgba")})),this._createItem(_,L,T,w,v,o,{},X,et,H,x).on("click",gI(dispatchSelectAction,null,L,x,Y)).on("mouseover",gI(dispatchHighlightAction,null,L,x,Y)).on("mouseout",gI(dispatchDownplayAction,null,L,x,Y)),B.set(L,!0)}}},this)}},this),w&&this._createSelector(w,v,x,T,L)},LegendView.prototype._createSelector=function(o,v,_,x,w){var T=this.getSelectorGroup();gD(o,function(o){var x=o.type,w=new rR({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){_.dispatchAction({type:"all"===x?"legendAllSelect":"legendInverseSelect"})}});T.add(w),setLabelStyle(w,{normal:v.getModel("selectorLabel"),emphasis:v.getModel(["emphasis","selectorLabel"])},{defaultText:o.title}),enableHoverEmphasis(w)})},LegendView.prototype._createItem=function(o,v,_,x,w,T,L,N,B,H,Y){var Z=o.visualDrawType,X=w.get("itemWidth"),et=w.get("itemHeight"),en=w.isSelected(v),er=x.get("symbolRotate"),ei=x.get("symbolKeepAspect"),ea=x.get("icon"),eo=getLegendStyle(B=ea||B||"roundRect",x,L,N,Z,en,Y),el=new nm,eu=x.getModel("textStyle");if(isFunction(o.getLegendIcon)&&(!ea||"inherit"===ea))el.add(o.getLegendIcon({itemWidth:X,itemHeight:et,icon:B,iconRotate:er,itemStyle:eo.itemStyle,lineStyle:eo.lineStyle,symbolKeepAspect:ei}));else{var ec="inherit"===ea&&o.getData().getVisual("symbol")?"inherit"===er?o.getData().getVisual("symbolRotate"):er:0;el.add(getDefaultLegendIcon({itemWidth:X,itemHeight:et,icon:B,iconRotate:ec,itemStyle:eo.itemStyle,lineStyle:eo.lineStyle,symbolKeepAspect:ei}))}var ed=w.get("formatter"),eh=v;util_isString(ed)&&ed?eh=ed.replace("{name}",null!=v?v:""):isFunction(ed)&&(eh=ed(v));var ep=en?eu.getTextColor():x.get("inactiveColor");el.add(new rR({style:createTextStyle(eu,{text:eh,x:"left"===T?X+5:-5,y:et/2,fill:ep,align:T,verticalAlign:"middle"},{inheritColor:ep})}));var ef=new rI({shape:el.getBoundingRect(),invisible:!0}),eg=x.getModel("tooltip");return eg.get("show")&&setTooltipConfig({el:ef,componentModel:w,itemName:v,itemTooltipOption:eg.option}),el.add(ef),el.eachChild(function(o){o.silent=!0}),ef.silent=!H,this.getContentGroup().add(el),enableHoverEmphasis(el),el.__legendDataIndex=_,el},LegendView.prototype.layoutInner=function(o,v,_,x,w,T){var L=this.getContentGroup(),N=this.getSelectorGroup();ib(o.get("orient"),L,o.get("itemGap"),_.width,_.height);var B=L.getBoundingRect(),H=[-B.x,-B.y];if(N.markRedraw(),L.markRedraw(),!w)return L.x=H[0],L.y=H[1],this.group.getBoundingRect();ib("horizontal",N,o.get("selectorItemGap",!0));var Y=N.getBoundingRect(),Z=[-Y.x,-Y.y],X=o.get("selectorButtonGap",!0),et=o.getOrient().index,en=0===et?"width":"height",er=0===et?"height":"width",ei=0===et?"y":"x";"end"===T?Z[et]+=B[en]+X:H[et]+=Y[en]+X,Z[1-et]+=B[er]/2-Y[er]/2,N.x=Z[0],N.y=Z[1],L.x=H[0],L.y=H[1];var ea={x:0,y:0};return ea[en]=B[en]+X+Y[en],ea[er]=Math.max(B[er],Y[er]),ea[ei]=Math.min(0,Y[ei]+Z[1-et]),ea},LegendView.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},LegendView.type="legend.plain",LegendView}(ax);function getLegendStyle(o,v,_,x,w,T,L){function handleCommonProps(o,v){"auto"===o.lineWidth&&(o.lineWidth=v.lineWidth>0?2:0),gD(o,function(_,x){"inherit"===o[x]&&(o[x]=v[x])})}var N=v.getModel("itemStyle"),B=N.getItemStyle(),H=0===o.lastIndexOf("empty",0)?"fill":"stroke",Y=N.getShallow("decal");B.decal=Y&&"inherit"!==Y?createOrUpdatePatternFromDecal(Y,L):x.decal,"inherit"===B.fill&&(B.fill=x[w]),"inherit"===B.stroke&&(B.stroke=x[H]),"inherit"===B.opacity&&(B.opacity=("fill"===w?x:_).opacity),handleCommonProps(B,x);var Z=v.getModel("lineStyle"),X=Z.getLineStyle();if(handleCommonProps(X,_),"auto"===B.fill&&(B.fill=x.fill),"auto"===B.stroke&&(B.stroke=x.fill),"auto"===X.stroke&&(X.stroke=x.fill),!T){var et=v.get("inactiveBorderWidth"),en=B[H];B.lineWidth="auto"===et?x.lineWidth>0&&en?2:0:B.lineWidth,B.fill=v.get("inactiveColor"),B.stroke=v.get("inactiveBorderColor"),X.stroke=Z.get("inactiveColor"),X.lineWidth=Z.get("inactiveWidth")}return{itemStyle:B,lineStyle:X}}function getDefaultLegendIcon(o){var v=o.icon||"roundRect",_=symbol_createSymbol(v,0,0,o.itemWidth,o.itemHeight,o.itemStyle.fill,o.symbolKeepAspect);return _.setStyle(o.itemStyle),_.rotation=(o.iconRotate||0)*Math.PI/180,_.setOrigin([o.itemWidth/2,o.itemHeight/2]),v.indexOf("empty")>-1&&(_.style.stroke=_.style.fill,_.style.fill="#fff",_.style.lineWidth=2),_}function dispatchSelectAction(o,v,_,x){dispatchDownplayAction(o,v,_,x),_.dispatchAction({type:"legendToggleSelect",name:null!=o?o:v}),dispatchHighlightAction(o,v,_,x)}function isUseHoverLayer(o){for(var v,_=o.getZr().storage.getDisplayList(),x=0,w=_.length;x<w&&!(v=_[x].states.emphasis);)x++;return v&&v.hoverLayer}function dispatchHighlightAction(o,v,_,x){isUseHoverLayer(_)||_.dispatchAction({type:"highlight",seriesName:o,name:v,excludeSeriesId:x})}function dispatchDownplayAction(o,v,_,x){isUseHoverLayer(_)||_.dispatchAction({type:"downplay",seriesName:o,name:v,excludeSeriesId:x})}function legendFilter(o){var v=o.findComponents({mainType:"legend"});v&&v.length&&o.filterSeries(function(o){for(var _=0;_<v.length;_++)if(!v[_].isSelected(o.name))return!1;return!0})}function legendSelectActionHandler(o,v,_){var x,w={},T="toggleSelected"===o;return _.eachComponent("legend",function(_){T&&null!=x?_[x?"select":"unSelect"](v.name):"allSelect"===o||"inverseSelect"===o?_[o]():(_[o](v.name),x=_.isSelected(v.name)),util_each(_.getData(),function(o){var v=o.get("name");if("\n"!==v&&""!==v){var x=_.isSelected(v);w.hasOwnProperty(v)?w[v]=w[v]&&x:w[v]=x}})}),"allSelect"===o||"inverseSelect"===o?{selected:w}:{name:v.name,selected:w}}function installLegendAction(o){o.registerAction("legendToggleSelect","legendselectchanged",curry(legendSelectActionHandler,"toggleSelected")),o.registerAction("legendAllSelect","legendselectall",curry(legendSelectActionHandler,"allSelect")),o.registerAction("legendInverseSelect","legendinverseselect",curry(legendSelectActionHandler,"inverseSelect")),o.registerAction("legendSelect","legendselected",curry(legendSelectActionHandler,"select")),o.registerAction("legendUnSelect","legendunselected",curry(legendSelectActionHandler,"unSelect"))}function installLegendPlain_install(o){o.registerComponentModel(gP),o.registerComponentView(gE),o.registerProcessor(o.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),o.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(o)}var gO=function(o){function ScrollableLegendModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ScrollableLegendModel.type,v}return __extends(ScrollableLegendModel,o),ScrollableLegendModel.prototype.setScrollDataIndex=function(o){this.option.scrollDataIndex=o},ScrollableLegendModel.prototype.init=function(v,_,x){var w=getLayoutParams(v);o.prototype.init.call(this,v,_,x),ScrollableLegendModel_mergeAndNormalizeLayoutParams(this,v,w)},ScrollableLegendModel.prototype.mergeOption=function(v,_){o.prototype.mergeOption.call(this,v,_),ScrollableLegendModel_mergeAndNormalizeLayoutParams(this,this.option,v)},ScrollableLegendModel.type="legend.scroll",ScrollableLegendModel.defaultOption=inheritDefaultOption(gP.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),ScrollableLegendModel}(gP);function ScrollableLegendModel_mergeAndNormalizeLayoutParams(o,v,_){var x=o.getOrient(),w=[1,1];w[x.index]=0,mergeLayoutParam(v,_,{type:"box",ignoreSize:!!w})}var gA=["width","height"],gk=["x","y"],gL=function(o){function ScrollableLegendView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ScrollableLegendView.type,v.newlineDisabled=!0,v._currentIndex=0,v}return __extends(ScrollableLegendView,o),ScrollableLegendView.prototype.init=function(){o.prototype.init.call(this),this.group.add(this._containerGroup=new nm),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new nm)},ScrollableLegendView.prototype.resetInner=function(){o.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},ScrollableLegendView.prototype.renderInner=function(v,_,x,w,T,L,N){var B=this;o.prototype.renderInner.call(this,v,_,x,w,T,L,N);var H=this._controllerGroup,Y=_.get("pageIconSize",!0),Z=util_isArray(Y)?Y:[Y,Y];createPageButton("pagePrev",0);var X=_.getModel("pageTextStyle");function createPageButton(o,v){var x=o+"DataIndex",T=createIcon(_.get("pageIcons",!0)[_.getOrient().name][v],{onclick:e2(B._pageGo,B,x,_,w)},{x:-Z[0]/2,y:-Z[1]/2,width:Z[0],height:Z[1]});T.name=o,H.add(T)}H.add(new rR({name:"pageText",style:{text:"xx/xx",fill:X.getTextColor(),font:X.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),createPageButton("pageNext",1)},ScrollableLegendView.prototype.layoutInner=function(o,v,_,x,w,T){var L=this.getSelectorGroup(),N=o.getOrient().index,B=gA[N],H=gk[N],Y=gA[1-N],Z=gk[1-N];w&&ib("horizontal",L,o.get("selectorItemGap",!0));var X=o.get("selectorButtonGap",!0),et=L.getBoundingRect(),en=[-et.x,-et.y],er=clone(_);w&&(er[B]=_[B]-et[B]-X);var ei=this._layoutContentAndController(o,x,er,N,B,Y,Z,H);if(w){if("end"===T)en[N]+=ei[B]+X;else{var ea=et[B]+X;en[N]-=ea,ei[H]-=ea}ei[B]+=et[B]+X,en[1-N]+=ei[Z]+ei[Y]/2-et[Y]/2,ei[Y]=Math.max(ei[Y],et[Y]),ei[Z]=Math.min(ei[Z],et[Z]+en[1-N]),L.x=en[0],L.y=en[1],L.markRedraw()}return ei},ScrollableLegendView.prototype._layoutContentAndController=function(o,v,_,x,w,T,L,N){var B=this.getContentGroup(),H=this._containerGroup,Y=this._controllerGroup;ib(o.get("orient"),B,o.get("itemGap"),x?_.width:null,x?null:_.height),ib("horizontal",Y,o.get("pageButtonItemGap",!0));var Z=B.getBoundingRect(),X=Y.getBoundingRect(),et=this._showController=Z[w]>_[w],en=[-Z.x,-Z.y];v||(en[x]=B[N]);var er=[0,0],ei=[-X.x,-X.y],ea=retrieve2(o.get("pageButtonGap",!0),o.get("itemGap",!0));et&&("end"===o.get("pageButtonPosition",!0)?ei[x]+=_[w]-X[w]:er[x]+=X[w]+ea),ei[1-x]+=Z[T]/2-X[T]/2,B.setPosition(en),H.setPosition(er),Y.setPosition(ei);var eo={x:0,y:0};if(eo[w]=et?_[w]:Z[w],eo[T]=Math.max(Z[T],X[T]),eo[L]=Math.min(0,X[L]+ei[1-x]),H.__rectSize=_[w],et){var el={x:0,y:0};el[w]=Math.max(_[w]-X[w]-ea,0),el[T]=eo[T],H.setClipPath(new rI({shape:el})),H.__rectSize=el[w]}else Y.eachChild(function(o){o.attr({invisible:!0,silent:!0})});var eu=this._getPageInfo(o);return null!=eu.pageIndex&&updateProps(B,{x:eu.contentPosition[0],y:eu.contentPosition[1]},et?o:null),this._updatePageInfoView(o,eu),eo},ScrollableLegendView.prototype._pageGo=function(o,v,_){var x=this._getPageInfo(v)[o];null!=x&&_.dispatchAction({type:"legendScroll",scrollDataIndex:x,legendId:v.id})},ScrollableLegendView.prototype._updatePageInfoView=function(o,v){var _=this._controllerGroup;util_each(["pagePrev","pageNext"],function(x){var w=null!=v[x+"DataIndex"],T=_.childOfName(x);T&&(T.setStyle("fill",w?o.get("pageIconColor",!0):o.get("pageIconInactiveColor",!0)),T.cursor=w?"pointer":"default")});var x=_.childOfName("pageText"),w=o.get("pageFormatter"),T=v.pageIndex,L=null!=T?T+1:0,N=v.pageCount;x&&w&&x.setStyle("text",util_isString(w)?w.replace("{current}",null==L?"":L+"").replace("{total}",null==N?"":N+""):w({current:L,total:N}))},ScrollableLegendView.prototype._getPageInfo=function(o){var v=o.get("scrollDataIndex",!0),_=this.getContentGroup(),x=this._containerGroup.__rectSize,w=o.getOrient().index,T=gA[w],L=gk[w],N=this._findTargetItemIndex(v),B=_.children(),H=B[N],Y=B.length,Z=Y?1:0,X={contentPosition:[_.x,_.y],pageCount:Z,pageIndex:Z-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!H)return X;var et=getItemInfo(H);X.contentPosition[w]=-et.s;for(var en=N+1,er=et,ei=et,ea=null;en<=Y;++en)(!(ea=getItemInfo(B[en]))&&ei.e>er.s+x||ea&&!intersect(ea,er.s))&&(er=ei.i>er.i?ei:ea)&&(null==X.pageNextDataIndex&&(X.pageNextDataIndex=er.i),++X.pageCount),ei=ea;for(var en=N-1,er=et,ei=et,ea=null;en>=-1;--en)(!(ea=getItemInfo(B[en]))||!intersect(ei,ea.s))&&er.i<ei.i&&(ei=er,null==X.pagePrevDataIndex&&(X.pagePrevDataIndex=er.i),++X.pageCount,++X.pageIndex),er=ea;return X;function getItemInfo(o){if(o){var v=o.getBoundingRect(),_=v[L]+o[L];return{s:_,e:_+v[T],i:o.__legendDataIndex}}}function intersect(o,v){return o.e>=v&&o.s<=v+x}},ScrollableLegendView.prototype._findTargetItemIndex=function(o){var v,_;return this._showController?(this.getContentGroup().eachChild(function(x,w){var T=x.__legendDataIndex;null==_&&null!=T&&(_=w),T===o&&(v=w)}),null!=v?v:_):0},ScrollableLegendView.type="legend.scroll",ScrollableLegendView}(gE);function installScrollableLegendAction(o){o.registerAction("legendScroll","legendscroll",function(o,v){var _=o.scrollDataIndex;null!=_&&v.eachComponent({mainType:"legend",subType:"scroll",query:o},function(o){o.setScrollDataIndex(_)})})}function installLegendScroll_install(o){use(installLegendPlain_install),o.registerComponentModel(gO),o.registerComponentView(gL),installScrollableLegendAction(o)}function legend_install_install(o){use(installLegendPlain_install),use(installLegendScroll_install)}var gR=function(o){function InsideZoomModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=InsideZoomModel.type,v}return __extends(InsideZoomModel,o),InsideZoomModel.type="dataZoom.inside",InsideZoomModel.defaultOption=inheritDefaultOption(fd.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),InsideZoomModel}(fd),gN=makeInner();function setViewInfoToCoordSysRecord(o,v,_){gN(o).coordSysRecordMap.each(function(o){var x=o.dataZoomInfoMap.get(v.uid);x&&(x.getRange=_)})}function disposeCoordSysRecordIfNeeded(o,v){for(var _=gN(o).coordSysRecordMap,x=_.keys(),w=0;w<x.length;w++){var T=x[w],L=_.get(T),N=L.dataZoomInfoMap;if(N){var B=v.uid;N.get(B)&&(N.removeKey(B),N.keys().length||disposeCoordSysRecord(_,L))}}}function disposeCoordSysRecord(o,v){if(v){o.removeKey(v.model.uid);var _=v.controller;_&&_.dispose()}}function createCoordSysRecord(o,v){var _={model:v,containsPoint:curry(containsPoint,v),dispatchAction:curry(roams_dispatchAction,o),dataZoomInfoMap:null,controller:null},x=_.controller=new u$(o.getZr());return util_each(["pan","zoom","scrollMove"],function(o){x.on(o,function(v){var x=[];_.dataZoomInfoMap.each(function(w){if(v.isAvailableBehavior(w.model.option)){var T=(w.getRange||{})[o],L=T&&T(w.dzReferCoordSysInfo,_.model.mainType,_.controller,v);!w.model.get("disabled",!0)&&L&&x.push({dataZoomId:w.model.id,start:L[0],end:L[1]})}}),x.length&&_.dispatchAction(x)})}),_}function roams_dispatchAction(o,v){o.isDisposed()||o.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:v})}function containsPoint(o,v,_,x){return o.coordinateSystem.containPoint([_,x])}function mergeControllerParams(o){var v,_="type_",x={type_true:2,type_move:1,type_false:0,type_undefined:-1},w=!0;return o.each(function(o){var T=o.model,L=!T.get("disabled",!0)&&(!T.get("zoomLock",!0)||"move");x[_+L]>x[_+v]&&(v=L),w=w&&T.get("preventDefaultMouseMove",!0)}),{controlType:v,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!w}}}function installDataZoomRoamProcessor(o){o.registerProcessor(o.PRIORITY.PROCESSOR.FILTER,function(o,v){var _=gN(v),x=_.coordSysRecordMap||(_.coordSysRecordMap=createHashMap());x.each(function(o){o.dataZoomInfoMap=null}),o.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){util_each(collectReferCoordSysModelInfo(o).infoList,function(_){var w=_.model.uid,T=x.get(w)||x.set(w,createCoordSysRecord(v,_.model));(T.dataZoomInfoMap||(T.dataZoomInfoMap=createHashMap())).set(o.uid,{dzReferCoordSysInfo:_,model:o,getRange:null})})}),x.each(function(o){var v,_=o.controller,w=o.dataZoomInfoMap;if(w){var T=w.keys()[0];null!=T&&(v=w.get(T))}if(!v){disposeCoordSysRecord(x,o);return}var L=mergeControllerParams(w);_.enable(L.controlType,L.opt),_.setPointerChecker(o.containsPoint),createOrUpdate(o,"dispatchAction",v.model.get("throttle",!0),"fixRate")})})}var gF=function(o){function InsideZoomView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type="dataZoom.inside",v}return __extends(InsideZoomView,o),InsideZoomView.prototype.render=function(v,_,x){if(o.prototype.render.apply(this,arguments),v.noTarget()){this._clear();return}this.range=v.getPercentRange(),setViewInfoToCoordSysRecord(x,v,{pan:e2(gV.pan,this),zoom:e2(gV.zoom,this),scrollMove:e2(gV.scrollMove,this)})},InsideZoomView.prototype.dispose=function(){this._clear(),o.prototype.dispose.apply(this,arguments)},InsideZoomView.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},InsideZoomView.type="dataZoom.inside",InsideZoomView}(fp),gV={zoom:function(o,v,_,x){var w=this.range,T=w.slice(),L=o.axisModels[0];if(L){var N=gB[v](null,[x.originX,x.originY],L,_,o),B=(N.signal>0?N.pixelStart+N.pixelLength-N.pixel:N.pixel-N.pixelStart)/N.pixelLength*(T[1]-T[0])+T[0],H=Math.max(1/x.scale,0);T[0]=(T[0]-B)*H+B,T[1]=(T[1]-B)*H+B;var Y=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,T,[0,100],0,Y.minSpan,Y.maxSpan),this.range=T,w[0]!==T[0]||w[1]!==T[1])return T}},pan:makeMover(function(o,v,_,x,w,T){var L=gB[x]([T.oldX,T.oldY],[T.newX,T.newY],v,w,_);return L.signal*(o[1]-o[0])*L.pixel/L.pixelLength}),scrollMove:makeMover(function(o,v,_,x,w,T){return gB[x]([0,0],[T.scrollDelta,T.scrollDelta],v,w,_).signal*(o[1]-o[0])*T.scrollDelta})};function makeMover(o){return function(v,_,x,w){var T=this.range,L=T.slice(),N=v.axisModels[0];if(N&&(sliderMove(o(L,N,v,_,x,w),L,[0,100],"all"),this.range=L,T[0]!==L[0]||T[1]!==L[1]))return L}}var gB={grid:function(o,v,_,x,w){var T=_.axis,L={},N=w.model.coordinateSystem.getRect();return o=o||[0,0],"x"===T.dim?(L.pixel=v[0]-o[0],L.pixelLength=N.width,L.pixelStart=N.x,L.signal=T.inverse?1:-1):(L.pixel=v[1]-o[1],L.pixelLength=N.height,L.pixelStart=N.y,L.signal=T.inverse?-1:1),L},polar:function(o,v,_,x,w){var T=_.axis,L={},N=w.model.coordinateSystem,B=N.getRadiusAxis().getExtent(),H=N.getAngleAxis().getExtent();return o=o?N.pointToCoord(o):[0,0],v=N.pointToCoord(v),"radiusAxis"===_.mainType?(L.pixel=v[0]-o[0],L.pixelLength=B[1]-B[0],L.pixelStart=B[0],L.signal=T.inverse?1:-1):(L.pixel=v[1]-o[1],L.pixelLength=H[1]-H[0],L.pixelStart=H[0],L.signal=T.inverse?-1:1),L},singleAxis:function(o,v,_,x,w){var T=_.axis,L=w.model.coordinateSystem.getRect(),N={};return o=o||[0,0],"horizontal"===T.orient?(N.pixel=v[0]-o[0],N.pixelLength=L.width,N.pixelStart=L.x,N.signal=T.inverse?1:-1):(N.pixel=v[1]-o[1],N.pixelLength=L.height,N.pixelStart=L.y,N.signal=T.inverse?-1:1),N}};function installDataZoomInside_install(o){installCommon(o),o.registerComponentModel(gR),o.registerComponentView(gF),installDataZoomRoamProcessor(o)}var gz=function(o){function SliderZoomModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SliderZoomModel.type,v}return __extends(SliderZoomModel,o),SliderZoomModel.type="dataZoom.slider",SliderZoomModel.layoutMode="box",SliderZoomModel.defaultOption=inheritDefaultOption(fd.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),SliderZoomModel}(fd),gj="horizontal",gH="vertical",gG=["line","bar","candlestick","scatter"],gU={easing:"cubicOut",duration:100,delay:0},gW=function(o){function SliderZoomView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=SliderZoomView.type,v._displayables={},v}return __extends(SliderZoomView,o),SliderZoomView.prototype.init=function(o,v){this.api=v,this._onBrush=e2(this._onBrush,this),this._onBrushEnd=e2(this._onBrushEnd,this)},SliderZoomView.prototype.render=function(v,_,x,w){if(o.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",v.get("throttle"),"fixRate"),this._orient=v.getOrient(),!1===v.get("show")){this.group.removeAll();return}if(v.noTarget()){this._clear(),this.group.removeAll();return}w&&"dataZoom"===w.type&&w.from===this.uid||this._buildView(),this._updateView()},SliderZoomView.prototype.dispose=function(){this._clear(),o.prototype.dispose.apply(this,arguments)},SliderZoomView.prototype._clear=function(){clear(this,"_dispatchZoomAction");var o=this.api.getZr();o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)},SliderZoomView.prototype._buildView=function(){var o=this.group;o.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var v=this._displayables.sliderGroup=new nm;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),o.add(v),this._positionGroup()},SliderZoomView.prototype._resetLocation=function(){var o=this.dataZoomModel,v=this.api,_=o.get("brushSelect"),x=this._findCoordRect(),w={width:v.getWidth(),height:v.getHeight()},T=this._orient===gj?{right:w.width-x.x-x.width,top:w.height-30-7-(_?7:0),width:x.width,height:30}:{right:7,top:x.y,width:30,height:x.height},L=getLayoutParams(o.option);util_each(["right","top","width","height"],function(o){"ph"===L[o]&&(L[o]=T[o])});var N=getLayoutRect(L,w);this._location={x:N.x,y:N.y},this._size=[N.width,N.height],this._orient===gH&&this._size.reverse()},SliderZoomView.prototype._positionGroup=function(){var o=this.group,v=this._location,_=this._orient,x=this.dataZoomModel.getFirstTargetAxisModel(),w=x&&x.get("inverse"),T=this._displayables.sliderGroup,L=(this._dataShadowInfo||{}).otherAxisInverse;T.attr(_!==gj||w?_===gj&&w?{scaleY:L?1:-1,scaleX:-1}:_!==gH||w?{scaleY:L?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:L?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:L?1:-1,scaleX:1});var N=o.getBoundingRect([T]);o.x=v.x-N.x,o.y=v.y-N.y,o.markRedraw()},SliderZoomView.prototype._getViewExtent=function(){return[0,this._size[0]]},SliderZoomView.prototype._renderBackground=function(){var o=this.dataZoomModel,v=this._size,_=this._displayables.sliderGroup,x=o.get("brushSelect");_.add(new rI({silent:!0,shape:{x:0,y:0,width:v[0],height:v[1]},style:{fill:o.get("backgroundColor")},z2:-40}));var w=new rI({shape:{x:0,y:0,width:v[0],height:v[1]},style:{fill:"transparent"},z2:0,onclick:e2(this._onClickPanel,this)}),T=this.api.getZr();x?(w.on("mousedown",this._onBrushStart,this),w.cursor="crosshair",T.on("mousemove",this._onBrush),T.on("mouseup",this._onBrushEnd)):(T.off("mousemove",this._onBrush),T.off("mouseup",this._onBrushEnd)),_.add(w)},SliderZoomView.prototype._renderDataShadow=function(){var o=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],o){var v=this._size,_=this._shadowSize||[],x=o.series,w=x.getRawData(),T=x.getShadowDim&&x.getShadowDim(),L=T&&w.getDimensionInfo(T)?x.getShadowDim():o.otherDim;if(null!=L){var N=this._shadowPolygonPts,B=this._shadowPolylinePts;if(w!==this._shadowData||L!==this._shadowDim||v[0]!==_[0]||v[1]!==_[1]){var H,Y=w.getDataExtent(L),Z=(Y[1]-Y[0])*.3;Y=[Y[0]-Z,Y[1]+Z];var X=[0,v[1]],et=[0,v[0]],en=[[v[0],0],[0,0]],er=[],ei=et[1]/(w.count()-1),ea=0,eo=Math.round(w.count()/v[0]);w.each([L],function(o,v){if(eo>0&&v%eo){ea+=ei;return}var _=null==o||isNaN(o)||""===o,x=_?0:linearMap(o,Y,X,!0);_&&!H&&v?(en.push([en[en.length-1][0],0]),er.push([er[er.length-1][0],0])):!_&&H&&(en.push([ea,0]),er.push([ea,0])),en.push([ea,x]),er.push([ea,x]),ea+=ei,H=_}),N=this._shadowPolygonPts=en,B=this._shadowPolylinePts=er}this._shadowData=w,this._shadowDim=L,this._shadowSize=[v[0],v[1]];for(var el=this.dataZoomModel,eu=0;eu<3;eu++){var ec=createDataShadowGroup(1===eu);this._displayables.sliderGroup.add(ec),this._displayables.dataShadowSegs.push(ec)}}}function createDataShadowGroup(o){var v=el.getModel(o?"selectedDataBackground":"dataBackground"),_=new nm,x=new aJ({shape:{points:N},segmentIgnoreThreshold:1,style:v.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),w=new a1({shape:{points:B},segmentIgnoreThreshold:1,style:v.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return _.add(x),_.add(w),_}},SliderZoomView.prototype._prepareDataShadowInfo=function(){var o,v=this.dataZoomModel,_=v.get("showDataShadow");if(!1!==_){var x=this.ecModel;return v.eachTargetAxis(function(w,T){util_each(v.getAxisProxy(w,T).getTargetSeriesModels(),function(v){if(!(o||!0!==_&&0>indexOf(gG,v.get("type")))){var L,N=x.getComponent(getAxisMainType(w),T).axis,B=getOtherDim(w),H=v.coordinateSystem;null!=B&&H.getOtherAxis&&(L=H.getOtherAxis(N).inverse),B=v.getData().mapDimension(B),o={thisAxis:N,series:v,thisDim:w,otherDim:B,otherAxisInverse:L}}},this)},this),o}},SliderZoomView.prototype._renderHandle=function(){var o=this.group,v=this._displayables,_=v.handles=[null,null],x=v.handleLabels=[null,null],w=this._displayables.sliderGroup,T=this._size,L=this.dataZoomModel,N=this.api,B=L.get("borderRadius")||0,H=L.get("brushSelect"),Y=v.filler=new rI({silent:H,style:{fill:L.get("fillerColor")},textConfig:{position:"inside"}});w.add(Y),w.add(new rI({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:T[0],height:T[1],r:B},style:{stroke:L.get("dataBackgroundColor")||L.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),util_each([0,1],function(v){var T=L.get("handleIcon");!oX[T]&&0>T.indexOf("path://")&&0>T.indexOf("image://")&&(T="path://"+T);var N=symbol_createSymbol(T,-1,0,2,2,null,!0);N.attr({cursor:getCursor(this._orient),draggable:!0,drift:e2(this._onDragMove,this,v),ondragend:e2(this._onDragEnd,this),onmouseover:e2(this._showDataInfo,this,!0),onmouseout:e2(this._showDataInfo,this,!1),z2:5});var B=N.getBoundingRect(),H=L.get("handleSize");this._handleHeight=number_parsePercent(H,this._size[1]),this._handleWidth=B.width/B.height*this._handleHeight,N.setStyle(L.getModel("handleStyle").getItemStyle()),N.style.strokeNoScale=!0,N.rectHover=!0,N.ensureState("emphasis").style=L.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(N);var Y=L.get("handleColor");null!=Y&&(N.style.fill=Y),w.add(_[v]=N);var Z=L.getModel("textStyle");o.add(x[v]=new rR({silent:!0,invisible:!0,style:createTextStyle(Z,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:Z.getTextColor(),font:Z.getFont()}),z2:10}))},this);var Z=Y;if(H){var X=number_parsePercent(L.get("moveHandleSize"),T[1]),et=v.moveHandle=new rI({style:L.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:T[1]-.5,height:X}}),en=.8*X,er=v.moveHandleIcon=symbol_createSymbol(L.get("moveHandleIcon"),-en/2,-en/2,en,en,"#fff",!0);er.silent=!0,er.y=T[1]+X/2-.5,et.ensureState("emphasis").style=L.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var ei=Math.min(T[1]/2,Math.max(X,10));(Z=v.moveZone=new rI({invisible:!0,shape:{y:T[1]-ei,height:X+ei}})).on("mouseover",function(){N.enterEmphasis(et)}).on("mouseout",function(){N.leaveEmphasis(et)}),w.add(et),w.add(er),w.add(Z)}Z.attr({draggable:!0,cursor:getCursor(this._orient),drift:e2(this._onDragMove,this,"all"),ondragstart:e2(this._showDataInfo,this,!0),ondragend:e2(this._onDragEnd,this),onmouseover:e2(this._showDataInfo,this,!0),onmouseout:e2(this._showDataInfo,this,!1)})},SliderZoomView.prototype._resetInterval=function(){var o=this._range=this.dataZoomModel.getPercentRange(),v=this._getViewExtent();this._handleEnds=[linearMap(o[0],[0,100],v,!0),linearMap(o[1],[0,100],v,!0)]},SliderZoomView.prototype._updateInterval=function(o,v){var _=this.dataZoomModel,x=this._handleEnds,w=this._getViewExtent(),T=_.findRepresentativeAxisProxy().getMinMaxSpan(),L=[0,100];sliderMove(v,x,w,_.get("zoomLock")?"all":o,null!=T.minSpan?linearMap(T.minSpan,L,w,!0):null,null!=T.maxSpan?linearMap(T.maxSpan,L,w,!0):null);var N=this._range,B=this._range=asc([linearMap(x[0],w,L,!0),linearMap(x[1],w,L,!0)]);return!N||N[0]!==B[0]||N[1]!==B[1]},SliderZoomView.prototype._updateView=function(o){var v=this._displayables,_=this._handleEnds,x=asc(_.slice()),w=this._size;util_each([0,1],function(o){var x=v.handles[o],T=this._handleHeight;x.attr({scaleX:T/2,scaleY:T/2,x:_[o]+(o?-1:1),y:w[1]/2-T/2})},this),v.filler.setShape({x:x[0],y:0,width:x[1]-x[0],height:w[1]});var T={x:x[0],width:x[1]-x[0]};v.moveHandle&&(v.moveHandle.setShape(T),v.moveZone.setShape(T),v.moveZone.getBoundingRect(),v.moveHandleIcon&&v.moveHandleIcon.attr("x",T.x+T.width/2));for(var L=v.dataShadowSegs,N=[0,x[0],x[1],w[0]],B=0;B<L.length;B++){var H=L[B],Y=H.getClipPath();Y||(Y=new rI,H.setClipPath(Y)),Y.setShape({x:N[B],y:0,width:N[B+1]-N[B],height:w[1]})}this._updateDataInfo(o)},SliderZoomView.prototype._updateDataInfo=function(o){var v=this.dataZoomModel,_=this._displayables,x=_.handleLabels,w=this._orient,T=["",""];if(v.get("showDetail")){var L=v.findRepresentativeAxisProxy();if(L){var N=L.getAxisModel().axis,B=this._range,H=o?L.calculateDataWindow({start:B[0],end:B[1]}).valueWindow:L.getDataValueWindow();T=[this._formatLabel(H[0],N),this._formatLabel(H[1],N)]}}var Y=asc(this._handleEnds.slice());function setLabel(o){var v=getTransform(_.handles[o].parent,this.group),L=transformDirection(0===o?"right":"left",v),N=this._handleWidth/2+5,B=graphic_applyTransform([Y[o]+(0===o?-N:N),this._size[1]/2],v);x[o].setStyle({x:B[0],y:B[1],verticalAlign:w===gj?"middle":L,align:w===gj?L:"center",text:T[o]})}setLabel.call(this,0),setLabel.call(this,1)},SliderZoomView.prototype._formatLabel=function(o,v){var _=this.dataZoomModel,x=_.get("labelFormatter"),w=_.get("labelPrecision");(null==w||"auto"===w)&&(w=v.getPixelPrecision());var T=null==o||isNaN(o)?"":"category"===v.type||"time"===v.type?v.scale.getLabel({value:Math.round(o)}):o.toFixed(Math.min(w,20));return isFunction(x)?x(o,T):util_isString(x)?x.replace("{value}",T):T},SliderZoomView.prototype._showDataInfo=function(o){o=this._dragging||o;var v=this._displayables,_=v.handleLabels;_[0].attr("invisible",!o),_[1].attr("invisible",!o),v.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](v.moveHandle,1)},SliderZoomView.prototype._onDragMove=function(o,v,_,x){this._dragging=!0,stop(x.event);var w=graphic_applyTransform([v,_],this._displayables.sliderGroup.getLocalTransform(),!0),T=this._updateInterval(o,w[0]),L=this.dataZoomModel.get("realtime");this._updateView(!L),T&&L&&this._dispatchZoomAction(!0)},SliderZoomView.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction(!1)},SliderZoomView.prototype._onClickPanel=function(o){var v=this._size,_=this._displayables.sliderGroup.transformCoordToLocal(o.offsetX,o.offsetY);if(!(_[0]<0)&&!(_[0]>v[0])&&!(_[1]<0)&&!(_[1]>v[1])){var x=this._handleEnds,w=(x[0]+x[1])/2,T=this._updateInterval("all",_[0]-w);this._updateView(),T&&this._dispatchZoomAction(!1)}},SliderZoomView.prototype._onBrushStart=function(o){var v=o.offsetX,_=o.offsetY;this._brushStart=new th(v,_),this._brushing=!0,this._brushStartTime=+new Date},SliderZoomView.prototype._onBrushEnd=function(o){if(this._brushing){var v=this._displayables.brushRect;if(this._brushing=!1,v){v.attr("ignore",!0);var _=v.shape;if(!(+new Date-this._brushStartTime<200&&5>Math.abs(_.width))){var x=this._getViewExtent(),w=[0,100];this._range=asc([linearMap(_.x,x,w,!0),linearMap(_.x+_.width,x,w,!0)]),this._handleEnds=[_.x,_.x+_.width],this._updateView(),this._dispatchZoomAction(!1)}}}},SliderZoomView.prototype._onBrush=function(o){this._brushing&&(stop(o.event),this._updateBrushRect(o.offsetX,o.offsetY))},SliderZoomView.prototype._updateBrushRect=function(o,v){var _=this._displayables,x=this.dataZoomModel,w=_.brushRect;w||(w=_.brushRect=new rI({silent:!0,style:x.getModel("brushStyle").getItemStyle()}),_.sliderGroup.add(w)),w.attr("ignore",!1);var T=this._brushStart,L=this._displayables.sliderGroup,N=L.transformCoordToLocal(o,v),B=L.transformCoordToLocal(T.x,T.y),H=this._size;N[0]=Math.max(Math.min(H[0],N[0]),0),w.setShape({x:B[0],y:0,width:N[0]-B[0],height:H[1]})},SliderZoomView.prototype._dispatchZoomAction=function(o){var v=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:o?gU:null,start:v[0],end:v[1]})},SliderZoomView.prototype._findCoordRect=function(){var o,v=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!o&&v.length){var _=v[0].model.coordinateSystem;o=_.getRect&&_.getRect()}if(!o){var x=this.api.getWidth(),w=this.api.getHeight();o={x:.2*x,y:.2*w,width:.6*x,height:.6*w}}return o},SliderZoomView.type="dataZoom.slider",SliderZoomView}(fp);function getOtherDim(o){return({x:"y",y:"x",radius:"angle",angle:"radius"})[o]}function getCursor(o){return"vertical"===o?"ns-resize":"ew-resize"}function installDataZoomSlider_install(o){o.registerComponentModel(gz),o.registerComponentView(gW),installCommon(o)}function dataZoom_install_install(o){use(installDataZoomInside_install),use(installDataZoomSlider_install)}var gY={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},gK={get:function(o,v,_){var x=clone((gY[o]||{})[v]);return _&&util_isArray(x)?x[x.length-1]:x}},gZ=c$.mapVisual,gq=c$.eachVisual,gX=util_isArray,g$=util_each,gQ=asc,gJ=linearMap,g0=function(o){function VisualMapModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=VisualMapModel.type,v.stateList=["inRange","outOfRange"],v.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],v.layoutMode={type:"box",ignoreSize:!0},v.dataBound=[-1/0,1/0],v.targetVisuals={},v.controllerVisuals={},v}return __extends(VisualMapModel,o),VisualMapModel.prototype.init=function(o,v,_){this.mergeDefaultAndTheme(o,_)},VisualMapModel.prototype.optionUpdated=function(o,v){var _=this.option;v||replaceVisualOption(_,o,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},VisualMapModel.prototype.resetVisual=function(o){var v=this.stateList;o=e2(o,this),this.controllerVisuals=createVisualMappings(this.option.controller,v,o),this.targetVisuals=createVisualMappings(this.option.target,v,o)},VisualMapModel.prototype.getItemSymbol=function(){return null},VisualMapModel.prototype.getTargetSeriesIndices=function(){var o=this.option.seriesIndex,v=[];return null==o||"all"===o?this.ecModel.eachSeries(function(o,_){v.push(_)}):v=normalizeToArray(o),v},VisualMapModel.prototype.eachTargetSeries=function(o,v){util_each(this.getTargetSeriesIndices(),function(_){var x=this.ecModel.getSeriesByIndex(_);x&&o.call(v,x)},this)},VisualMapModel.prototype.isTargetSeries=function(o){var v=!1;return this.eachTargetSeries(function(_){_===o&&(v=!0)}),v},VisualMapModel.prototype.formatValueText=function(o,v,_){var x,w=this.option,T=w.precision,L=this.dataBound,N=w.formatter;_=_||["<",">"],util_isArray(o)&&(o=o.slice(),x=!0);var B=v?o:x?[toFixed(o[0]),toFixed(o[1])]:toFixed(o);if(util_isString(N))return N.replace("{value}",x?B[0]:B).replace("{value2}",x?B[1]:B);if(isFunction(N))return x?N(o[0],o[1]):N(o);if(!x)return B;return o[0]===L[0]?_[0]+" "+B[1]:o[1]===L[1]?_[1]+" "+B[0]:B[0]+" - "+B[1];function toFixed(o){return o===L[0]?"min":o===L[1]?"max":(+o).toFixed(Math.min(T,20))}},VisualMapModel.prototype.resetExtent=function(){var o=this.option,v=gQ([o.min,o.max]);this._dataExtent=v},VisualMapModel.prototype.getDataDimensionIndex=function(o){var v=this.option.dimension;if(null!=v)return o.getDimensionIndex(v);for(var _=o.dimensions,x=_.length-1;x>=0;x--){var w=_[x],T=o.getDimensionInfo(w);if(!T.isCalculationCoord)return T.storeDimIndex}},VisualMapModel.prototype.getExtent=function(){return this._dataExtent.slice()},VisualMapModel.prototype.completeVisualOption=function(){var o=this.ecModel,v=this.option,_={inRange:v.inRange,outOfRange:v.outOfRange},x=v.target||(v.target={}),w=v.controller||(v.controller={});merge(x,_),merge(w,_);var T=this.isCategory();function completeSingle(_){gX(v.color)&&!_.inRange&&(_.inRange={color:v.color.slice().reverse()}),_.inRange=_.inRange||{color:o.get("gradientColor")}}function completeInactive(o,v,_){var x=o[v],w=o[_];x&&!w&&(w=o[_]={},g$(x,function(o,v){if(c$.isValidType(v)){var _=gK.get(v,"inactive",T);null==_||(w[v]=_,"color"!==v||w.hasOwnProperty("opacity")||w.hasOwnProperty("colorAlpha")||(w.opacity=[0,0]))}}))}function completeController(o){var v=(o.inRange||{}).symbol||(o.outOfRange||{}).symbol,_=(o.inRange||{}).symbolSize||(o.outOfRange||{}).symbolSize,x=this.get("inactiveColor"),w=this.getItemSymbol()||"roundRect";g$(this.stateList,function(L){var N=this.itemSize,B=o[L];B||(B=o[L]={color:T?x:[x]}),null==B.symbol&&(B.symbol=v&&clone(v)||(T?w:[w])),null==B.symbolSize&&(B.symbolSize=_&&clone(_)||(T?N[0]:[N[0],N[0]])),B.symbol=gZ(B.symbol,function(o){return"none"===o?w:o});var H=B.symbolSize;if(null!=H){var Y=-1/0;gq(H,function(o){o>Y&&(Y=o)}),B.symbolSize=gZ(H,function(o){return gJ(o,[0,Y],[0,N[0]],!0)})}},this)}completeSingle.call(this,x),completeSingle.call(this,w),completeInactive.call(this,x,"inRange","outOfRange"),completeController.call(this,w)},VisualMapModel.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},VisualMapModel.prototype.isCategory=function(){return!!this.option.categories},VisualMapModel.prototype.setSelected=function(o){},VisualMapModel.prototype.getSelected=function(){return null},VisualMapModel.prototype.getValueState=function(o){return null},VisualMapModel.prototype.getVisualMeta=function(o){return null},VisualMapModel.type="visualMap",VisualMapModel.dependencies=["series"],VisualMapModel.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},VisualMapModel}(ix),g1=function(o){function ContinuousModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ContinuousModel.type,v}return __extends(ContinuousModel,o),ContinuousModel.prototype.optionUpdated=function(v,_){o.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(o){o.mappingMethod="linear",o.dataExtent=this.getExtent()}),this._resetRange()},ContinuousModel.prototype.resetItemSize=function(){o.prototype.resetItemSize.apply(this,arguments);var v=this.itemSize;(null==v[0]||isNaN(v[0]))&&(v[0]=20),(null==v[1]||isNaN(v[1]))&&(v[1]=140)},ContinuousModel.prototype._resetRange=function(){var o=this.getExtent(),v=this.option.range;!v||v.auto?(o.auto=1,this.option.range=o):util_isArray(v)&&(v[0]>v[1]&&v.reverse(),v[0]=Math.max(v[0],o[0]),v[1]=Math.min(v[1],o[1]))},ContinuousModel.prototype.completeVisualOption=function(){o.prototype.completeVisualOption.apply(this,arguments),util_each(this.stateList,function(o){var v=this.option.controller[o].symbolSize;v&&v[0]!==v[1]&&(v[0]=v[1]/3)},this)},ContinuousModel.prototype.setSelected=function(o){this.option.range=o.slice(),this._resetRange()},ContinuousModel.prototype.getSelected=function(){var o=this.getExtent(),v=asc((this.get("range")||[]).slice());return v[0]>o[1]&&(v[0]=o[1]),v[1]>o[1]&&(v[1]=o[1]),v[0]<o[0]&&(v[0]=o[0]),v[1]<o[0]&&(v[1]=o[0]),v},ContinuousModel.prototype.getValueState=function(o){var v=this.option.range,_=this.getExtent();return(v[0]<=_[0]||v[0]<=o)&&(v[1]>=_[1]||o<=v[1])?"inRange":"outOfRange"},ContinuousModel.prototype.findTargetDataIndices=function(o){var v=[];return this.eachTargetSeries(function(_){var x=[],w=_.getData();w.each(this.getDataDimensionIndex(w),function(v,_){o[0]<=v&&v<=o[1]&&x.push(_)},this),v.push({seriesId:_.id,dataIndex:x})},this),v},ContinuousModel.prototype.getVisualMeta=function(o){var v=getColorStopValues(this,"outOfRange",this.getExtent()),_=getColorStopValues(this,"inRange",this.option.range.slice()),x=[];function setStop(v,_){x.push({value:v,color:o(v,_)})}for(var w=0,T=0,L=_.length,N=v.length;T<N&&(!_.length||v[T]<=_[0]);T++)v[T]<_[w]&&setStop(v[T],"outOfRange");for(var B=1;w<L;w++,B=0)B&&x.length&&setStop(_[w],"outOfRange"),setStop(_[w],"inRange");for(var B=1;T<N;T++)(!_.length||_[_.length-1]<v[T])&&(B&&(x.length&&setStop(x[x.length-1].value,"outOfRange"),B=0),setStop(v[T],"outOfRange"));var H=x.length;return{stops:x,outerColors:[H?x[0].color:"transparent",H?x[H-1].color:"transparent"]}},ContinuousModel.type="visualMap.continuous",ContinuousModel.defaultOption=inheritDefaultOption(g0.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),ContinuousModel}(g0);function getColorStopValues(o,v,_){if(_[0]===_[1])return _.slice();for(var x=(_[1]-_[0])/200,w=_[0],T=[],L=0;L<=200&&w<_[1];L++)T.push(w),w+=x;return T.push(_[1]),T}var g2=function(o){function VisualMapView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=VisualMapView.type,v.autoPositionValues={left:1,right:1,top:1,bottom:1},v}return __extends(VisualMapView,o),VisualMapView.prototype.init=function(o,v){this.ecModel=o,this.api=v},VisualMapView.prototype.render=function(o,v,_,x){if(this.visualMapModel=o,!1===o.get("show")){this.group.removeAll();return}this.doRender(o,v,_,x)},VisualMapView.prototype.renderBackground=function(o){var v=this.visualMapModel,_=ig(v.get("padding")||0),x=o.getBoundingRect();o.add(new rI({z2:-1,silent:!0,shape:{x:x.x-_[3],y:x.y-_[0],width:x.width+_[3]+_[1],height:x.height+_[0]+_[2]},style:{fill:v.get("backgroundColor"),stroke:v.get("borderColor"),lineWidth:v.get("borderWidth")}}))},VisualMapView.prototype.getControllerVisual=function(o,v,_){var x=(_=_||{}).forceState,w=this.visualMapModel,T={};if("color"===v){var L=w.get("contentColor");T.color=L}function getter(o){return T[o]}function setter(o,v){T[o]=v}var N=w.controllerVisuals[x||w.getValueState(o)];return util_each(c$.prepareVisualTypes(N),function(x){var w=N[x];_.convertOpacityToAlpha&&"opacity"===x&&(x="colorAlpha",w=N.__alphaForOpacity),c$.dependsOn(x,v)&&w&&w.applyVisual(o,getter,setter)}),T[v]},VisualMapView.prototype.positionGroup=function(o){var v=this.visualMapModel,_=this.api;positionElement(o,v.getBoxLayoutParams(),{width:_.getWidth(),height:_.getHeight()})},VisualMapView.prototype.doRender=function(o,v,_,x){},VisualMapView.type="visualMap",VisualMapView}(ax),g5=[["left","right","width"],["top","bottom","height"]];function getItemAlign(o,v,_){var x=o.option,w=x.align;if(null!=w&&"auto"!==w)return w;for(var T={width:v.getWidth(),height:v.getHeight()},L="horizontal"===x.orient?1:0,N=g5[L],B=[0,null,10],H={},Y=0;Y<3;Y++)H[g5[1-L][Y]]=B[Y],H[N[Y]]=2===Y?_[0]:x[N[Y]];var Z=[["x","width",3],["y","height",0]][L],X=getLayoutRect(H,T,x.padding);return N[(X.margin[Z[2]]||0)+X[Z[0]]+.5*X[Z[1]]<.5*T[Z[1]]?0:1]}function makeHighDownBatch(o,v){return util_each(o||[],function(o){null!=o.dataIndex&&(o.dataIndexInside=o.dataIndex,o.dataIndex=null),o.highlightKey="visualMap"+(v?v.componentIndex:"")}),o}var g3=linearMap,g4=util_each,g7=Math.min,g6=Math.max,g9=function(o){function ContinuousView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=ContinuousView.type,v._shapes={},v._dataInterval=[],v._handleEnds=[],v._hoverLinkDataIndices=[],v}return __extends(ContinuousView,o),ContinuousView.prototype.doRender=function(o,v,_,x){this._api=_,x&&"selectDataRange"===x.type&&x.from===this.uid||this._buildView()},ContinuousView.prototype._buildView=function(){this.group.removeAll();var o=this.visualMapModel,v=this.group;this._orient=o.get("orient"),this._useHandle=o.get("calculable"),this._resetInterval(),this._renderBar(v);var _=o.get("text");this._renderEndsText(v,_,0),this._renderEndsText(v,_,1),this._updateView(!0),this.renderBackground(v),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(v)},ContinuousView.prototype._renderEndsText=function(o,v,_){if(v){var x=v[1-_];x=null!=x?x+"":"";var w=this.visualMapModel,T=w.get("textGap"),L=w.itemSize,N=this._shapes.mainGroup,B=this._applyTransform([L[0]/2,0===_?-T:L[1]+T],N),H=this._applyTransform(0===_?"bottom":"top",N),Y=this._orient,Z=this.visualMapModel.textStyleModel;this.group.add(new rR({style:createTextStyle(Z,{x:B[0],y:B[1],verticalAlign:"horizontal"===Y?"middle":H,align:"horizontal"===Y?H:"center",text:x})}))}},ContinuousView.prototype._renderBar=function(o){var v=this.visualMapModel,_=this._shapes,x=v.itemSize,w=this._orient,T=this._useHandle,L=getItemAlign(v,this.api,x),N=_.mainGroup=this._createBarGroup(L),B=new nm;N.add(B),B.add(_.outOfRange=createPolygon()),B.add(_.inRange=createPolygon(null,T?ContinuousView_getCursor(this._orient):null,e2(this._dragHandle,this,"all",!1),e2(this._dragHandle,this,"all",!0))),B.setClipPath(new rI({shape:{x:0,y:0,width:x[0],height:x[1],r:3}}));var H=v.textStyleModel.getTextRect(""),Y=g6(H.width,H.height);T&&(_.handleThumbs=[],_.handleLabels=[],_.handleLabelPoints=[],this._createHandle(v,N,0,x,Y,w),this._createHandle(v,N,1,x,Y,w)),this._createIndicator(v,N,x,Y,w),o.add(N)},ContinuousView.prototype._createHandle=function(o,v,_,x,w,T){var L=e2(this._dragHandle,this,_,!1),N=e2(this._dragHandle,this,_,!0),B=parsePercent(o.get("handleSize"),x[0]),H=symbol_createSymbol(o.get("handleIcon"),-B/2,-B/2,B,B,null,!0),Y=ContinuousView_getCursor(this._orient);H.attr({cursor:Y,draggable:!0,drift:L,ondragend:N,onmousemove:function(o){stop(o.event)}}),H.x=x[0]/2,H.useStyle(o.getModel("handleStyle").getItemStyle()),H.setStyle({strokeNoScale:!0,strokeFirst:!0}),H.style.lineWidth*=2,H.ensureState("emphasis").style=o.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(H,!0),v.add(H);var Z=new rR({cursor:Y,draggable:!0,drift:L,onmousemove:function(o){stop(o.event)},ondragend:N,style:createTextStyle(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});Z.ensureState("blur").style={opacity:.1},Z.stateTransition={duration:200},this.group.add(Z);var X=[B,0],et=this._shapes;et.handleThumbs[_]=H,et.handleLabelPoints[_]=X,et.handleLabels[_]=Z},ContinuousView.prototype._createIndicator=function(o,v,_,x,w){var T=parsePercent(o.get("indicatorSize"),_[0]),L=symbol_createSymbol(o.get("indicatorIcon"),-T/2,-T/2,T,T,null,!0);L.attr({cursor:"move",invisible:!0,silent:!0,x:_[0]/2});var N=o.getModel("indicatorStyle").getItemStyle();if(L instanceof rC){var B=L.style;L.useStyle(extend({image:B.image,x:B.x,y:B.y,width:B.width,height:B.height},N))}else L.useStyle(N);v.add(L);var H=new rR({silent:!0,invisible:!0,style:createTextStyle(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(H);var Y=[("horizontal"===w?x/2:6)+_[0]/2,0],Z=this._shapes;Z.indicator=L,Z.indicatorLabel=H,Z.indicatorLabelPoint=Y,this._firstShowIndicator=!0},ContinuousView.prototype._dragHandle=function(o,v,_,x){if(this._useHandle){if(this._dragging=!v,!v){var w=this._applyTransform([_,x],this._shapes.mainGroup,!0);this._updateInterval(o,w[1]),this._hideIndicator(),this._updateView()}!this.visualMapModel.get("realtime")===v&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),v?this._hovering||this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[o],!1)}},ContinuousView.prototype._resetInterval=function(){var o=this.visualMapModel,v=this._dataInterval=o.getSelected(),_=o.getExtent(),x=[0,o.itemSize[1]];this._handleEnds=[g3(v[0],_,x,!0),g3(v[1],_,x,!0)]},ContinuousView.prototype._updateInterval=function(o,v){v=v||0;var _=this.visualMapModel,x=this._handleEnds,w=[0,_.itemSize[1]];sliderMove(v,x,w,o,0);var T=_.getExtent();this._dataInterval=[g3(x[0],w,T,!0),g3(x[1],w,T,!0)]},ContinuousView.prototype._updateView=function(o){var v=this.visualMapModel,_=v.getExtent(),x=this._shapes,w=[0,v.itemSize[1]],T=o?w:this._handleEnds,L=this._createBarVisual(this._dataInterval,_,T,"inRange"),N=this._createBarVisual(_,_,w,"outOfRange");x.inRange.setStyle({fill:L.barColor}).setShape("points",L.barPoints),x.outOfRange.setStyle({fill:N.barColor}).setShape("points",N.barPoints),this._updateHandle(T,L)},ContinuousView.prototype._createBarVisual=function(o,v,_,x){var w={forceState:x,convertOpacityToAlpha:!0},T=this._makeColorGradient(o,w),L=[this.getControllerVisual(o[0],"symbolSize",w),this.getControllerVisual(o[1],"symbolSize",w)],N=this._createBarPoints(_,L);return{barColor:new or(0,0,0,1,T),barPoints:N,handlesColor:[T[0].color,T[T.length-1].color]}},ContinuousView.prototype._makeColorGradient=function(o,v){var _=[],x=(o[1]-o[0])/100;_.push({color:this.getControllerVisual(o[0],"color",v),offset:0});for(var w=1;w<100;w++){var T=o[0]+x*w;if(T>o[1])break;_.push({color:this.getControllerVisual(T,"color",v),offset:w/100})}return _.push({color:this.getControllerVisual(o[1],"color",v),offset:1}),_},ContinuousView.prototype._createBarPoints=function(o,v){var _=this.visualMapModel.itemSize;return[[_[0]-v[0],o[0]],[_[0],o[0]],[_[0],o[1]],[_[0]-v[1],o[1]]]},ContinuousView.prototype._createBarGroup=function(o){var v=this._orient,_=this.visualMapModel.get("inverse");return new nm("horizontal"!==v||_?"horizontal"===v&&_?{scaleX:"bottom"===o?-1:1,rotation:-Math.PI/2}:"vertical"!==v||_?{scaleX:"left"===o?1:-1}:{scaleX:"left"===o?1:-1,scaleY:-1}:{scaleX:"bottom"===o?1:-1,rotation:Math.PI/2})},ContinuousView.prototype._updateHandle=function(o,v){if(this._useHandle){var _=this._shapes,x=this.visualMapModel,w=_.handleThumbs,T=_.handleLabels,L=x.itemSize,N=x.getExtent();g4([0,1],function(B){var H=w[B];H.setStyle("fill",v.handlesColor[B]),H.y=o[B];var Y=g3(o[B],[0,L[1]],N,!0),Z=this.getControllerVisual(Y,"symbolSize");H.scaleX=H.scaleY=Z/L[0],H.x=L[0]-Z/2;var X=graphic_applyTransform(_.handleLabelPoints[B],getTransform(H,this.group));T[B].setStyle({x:X[0],y:X[1],text:x.formatValueText(this._dataInterval[B]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",_.mainGroup):"center"})},this)}},ContinuousView.prototype._showIndicator=function(o,v,_,x){var w=this.visualMapModel,T=w.getExtent(),L=w.itemSize,N=[0,L[1]],B=this._shapes,H=B.indicator;if(H){H.attr("invisible",!1);var Y=this.getControllerVisual(o,"color",{convertOpacityToAlpha:!0}),Z=this.getControllerVisual(o,"symbolSize"),X=g3(o,T,N,!0),et=L[0]-Z/2,en={x:H.x,y:H.y};H.y=X,H.x=et;var er=graphic_applyTransform(B.indicatorLabelPoint,getTransform(H,this.group)),ei=B.indicatorLabel;ei.attr("invisible",!1);var ea=this._applyTransform("left",B.mainGroup),eo="horizontal"===this._orient;ei.setStyle({text:(_||"")+w.formatValueText(v),verticalAlign:eo?ea:"middle",align:eo?"center":ea});var el={x:et,y:X,style:{fill:Y}},eu={style:{x:er[0],y:er[1]}};if(w.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var ec={duration:100,easing:"cubicInOut",additive:!0};H.x=en.x,H.y=en.y,H.animateTo(el,ec),ei.animateTo(eu,ec)}else H.attr(el),ei.attr(eu);this._firstShowIndicator=!1;var ed=this._shapes.handleLabels;if(ed)for(var eh=0;eh<ed.length;eh++)this._api.enterBlur(ed[eh])}},ContinuousView.prototype._enableHoverLinkToSeries=function(){var o=this;this._shapes.mainGroup.on("mousemove",function(v){if(o._hovering=!0,!o._dragging){var _=o.visualMapModel.itemSize,x=o._applyTransform([v.offsetX,v.offsetY],o._shapes.mainGroup,!0,!0);x[1]=g7(g6(0,x[1]),_[1]),o._doHoverLinkToSeries(x[1],0<=x[0]&&x[0]<=_[0])}}).on("mouseout",function(){o._hovering=!1,o._dragging||o._clearHoverLinkToSeries()})},ContinuousView.prototype._enableHoverLinkFromSeries=function(){var o=this.api.getZr();this.visualMapModel.option.hoverLink?(o.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),o.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},ContinuousView.prototype._doHoverLinkToSeries=function(o,v){var _=this.visualMapModel,x=_.itemSize;if(_.option.hoverLink){var w=[0,x[1]],T=_.getExtent();o=g7(g6(w[0],o),w[1]);var L=getHalfHoverLinkSize(_,T,w),N=[o-L,o+L],B=g3(o,w,T,!0),H=[g3(N[0],w,T,!0),g3(N[1],w,T,!0)];N[0]<w[0]&&(H[0]=-1/0),N[1]>w[1]&&(H[1]=1/0),v&&(H[0]===-1/0?this._showIndicator(B,H[1],"< ",L):H[1]===1/0?this._showIndicator(B,H[0],"> ",L):this._showIndicator(B,B," ",L));var Y=this._hoverLinkDataIndices,Z=[];(v||useHoverLinkOnHandle(_))&&(Z=this._hoverLinkDataIndices=_.findTargetDataIndices(H));var X=compressBatches(Y,Z);this._dispatchHighDown("downplay",makeHighDownBatch(X[0],_)),this._dispatchHighDown("highlight",makeHighDownBatch(X[1],_))}},ContinuousView.prototype._hoverLinkFromSeriesMouseOver=function(o){if(findEventDispatcher(o.target,function(o){var _=rN(o);if(null!=_.dataIndex)return v=_,!0},!0),v){var v,_=this.ecModel.getSeriesByIndex(v.seriesIndex),x=this.visualMapModel;if(x.isTargetSeries(_)){var w=_.getData(v.dataType),T=w.getStore().get(x.getDataDimensionIndex(w),v.dataIndex);isNaN(T)||this._showIndicator(T,T)}}},ContinuousView.prototype._hideIndicator=function(){var o=this._shapes;o.indicator&&o.indicator.attr("invisible",!0),o.indicatorLabel&&o.indicatorLabel.attr("invisible",!0);var v=this._shapes.handleLabels;if(v)for(var _=0;_<v.length;_++)this._api.leaveBlur(v[_])},ContinuousView.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var o=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(o,this.visualMapModel)),o.length=0},ContinuousView.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var o=this.api.getZr();o.off("mouseover",this._hoverLinkFromSeriesMouseOver),o.off("mouseout",this._hideIndicator)},ContinuousView.prototype._applyTransform=function(o,v,_,x){var w=getTransform(v,x?null:this.group);return util_isArray(o)?graphic_applyTransform(o,w,_):transformDirection(o,w,_)},ContinuousView.prototype._dispatchHighDown=function(o,v){v&&v.length&&this.api.dispatchAction({type:o,batch:v})},ContinuousView.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},ContinuousView.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},ContinuousView.type="visualMap.continuous",ContinuousView}(g2);function createPolygon(o,v,_,x){return new aJ({shape:{points:o},draggable:!!_,cursor:v,drift:_,onmousemove:function(o){stop(o.event)},ondragend:x})}function getHalfHoverLinkSize(o,v,_){var x=6,w=o.get("hoverLinkDataSize");return w&&(x=g3(w,v,_,!0)/2),x}function useHoverLinkOnHandle(o){var v=o.get("hoverLinkOnHandle");return!!(null==v?o.get("realtime"):v)}function ContinuousView_getCursor(o){return"vertical"===o?"ns-resize":"ew-resize"}var g8={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(o,v){v.eachComponent({mainType:"visualMap",query:o},function(v){v.setSelected(o.selected)})},mi=[{createOnAllSeries:!0,reset:function(o,v){var _=[];return v.eachComponent("visualMap",function(v){var x=o.pipelineContext;!v.isTargetSeries(o)||x&&x.large||_.push(incrementalApplyVisual(v.stateList,v.targetVisuals,e2(v.getValueState,v),v.getDataDimensionIndex(o.getData())))}),_}},{createOnAllSeries:!0,reset:function(o,v){var _=o.getData(),x=[];v.eachComponent("visualMap",function(v){if(v.isTargetSeries(o)){var w=v.getVisualMeta(e2(getColorVisual,null,o,v))||{stops:[],outerColors:[]},T=v.getDataDimensionIndex(_);T>=0&&(w.dimension=T,x.push(w))}}),o.getData().setVisual("visualMeta",x)}}];function getColorVisual(o,v,_,x){for(var w=v.targetVisuals[x],T=c$.prepareVisualTypes(w),L={color:getVisualFromData(o.getData(),"color")},N=0,B=T.length;N<B;N++){var H=T[N],Y=w["opacity"===H?"__alphaForOpacity":H];Y&&Y.applyVisual(_,getVisual,setVisual)}return L.color;function getVisual(o){return L[o]}function setVisual(o,v){L[o]=v}}var ma=util_each;function visualMapPreprocessor(o){var v=o&&o.visualMap;util_isArray(v)||(v=v?[v]:[]),ma(v,function(o){if(o){preprocessor_has(o,"splitList")&&!preprocessor_has(o,"pieces")&&(o.pieces=o.splitList,delete o.splitList);var v=o.pieces;v&&util_isArray(v)&&ma(v,function(o){util_isObject(o)&&(preprocessor_has(o,"start")&&!preprocessor_has(o,"min")&&(o.min=o.start),preprocessor_has(o,"end")&&!preprocessor_has(o,"max")&&(o.max=o.end))})}})}function preprocessor_has(o,v){return o&&o.hasOwnProperty&&o.hasOwnProperty(v)}var mo=!1;function installCommon_installCommon(o){mo||(mo=!0,o.registerSubTypeDefaulter("visualMap",function(o){return o.categories||(o.pieces?o.pieces.length>0:o.splitNumber>0)&&!o.calculable?"piecewise":"continuous"}),o.registerAction(g8,visualMapActionHander),util_each(mi,function(v){o.registerVisual(o.PRIORITY.VISUAL.COMPONENT,v)}),o.registerPreprocessor(visualMapPreprocessor))}function installVisualMapContinuous_install(o){o.registerComponentModel(g1),o.registerComponentView(g9),installCommon_installCommon(o)}var ms=function(o){function PiecewiseModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=PiecewiseModel.type,v._pieceList=[],v}return __extends(PiecewiseModel,o),PiecewiseModel.prototype.optionUpdated=function(v,_){o.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var x=this._mode=this._determineMode();this._pieceList=[],ml[this._mode].call(this,this._pieceList),this._resetSelected(v,_);var w=this.option.categories;this.resetVisual(function(o,v){"categories"===x?(o.mappingMethod="category",o.categories=clone(w)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=map(this._pieceList,function(o){return o=clone(o),"inRange"!==v&&(o.visual=null),o}))})},PiecewiseModel.prototype.completeVisualOption=function(){var v=this.option,_={},x=c$.listVisualTypes(),w=this.isCategory();function has(o,v,_){return o&&o[v]&&o[v].hasOwnProperty(_)}util_each(v.pieces,function(o){util_each(x,function(v){o.hasOwnProperty(v)&&(_[v]=1)})}),util_each(_,function(o,_){var x=!1;util_each(this.stateList,function(o){x=x||has(v,o,_)||has(v.target,o,_)},this),x||util_each(this.stateList,function(o){(v[o]||(v[o]={}))[_]=gK.get(_,"inRange"===o?"active":"inactive",w)})},this),o.prototype.completeVisualOption.apply(this,arguments)},PiecewiseModel.prototype._resetSelected=function(o,v){var _=this.option,x=this._pieceList,w=(v?_:o).selected||{};if(_.selected=w,util_each(x,function(o,v){var _=this.getSelectedMapKey(o);w.hasOwnProperty(_)||(w[_]=!0)},this),"single"===_.selectedMode){var T=!1;util_each(x,function(o,v){var _=this.getSelectedMapKey(o);w[_]&&(T?w[_]=!1:T=!0)},this)}},PiecewiseModel.prototype.getItemSymbol=function(){return this.get("itemSymbol")},PiecewiseModel.prototype.getSelectedMapKey=function(o){return"categories"===this._mode?o.value+"":o.index+""},PiecewiseModel.prototype.getPieceList=function(){return this._pieceList},PiecewiseModel.prototype._determineMode=function(){var o=this.option;return o.pieces&&o.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},PiecewiseModel.prototype.setSelected=function(o){this.option.selected=clone(o)},PiecewiseModel.prototype.getValueState=function(o){var v=c$.findPieceIndex(o,this._pieceList);return null!=v&&this.option.selected[this.getSelectedMapKey(this._pieceList[v])]?"inRange":"outOfRange"},PiecewiseModel.prototype.findTargetDataIndices=function(o){var v=[],_=this._pieceList;return this.eachTargetSeries(function(x){var w=[],T=x.getData();T.each(this.getDataDimensionIndex(T),function(v,x){c$.findPieceIndex(v,_)===o&&w.push(x)},this),v.push({seriesId:x.id,dataIndex:w})},this),v},PiecewiseModel.prototype.getRepresentValue=function(o){var v;if(this.isCategory())v=o.value;else if(null!=o.value)v=o.value;else{var _=o.interval||[];v=_[0]===-1/0&&_[1]===1/0?0:(_[0]+_[1])/2}return v},PiecewiseModel.prototype.getVisualMeta=function(o){if(!this.isCategory()){var v=[],_=["",""],x=this,w=this._pieceList.slice();if(w.length){var T=w[0].interval[0];T!==-1/0&&w.unshift({interval:[-1/0,T]}),(T=w[w.length-1].interval[1])!==1/0&&w.push({interval:[T,1/0]})}else w.push({interval:[-1/0,1/0]});var L=-1/0;return util_each(w,function(o){var v=o.interval;v&&(v[0]>L&&setStop([L,v[0]],"outOfRange"),setStop(v.slice()),L=v[1])},this),{stops:v,outerColors:_}}function setStop(w,T){var L=x.getRepresentValue({interval:w});T||(T=x.getValueState(L));var N=o(L,T);w[0]===-1/0?_[0]=N:w[1]===1/0?_[1]=N:v.push({value:w[0],color:N},{value:w[1],color:N})}},PiecewiseModel.type="visualMap.piecewise",PiecewiseModel.defaultOption=inheritDefaultOption(g0.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),PiecewiseModel}(g0),ml={splitNumber:function(o){var v=this.option,_=Math.min(v.precision,20),x=this.getExtent(),w=v.splitNumber;w=Math.max(parseInt(w,10),1),v.splitNumber=w;for(var T=(x[1]-x[0])/w;+T.toFixed(_)!==T&&_<5;)_++;v.precision=_,T=+T.toFixed(_),v.minOpen&&o.push({interval:[-1/0,x[0]],close:[0,0]});for(var L=0,N=x[0];L<w;N+=T,L++){var B=L===w-1?x[1]:N+T;o.push({interval:[N,B],close:[1,1]})}v.maxOpen&&o.push({interval:[x[1],1/0],close:[0,0]}),reformIntervals(o),util_each(o,function(o,v){o.index=v,o.text=this.formatValueText(o.interval)},this)},categories:function(o){var v=this.option;util_each(v.categories,function(v){o.push({text:this.formatValueText(v,!0),value:v})},this),normalizeReverse(v,o)},pieces:function(o){var v=this.option;util_each(v.pieces,function(v,_){util_isObject(v)||(v={value:v});var x={text:"",index:_};if(null!=v.label&&(x.text=v.label),v.hasOwnProperty("value")){var w=x.value=v.value;x.interval=[w,w],x.close=[1,1]}else{for(var T=x.interval=[],L=x.close=[0,0],N=[1,0,1],B=[-1/0,1/0],H=[],Y=0;Y<2;Y++){for(var Z=[["gte","gt","min"],["lte","lt","max"]][Y],X=0;X<3&&null==T[Y];X++)T[Y]=v[Z[X]],L[Y]=N[X],H[Y]=2===X;null==T[Y]&&(T[Y]=B[Y])}H[0]&&T[1]===1/0&&(L[0]=0),H[1]&&T[0]===-1/0&&(L[1]=0),T[0]===T[1]&&L[0]&&L[1]&&(x.value=T[0])}x.visual=c$.retrieveVisuals(v),o.push(x)},this),normalizeReverse(v,o),reformIntervals(o),util_each(o,function(o){var v=o.close,_=[["<",""][v[1]],[">",""][v[0]]];o.text=o.text||this.formatValueText(null!=o.value?o.value:o.interval,!1,_)},this)}};function normalizeReverse(o,v){var _=o.inverse;("vertical"===o.orient?!_:_)&&v.reverse()}var mu=function(o){function PiecewiseVisualMapView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type=PiecewiseVisualMapView.type,v}return __extends(PiecewiseVisualMapView,o),PiecewiseVisualMapView.prototype.doRender=function(){var o=this.group;o.removeAll();var v=this.visualMapModel,_=v.get("textGap"),x=v.textStyleModel,w=x.getFont(),T=x.getTextColor(),L=this._getItemAlign(),N=v.itemSize,B=this._getViewData(),H=B.endsText,Y=retrieve(v.get("showLabel",!0),!H);H&&this._renderEndsText(o,H[0],N,Y,L),util_each(B.viewPieceList,function(x){var B=x.piece,H=new nm;H.onclick=e2(this._onItemClick,this,B),this._enableHoverLink(H,x.indexInModelPieceList);var Z=v.getRepresentValue(B);if(this._createItemSymbol(H,Z,[0,0,N[0],N[1]]),Y){var X=this.visualMapModel.getValueState(Z);H.add(new rR({style:{x:"right"===L?-_:N[0]+_,y:N[1]/2,text:B.text,verticalAlign:"middle",align:L,font:w,fill:T,opacity:"outOfRange"===X?.5:1}}))}o.add(H)},this),H&&this._renderEndsText(o,H[1],N,Y,L),ib(v.get("orient"),o,v.get("itemGap")),this.renderBackground(o),this.positionGroup(o)},PiecewiseVisualMapView.prototype._enableHoverLink=function(o,v){var _=this;o.on("mouseover",function(){return onHoverLink("highlight")}).on("mouseout",function(){return onHoverLink("downplay")});var onHoverLink=function(o){var x=_.visualMapModel;x.option.hoverLink&&_.api.dispatchAction({type:o,batch:makeHighDownBatch(x.findTargetDataIndices(v),x)})}},PiecewiseVisualMapView.prototype._getItemAlign=function(){var o=this.visualMapModel,v=o.option;if("vertical"===v.orient)return getItemAlign(o,this.api,o.itemSize);var _=v.align;return _&&"auto"!==_||(_="left"),_},PiecewiseVisualMapView.prototype._renderEndsText=function(o,v,_,x,w){if(v){var T=new nm,L=this.visualMapModel.textStyleModel;T.add(new rR({style:createTextStyle(L,{x:x?"right"===w?_[0]:0:_[0]/2,y:_[1]/2,verticalAlign:"middle",align:x?w:"center",text:v})})),o.add(T)}},PiecewiseVisualMapView.prototype._getViewData=function(){var o=this.visualMapModel,v=map(o.getPieceList(),function(o,v){return{piece:o,indexInModelPieceList:v}}),_=o.get("text"),x=o.get("orient"),w=o.get("inverse");return("horizontal"===x?w:!w)?v.reverse():_&&(_=_.slice().reverse()),{viewPieceList:v,endsText:_}},PiecewiseVisualMapView.prototype._createItemSymbol=function(o,v,_){o.add(symbol_createSymbol(this.getControllerVisual(v,"symbol"),_[0],_[1],_[2],_[3],this.getControllerVisual(v,"color")))},PiecewiseVisualMapView.prototype._onItemClick=function(o){var v=this.visualMapModel,_=v.option,x=_.selectedMode;if(x){var w=clone(_.selected),T=v.getSelectedMapKey(o);"single"===x||!0===x?(w[T]=!0,util_each(w,function(o,v){w[v]=v===T})):w[T]=!w[T],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:w})}},PiecewiseVisualMapView.type="visualMap.piecewise",PiecewiseVisualMapView}(g2);function installVisualMapPiecewise_install(o){o.registerComponentModel(ms),o.registerComponentView(mu),installCommon_installCommon(o)}function visualMap_install_install(o){use(installVisualMapContinuous_install),use(installVisualMapPiecewise_install)}var mc={label:{enabled:!0},decal:{show:!1}},md=makeInner(),mh={};function ariaVisual(o,v){var _=o.getModel("aria");if(_.get("enabled")){var x=clone(mc);merge(x.label,o.getLocaleModel().get("aria"),!1),merge(_.option,x,!1),setDecal(),setLabel()}function setDecal(){if(_.getModel("decal").get("show")){var v=createHashMap();o.eachSeries(function(o){if(!o.isColorBySeries()){var _=v.get(o.type);_||(_={},v.set(o.type,_)),md(o).scope=_}}),o.eachRawSeries(function(v){if(!o.isSeriesFiltered(v)){if(isFunction(v.enableAriaDecal)){v.enableAriaDecal();return}var _=v.getData();if(v.isColorBySeries()){var x=getDecalFromPalette(v.ecModel,v.name,mh,o.getSeriesCount()),w=_.getVisual("decal");_.setVisual("decal",mergeDecal(w,x))}else{var T=v.getRawData(),L={},N=md(v).scope;_.each(function(o){L[_.getRawIndex(o)]=o});var B=T.count();T.each(function(o){var x=L[o],w=T.getName(o)||o+"",H=getDecalFromPalette(v.ecModel,w,N,B),Y=_.getItemVisual(x,"decal");_.setItemVisual(x,"decal",mergeDecal(Y,H))})}}function mergeDecal(o,v){var _=o?extend(extend({},v),o):v;return _.dirty=!0,_}})}}function setLabel(){var x,w=o.getLocaleModel().get("aria"),T=_.getModel("label");if(T.option=util_defaults(T.option,w),T.get("enabled")){var L=v.getZr().dom;if(T.get("description")){L.setAttribute("aria-label",T.get("description"));return}var N=o.getSeriesCount(),B=T.get(["data","maxCount"])||10,H=Math.min(N,T.get(["series","maxCount"])||10);if(!(N<1)){var Y=getTitle();x=Y?replace(T.get(["general","withTitle"]),{title:Y}):T.get(["general","withoutTitle"]);var Z=[];x+=replace(N>1?T.get(["series","multiple","prefix"]):T.get(["series","single","prefix"]),{seriesCount:N}),o.eachSeries(function(o,v){if(v<H){var _=void 0,x=o.get("name")?"withName":"withoutName";_=replace(_=N>1?T.get(["series","multiple",x]):T.get(["series","single",x]),{seriesId:o.seriesIndex,seriesName:o.get("name"),seriesType:getSeriesTypeName(o.subType)});var w=o.getData();w.count()>B?_+=replace(T.get(["data","partialData"]),{displayCnt:B}):_+=T.get(["data","allData"]);for(var L=T.get(["data","separator","middle"]),Y=T.get(["data","separator","end"]),X=[],et=0;et<w.count();et++)if(et<B){var en=w.getName(et),er=w.getValues(et),ei=T.get(["data",en?"withName":"withoutName"]);X.push(replace(ei,{name:en,value:er.join(L)}))}_+=X.join(L)+Y,Z.push(_)}});var X=T.getModel(["series","multiple","separator"]),et=X.get("middle"),en=X.get("end");x+=Z.join(et)+en,L.setAttribute("aria-label",x)}}}function replace(o,v){if(!util_isString(o))return o;var _=o;return util_each(v,function(o,v){_=_.replace(RegExp("\\{\\s*"+v+"\\s*\\}","g"),o)}),_}function getTitle(){var v=o.get("title");return v&&v.length&&(v=v[0]),v&&v.text}function getSeriesTypeName(v){return o.getLocaleModel().get(["series","typeNames"])[v]||""}}function ariaPreprocessor(o){if(o&&o.aria){var v=o.aria;null!=v.show&&(v.enabled=v.show),v.label=v.label||{},util_each(["description","general","series","data"],function(o){null!=v[o]&&(v.label[o]=v[o])})}}function aria_install_install(o){o.registerPreprocessor(ariaPreprocessor),o.registerVisual(o.PRIORITY.VISUAL.ARIA,ariaVisual)}var mp={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},mf=function(){function RegExpEvaluator(o){null==(this._condVal=util_isString(o)?new RegExp(o):isRegExp(o)?o:null)&&throwError("")}return RegExpEvaluator.prototype.evaluate=function(o){var v=typeof o;return util_isString(v)?this._condVal.test(o):!!isNumber(v)&&this._condVal.test(o+"")},RegExpEvaluator}(),mg=function(){function ConstConditionInternal(){}return ConstConditionInternal.prototype.evaluate=function(){return this.value},ConstConditionInternal}(),mm=function(){function AndConditionInternal(){}return AndConditionInternal.prototype.evaluate=function(){for(var o=this.children,v=0;v<o.length;v++)if(!o[v].evaluate())return!1;return!0},AndConditionInternal}(),my=function(){function OrConditionInternal(){}return OrConditionInternal.prototype.evaluate=function(){for(var o=this.children,v=0;v<o.length;v++)if(o[v].evaluate())return!0;return!1},OrConditionInternal}(),mv=function(){function NotConditionInternal(){}return NotConditionInternal.prototype.evaluate=function(){return!this.child.evaluate()},NotConditionInternal}(),m_=function(){function RelationalConditionInternal(){}return RelationalConditionInternal.prototype.evaluate=function(){for(var o=!!this.valueParser,v=(0,this.getValue)(this.valueGetterParam),_=o?this.valueParser(v):null,x=0;x<this.subCondList.length;x++)if(!this.subCondList[x].evaluate(o?_:v))return!1;return!0},RelationalConditionInternal}();function parseOption(o,v){if(!0===o||!1===o){var _=new mg;return _.value=o,_}return(util_isObject(o)&&!isArrayLike(o)||throwError(""),o.and)?parseAndOrOption("and",o,v):o.or?parseAndOrOption("or",o,v):o.not?parseNotOption(o,v):parseRelationalOption(o,v)}function parseAndOrOption(o,v,_){var x=v[o];util_isArray(x)||throwError(""),x.length||throwError("");var w="and"===o?new mm:new my;return w.children=map(x,function(o){return parseOption(o,_)}),w.children.length||throwError(""),w}function parseNotOption(o,v){var _=o.not;util_isObject(_)&&!isArrayLike(_)||throwError("");var x=new mv;return x.child=parseOption(_,v),x.child||throwError(""),x}function parseRelationalOption(o,v){for(var _=v.prepareGetValue(o),x=[],w=keys(o),T=o.parser,L=T?i6.get(T):null,N=0;N<w.length;N++){var B=w[N];if(!("parser"===B||v.valueGetterAttrMap.get(B))){var H=hasOwn(mp,B)?mp[B]:B,Y=o[B],Z=L?L(Y):Y,X=createFilterComparator(H,Z)||"reg"===H&&new mf(Z);X||throwError(""),x.push(X)}}x.length||throwError("");var et=new m_;return et.valueGetterParam=_,et.valueParser=L,et.getValue=v.getValue,et.subCondList=x,et}var mb=function(){function ConditionalExpressionParsed(o,v){this._cond=parseOption(o,v)}return ConditionalExpressionParsed.prototype.evaluate=function(){return this._cond.evaluate()},ConditionalExpressionParsed}();function parseConditionalExpression(o,v){return new mb(o,v)}var mS={type:"echarts:filter",transform:function(o){for(var v,_=o.upstream,x=parseConditionalExpression(o.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(o){var v=o.dimension;hasOwn(o,"dimension")||throwError("");var x=_.getDimensionInfo(v);return x||throwError(""),{dimIdx:x.index}},getValue:function(o){return _.retrieveValueFromItem(v,o.dimIdx)}}),w=[],T=0,L=_.count();T<L;T++)v=_.getRawDataItem(T),x.evaluate()&&w.push(v);return{data:w}}},mx={type:"echarts:sort",transform:function(o){var v=o.upstream,_=normalizeToArray(o.config);_.length||throwError("");var x=[];util_each(_,function(o){var _=o.dimension,w=o.order,T=o.parser,L=o.incomparable;null==_&&throwError(""),"asc"!==w&&"desc"!==w&&throwError(""),L&&"min"!==L&&"max"!==L&&throwError(""),"asc"!==w&&"desc"!==w&&throwError("");var N=v.getDimensionInfo(_);N||throwError("");var B=T?i6.get(T):null;T&&!B&&throwError(""),x.push({dimIdx:N.index,parser:B,comparator:new ar(w,L)})});var w=v.sourceFormat;w!==iI&&w!==iD&&throwError("");for(var T=[],L=0,N=v.count();L<N;L++)T.push(v.getRawDataItem(L));return T.sort(function(o,_){for(var w=0;w<x.length;w++){var T=x[w],L=v.retrieveValueFromItem(o,T.dimIdx),N=v.retrieveValueFromItem(_,T.dimIdx);T.parser&&(L=T.parser(L),N=T.parser(N));var B=T.comparator.evaluate(L,N);if(0!==B)return B}return 0}),{data:T}}};function transform_install_install(o){o.registerTransform(mS),o.registerTransform(mx)}var mw=function(o){function DatasetModel(){var v=null!==o&&o.apply(this,arguments)||this;return v.type="dataset",v}return __extends(DatasetModel,o),DatasetModel.prototype.init=function(v,_,x){o.prototype.init.call(this,v,_,x),this._sourceManager=new af(this),disableTransformOptionMerge(this)},DatasetModel.prototype.mergeOption=function(v,_){o.prototype.mergeOption.call(this,v,_),disableTransformOptionMerge(this)},DatasetModel.prototype.optionUpdated=function(){this._sourceManager.dirty()},DatasetModel.prototype.getSourceManager=function(){return this._sourceManager},DatasetModel.type="dataset",DatasetModel.defaultOption={seriesLayoutBy:ik},DatasetModel}(ix),mC=function(o){function DatasetView(){var v=null!==o&&o.apply(this,arguments)||this;return v.type="dataset",v}return __extends(DatasetView,o),DatasetView.type="dataset",DatasetView}(ax);function dataset_install_install(o){o.registerComponentModel(mw),o.registerComponentView(mC)}var mT=rl.CMD;function aroundEqual(o,v){return 1e-5>Math.abs(o-v)}function pathToBezierCurves(o){var v,_,x,w,T,L=o.data,N=o.len(),B=[],H=0,Y=0,Z=0,X=0;function createNewSubpath(o,_){v&&v.length>2&&B.push(v),v=[o,_]}function addLine(o,_,x,w){aroundEqual(o,x)&&aroundEqual(_,w)||v.push(o,_,x,w,x,w)}function addArc(o,_,x,w,T,L){var N=4*Math.tan(Math.abs(_-o)/4)/3,B=_<o?-1:1,H=Math.cos(o),Y=Math.sin(o),Z=Math.cos(_),X=Math.sin(_),et=H*T+x,en=Y*L+w,er=Z*T+x,ei=X*L+w,ea=T*N*B,eo=L*N*B;v.push(et-ea*Y,en+eo*H,er+ea*X,ei-eo*Z,er,ei)}for(var et=0;et<N;){var en=L[et++],er=1===et;switch(er&&(H=L[et],Y=L[et+1],Z=H,X=Y,(en===mT.L||en===mT.C||en===mT.Q)&&(v=[Z,X])),en){case mT.M:H=Z=L[et++],Y=X=L[et++],createNewSubpath(Z,X);break;case mT.L:addLine(H,Y,_=L[et++],x=L[et++]),H=_,Y=x;break;case mT.C:v.push(L[et++],L[et++],L[et++],L[et++],H=L[et++],Y=L[et++]);break;case mT.Q:_=L[et++],x=L[et++],w=L[et++],T=L[et++],v.push(H+2/3*(_-H),Y+2/3*(x-Y),w+2/3*(_-w),T+2/3*(x-T),w,T),H=w,Y=T;break;case mT.A:var ei=L[et++],ea=L[et++],eo=L[et++],el=L[et++],eu=L[et++],ec=L[et++]+eu;et+=1;var ed=!L[et++];_=Math.cos(eu)*eo+ei,x=Math.sin(eu)*el+ea,er?createNewSubpath(Z=_,X=x):addLine(H,Y,_,x),H=Math.cos(ec)*eo+ei,Y=Math.sin(ec)*el+ea;for(var eh=(ed?-1:1)*Math.PI/2,ep=eu;ed?ep>ec:ep<ec;ep+=eh){var ef=ed?Math.max(ep+eh,ec):Math.min(ep+eh,ec);addArc(ep,ef,ei,ea,eo,el)}break;case mT.R:Z=H=L[et++],X=Y=L[et++],_=Z+L[et++],x=X+L[et++],createNewSubpath(_,X),addLine(_,X,_,x),addLine(_,x,Z,x),addLine(Z,x,Z,X),addLine(Z,X,_,X);break;case mT.Z:v&&addLine(H,Y,Z,X),H=Z,Y=X}}return v&&v.length>2&&B.push(v),B}function adpativeBezier(o,v,_,x,w,T,L,N,B,H){if(aroundEqual(o,_)&&aroundEqual(v,x)&&aroundEqual(w,L)&&aroundEqual(T,N)){B.push(L,N);return}var Y=2/H,Z=Y*Y,X=L-o,et=N-v,en=Math.sqrt(X*X+et*et);X/=en,et/=en;var er=_-o,ei=x-v,ea=w-L,eo=T-N,el=er*er+ei*ei,eu=ea*ea+eo*eo;if(el<Z&&eu<Z){B.push(L,N);return}var ec=X*er+et*ei,ed=-X*ea-et*eo;if(el-ec*ec<Z&&ec>=0&&eu-ed*ed<Z&&ed>=0){B.push(L,N);return}var eh=[],ep=[];cubicSubdivide(o,_,w,L,.5,eh),cubicSubdivide(v,x,T,N,.5,ep),adpativeBezier(eh[0],ep[0],eh[1],ep[1],eh[2],ep[2],eh[3],ep[3],B,H),adpativeBezier(eh[4],ep[4],eh[5],ep[5],eh[6],ep[6],eh[7],ep[7],B,H)}function pathToPolygons(o,v){var _=pathToBezierCurves(o),x=[];v=v||1;for(var w=0;w<_.length;w++){var T=_[w],L=[],N=T[0],B=T[1];L.push(N,B);for(var H=2;H<T.length;){var Y=T[H++],Z=T[H++],X=T[H++],et=T[H++],en=T[H++],er=T[H++];adpativeBezier(N,B,Y,Z,X,et,en,er,L,v),N=en,B=er}x.push(L)}return x}function getDividingGrids(o,v,_){var x=Math.ceil(Math.sqrt(Math.abs(o[v]/o[1-v])*_)),w=Math.floor(_/x);0===w&&(w=1,x=_);for(var T=[],L=0;L<x;L++)T.push(w);var N=_-x*w;if(N>0)for(var L=0;L<N;L++)T[L%x]+=1;return T}function divideSector(o,v,_){for(var x=o.r0,w=o.r,T=o.startAngle,L=Math.abs(o.endAngle-T),N=L*w,B=w-x,H=N>Math.abs(B),Y=getDividingGrids([N,B],H?0:1,v),Z=(H?L:B)/Y.length,X=0;X<Y.length;X++)for(var et=(H?B:L)/Y[X],en=0;en<Y[X];en++){var er={};H?(er.startAngle=T+Z*X,er.endAngle=T+Z*(X+1),er.r0=x+et*en,er.r=x+et*(en+1)):(er.startAngle=T+et*en,er.endAngle=T+et*(en+1),er.r0=x+Z*X,er.r=x+Z*(X+1)),er.clockwise=o.clockwise,er.cx=o.cx,er.cy=o.cy,_.push(er)}}function divideRect(o,v,_){for(var x=o.width,w=o.height,T=x>w,L=getDividingGrids([x,w],T?0:1,v),N=T?"width":"height",B=T?"height":"width",H=T?"x":"y",Y=T?"y":"x",Z=o[N]/L.length,X=0;X<L.length;X++)for(var et=o[B]/L[X],en=0;en<L[X];en++){var er={};er[H]=X*Z,er[Y]=en*et,er[N]=Z,er[B]=et,er.x+=o.x,er.y+=o.y,_.push(er)}}function dividePath_lineLineIntersect(o,v,_,x,w,T,L,N){var B=_-o,H=x-v,Y=L-w,Z=N-T,X=Y*H-B*Z;if(1e-6>Math.abs(X))return null;var et=((o-w)*Z-Y*(v-T))/X;return et<0||et>1?null:new th(et*B+o,et*H+v)}function projPtOnLine(o,v,_){var x=new th;th.sub(x,_,v),x.normalize();var w=new th;return th.sub(w,o,v),w.dot(x)}function addToPoly(o,v){var _=o[o.length-1];_&&_[0]===v[0]&&_[1]===v[1]||o.push(v)}function splitPolygonByLine(o,v,_){for(var x=o.length,w=[],T=0;T<x;T++){var L=o[T],N=o[(T+1)%x],B=dividePath_lineLineIntersect(L[0],L[1],N[0],N[1],v.x,v.y,_.x,_.y);B&&w.push({projPt:projPtOnLine(B,v,_),pt:B,idx:T})}if(w.length<2)return[{points:o},{points:o}];w.sort(function(o,v){return o.projPt-v.projPt});var H=w[0],Y=w[w.length-1];if(Y.idx<H.idx){var Z=H;H=Y,Y=Z}for(var X=[H.pt.x,H.pt.y],et=[Y.pt.x,Y.pt.y],en=[X],er=[et],T=H.idx+1;T<=Y.idx;T++)addToPoly(en,o[T].slice());addToPoly(en,et),addToPoly(en,X);for(var T=Y.idx+1;T<=H.idx+x;T++)addToPoly(er,o[T%x].slice());return addToPoly(er,X),addToPoly(er,et),[{points:en},{points:er}]}function binaryDividePolygon(o){var v=o.points,_=[],x=[];fromPoints(v,_,x);var w=new tS(_[0],_[1],x[0]-_[0],x[1]-_[1]),T=w.width,L=w.height,N=w.x,B=w.y,H=new th,Y=new th;return T>L?(H.x=Y.x=N+T/2,H.y=B,Y.y=B+L):(H.y=Y.y=B+L/2,H.x=N,Y.x=N+T),splitPolygonByLine(v,H,Y)}function binaryDivideRecursive(o,v,_,x){if(1===_)x.push(v);else{var w=Math.floor(_/2),T=o(v);binaryDivideRecursive(o,T[0],w,x),binaryDivideRecursive(o,T[1],_-w,x)}return x}function dividePath_clone(o,v){for(var _=[],x=0;x<v;x++)_.push(clonePath(o));return _}function copyPathProps(o,v){v.setStyle(o.style),v.z=o.z,v.z2=o.z2,v.zlevel=o.zlevel}function polygonConvert(o){for(var v=[],_=0;_<o.length;)v.push([o[_++],o[_++]]);return v}function split(o,v){var _,x=[],w=o.shape;switch(o.type){case"rect":divideRect(w,v,x),_=rI;break;case"sector":divideSector(w,v,x),_=aq;break;case"circle":divideSector({r0:0,r:w.r,startAngle:0,endAngle:2*Math.PI,cx:w.cx,cy:w.cy},v,x),_=aq;break;default:var T=o.getComputedTransform(),L=T?Math.sqrt(Math.max(T[0]*T[0]+T[1]*T[1],T[2]*T[2]+T[3]*T[3])):1,N=map(pathToPolygons(o.getUpdatedPathProxy(),L),function(o){return polygonConvert(o)}),B=N.length;if(0===B)binaryDivideRecursive(binaryDividePolygon,{points:N[0]},v,x);else if(B===v)for(var H=0;H<B;H++)x.push({points:N[H]});else{var Y=0,Z=map(N,function(o){var v=[],_=[];fromPoints(o,v,_);var x=(_[1]-v[1])*(_[0]-v[0]);return Y+=x,{poly:o,area:x}});Z.sort(function(o,v){return v.area-o.area});for(var X=v,H=0;H<B;H++){var et=Z[H];if(X<=0)break;var en=H===B-1?X:Math.ceil(et.area/Y*v);en<0||(binaryDivideRecursive(binaryDividePolygon,{points:et.poly},en,x),X-=en)}}_=aJ}if(!_)return dividePath_clone(o,v);for(var er=[],H=0;H<x.length;H++){var ei=new _;ei.setShape(x[H]),copyPathProps(o,ei),er.push(ei)}return er}function alignSubpath(o,v){var _=o.length,x=v.length;if(_===x)return[o,v];for(var w=[],T=[],L=_<x?o:v,N=Math.min(_,x),B=Math.abs(x-_)/6,H=Math.ceil(B/((N-2)/6))+1,Y=[L[0],L[1]],Z=B,X=2;X<N;){var et=L[X-2],en=L[X-1],er=L[X++],ei=L[X++],ea=L[X++],eo=L[X++],el=L[X++],eu=L[X++];if(Z<=0){Y.push(er,ei,ea,eo,el,eu);continue}for(var ec=Math.min(Z,H-1)+1,ed=1;ed<=ec;ed++){var eh=ed/ec;cubicSubdivide(et,er,ea,el,eh,w),cubicSubdivide(en,ei,eo,eu,eh,T),et=w[3],en=T[3],Y.push(w[1],T[1],w[2],T[2],et,en),er=w[5],ei=T[5],ea=w[6],eo=T[6]}Z-=ec-1}return L===o?[Y,v]:[o,Y]}function createSubpath(o,v){for(var _=o.length,x=o[_-2],w=o[_-1],T=[],L=0;L<v.length;)T[L++]=x,T[L++]=w;return T}function alignBezierCurves(o,v){for(var _,x,w,T=[],L=[],N=0;N<Math.max(o.length,v.length);N++){var B=o[N],H=v[N],Y=void 0,Z=void 0;B?H?(Y=(_=alignSubpath(B,H))[0],Z=_[1],x=Y,w=Z):(Z=createSubpath(w||B,B),Y=B):(Y=createSubpath(x||H,H),Z=H),T.push(Y),L.push(Z)}return[T,L]}function morphPath_centroid(o){for(var v=0,_=0,x=0,w=o.length,T=0,L=w-2;T<w;L=T,T+=2){var N=o[L],B=o[L+1],H=o[T],Y=o[T+1],Z=N*Y-H*B;v+=Z,_+=(N+H)*Z,x+=(B+Y)*Z}return 0===v?[o[0]||0,o[1]||0]:[_/v/3,x/v/3,v]}function findBestRingOffset(o,v,_,x){for(var w=(o.length-2)/6,T=1/0,L=0,N=o.length,B=N-2,H=0;H<w;H++){for(var Y=6*H,Z=0,X=0;X<N;X+=2){var et=0===X?Y:(Y+X-2)%B+2,en=o[et]-_[0],er=o[et+1]-_[1],ei=v[X]-x[0],ea=v[X+1]-x[1],eo=ei-en,el=ea-er;Z+=eo*eo+el*el}Z<T&&(T=Z,L=H)}return L}function reverse(o){for(var v=[],_=o.length,x=0;x<_;x+=2)v[x]=o[_-x-2],v[x+1]=o[_-x-1];return v}function findBestMorphingRotation(o,v,_,x){for(var w,T=[],L=0;L<o.length;L++){var N=o[L],B=v[L],H=morphPath_centroid(N),Y=morphPath_centroid(B);null==w&&(w=H[2]<0!=Y[2]<0);var Z=[],X=[],et=0,en=1/0,er=[],ei=N.length;w&&(N=reverse(N));for(var ea=6*findBestRingOffset(N,B,H,Y),eo=ei-2,el=0;el<eo;el+=2){var eu=(ea+el)%eo+2;Z[el+2]=N[eu]-H[0],Z[el+3]=N[eu+1]-H[1]}if(Z[0]=N[ea]-H[0],Z[1]=N[ea+1]-H[1],_>0)for(var ec=x/_,ed=-x/2;ed<=x/2;ed+=ec){for(var eh=Math.sin(ed),ep=Math.cos(ed),ef=0,el=0;el<N.length;el+=2){var eg=Z[el],em=Z[el+1],ey=B[el]-Y[0],ev=B[el+1]-Y[1],e_=ey*ep-ev*eh,eb=ey*eh+ev*ep;er[el]=e_,er[el+1]=eb;var eS=e_-eg,ex=eb-em;ef+=eS*eS+ex*ex}if(ef<en){en=ef,et=ed;for(var ew=0;ew<er.length;ew++)X[ew]=er[ew]}}else for(var eC=0;eC<ei;eC+=2)X[eC]=B[eC]-Y[0],X[eC+1]=B[eC+1]-Y[1];T.push({from:Z,to:X,fromCp:H,toCp:Y,rotation:-et})}return T}function isCombineMorphing(o){return o.__isCombineMorphing}var mM="__mOriginal_";function saveAndModifyMethod(o,v,_){var x=mM+v,w=o[x]||o[v];o[x]||(o[x]=o[v]);var T=_.replace,L=_.after,N=_.before;o[v]=function(){var o,v=arguments;return N&&N.apply(this,v),o=T?T.apply(this,v):w.apply(this,v),L&&L.apply(this,v),o}}function restoreMethod(o,v){var _=mM+v;o[_]&&(o[v]=o[_],o[_]=null)}function applyTransformOnBeziers(o,v){for(var _=0;_<o.length;_++)for(var x=o[_],w=0;w<x.length;){var T=x[w],L=x[w+1];x[w++]=v[0]*T+v[2]*L+v[4],x[w++]=v[1]*T+v[3]*L+v[5]}}function prepareMorphPath(o,v){var _=o.getUpdatedPathProxy(),x=v.getUpdatedPathProxy(),w=alignBezierCurves(pathToBezierCurves(_),pathToBezierCurves(x)),T=w[0],L=w[1],N=o.getComputedTransform(),B=v.getComputedTransform();function updateIdentityTransform(){this.transform=null}N&&applyTransformOnBeziers(T,N),B&&applyTransformOnBeziers(L,B),saveAndModifyMethod(v,"updateTransform",{replace:updateIdentityTransform}),v.transform=null;var H=findBestMorphingRotation(T,L,10,Math.PI),Y=[];saveAndModifyMethod(v,"buildPath",{replace:function(o){for(var _=v.__morphT,x=1-_,w=[],T=0;T<H.length;T++){var L=H[T],N=L.from,B=L.to,Z=L.rotation*_,X=L.fromCp,et=L.toCp,en=Math.sin(Z),er=Math.cos(Z);lerp(w,X,et,_);for(var ei=0;ei<N.length;ei+=2){var ea=N[ei],eo=N[ei+1],el=B[ei],eu=B[ei+1],ec=ea*x+el*_,ed=eo*x+eu*_;Y[ei]=ec*er-ed*en+w[0],Y[ei+1]=ec*en+ed*er+w[1]}var eh=Y[0],ep=Y[1];o.moveTo(eh,ep);for(var ei=2;ei<N.length;){var el=Y[ei++],eu=Y[ei++],ef=Y[ei++],eg=Y[ei++],em=Y[ei++],ey=Y[ei++];eh===el&&ep===eu&&ef===em&&eg===ey?o.lineTo(em,ey):o.bezierCurveTo(el,eu,ef,eg,em,ey),eh=em,ep=ey}}}})}function morphPath(o,v,_){if(!o||!v)return v;var x=_.done,w=_.during;function restoreToPath(){restoreMethod(v,"buildPath"),restoreMethod(v,"updateTransform"),v.__morphT=-1,v.createPathProxy(),v.dirtyShape()}return prepareMorphPath(o,v),v.__morphT=0,v.animateTo({__morphT:1},util_defaults({during:function(o){v.dirtyShape(),w&&w(o)},done:function(){restoreToPath(),x&&x()}},_)),v}function hilbert(o,v,_,x,w,T){o=w===_?0:Math.round(32767*(o-_)/(w-_)),v=T===x?0:Math.round(32767*(v-x)/(T-x));for(var L,N=0,B=32768;B>0;B/=2){var H=0,Y=0;(o&B)>0&&(H=1),(v&B)>0&&(Y=1),N+=B*B*(3*H^Y),0===Y&&(1===H&&(o=B-1-o,v=B-1-v),L=o,o=v,v=L)}return N}function sortPaths(o){var v=1/0,_=1/0,x=-1/0,w=-1/0,T=map(o,function(o){var T=o.getBoundingRect(),L=o.getComputedTransform(),N=T.x+T.width/2+(L?L[4]:0),B=T.y+T.height/2+(L?L[5]:0);return v=Math.min(N,v),_=Math.min(B,_),x=Math.max(N,x),w=Math.max(B,w),[N,B]});return map(T,function(T,L){return{cp:T,z:hilbert(T[0],T[1],v,_,x,w),path:o[L]}}).sort(function(o,v){return o.z-v.z}).map(function(o){return o.path})}function defaultDividePath(o){return split(o.path,o.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(o,v,_){var x=[];function addFromPath(o){for(var v=0;v<o.length;v++){var _=o[v];isCombineMorphing(_)?addFromPath(_.childrenRef()):_ instanceof rv&&x.push(_)}}addFromPath(o);var w=x.length;if(!w)return createEmptyReturn();var T=(_.dividePath||defaultDividePath)({path:v,count:w});if(T.length!==w)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();x=sortPaths(x),T=sortPaths(T);for(var L=_.done,N=_.during,B=_.individualDelay,H=new no,Y=0;Y<w;Y++){var Z=x[Y],X=T[Y];X.parent=v,X.copyTransform(H),B||prepareMorphPath(Z,X)}function addToSubPathListToZr(o){for(var v=0;v<T.length;v++)T[v].addSelfToZr(o)}function restoreToPath(){v.__isCombineMorphing=!1,v.__morphT=-1,v.childrenRef=null,restoreMethod(v,"addSelfToZr"),restoreMethod(v,"removeSelfFromZr")}v.__isCombineMorphing=!0,v.childrenRef=function(){return T},saveAndModifyMethod(v,"addSelfToZr",{after:function(o){addToSubPathListToZr(o)}}),saveAndModifyMethod(v,"removeSelfFromZr",{after:function(o){for(var v=0;v<T.length;v++)T[v].removeSelfFromZr(o)}});var et=T.length;if(B)for(var en=et,eachDone=function(){0==--en&&(restoreToPath(),L&&L())},Y=0;Y<et;Y++){var er=B?util_defaults({delay:(_.delay||0)+B(Y,et,x[Y],T[Y]),done:eachDone},_):_;morphPath(x[Y],T[Y],er)}else v.__morphT=0,v.animateTo({__morphT:1},util_defaults({during:function(o){for(var _=0;_<et;_++){var x=T[_];x.__morphT=v.__morphT,x.dirtyShape()}N&&N(o)},done:function(){restoreToPath();for(var v=0;v<o.length;v++)restoreMethod(o[v],"updateTransform");L&&L()}},_));return v.__zr&&addToSubPathListToZr(v.__zr),{fromIndividuals:x,toIndividuals:T,count:et}}function separateMorph(o,v,_){var x=v.length,w=[],T=_.dividePath||defaultDividePath;function addFromPath(o){for(var v=0;v<o.length;v++){var _=o[v];isCombineMorphing(_)?addFromPath(_.childrenRef()):_ instanceof rv&&w.push(_)}}if(isCombineMorphing(o)){addFromPath(o.childrenRef());var L=w.length;if(L<x)for(var N=0,B=L;B<x;B++)w.push(clonePath(w[N++%L]));w.length=x}else{w=T({path:o,count:x});for(var H=o.getComputedTransform(),B=0;B<w.length;B++)w[B].setLocalTransform(H);if(w.length!==x)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}w=sortPaths(w),v=sortPaths(v);for(var Y=_.individualDelay,B=0;B<x;B++){var Z=Y?util_defaults({delay:(_.delay||0)+Y(B,x,w[B],v[B])},_):_;morphPath(w[B],v[B],Z)}return{fromIndividuals:w,toIndividuals:v,count:v.length}}function prepareMorphBatches(o,v){for(var _=[],x=o.length,w=0;w<x;w++)_.push({one:o[w],many:[]});for(var w=0;w<v.length;w++){var T=v[w].length,L=void 0;for(L=0;L<T;L++)_[L%x].many.push(v[w][L])}for(var N=0,w=x-1;w>=0;w--)if(!_[w].many.length){var B=_[N].many;if(B.length<=1){if(!N)return _;N=0}var T=B.length,H=Math.ceil(T/2);_[w].many=B.slice(H,T),_[N].many=B.slice(0,H),N++}return _}var mP={clone:function(o){for(var v=[],_=1-Math.pow(1-o.path.style.opacity,1/o.count),x=0;x<o.count;x++){var w=clonePath(o.path);w.setStyle("opacity",_),v.push(w)}return v},split:null};function applyMorphAnimation(o,v,_,x,w,T){if(o.length&&v.length){var L,N,B=getAnimationConfig("update",x,w);if(B&&B.duration>0){var H=x.getModel("universalTransition").get("delay"),Y=Object.assign({setToFinal:!0},B);util_isArray(o[0])&&(L=o,N=v),util_isArray(v[0])&&(L=v,N=o);for(var Z=L?L===o:o.length>v.length,X=L?prepareMorphBatches(N,L):prepareMorphBatches(Z?v:o,[Z?o:v]),et=0,en=0;en<X.length;en++)et+=X[en].many.length;for(var er=0,en=0;en<X.length;en++)morphOneBatch(X[en],Z,er,et),er+=X[en].many.length}}function morphOneBatch(o,v,x,w,L){var N=o.many,B=o.one;if(1!==N.length||L)for(var Z=util_defaults({dividePath:mP[_],individualDelay:H&&function(o,v,_,T){return H(o+x,w)}},Y),X=v?combineMorph(N,B,Z):separateMorph(B,N,Z),et=X.fromIndividuals,en=X.toIndividuals,er=et.length,ei=0;ei<er;ei++){var ea=H?util_defaults({delay:H(ei,er)},Y):Y;T(et[ei],en[ei],v?N[ei]:o.one,v?o.one:N[ei],ea)}else{var eo=v?N[0]:B,el=v?B:N[0];if(isCombineMorphing(eo))morphOneBatch({many:[eo],one:el},!0,x,w,!0);else{var ea=H?util_defaults({delay:H(x,w)},Y):Y;morphPath(eo,el,ea),T(eo,el,eo,el,ea)}}}}function getPathList(o){if(!o)return[];if(util_isArray(o)){for(var v=[],_=0;_<o.length;_++)v.push(getPathList(o[_]));return v}var x=[];return o.traverse(function(o){o instanceof rv&&!o.disableMorphing&&!o.invisible&&!o.ignore&&x.push(o)}),x}var mI=makeInner();function getGroupIdDimension(o){for(var v=o.dimensions,_=0;_<v.length;_++){var x=o.getDimensionInfo(v[_]);if(x&&0===x.otherDims.itemGroupId)return v[_]}}function flattenDataDiffItems(o){var v=[];return util_each(o,function(o){var _=o.data;if(!(_.count()>1e4))for(var x=_.getIndices(),w=getGroupIdDimension(_),T=0;T<x.length;T++)v.push({dataGroupId:o.dataGroupId,data:_,dim:o.dim||w,divide:o.divide,dataIndex:T})}),v}function fadeInElement(o,v,_){o.traverse(function(o){o instanceof rv&&initProps(o,{style:{opacity:0}},v,{dataIndex:_,isFrom:!0})})}function universalTransition_removeEl(o){if(o.parent){var v=o.getComputedTransform();o.setLocalTransform(v),o.parent.remove(o)}}function stopAnimation(o){o.stopAnimation(),o.isGroup&&o.traverse(function(o){o.stopAnimation()})}function animateElementStyles(o,v,_){var x=getAnimationConfig("update",_,v);x&&o.traverse(function(o){if(o instanceof nz){var v=getOldStyle(o);v&&o.animateFrom({style:v},x)}})}function isAllIdSame(o,v){var _=o.length;if(_!==v.length)return!1;for(var x=0;x<_;x++){var w=o[x],T=v[x];if(w.data.getId(w.dataIndex)!==T.data.getId(T.dataIndex))return!1}return!0}function transitionBetween(o,v,_){var x=flattenDataDiffItems(o),w=flattenDataDiffItems(v);function updateMorphingPathProps(o,v,_,x,w){(_||o)&&v.animateFrom({style:_&&_!==o?extend(extend({},_.style),o.style):o.style},w)}function findKeyDim(o){for(var v=0;v<o.length;v++)if(o[v].dim)return o[v].dim}var T=findKeyDim(x),L=findKeyDim(w),N=!1;function createKeyGetter(o,v){return function(_){var x=_.data,w=_.dataIndex;if(v)return x.getId(w);var N=_.dataGroupId,B=o?T||L:L||T,H=B&&x.getDimensionInfo(B),Y=H&&H.ordinalMeta;if(H){var Z=x.get(H.name,w);return Y&&Y.categories[Z]||Z+""}var X=x.getRawDataItem(w);return X&&X.groupId?X.groupId+"":N||x.getId(w)}}var B=isAllIdSame(x,w),H={};if(!B)for(var Y=0;Y<w.length;Y++){var Z=w[Y],X=Z.data.getItemGraphicEl(Z.dataIndex);X&&(H[X.id]=!0)}function updateOneToOne(o,v){var _=x[v],T=w[o],L=T.data.hostModel,B=_.data.getItemGraphicEl(_.dataIndex),Y=T.data.getItemGraphicEl(T.dataIndex);if(B===Y){Y&&animateElementStyles(Y,T.dataIndex,L);return}B&&H[B.id]||!Y||(stopAnimation(Y),B?(stopAnimation(B),universalTransition_removeEl(B),N=!0,applyMorphAnimation(getPathList(B),getPathList(Y),T.divide,L,o,updateMorphingPathProps)):fadeInElement(Y,L,o))}new ln(x,w,createKeyGetter(!0,B),createKeyGetter(!1,B),null,"multiple").update(updateOneToOne).updateManyToOne(function(o,v){var _=w[o],T=_.data,L=T.hostModel,B=T.getItemGraphicEl(_.dataIndex),Y=filter(map(v,function(o){return x[o].data.getItemGraphicEl(x[o].dataIndex)}),function(o){return o&&o!==B&&!H[o.id]});B&&(stopAnimation(B),Y.length?(util_each(Y,function(o){stopAnimation(o),universalTransition_removeEl(o)}),N=!0,applyMorphAnimation(getPathList(Y),getPathList(B),_.divide,L,o,updateMorphingPathProps)):fadeInElement(B,L,_.dataIndex))}).updateOneToMany(function(o,v){var _=x[v],T=_.data.getItemGraphicEl(_.dataIndex);if(!T||!H[T.id]){var L=filter(map(o,function(o){return w[o].data.getItemGraphicEl(w[o].dataIndex)}),function(o){return o&&o!==T}),B=w[o[0]].data.hostModel;L.length&&(util_each(L,function(o){return stopAnimation(o)}),T?(stopAnimation(T),universalTransition_removeEl(T),N=!0,applyMorphAnimation(getPathList(T),getPathList(L),_.divide,B,o[0],updateMorphingPathProps)):util_each(L,function(v){return fadeInElement(v,B,o[0])}))}}).updateManyToMany(function(o,v){new ln(v,o,function(o){return x[o].data.getId(x[o].dataIndex)},function(o){return w[o].data.getId(w[o].dataIndex)}).update(function(_,x){updateOneToOne(o[_],v[x])}).execute()}).execute(),N&&util_each(v,function(o){var v=o.data.hostModel,x=v&&_.getViewOfSeriesModel(v),w=getAnimationConfig("update",v,0);x&&v.isAnimationEnabled()&&w&&w.duration>0&&x.group.traverse(function(o){o instanceof rv&&!o.animators.length&&o.animateFrom({style:{opacity:0}},w)})})}function getSeriesTransitionKey(o){return o.getModel("universalTransition").get("seriesKey")||o.id}function convertArraySeriesKeyToString(o){return util_isArray(o)?o.sort().join(","):o}function getDivideShapeFromData(o){if(o.hostModel)return o.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(o,v){var _=createHashMap(),x=createHashMap(),w=createHashMap();return util_each(o.oldSeries,function(v,_){var T=o.oldDataGroupIds[_],L=o.oldData[_],N=getSeriesTransitionKey(v),B=convertArraySeriesKeyToString(N);x.set(B,{dataGroupId:T,data:L}),util_isArray(N)&&util_each(N,function(o){w.set(o,{key:B,dataGroupId:T,data:L})})}),util_each(v.updatedSeries,function(o){if(o.isUniversalTransitionEnabled()&&o.isAnimationEnabled()){var v=o.get("dataGroupId"),T=o.getData(),L=getSeriesTransitionKey(o),N=convertArraySeriesKeyToString(L),B=x.get(N);if(B)_.set(N,{oldSeries:[{dataGroupId:B.dataGroupId,divide:getDivideShapeFromData(B.data),data:B.data}],newSeries:[{dataGroupId:v,divide:getDivideShapeFromData(T),data:T}]});else if(util_isArray(L)){var H=[];util_each(L,function(o){var v=x.get(o);v.data&&H.push({dataGroupId:v.dataGroupId,divide:getDivideShapeFromData(v.data),data:v.data})}),H.length&&_.set(N,{oldSeries:H,newSeries:[{dataGroupId:v,data:T,divide:getDivideShapeFromData(T)}]})}else{var Y=w.get(L);if(Y){var Z=_.get(Y.key);Z||(Z={oldSeries:[{dataGroupId:Y.dataGroupId,data:Y.data,divide:getDivideShapeFromData(Y.data)}],newSeries:[]},_.set(Y.key,Z)),Z.newSeries.push({dataGroupId:v,data:T,divide:getDivideShapeFromData(T)})}}}}),_}function querySeries(o,v){for(var _=0;_<o.length;_++)if(null!=v.seriesIndex&&v.seriesIndex===o[_].seriesIndex||null!=v.seriesId&&v.seriesId===o[_].id)return _}function transitionSeriesFromOpt(o,v,_,x){var w=[],T=[];util_each(normalizeToArray(o.from),function(o){var _=querySeries(v.oldSeries,o);_>=0&&w.push({dataGroupId:v.oldDataGroupIds[_],data:v.oldData[_],divide:getDivideShapeFromData(v.oldData[_]),dim:o.dimension})}),util_each(normalizeToArray(o.to),function(o){var x=querySeries(_.updatedSeries,o);if(x>=0){var w=_.updatedSeries[x].getData();T.push({dataGroupId:v.oldDataGroupIds[x],data:w,divide:getDivideShapeFromData(w),dim:o.dimension})}}),w.length>0&&T.length>0&&transitionBetween(w,T,x)}function installUniversalTransition(o){o.registerUpdateLifecycle("series:beforeupdate",function(o,v,_){util_each(normalizeToArray(_.seriesTransition),function(o){util_each(normalizeToArray(o.to),function(o){for(var v=_.updatedSeries,x=0;x<v.length;x++)(null!=o.seriesIndex&&o.seriesIndex===v[x].seriesIndex||null!=o.seriesId&&o.seriesId===v[x].id)&&(v[x][ab]=!0)})})}),o.registerUpdateLifecycle("series:transition",function(o,v,_){var x=mI(v);if(x.oldSeries&&_.updatedSeries&&_.optionChanged){var w=_.seriesTransition;if(w)util_each(normalizeToArray(w),function(o){transitionSeriesFromOpt(o,x,_,v)});else{var T=findTransitionSeriesBatches(x,_);util_each(T.keys(),function(o){var _=T.get(o);transitionBetween(_.oldSeries,_.newSeries,v)})}util_each(_.updatedSeries,function(o){o[ab]&&(o[ab]=!1)})}for(var L=o.getSeries(),N=x.oldSeries=[],B=x.oldDataGroupIds=[],H=x.oldData=[],Y=0;Y<L.length;Y++){var Z=L[Y].getData();1e4>Z.count()&&(N.push(L[Y]),B.push(L[Y].get("dataGroupId")),H.push(Z))}})}use([install]),use([installSVGRenderer_install]),use([install_install,bar_install_install,pie_install_install,scatter_install_install,chart_radar_install_install,map_install_install,tree_install_install,treemap_install_install,graph_install_install,gauge_install_install,funnel_install_install,chart_parallel_install_install,sankey_install_install,boxplot_install_install,candlestick_install_install,effectScatter_install_install,lines_install_install,heatmap_install_install,installPictorialBar_install,themeRiver_install_install,sunburst_install_install,custom_install_install]),use(grid_install_install),use(polar_install_install),use(geo_install_install),use(singleAxis_install_install),use(parallel_install_install),use(calendar_install_install),use(graphic_install_install),use(toolbox_install_install),use(tooltip_install_install),use(axisPointer_install_install),use(brush_install_install),use(title_install_install),use(timeline_install_install),use(installMarkPoint_install),use(installMarkLine_install),use(installMarkArea_install),use(legend_install_install),use(dataZoom_install_install),use(installDataZoomInside_install),use(installDataZoomSlider_install),use(visualMap_install_install),use(installVisualMapContinuous_install),use(installVisualMapPiecewise_install),use(aria_install_install),use(transform_install_install),use(dataset_install_install),use(installUniversalTransition),use(installLabelLayout)},6828:function(o,v,_){"use strict";var x=_(5832),w={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},T={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},L={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},N={};function getStatics(o){return x.isMemo(o)?L:N[o.$$typeof]||w}N[x.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},N[x.Memo]=L;var B=Object.defineProperty,H=Object.getOwnPropertyNames,Y=Object.getOwnPropertySymbols,Z=Object.getOwnPropertyDescriptor,X=Object.getPrototypeOf,et=Object.prototype;function hoistNonReactStatics(o,v,_){if("string"!=typeof v){if(et){var x=X(v);x&&x!==et&&hoistNonReactStatics(o,x,_)}var w=H(v);Y&&(w=w.concat(Y(v)));for(var L=getStatics(o),N=getStatics(v),en=0;en<w.length;++en){var er=w[en];if(!T[er]&&!(_&&_[er])&&!(N&&N[er])&&!(L&&L[er])){var ei=Z(v,er);try{B(o,er,ei)}catch(o){}}}}return o}o.exports=hoistNonReactStatics},2397:function(o,v,_){var x=_(1571)(_(9126),"DataView");o.exports=x},802:function(o,v,_){var x=_(2493),w=_(5485),T=_(1876),L=_(9905),N=_(8682);function Hash(o){var v=-1,_=null==o?0:o.length;for(this.clear();++v<_;){var x=o[v];this.set(x[0],x[1])}}Hash.prototype.clear=x,Hash.prototype.delete=w,Hash.prototype.get=T,Hash.prototype.has=L,Hash.prototype.set=N,o.exports=Hash},7257:function(o,v,_){var x=_(7190),w=_(9226),T=_(204),L=_(4065),N=_(4338);function ListCache(o){var v=-1,_=null==o?0:o.length;for(this.clear();++v<_;){var x=o[v];this.set(x[0],x[1])}}ListCache.prototype.clear=x,ListCache.prototype.delete=w,ListCache.prototype.get=T,ListCache.prototype.has=L,ListCache.prototype.set=N,o.exports=ListCache},3159:function(o,v,_){var x=_(1571)(_(9126),"Map");o.exports=x},8184:function(o,v,_){var x=_(9376),w=_(5393),T=_(7868),L=_(414),N=_(6809);function MapCache(o){var v=-1,_=null==o?0:o.length;for(this.clear();++v<_;){var x=o[v];this.set(x[0],x[1])}}MapCache.prototype.clear=x,MapCache.prototype.delete=w,MapCache.prototype.get=T,MapCache.prototype.has=L,MapCache.prototype.set=N,o.exports=MapCache},484:function(o,v,_){var x=_(1571)(_(9126),"Promise");o.exports=x},4087:function(o,v,_){var x=_(1571)(_(9126),"Set");o.exports=x},1479:function(o,v,_){var x=_(8184),w=_(7454),T=_(8701);function SetCache(o){var v=-1,_=null==o?0:o.length;for(this.__data__=new x;++v<_;)this.add(o[v])}SetCache.prototype.add=SetCache.prototype.push=w,SetCache.prototype.has=T,o.exports=SetCache},9785:function(o,v,_){var x=_(7257),w=_(9456),T=_(1411),L=_(1567),N=_(5777),B=_(8583);function Stack(o){var v=this.__data__=new x(o);this.size=v.size}Stack.prototype.clear=w,Stack.prototype.delete=T,Stack.prototype.get=L,Stack.prototype.has=N,Stack.prototype.set=B,o.exports=Stack},6062:function(o,v,_){var x=_(9126).Symbol;o.exports=x},953:function(o,v,_){var x=_(9126).Uint8Array;o.exports=x},521:function(o,v,_){var x=_(1571)(_(9126),"WeakMap");o.exports=x},6575:function(o){function apply(o,v,_){switch(_.length){case 0:return o.call(v);case 1:return o.call(v,_[0]);case 2:return o.call(v,_[0],_[1]);case 3:return o.call(v,_[0],_[1],_[2])}return o.apply(v,_)}o.exports=apply},5722:function(o){function arrayEach(o,v){for(var _=-1,x=null==o?0:o.length;++_<x&&!1!==v(o[_],_,o););return o}o.exports=arrayEach},4611:function(o){function arrayFilter(o,v){for(var _=-1,x=null==o?0:o.length,w=0,T=[];++_<x;){var L=o[_];v(L,_,o)&&(T[w++]=L)}return T}o.exports=arrayFilter},3936:function(o,v,_){var x=_(7954);function arrayIncludes(o,v){return!!(null==o?0:o.length)&&x(o,v,0)>-1}o.exports=arrayIncludes},5009:function(o){function arrayIncludesWith(o,v,_){for(var x=-1,w=null==o?0:o.length;++x<w;)if(_(v,o[x]))return!0;return!1}o.exports=arrayIncludesWith},5573:function(o,v,_){var x=_(7434),w=_(4130),T=_(4637),L=_(9529),N=_(1154),B=_(2290),H=Object.prototype.hasOwnProperty;function arrayLikeKeys(o,v){var _=T(o),Y=!_&&w(o),Z=!_&&!Y&&L(o),X=!_&&!Y&&!Z&&B(o),et=_||Y||Z||X,en=et?x(o.length,String):[],er=en.length;for(var ei in o)(v||H.call(o,ei))&&!(et&&("length"==ei||Z&&("offset"==ei||"parent"==ei)||X&&("buffer"==ei||"byteLength"==ei||"byteOffset"==ei)||N(ei,er)))&&en.push(ei);return en}o.exports=arrayLikeKeys},5089:function(o){function arrayMap(o,v){for(var _=-1,x=null==o?0:o.length,w=Array(x);++_<x;)w[_]=v(o[_],_,o);return w}o.exports=arrayMap},7219:function(o){function arrayPush(o,v){for(var _=-1,x=v.length,w=o.length;++_<x;)o[w+_]=v[_];return o}o.exports=arrayPush},9026:function(o){function arraySome(o,v){for(var _=-1,x=null==o?0:o.length;++_<x;)if(v(o[_],_,o))return!0;return!1}o.exports=arraySome},4100:function(o){function asciiToArray(o){return o.split("")}o.exports=asciiToArray},1170:function(o,v,_){var x=_(7373),w=_(8747);function assignMergeValue(o,v,_){(void 0===_||w(o[v],_))&&(void 0!==_||v in o)||x(o,v,_)}o.exports=assignMergeValue},4787:function(o,v,_){var x=_(7373),w=_(8747),T=Object.prototype.hasOwnProperty;function assignValue(o,v,_){var L=o[v];T.call(o,v)&&w(L,_)&&(void 0!==_||v in o)||x(o,v,_)}o.exports=assignValue},7117:function(o,v,_){var x=_(8747);function assocIndexOf(o,v){for(var _=o.length;_--;)if(x(o[_][0],v))return _;return -1}o.exports=assocIndexOf},9236:function(o,v,_){var x=_(9017),w=_(3674);function baseAssign(o,v){return o&&x(v,w(v),o)}o.exports=baseAssign},3573:function(o,v,_){var x=_(9017),w=_(866);function baseAssignIn(o,v){return o&&x(v,w(v),o)}o.exports=baseAssignIn},7373:function(o,v,_){var x=_(8948);function baseAssignValue(o,v,_){"__proto__"==v&&x?x(o,v,{configurable:!0,enumerable:!0,value:_,writable:!0}):o[v]=_}o.exports=baseAssignValue},3368:function(o,v,_){var x=_(9785),w=_(5722),T=_(4787),L=_(9236),N=_(3573),B=_(8668),H=_(5060),Y=_(2396),Z=_(5186),X=_(7590),et=_(907),en=_(4546),er=_(3075),ei=_(6769),ea=_(2185),eo=_(4637),el=_(9529),eu=_(5121),ec=_(5533),ed=_(1704),eh=_(3674),ep=_(866),ef="[object Arguments]",eg="[object Function]",em="[object Object]",ey={};function baseClone(o,v,_,ev,e_,eb){var eS,ex=1&v,ew=2&v,eC=4&v;if(_&&(eS=e_?_(o,ev,e_,eb):_(o)),void 0!==eS)return eS;if(!ec(o))return o;var eT=eo(o);if(eT){if(eS=er(o),!ex)return H(o,eS)}else{var eM=en(o),eP=eM==eg||"[object GeneratorFunction]"==eM;if(el(o))return B(o,ex);if(eM==em||eM==ef||eP&&!e_){if(eS=ew||eP?{}:ea(o),!ex)return ew?Z(o,N(eS,o)):Y(o,L(eS,o))}else{if(!ey[eM])return e_?o:{};eS=ei(o,eM,ex)}}eb||(eb=new x);var eI=eb.get(o);if(eI)return eI;eb.set(o,eS),ed(o)?o.forEach(function(x){eS.add(baseClone(x,v,_,x,o,eb))}):eu(o)&&o.forEach(function(x,w){eS.set(w,baseClone(x,v,_,w,o,eb))});var eD=eC?ew?et:X:ew?ep:eh,eE=eT?void 0:eD(o);return w(eE||o,function(x,w){eE&&(x=o[w=x]),T(eS,w,baseClone(x,v,_,w,o,eb))}),eS}ey[ef]=ey["[object Array]"]=ey["[object ArrayBuffer]"]=ey["[object DataView]"]=ey["[object Boolean]"]=ey["[object Date]"]=ey["[object Float32Array]"]=ey["[object Float64Array]"]=ey["[object Int8Array]"]=ey["[object Int16Array]"]=ey["[object Int32Array]"]=ey["[object Map]"]=ey["[object Number]"]=ey[em]=ey["[object RegExp]"]=ey["[object Set]"]=ey["[object String]"]=ey["[object Symbol]"]=ey["[object Uint8Array]"]=ey["[object Uint8ClampedArray]"]=ey["[object Uint16Array]"]=ey["[object Uint32Array]"]=!0,ey["[object Error]"]=ey[eg]=ey["[object WeakMap]"]=!1,o.exports=baseClone},8278:function(o,v,_){var x=_(5533),w=Object.create,T=function(){function object(){}return function(o){if(!x(o))return{};if(w)return w(o);object.prototype=o;var v=new object;return object.prototype=void 0,v}}();o.exports=T},4145:function(o,v,_){var x=_(1479),w=_(3936),T=_(5009),L=_(5089),N=_(7460),B=_(650);function baseDifference(o,v,_,H){var Y=-1,Z=w,X=!0,et=o.length,en=[],er=v.length;if(!et)return en;_&&(v=L(v,N(_))),H?(Z=T,X=!1):v.length>=200&&(Z=B,X=!1,v=new x(v));e:for(;++Y<et;){var ei=o[Y],ea=null==_?ei:_(ei);if(ei=H||0!==ei?ei:0,X&&ea==ea){for(var eo=er;eo--;)if(v[eo]===ea)continue e;en.push(ei)}else Z(v,ea,H)||en.push(ei)}return en}o.exports=baseDifference},9313:function(o,v,_){var x=_(8899),w=_(4433)(x);o.exports=w},838:function(o,v,_){var x=_(1580);function baseExtremum(o,v,_){for(var w=-1,T=o.length;++w<T;){var L=o[w],N=v(L);if(null!=N&&(void 0===B?N==N&&!x(N):_(N,B)))var B=N,H=L}return H}o.exports=baseExtremum},8115:function(o){function baseFindIndex(o,v,_,x){for(var w=o.length,T=_+(x?1:-1);x?T--:++T<w;)if(v(o[T],T,o))return T;return -1}o.exports=baseFindIndex},3255:function(o,v,_){var x=_(7219),w=_(4981);function baseFlatten(o,v,_,T,L){var N=-1,B=o.length;for(_||(_=w),L||(L=[]);++N<B;){var H=o[N];v>0&&_(H)?v>1?baseFlatten(H,v-1,_,T,L):x(L,H):T||(L[L.length]=H)}return L}o.exports=baseFlatten},3923:function(o,v,_){var x=_(9411)();o.exports=x},8899:function(o,v,_){var x=_(3923),w=_(3674);function baseForOwn(o,v){return o&&x(o,v,w)}o.exports=baseForOwn},4369:function(o,v,_){var x=_(5226),w=_(9501);function baseGet(o,v){v=x(v,o);for(var _=0,T=v.length;null!=o&&_<T;)o=o[w(v[_++])];return _&&_==T?o:void 0}o.exports=baseGet},4352:function(o,v,_){var x=_(7219),w=_(4637);function baseGetAllKeys(o,v,_){var T=v(o);return w(o)?T:x(T,_(o))}o.exports=baseGetAllKeys},4402:function(o,v,_){var x=_(6062),w=_(7736),T=_(2608),L=x?x.toStringTag:void 0;function baseGetTag(o){return null==o?void 0===o?"[object Undefined]":"[object Null]":L&&L in Object(o)?w(o):T(o)}o.exports=baseGetTag},1227:function(o){function baseGt(o,v){return o>v}o.exports=baseGt},4646:function(o){var v=Object.prototype.hasOwnProperty;function baseHas(o,_){return null!=o&&v.call(o,_)}o.exports=baseHas},5286:function(o){function baseHasIn(o,v){return null!=o&&v in Object(o)}o.exports=baseHasIn},7954:function(o,v,_){var x=_(8115),w=_(2963),T=_(1505);function baseIndexOf(o,v,_){return v==v?T(o,v,_):x(o,w,_)}o.exports=baseIndexOf},8800:function(o,v,_){var x=_(4402),w=_(3544);function baseIsArguments(o){return w(o)&&"[object Arguments]"==x(o)}o.exports=baseIsArguments},5808:function(o,v,_){var x=_(4402),w=_(3544);function baseIsDate(o){return w(o)&&"[object Date]"==x(o)}o.exports=baseIsDate},4138:function(o,v,_){var x=_(2327),w=_(3544);function baseIsEqual(o,v,_,T,L){return o===v||(null!=o&&null!=v&&(w(o)||w(v))?x(o,v,_,T,baseIsEqual,L):o!=o&&v!=v)}o.exports=baseIsEqual},2327:function(o,v,_){var x=_(9785),w=_(5570),T=_(7320),L=_(8285),N=_(4546),B=_(4637),H=_(9529),Y=_(2290),Z="[object Arguments]",X="[object Array]",et="[object Object]",en=Object.prototype.hasOwnProperty;function baseIsEqualDeep(o,v,_,er,ei,ea){var eo=B(o),el=B(v),eu=eo?X:N(o),ec=el?X:N(v);eu=eu==Z?et:eu,ec=ec==Z?et:ec;var ed=eu==et,eh=ec==et,ep=eu==ec;if(ep&&H(o)){if(!H(v))return!1;eo=!0,ed=!1}if(ep&&!ed)return ea||(ea=new x),eo||Y(o)?w(o,v,_,er,ei,ea):T(o,v,eu,_,er,ei,ea);if(!(1&_)){var ef=ed&&en.call(o,"__wrapped__"),eg=eh&&en.call(v,"__wrapped__");if(ef||eg){var em=ef?o.value():o,ey=eg?v.value():v;return ea||(ea=new x),ei(em,ey,_,er,ea)}}return!!ep&&(ea||(ea=new x),L(o,v,_,er,ei,ea))}o.exports=baseIsEqualDeep},6668:function(o,v,_){var x=_(4546),w=_(3544);function baseIsMap(o){return w(o)&&"[object Map]"==x(o)}o.exports=baseIsMap},8146:function(o,v,_){var x=_(9785),w=_(4138);function baseIsMatch(o,v,_,T){var L=_.length,N=L,B=!T;if(null==o)return!N;for(o=Object(o);L--;){var H=_[L];if(B&&H[2]?H[1]!==o[H[0]]:!(H[0]in o))return!1}for(;++L<N;){var Y=(H=_[L])[0],Z=o[Y],X=H[1];if(B&&H[2]){if(void 0===Z&&!(Y in o))return!1}else{var et=new x;if(T)var en=T(Z,X,Y,o,v,et);if(!(void 0===en?w(X,Z,3,T,et):en))return!1}}return!0}o.exports=baseIsMatch},2963:function(o){function baseIsNaN(o){return o!=o}o.exports=baseIsNaN},4438:function(o,v,_){var x=_(5199),w=_(9648),T=_(5533),L=_(2062),N=/^\[object .+?Constructor\]$/,B=Object.prototype,H=Function.prototype.toString,Y=B.hasOwnProperty,Z=RegExp("^"+H.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(o){return!(!T(o)||w(o))&&(x(o)?Z:N).test(L(o))}o.exports=baseIsNative},3344:function(o,v,_){var x=_(4402),w=_(3544);function baseIsRegExp(o){return w(o)&&"[object RegExp]"==x(o)}o.exports=baseIsRegExp},2522:function(o,v,_){var x=_(4546),w=_(3544);function baseIsSet(o){return w(o)&&"[object Set]"==x(o)}o.exports=baseIsSet},6599:function(o,v,_){var x=_(4402),w=_(8705),T=_(3544),L={};function baseIsTypedArray(o){return T(o)&&w(o.length)&&!!L[x(o)]}L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L["[object Arguments]"]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object Boolean]"]=L["[object DataView]"]=L["[object Date]"]=L["[object Error]"]=L["[object Function]"]=L["[object Map]"]=L["[object Number]"]=L["[object Object]"]=L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object WeakMap]"]=!1,o.exports=baseIsTypedArray},7497:function(o,v,_){var x=_(6579),w=_(8467),T=_(2418),L=_(4637),N=_(2922);function baseIteratee(o){return"function"==typeof o?o:null==o?T:"object"==typeof o?L(o)?w(o[0],o[1]):x(o):N(o)}o.exports=baseIteratee},4414:function(o,v,_){var x=_(6124),w=_(5492),T=Object.prototype.hasOwnProperty;function baseKeys(o){if(!x(o))return w(o);var v=[];for(var _ in Object(o))T.call(o,_)&&"constructor"!=_&&v.push(_);return v}o.exports=baseKeys},7768:function(o,v,_){var x=_(5533),w=_(6124),T=_(6955),L=Object.prototype.hasOwnProperty;function baseKeysIn(o){if(!x(o))return T(o);var v=w(o),_=[];for(var N in o)"constructor"==N&&(v||!L.call(o,N))||_.push(N);return _}o.exports=baseKeysIn},3928:function(o,v,_){var x=_(9313),w=_(7057);function baseMap(o,v){var _=-1,T=w(o)?Array(o.length):[];return x(o,function(o,x,w){T[++_]=v(o,x,w)}),T}o.exports=baseMap},6579:function(o,v,_){var x=_(8146),w=_(6055),T=_(7161);function baseMatches(o){var v=w(o);return 1==v.length&&v[0][2]?T(v[0][0],v[0][1]):function(_){return _===o||x(_,o,v)}}o.exports=baseMatches},8467:function(o,v,_){var x=_(4138),w=_(2029),T=_(1916),L=_(9228),N=_(8381),B=_(7161),H=_(9501);function baseMatchesProperty(o,v){return L(o)&&N(v)?B(H(o),v):function(_){var L=w(_,o);return void 0===L&&L===v?T(_,o):x(v,L,3)}}o.exports=baseMatchesProperty},2220:function(o,v,_){var x=_(9785),w=_(1170),T=_(3923),L=_(7657),N=_(5533),B=_(866),H=_(669);function baseMerge(o,v,_,Y,Z){o!==v&&T(v,function(T,B){if(Z||(Z=new x),N(T))L(o,v,B,_,baseMerge,Y,Z);else{var X=Y?Y(H(o,B),T,B+"",o,v,Z):void 0;void 0===X&&(X=T),w(o,B,X)}},B)}o.exports=baseMerge},7657:function(o,v,_){var x=_(1170),w=_(8668),T=_(844),L=_(5060),N=_(2185),B=_(4130),H=_(4637),Y=_(6282),Z=_(9529),X=_(5199),et=_(5533),en=_(501),er=_(2290),ei=_(669),ea=_(4142);function baseMergeDeep(o,v,_,eo,el,eu,ec){var ed=ei(o,_),eh=ei(v,_),ep=ec.get(eh);if(ep){x(o,_,ep);return}var ef=eu?eu(ed,eh,_+"",o,v,ec):void 0,eg=void 0===ef;if(eg){var em=H(eh),ey=!em&&Z(eh),ev=!em&&!ey&&er(eh);ef=eh,em||ey||ev?H(ed)?ef=ed:Y(ed)?ef=L(ed):ey?(eg=!1,ef=w(eh,!0)):ev?(eg=!1,ef=T(eh,!0)):ef=[]:en(eh)||B(eh)?(ef=ed,B(ed)?ef=ea(ed):(!et(ed)||X(ed))&&(ef=N(eh))):eg=!1}eg&&(ec.set(eh,ef),el(ef,eh,eo,eu,ec),ec.delete(eh)),x(o,_,ef)}o.exports=baseMergeDeep},1592:function(o,v,_){var x=_(3169),w=_(1916);function basePick(o,v){return x(o,v,function(v,_){return w(o,_)})}o.exports=basePick},3169:function(o,v,_){var x=_(4369),w=_(2336),T=_(5226);function basePickBy(o,v,_){for(var L=-1,N=v.length,B={};++L<N;){var H=v[L],Y=x(o,H);_(Y,H)&&w(B,T(H,o),Y)}return B}o.exports=basePickBy},4792:function(o){function baseProperty(o){return function(v){return null==v?void 0:v[o]}}o.exports=baseProperty},5374:function(o,v,_){var x=_(4369);function basePropertyDeep(o){return function(v){return x(v,o)}}o.exports=basePropertyDeep},8314:function(o,v,_){var x=_(2418),w=_(896),T=_(7290);function baseRest(o,v){return T(w(o,v,x),o+"")}o.exports=baseRest},2336:function(o,v,_){var x=_(4787),w=_(5226),T=_(1154),L=_(5533),N=_(9501);function baseSet(o,v,_,B){if(!L(o))return o;v=w(v,o);for(var H=-1,Y=v.length,Z=Y-1,X=o;null!=X&&++H<Y;){var et=N(v[H]),en=_;if("__proto__"===et||"constructor"===et||"prototype"===et)break;if(H!=Z){var er=X[et];void 0===(en=B?B(er,et,X):void 0)&&(en=L(er)?er:T(v[H+1])?[]:{})}x(X,et,en),X=X[et]}return o}o.exports=baseSet},6635:function(o,v,_){var x=_(3860),w=_(8948),T=_(2418),L=w?function(o,v){return w(o,"toString",{configurable:!0,enumerable:!1,value:x(v),writable:!0})}:T;o.exports=L},24:function(o){function baseSlice(o,v,_){var x=-1,w=o.length;v<0&&(v=-v>w?0:w+v),(_=_>w?w:_)<0&&(_+=w),w=v>_?0:_-v>>>0,v>>>=0;for(var T=Array(w);++x<w;)T[x]=o[x+v];return T}o.exports=baseSlice},7434:function(o){function baseTimes(o,v){for(var _=-1,x=Array(o);++_<o;)x[_]=v(_);return x}o.exports=baseTimes},7689:function(o,v,_){var x=_(6062),w=_(5089),T=_(4637),L=_(1580),N=1/0,B=x?x.prototype:void 0,H=B?B.toString:void 0;function baseToString(o){if("string"==typeof o)return o;if(T(o))return w(o,baseToString)+"";if(L(o))return H?H.call(o):"";var v=o+"";return"0"==v&&1/o==-N?"-0":v}o.exports=baseToString},8277:function(o,v,_){var x=_(8290),w=/^\s+/;function baseTrim(o){return o?o.slice(0,x(o)+1).replace(w,""):o}o.exports=baseTrim},7460:function(o){function baseUnary(o){return function(v){return o(v)}}o.exports=baseUnary},9532:function(o,v,_){var x=_(1479),w=_(3936),T=_(5009),L=_(650),N=_(648),B=_(1792);function baseUniq(o,v,_){var H=-1,Y=w,Z=o.length,X=!0,et=[],en=et;if(_)X=!1,Y=T;else if(Z>=200){var er=v?null:N(o);if(er)return B(er);X=!1,Y=L,en=new x}else en=v?[]:et;e:for(;++H<Z;){var ei=o[H],ea=v?v(ei):ei;if(ei=_||0!==ei?ei:0,X&&ea==ea){for(var eo=en.length;eo--;)if(en[eo]===ea)continue e;v&&en.push(ea),et.push(ei)}else Y(en,ea,_)||(en!==et&&en.push(ea),et.push(ei))}return et}o.exports=baseUniq},1726:function(o,v,_){var x=_(5226),w=_(9048),T=_(3463),L=_(9501);function baseUnset(o,v){return v=x(v,o),null==(o=T(o,v))||delete o[L(w(v))]}o.exports=baseUnset},7420:function(o,v,_){var x=_(5089);function baseValues(o,v){return x(v,function(v){return o[v]})}o.exports=baseValues},650:function(o){function cacheHas(o,v){return o.has(v)}o.exports=cacheHas},3614:function(o,v,_){var x=_(2418);function castFunction(o){return"function"==typeof o?o:x}o.exports=castFunction},5226:function(o,v,_){var x=_(4637),w=_(9228),T=_(4461),L=_(4735);function castPath(o,v){return x(o)?o:w(o,v)?[o]:T(L(o))}o.exports=castPath},8531:function(o,v,_){var x=_(24);function castSlice(o,v,_){var w=o.length;return _=void 0===_?w:_,!v&&_>=w?o:x(o,v,_)}o.exports=castSlice},5401:function(o,v,_){var x=_(953);function cloneArrayBuffer(o){var v=new o.constructor(o.byteLength);return new x(v).set(new x(o)),v}o.exports=cloneArrayBuffer},8668:function(o,v,_){o=_.nmd(o);var x=_(9126),w=v&&!v.nodeType&&v,T=w&&o&&!o.nodeType&&o,L=T&&T.exports===w?x.Buffer:void 0,N=L?L.allocUnsafe:void 0;function cloneBuffer(o,v){if(v)return o.slice();var _=o.length,x=N?N(_):new o.constructor(_);return o.copy(x),x}o.exports=cloneBuffer},7890:function(o,v,_){var x=_(5401);function cloneDataView(o,v){var _=v?x(o.buffer):o.buffer;return new o.constructor(_,o.byteOffset,o.byteLength)}o.exports=cloneDataView},6537:function(o){var v=/\w*$/;function cloneRegExp(o){var _=new o.constructor(o.source,v.exec(o));return _.lastIndex=o.lastIndex,_}o.exports=cloneRegExp},40:function(o,v,_){var x=_(6062),w=x?x.prototype:void 0,T=w?w.valueOf:void 0;function cloneSymbol(o){return T?Object(T.call(o)):{}}o.exports=cloneSymbol},844:function(o,v,_){var x=_(5401);function cloneTypedArray(o,v){var _=v?x(o.buffer):o.buffer;return new o.constructor(_,o.byteOffset,o.length)}o.exports=cloneTypedArray},5060:function(o){function copyArray(o,v){var _=-1,x=o.length;for(v||(v=Array(x));++_<x;)v[_]=o[_];return v}o.exports=copyArray},9017:function(o,v,_){var x=_(4787),w=_(7373);function copyObject(o,v,_,T){var L=!_;_||(_={});for(var N=-1,B=v.length;++N<B;){var H=v[N],Y=T?T(_[H],o[H],H,_,o):void 0;void 0===Y&&(Y=o[H]),L?w(_,H,Y):x(_,H,Y)}return _}o.exports=copyObject},2396:function(o,v,_){var x=_(9017),w=_(8493);function copySymbols(o,v){return x(o,w(o),v)}o.exports=copySymbols},5186:function(o,v,_){var x=_(9017),w=_(5029);function copySymbolsIn(o,v){return x(o,w(o),v)}o.exports=copySymbolsIn},3017:function(o,v,_){var x=_(9126)["__core-js_shared__"];o.exports=x},1058:function(o,v,_){var x=_(8314),w=_(9156);function createAssigner(o){return x(function(v,_){var x=-1,T=_.length,L=T>1?_[T-1]:void 0,N=T>2?_[2]:void 0;for(L=o.length>3&&"function"==typeof L?(T--,L):void 0,N&&w(_[0],_[1],N)&&(L=T<3?void 0:L,T=1),v=Object(v);++x<T;){var B=_[x];B&&o(v,B,x,L)}return v})}o.exports=createAssigner},4433:function(o,v,_){var x=_(7057);function createBaseEach(o,v){return function(_,w){if(null==_)return _;if(!x(_))return o(_,w);for(var T=_.length,L=v?T:-1,N=Object(_);(v?L--:++L<T)&&!1!==w(N[L],L,N););return _}}o.exports=createBaseEach},9411:function(o){function createBaseFor(o){return function(v,_,x){for(var w=-1,T=Object(v),L=x(v),N=L.length;N--;){var B=L[o?N:++w];if(!1===_(T[B],B,T))break}return v}}o.exports=createBaseFor},3683:function(o,v,_){var x=_(7497),w=_(7057),T=_(3674);function createFind(o){return function(v,_,L){var N=Object(v);if(!w(v)){var B=x(_,3);v=T(v),_=function(o){return B(N[o],o,N)}}var H=o(v,_,L);return H>-1?N[B?v[H]:H]:void 0}}o.exports=createFind},648:function(o,v,_){var x=_(4087),w=_(9581),T=_(1792),L=x&&1/T(new x([,-0]))[1]==1/0?function(o){return new x(o)}:w;o.exports=L},8016:function(o,v,_){var x=_(501);function customOmitClone(o){return x(o)?void 0:o}o.exports=customOmitClone},8948:function(o,v,_){var x=_(1571),w=function(){try{var o=x(Object,"defineProperty");return o({},"",{}),o}catch(o){}}();o.exports=w},5570:function(o,v,_){var x=_(1479),w=_(9026),T=_(650);function equalArrays(o,v,_,L,N,B){var H=1&_,Y=o.length,Z=v.length;if(Y!=Z&&!(H&&Z>Y))return!1;var X=B.get(o),et=B.get(v);if(X&&et)return X==v&&et==o;var en=-1,er=!0,ei=2&_?new x:void 0;for(B.set(o,v),B.set(v,o);++en<Y;){var ea=o[en],eo=v[en];if(L)var el=H?L(eo,ea,en,v,o,B):L(ea,eo,en,o,v,B);if(void 0!==el){if(el)continue;er=!1;break}if(ei){if(!w(v,function(o,v){if(!T(ei,v)&&(ea===o||N(ea,o,_,L,B)))return ei.push(v)})){er=!1;break}}else if(!(ea===eo||N(ea,eo,_,L,B))){er=!1;break}}return B.delete(o),B.delete(v),er}o.exports=equalArrays},7320:function(o,v,_){var x=_(6062),w=_(953),T=_(8747),L=_(5570),N=_(4867),B=_(1792),H=x?x.prototype:void 0,Y=H?H.valueOf:void 0;function equalByTag(o,v,_,x,H,Z,X){switch(_){case"[object DataView]":if(o.byteLength!=v.byteLength||o.byteOffset!=v.byteOffset)break;o=o.buffer,v=v.buffer;case"[object ArrayBuffer]":if(o.byteLength!=v.byteLength||!Z(new w(o),new w(v)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return T(+o,+v);case"[object Error]":return o.name==v.name&&o.message==v.message;case"[object RegExp]":case"[object String]":return o==v+"";case"[object Map]":var et=N;case"[object Set]":var en=1&x;if(et||(et=B),o.size!=v.size&&!en)break;var er=X.get(o);if(er)return er==v;x|=2,X.set(o,v);var ei=L(et(o),et(v),x,H,Z,X);return X.delete(o),ei;case"[object Symbol]":if(Y)return Y.call(o)==Y.call(v)}return!1}o.exports=equalByTag},8285:function(o,v,_){var x=_(7590),w=Object.prototype.hasOwnProperty;function equalObjects(o,v,_,T,L,N){var B=1&_,H=x(o),Y=H.length;if(Y!=x(v).length&&!B)return!1;for(var Z=Y;Z--;){var X=H[Z];if(!(B?X in v:w.call(v,X)))return!1}var et=N.get(o),en=N.get(v);if(et&&en)return et==v&&en==o;var er=!0;N.set(o,v),N.set(v,o);for(var ei=B;++Z<Y;){var ea=o[X=H[Z]],eo=v[X];if(T)var el=B?T(eo,ea,X,v,o,N):T(ea,eo,X,o,v,N);if(!(void 0===el?ea===eo||L(ea,eo,_,T,N):el)){er=!1;break}ei||(ei="constructor"==X)}if(er&&!ei){var eu=o.constructor,ec=v.constructor;eu!=ec&&"constructor"in o&&"constructor"in v&&!("function"==typeof eu&&eu instanceof eu&&"function"==typeof ec&&ec instanceof ec)&&(er=!1)}return N.delete(o),N.delete(v),er}o.exports=equalObjects},817:function(o,v,_){var x=_(9775),w=_(896),T=_(7290);function flatRest(o){return T(w(o,void 0,x),o+"")}o.exports=flatRest},7038:function(o,v,_){var x="object"==typeof _.g&&_.g&&_.g.Object===Object&&_.g;o.exports=x},7590:function(o,v,_){var x=_(4352),w=_(8493),T=_(3674);function getAllKeys(o){return x(o,T,w)}o.exports=getAllKeys},907:function(o,v,_){var x=_(4352),w=_(5029),T=_(866);function getAllKeysIn(o){return x(o,T,w)}o.exports=getAllKeysIn},8578:function(o,v,_){var x=_(2371);function getMapData(o,v){var _=o.__data__;return x(v)?_["string"==typeof v?"string":"hash"]:_.map}o.exports=getMapData},6055:function(o,v,_){var x=_(8381),w=_(3674);function getMatchData(o){for(var v=w(o),_=v.length;_--;){var T=v[_],L=o[T];v[_]=[T,L,x(L)]}return v}o.exports=getMatchData},1571:function(o,v,_){var x=_(4438),w=_(3542);function getNative(o,v){var _=w(o,v);return x(_)?_:void 0}o.exports=getNative},5136:function(o,v,_){var x=_(2330)(Object.getPrototypeOf,Object);o.exports=x},7736:function(o,v,_){var x=_(6062),w=Object.prototype,T=w.hasOwnProperty,L=w.toString,N=x?x.toStringTag:void 0;function getRawTag(o){var v=T.call(o,N),_=o[N];try{o[N]=void 0;var x=!0}catch(o){}var w=L.call(o);return x&&(v?o[N]=_:delete o[N]),w}o.exports=getRawTag},8493:function(o,v,_){var x=_(4611),w=_(6555),T=Object.prototype.propertyIsEnumerable,L=Object.getOwnPropertySymbols,N=L?function(o){return null==o?[]:x(L(o=Object(o)),function(v){return T.call(o,v)})}:w;o.exports=N},5029:function(o,v,_){var x=_(7219),w=_(5136),T=_(8493),L=_(6555),N=Object.getOwnPropertySymbols?function(o){for(var v=[];o;)x(v,T(o)),o=w(o);return v}:L;o.exports=N},4546:function(o,v,_){var x=_(2397),w=_(3159),T=_(484),L=_(4087),N=_(521),B=_(4402),H=_(2062),Y="[object Map]",Z="[object Promise]",X="[object Set]",et="[object WeakMap]",en="[object DataView]",er=H(x),ei=H(w),ea=H(T),eo=H(L),el=H(N),eu=B;(x&&eu(new x(new ArrayBuffer(1)))!=en||w&&eu(new w)!=Y||T&&eu(T.resolve())!=Z||L&&eu(new L)!=X||N&&eu(new N)!=et)&&(eu=function(o){var v=B(o),_="[object Object]"==v?o.constructor:void 0,x=_?H(_):"";if(x)switch(x){case er:return en;case ei:return Y;case ea:return Z;case eo:return X;case el:return et}return v}),o.exports=eu},3542:function(o){function getValue(o,v){return null==o?void 0:o[v]}o.exports=getValue},9194:function(o,v,_){var x=_(5226),w=_(4130),T=_(4637),L=_(1154),N=_(8705),B=_(9501);function hasPath(o,v,_){v=x(v,o);for(var H=-1,Y=v.length,Z=!1;++H<Y;){var X=B(v[H]);if(!(Z=null!=o&&_(o,X)))break;o=o[X]}return Z||++H!=Y?Z:!!(Y=null==o?0:o.length)&&N(Y)&&L(X,Y)&&(T(o)||w(o))}o.exports=hasPath},8328:function(o){var v=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function hasUnicode(o){return v.test(o)}o.exports=hasUnicode},2493:function(o,v,_){var x=_(7878);function hashClear(){this.__data__=x?x(null):{},this.size=0}o.exports=hashClear},5485:function(o){function hashDelete(o){var v=this.has(o)&&delete this.__data__[o];return this.size-=v?1:0,v}o.exports=hashDelete},1876:function(o,v,_){var x=_(7878),w=Object.prototype.hasOwnProperty;function hashGet(o){var v=this.__data__;if(x){var _=v[o];return"__lodash_hash_undefined__"===_?void 0:_}return w.call(v,o)?v[o]:void 0}o.exports=hashGet},9905:function(o,v,_){var x=_(7878),w=Object.prototype.hasOwnProperty;function hashHas(o){var v=this.__data__;return x?void 0!==v[o]:w.call(v,o)}o.exports=hashHas},8682:function(o,v,_){var x=_(7878);function hashSet(o,v){var _=this.__data__;return this.size+=this.has(o)?0:1,_[o]=x&&void 0===v?"__lodash_hash_undefined__":v,this}o.exports=hashSet},3075:function(o){var v=Object.prototype.hasOwnProperty;function initCloneArray(o){var _=o.length,x=new o.constructor(_);return _&&"string"==typeof o[0]&&v.call(o,"index")&&(x.index=o.index,x.input=o.input),x}o.exports=initCloneArray},6769:function(o,v,_){var x=_(5401),w=_(7890),T=_(6537),L=_(40),N=_(844);function initCloneByTag(o,v,_){var B=o.constructor;switch(v){case"[object ArrayBuffer]":return x(o);case"[object Boolean]":case"[object Date]":return new B(+o);case"[object DataView]":return w(o,_);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return N(o,_);case"[object Map]":case"[object Set]":return new B;case"[object Number]":case"[object String]":return new B(o);case"[object RegExp]":return T(o);case"[object Symbol]":return L(o)}}o.exports=initCloneByTag},2185:function(o,v,_){var x=_(8278),w=_(5136),T=_(6124);function initCloneObject(o){return"function"!=typeof o.constructor||T(o)?{}:x(w(o))}o.exports=initCloneObject},4981:function(o,v,_){var x=_(6062),w=_(4130),T=_(4637),L=x?x.isConcatSpreadable:void 0;function isFlattenable(o){return T(o)||w(o)||!!(L&&o&&o[L])}o.exports=isFlattenable},1154:function(o){var v=/^(?:0|[1-9]\d*)$/;function isIndex(o,_){var x=typeof o;return!!(_=null==_?9007199254740991:_)&&("number"==x||"symbol"!=x&&v.test(o))&&o>-1&&o%1==0&&o<_}o.exports=isIndex},9156:function(o,v,_){var x=_(8747),w=_(7057),T=_(1154),L=_(5533);function isIterateeCall(o,v,_){if(!L(_))return!1;var N=typeof v;return("number"==N?!!(w(_)&&T(v,_.length)):"string"==N&&v in _)&&x(_[v],o)}o.exports=isIterateeCall},9228:function(o,v,_){var x=_(4637),w=_(1580),T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,L=/^\w*$/;function isKey(o,v){if(x(o))return!1;var _=typeof o;return!!("number"==_||"symbol"==_||"boolean"==_||null==o||w(o))||L.test(o)||!T.test(o)||null!=v&&o in Object(v)}o.exports=isKey},2371:function(o){function isKeyable(o){var v=typeof o;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==o:null===o}o.exports=isKeyable},9648:function(o,v,_){var x,w=_(3017),T=(x=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"";function isMasked(o){return!!T&&T in o}o.exports=isMasked},6124:function(o){var v=Object.prototype;function isPrototype(o){var _=o&&o.constructor;return o===("function"==typeof _&&_.prototype||v)}o.exports=isPrototype},8381:function(o,v,_){var x=_(5533);function isStrictComparable(o){return o==o&&!x(o)}o.exports=isStrictComparable},7190:function(o){function listCacheClear(){this.__data__=[],this.size=0}o.exports=listCacheClear},9226:function(o,v,_){var x=_(7117),w=Array.prototype.splice;function listCacheDelete(o){var v=this.__data__,_=x(v,o);return!(_<0)&&(_==v.length-1?v.pop():w.call(v,_,1),--this.size,!0)}o.exports=listCacheDelete},204:function(o,v,_){var x=_(7117);function listCacheGet(o){var v=this.__data__,_=x(v,o);return _<0?void 0:v[_][1]}o.exports=listCacheGet},4065:function(o,v,_){var x=_(7117);function listCacheHas(o){return x(this.__data__,o)>-1}o.exports=listCacheHas},4338:function(o,v,_){var x=_(7117);function listCacheSet(o,v){var _=this.__data__,w=x(_,o);return w<0?(++this.size,_.push([o,v])):_[w][1]=v,this}o.exports=listCacheSet},9376:function(o,v,_){var x=_(802),w=_(7257),T=_(3159);function mapCacheClear(){this.size=0,this.__data__={hash:new x,map:new(T||w),string:new x}}o.exports=mapCacheClear},5393:function(o,v,_){var x=_(8578);function mapCacheDelete(o){var v=x(this,o).delete(o);return this.size-=v?1:0,v}o.exports=mapCacheDelete},7868:function(o,v,_){var x=_(8578);function mapCacheGet(o){return x(this,o).get(o)}o.exports=mapCacheGet},414:function(o,v,_){var x=_(8578);function mapCacheHas(o){return x(this,o).has(o)}o.exports=mapCacheHas},6809:function(o,v,_){var x=_(8578);function mapCacheSet(o,v){var _=x(this,o),w=_.size;return _.set(o,v),this.size+=_.size==w?0:1,this}o.exports=mapCacheSet},4867:function(o){function mapToArray(o){var v=-1,_=Array(o.size);return o.forEach(function(o,x){_[++v]=[x,o]}),_}o.exports=mapToArray},7161:function(o){function matchesStrictComparable(o,v){return function(_){return null!=_&&_[o]===v&&(void 0!==v||o in Object(_))}}o.exports=matchesStrictComparable},2478:function(o,v,_){var x=_(5774);function memoizeCapped(o){var v=x(o,function(o){return 500===_.size&&_.clear(),o}),_=v.cache;return v}o.exports=memoizeCapped},7878:function(o,v,_){var x=_(1571)(Object,"create");o.exports=x},5492:function(o,v,_){var x=_(2330)(Object.keys,Object);o.exports=x},6955:function(o){function nativeKeysIn(o){var v=[];if(null!=o)for(var _ in Object(o))v.push(_);return v}o.exports=nativeKeysIn},4932:function(o,v,_){o=_.nmd(o);var x=_(7038),w=v&&!v.nodeType&&v,T=w&&o&&!o.nodeType&&o,L=T&&T.exports===w&&x.process,N=function(){try{var o=T&&T.require&&T.require("util").types;if(o)return o;return L&&L.binding&&L.binding("util")}catch(o){}}();o.exports=N},2608:function(o){var v=Object.prototype.toString;function objectToString(o){return v.call(o)}o.exports=objectToString},2330:function(o){function overArg(o,v){return function(_){return o(v(_))}}o.exports=overArg},896:function(o,v,_){var x=_(6575),w=Math.max;function overRest(o,v,_){return v=w(void 0===v?o.length-1:v,0),function(){for(var T=arguments,L=-1,N=w(T.length-v,0),B=Array(N);++L<N;)B[L]=T[v+L];L=-1;for(var H=Array(v+1);++L<v;)H[L]=T[L];return H[v]=_(B),x(o,this,H)}}o.exports=overRest},3463:function(o,v,_){var x=_(4369),w=_(24);function parent(o,v){return v.length<2?o:x(o,w(v,0,-1))}o.exports=parent},9126:function(o,v,_){var x=_(7038),w="object"==typeof self&&self&&self.Object===Object&&self,T=x||w||Function("return this")();o.exports=T},669:function(o){function safeGet(o,v){if(("constructor"!==v||"function"!=typeof o[v])&&"__proto__"!=v)return o[v]}o.exports=safeGet},7454:function(o){function setCacheAdd(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this}o.exports=setCacheAdd},8701:function(o){function setCacheHas(o){return this.__data__.has(o)}o.exports=setCacheHas},1792:function(o){function setToArray(o){var v=-1,_=Array(o.size);return o.forEach(function(o){_[++v]=o}),_}o.exports=setToArray},7290:function(o,v,_){var x=_(6635),w=_(4863)(x);o.exports=w},4863:function(o){var v=Date.now;function shortOut(o){var _=0,x=0;return function(){var w=v(),T=16-(w-x);if(x=w,T>0){if(++_>=800)return arguments[0]}else _=0;return o.apply(void 0,arguments)}}o.exports=shortOut},9456:function(o,v,_){var x=_(7257);function stackClear(){this.__data__=new x,this.size=0}o.exports=stackClear},1411:function(o){function stackDelete(o){var v=this.__data__,_=v.delete(o);return this.size=v.size,_}o.exports=stackDelete},1567:function(o){function stackGet(o){return this.__data__.get(o)}o.exports=stackGet},5777:function(o){function stackHas(o){return this.__data__.has(o)}o.exports=stackHas},8583:function(o,v,_){var x=_(7257),w=_(3159),T=_(8184);function stackSet(o,v){var _=this.__data__;if(_ instanceof x){var L=_.__data__;if(!w||L.length<199)return L.push([o,v]),this.size=++_.size,this;_=this.__data__=new T(L)}return _.set(o,v),this.size=_.size,this}o.exports=stackSet},1505:function(o){function strictIndexOf(o,v,_){for(var x=_-1,w=o.length;++x<w;)if(o[x]===v)return x;return -1}o.exports=strictIndexOf},9710:function(o,v,_){var x=_(4100),w=_(8328),T=_(8917);function stringToArray(o){return w(o)?T(o):x(o)}o.exports=stringToArray},4461:function(o,v,_){var x=_(2478),w=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,L=x(function(o){var v=[];return 46===o.charCodeAt(0)&&v.push(""),o.replace(w,function(o,_,x,w){v.push(x?w.replace(T,"$1"):_||o)}),v});o.exports=L},9501:function(o,v,_){var x=_(1580),w=1/0;function toKey(o){if("string"==typeof o||x(o))return o;var v=o+"";return"0"==v&&1/o==-w?"-0":v}o.exports=toKey},2062:function(o){var v=Function.prototype.toString;function toSource(o){if(null!=o){try{return v.call(o)}catch(o){}try{return o+""}catch(o){}}return""}o.exports=toSource},8290:function(o){var v=/\s/;function trimmedEndIndex(o){for(var _=o.length;_--&&v.test(o.charAt(_)););return _}o.exports=trimmedEndIndex},8917:function(o){var v="\ud800-\udfff",_="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",x="\ud83c[\udffb-\udfff]",w="[^"+v+"]",T="(?:\ud83c[\udde6-\uddff]){2}",L="[\ud800-\udbff][\udc00-\udfff]",N="(?:"+_+"|"+x+")?",B="[\\ufe0e\\ufe0f]?",H="(?:\\u200d(?:"+[w,T,L].join("|")+")"+B+N+")*",Y=RegExp(x+"(?="+x+")|(?:"+[w+_+"?",_,T,L,"["+v+"]"].join("|")+")"+(B+N+H),"g");function unicodeToArray(o){return o.match(Y)||[]}o.exports=unicodeToArray},2909:function(o,v,_){var x=_(4787),w=_(9017),T=_(1058),L=_(7057),N=_(6124),B=_(3674),H=Object.prototype.hasOwnProperty,Y=T(function(o,v){if(N(v)||L(v)){w(v,B(v),o);return}for(var _ in v)H.call(v,_)&&x(o,_,v[_])});o.exports=Y},7650:function(o,v,_){var x=_(3368);function cloneDeep(o){return x(o,5)}o.exports=cloneDeep},3508:function(o,v,_){var x=_(3368);function cloneDeepWith(o,v){return x(o,5,v="function"==typeof v?v:void 0)}o.exports=cloneDeepWith},3860:function(o){function constant(o){return function(){return o}}o.exports=constant},3333:function(o,v,_){var x=_(5533),w=_(3671),T=_(5238),L=Math.max,N=Math.min;function debounce(o,v,_){var B,H,Y,Z,X,et,en=0,er=!1,ei=!1,ea=!0;if("function"!=typeof o)throw TypeError("Expected a function");function invokeFunc(v){var _=B,x=H;return B=H=void 0,en=v,Z=o.apply(x,_)}function leadingEdge(o){return en=o,X=setTimeout(timerExpired,v),er?invokeFunc(o):Z}function remainingWait(o){var _=o-et,x=o-en,w=v-_;return ei?N(w,Y-x):w}function shouldInvoke(o){var _=o-et,x=o-en;return void 0===et||_>=v||_<0||ei&&x>=Y}function timerExpired(){var o=w();if(shouldInvoke(o))return trailingEdge(o);X=setTimeout(timerExpired,remainingWait(o))}function trailingEdge(o){return(X=void 0,ea&&B)?invokeFunc(o):(B=H=void 0,Z)}function cancel(){void 0!==X&&clearTimeout(X),en=0,B=et=H=X=void 0}function flush(){return void 0===X?Z:trailingEdge(w())}function debounced(){var o=w(),_=shouldInvoke(o);if(B=arguments,H=this,et=o,_){if(void 0===X)return leadingEdge(et);if(ei)return clearTimeout(X),X=setTimeout(timerExpired,v),invokeFunc(et)}return void 0===X&&(X=setTimeout(timerExpired,v)),Z}return v=T(v)||0,x(_)&&(er=!!_.leading,Y=(ei="maxWait"in _)?L(T(_.maxWait)||0,v):Y,ea="trailing"in _?!!_.trailing:ea),debounced.cancel=cancel,debounced.flush=flush,debounced}o.exports=debounce},1209:function(o,v,_){var x=_(4145),w=_(3255),T=_(8314),L=_(6282),N=T(function(o,v){return L(o)?x(o,w(v,1,L,!0)):[]});o.exports=N},5833:function(o,v,_){o.exports=_(5911)},8747:function(o){function eq(o,v){return o===v||o!=o&&v!=v}o.exports=eq},3618:function(o,v,_){var x=_(3683)(_(5521));o.exports=x},5521:function(o,v,_){var x=_(8115),w=_(7497),T=_(3504),L=Math.max;function findIndex(o,v,_){var N=null==o?0:o.length;if(!N)return -1;var B=null==_?0:T(_);return B<0&&(B=L(N+B,0)),x(o,w(v,3),B)}o.exports=findIndex},9775:function(o,v,_){var x=_(3255);function flatten(o){return(null==o?0:o.length)?x(o,1):[]}o.exports=flatten},5911:function(o,v,_){var x=_(5722),w=_(9313),T=_(3614),L=_(4637);function forEach(o,v){return(L(o)?x:w)(o,T(v))}o.exports=forEach},2029:function(o,v,_){var x=_(4369);function get(o,v,_){var w=null==o?void 0:x(o,v);return void 0===w?_:w}o.exports=get},323:function(o,v,_){var x=_(4646),w=_(9194);function has(o,v){return null!=o&&w(o,v,x)}o.exports=has},1916:function(o,v,_){var x=_(5286),w=_(9194);function hasIn(o,v){return null!=o&&w(o,v,x)}o.exports=hasIn},2418:function(o){function identity(o){return o}o.exports=identity},452:function(o,v,_){var x=_(7954),w=_(7057),T=_(7900),L=_(3504),N=_(7495),B=Math.max;function includes(o,v,_,H){o=w(o)?o:N(o),_=_&&!H?L(_):0;var Y=o.length;return _<0&&(_=B(Y+_,0)),T(o)?_<=Y&&o.indexOf(v,_)>-1:!!Y&&x(o,v,_)>-1}o.exports=includes},4130:function(o,v,_){var x=_(8800),w=_(3544),T=Object.prototype,L=T.hasOwnProperty,N=T.propertyIsEnumerable,B=x(function(){return arguments}())?x:function(o){return w(o)&&L.call(o,"callee")&&!N.call(o,"callee")};o.exports=B},4637:function(o){var v=Array.isArray;o.exports=v},7057:function(o,v,_){var x=_(5199),w=_(8705);function isArrayLike(o){return null!=o&&w(o.length)&&!x(o)}o.exports=isArrayLike},6282:function(o,v,_){var x=_(7057),w=_(3544);function isArrayLikeObject(o){return w(o)&&x(o)}o.exports=isArrayLikeObject},4079:function(o,v,_){var x=_(4402),w=_(3544);function isBoolean(o){return!0===o||!1===o||w(o)&&"[object Boolean]"==x(o)}o.exports=isBoolean},9529:function(o,v,_){o=_.nmd(o);var x=_(9126),w=_(1857),T=v&&!v.nodeType&&v,L=T&&o&&!o.nodeType&&o,N=L&&L.exports===T?x.Buffer:void 0,B=N?N.isBuffer:void 0;o.exports=B||w},4014:function(o,v,_){var x=_(5808),w=_(7460),T=_(4932),L=T&&T.isDate,N=L?w(L):x;o.exports=N},2256:function(o,v,_){var x=_(4414),w=_(4546),T=_(4130),L=_(4637),N=_(7057),B=_(9529),H=_(6124),Y=_(2290),Z=Object.prototype.hasOwnProperty;function isEmpty(o){if(null==o)return!0;if(N(o)&&(L(o)||"string"==typeof o||"function"==typeof o.splice||B(o)||Y(o)||T(o)))return!o.length;var v=w(o);if("[object Map]"==v||"[object Set]"==v)return!o.size;if(H(o))return!x(o).length;for(var _ in o)if(Z.call(o,_))return!1;return!0}o.exports=isEmpty},3022:function(o,v,_){var x=_(4138);function isEqual(o,v){return x(o,v)}o.exports=isEqual},5199:function(o,v,_){var x=_(4402),w=_(5533);function isFunction(o){if(!w(o))return!1;var v=x(o);return"[object Function]"==v||"[object GeneratorFunction]"==v||"[object AsyncFunction]"==v||"[object Proxy]"==v}o.exports=isFunction},8705:function(o){function isLength(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=9007199254740991}o.exports=isLength},5121:function(o,v,_){var x=_(6668),w=_(7460),T=_(4932),L=T&&T.isMap,N=L?w(L):x;o.exports=N},9514:function(o,v,_){var x=_(3247);function isNaN(o){return x(o)&&o!=+o}o.exports=isNaN},6144:function(o){function isNull(o){return null===o}o.exports=isNull},3247:function(o,v,_){var x=_(4402),w=_(3544);function isNumber(o){return"number"==typeof o||w(o)&&"[object Number]"==x(o)}o.exports=isNumber},5533:function(o){function isObject(o){var v=typeof o;return null!=o&&("object"==v||"function"==v)}o.exports=isObject},3544:function(o){function isObjectLike(o){return null!=o&&"object"==typeof o}o.exports=isObjectLike},501:function(o,v,_){var x=_(4402),w=_(5136),T=_(3544),L=Object.prototype,N=Function.prototype.toString,B=L.hasOwnProperty,H=N.call(Object);function isPlainObject(o){if(!T(o)||"[object Object]"!=x(o))return!1;var v=w(o);if(null===v)return!0;var _=B.call(v,"constructor")&&v.constructor;return"function"==typeof _&&_ instanceof _&&N.call(_)==H}o.exports=isPlainObject},9688:function(o,v,_){var x=_(3344),w=_(7460),T=_(4932),L=T&&T.isRegExp,N=L?w(L):x;o.exports=N},1704:function(o,v,_){var x=_(2522),w=_(7460),T=_(4932),L=T&&T.isSet,N=L?w(L):x;o.exports=N},7900:function(o,v,_){var x=_(4402),w=_(4637),T=_(3544);function isString(o){return"string"==typeof o||!w(o)&&T(o)&&"[object String]"==x(o)}o.exports=isString},1580:function(o,v,_){var x=_(4402),w=_(3544);function isSymbol(o){return"symbol"==typeof o||w(o)&&"[object Symbol]"==x(o)}o.exports=isSymbol},2290:function(o,v,_){var x=_(6599),w=_(7460),T=_(4932),L=T&&T.isTypedArray,N=L?w(L):x;o.exports=N},5070:function(o){function isUndefined(o){return void 0===o}o.exports=isUndefined},3674:function(o,v,_){var x=_(5573),w=_(4414),T=_(7057);function keys(o){return T(o)?x(o):w(o)}o.exports=keys},866:function(o,v,_){var x=_(5573),w=_(7768),T=_(7057);function keysIn(o){return T(o)?x(o,!0):w(o)}o.exports=keysIn},9048:function(o){function last(o){var v=null==o?0:o.length;return v?o[v-1]:void 0}o.exports=last},350:function(o,v,_){var x=_(5089),w=_(7497),T=_(3928),L=_(4637);function map(o,v){return(L(o)?x:T)(o,w(v,3))}o.exports=map},1674:function(o,v,_){var x=_(838),w=_(1227),T=_(2418);function max(o){return o&&o.length?x(o,T,w):void 0}o.exports=max},5774:function(o,v,_){var x=_(8184);function memoize(o,v){if("function"!=typeof o||null!=v&&"function"!=typeof v)throw TypeError("Expected a function");var memoized=function(){var _=arguments,x=v?v.apply(this,_):_[0],w=memoized.cache;if(w.has(x))return w.get(x);var T=o.apply(this,_);return memoized.cache=w.set(x,T)||w,T};return memoized.cache=new(memoize.Cache||x),memoized}memoize.Cache=x,o.exports=memoize},2432:function(o,v,_){var x=_(2220),w=_(1058)(function(o,v,_){x(o,v,_)});o.exports=w},9581:function(o){function noop(){}o.exports=noop},3671:function(o,v,_){var x=_(9126);o.exports=function(){return x.Date.now()}},7714:function(o,v,_){var x=_(5089),w=_(3368),T=_(1726),L=_(5226),N=_(9017),B=_(8016),H=_(817),Y=_(907),Z=H(function(o,v){var _={};if(null==o)return _;var H=!1;v=x(v,function(v){return v=L(v,o),H||(H=v.length>1),v}),N(o,Y(o),_),H&&(_=w(_,7,B));for(var Z=v.length;Z--;)T(_,v[Z]);return _});o.exports=Z},6004:function(o,v,_){var x=_(1592),w=_(817)(function(o,v){return null==o?{}:x(o,v)});o.exports=w},2922:function(o,v,_){var x=_(4792),w=_(5374),T=_(9228),L=_(9501);function property(o){return T(o)?x(L(o)):w(o)}o.exports=property},3727:function(o,v,_){var x=_(2336);function set(o,v,_){return null==o?o:x(o,v,_)}o.exports=set},5801:function(o,v,_){var x=_(24),w=_(9156),T=_(3504);function slice(o,v,_){var L=null==o?0:o.length;return L?(_&&"number"!=typeof _&&w(o,v,_)?(v=0,_=L):(v=null==v?0:T(v),_=void 0===_?L:T(_)),x(o,v,_)):[]}o.exports=slice},7160:function(o,v,_){var x=_(7689),w=_(8531),T=_(8328),L=_(9156),N=_(9688),B=_(9710),H=_(4735);function split(o,v,_){return(_&&"number"!=typeof _&&L(o,v,_)&&(v=_=void 0),_=void 0===_?4294967295:_>>>0)?(o=H(o))&&("string"==typeof v||null!=v&&!N(v))&&!(v=x(v))&&T(o)?w(B(o),0,_):o.split(v,_):[]}o.exports=split},6555:function(o){function stubArray(){return[]}o.exports=stubArray},1857:function(o){function stubFalse(){return!1}o.exports=stubFalse},1032:function(o,v,_){var x=_(3333),w=_(5533);function throttle(o,v,_){var T=!0,L=!0;if("function"!=typeof o)throw TypeError("Expected a function");return w(_)&&(T="leading"in _?!!_.leading:T,L="trailing"in _?!!_.trailing:L),x(o,v,{leading:T,maxWait:v,trailing:L})}o.exports=throttle},8272:function(o,v,_){var x=_(7434),w=_(3614),T=_(3504),L=Math.min;function times(o,v){if((o=T(o))<1||o>9007199254740991)return[];var _=4294967295,N=L(o,4294967295);v=w(v),o-=4294967295;for(var B=x(N,v);++_<o;)v(_);return B}o.exports=times},4144:function(o,v,_){var x=_(5238),w=1/0;function toFinite(o){return o?(o=x(o))===w||o===-w?(o<0?-1:1)*17976931348623157e292:o==o?o:0:0===o?o:0}o.exports=toFinite},3504:function(o,v,_){var x=_(4144);function toInteger(o){var v=x(o),_=v%1;return v==v?_?v-_:v:0}o.exports=toInteger},5238:function(o,v,_){var x=_(8277),w=_(5533),T=_(1580),L=0/0,N=/^[-+]0x[0-9a-f]+$/i,B=/^0b[01]+$/i,H=/^0o[0-7]+$/i,Y=parseInt;function toNumber(o){if("number"==typeof o)return o;if(T(o))return L;if(w(o)){var v="function"==typeof o.valueOf?o.valueOf():o;o=w(v)?v+"":v}if("string"!=typeof o)return 0===o?o:+o;o=x(o);var _=B.test(o);return _||H.test(o)?Y(o.slice(2),_?2:8):N.test(o)?L:+o}o.exports=toNumber},6506:function(o,v,_){var x=_(5089),w=_(5060),T=_(4637),L=_(1580),N=_(4461),B=_(9501),H=_(4735);function toPath(o){return T(o)?x(o,B):L(o)?[o]:w(N(H(o)))}o.exports=toPath},4142:function(o,v,_){var x=_(9017),w=_(866);function toPlainObject(o){return x(o,w(o))}o.exports=toPlainObject},4735:function(o,v,_){var x=_(7689);function toString(o){return null==o?"":x(o)}o.exports=toString},7757:function(o,v,_){var x=_(9532);function uniq(o){return o&&o.length?x(o):[]}o.exports=uniq},4624:function(o,v,_){var x=_(1726);function unset(o,v){return null==o||x(o,v)}o.exports=unset},7495:function(o,v,_){var x=_(7420),w=_(3674);function values(o){return null==o?[]:x(o,w(o))}o.exports=values},8466:function(o,v,_){"use strict";_.d(v,{$G:function(){return x.$G}});var x=_(7082),w=_(4576);_(6828),"undefined"!=typeof window?w.useLayoutEffect:w.useEffect,_(8878),w.createElement},7391:function(o,v,_){"use strict";var x,w;o.exports=(null==(x=_.g.process)?void 0:x.env)&&"object"==typeof(null==(w=_.g.process)?void 0:w.env)?_.g.process:_(543)},269:function(o,v,_){"use strict";_.d(v,{Z:function(){return Section}});var x=_(4576),w=_(3303),T=_.n(w),L=_(4217),N=_.n(L),B=_(5606);let H=B.UX.PREFIX;let Section=class Section extends x.PureComponent{render(){let{text:o,className:v,style:_,children:w}=this.props,L=T()({[H+"-section"]:!0},v);return x.createElement("section",{className:L,style:_},x.createElement("h5",{className:H+"-section-text"},o),w)}};Section.propTypes={text:N().node,className:N().string,style:N().object,children:N().node}},3124:function(o,v,_){"use strict";let x;_.d(v,{jL:function(){return Banner},zx:function(){return nt},l0:function(){return lU},T:function(){return nu},yC:function(){return nh},FN:function(){return n_}}),_(1106);var w,T,L,N,B,H,Y,Z,X,et,en,er,ei,ea,eo,el,eu,ec,ed,eh,ep,ef,eg,em,ey,ev,e_,eb,eS,ex,ew,eC=_(4576),eT=_(3303),eM=_.n(eT),eP=_(4217),eI=_.n(eP),eD=_(9581),eE=_.n(eD),eO=_(2315);let eA={PREFIX:`${eO.T}-button`},ek={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"};eO.T;var eL=_(7714),eR=_.n(eL);function function_noop(){}_(5742);var __rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let eN=ek.sizes,{htmlTypes:eF,btnTypes:eV}=ek;let Button_Button=class Button_Button extends eC.PureComponent{render(){let o=this.props,{children:v,block:_,htmlType:x,loading:w,circle:T,className:L,style:N,disabled:B,size:H,theme:Y,type:Z,prefixCls:X,iconPosition:et}=o,en=__rest(o,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),er=Object.assign(Object.assign({disabled:B},eR()(en,["x-semi-children-alias"])),{className:eM()(X,{["".concat(X,"-").concat(Z)]:!B&&Z,["".concat(X,"-disabled")]:B,["".concat(X,"-size-large")]:"large"===H,["".concat(X,"-size-small")]:"small"===H,["".concat(X,"-light")]:"light"===Y,["".concat(X,"-block")]:_,["".concat(X,"-circle")]:T,["".concat(X,"-borderless")]:"borderless"===Y},L),type:x,"aria-disabled":B}),ei={};return L&&L.includes("-with-icon")||(ei["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),eC.createElement("button",Object.assign({},er,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:N}),eC.createElement("span",Object.assign({className:"".concat(X,"-content"),onClick:o=>B&&o.stopPropagation()},ei),v))}};function isNullOrUndefined(o){return null==o}Button_Button.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:function_noop,onClick:function_noop,onMouseEnter:function_noop,onMouseLeave:function_noop,prefixCls:eA.PREFIX},Button_Button.propTypes={children:eI().node,disabled:eI().bool,prefixCls:eI().string,style:eI().object,size:eI().oneOf(eN),type:eI().oneOf(eV),block:eI().bool,onClick:eI().func,onMouseDown:eI().func,circle:eI().bool,loading:eI().bool,htmlType:eI().oneOf(eF),theme:eI().oneOf(ek.themes),className:eI().string,onMouseEnter:eI().func,onMouseLeave:eI().func,"aria-label":eI().string};var icon_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let eB=-1;var spin_icon=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:v,className:_}=o,x=icon_rest(o,["id","className"]),w=v;isNullOrUndefined(w)&&(w=++eB);let T="linearGradient-".concat(w);return eC.createElement("svg",Object.assign({},x,{className:_,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),eC.createElement("defs",null,eC.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:T},eC.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),eC.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),eC.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),eC.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},eC.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),eC.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:"url(#".concat(T,")"),strokeWidth:"4",strokeLinecap:"round"})))};_(9844);var iconButton_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let IconButton=class IconButton extends eC.PureComponent{render(){let o=this.props,{children:v,iconPosition:_,iconSize:x,iconStyle:w,style:T,icon:L,noHorizontalPadding:N,theme:B,className:H,prefixCls:Y,loading:Z}=o,X=iconButton_rest(o,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),et=Object.assign({},T);Array.isArray(N)?(N.includes("left")&&(et.paddingLeft=0),N.includes("right")&&(et.paddingRight=0)):!0===N?(et.paddingLeft=0,et.paddingRight=0):"string"==typeof N&&("left"===N&&(et.paddingLeft=0),"right"===N&&(et.paddingRight=0));let en=null,er=null;Z&&!X.disabled?er=eC.createElement(spin_icon,null):eC.isValidElement(L)&&(er=L);let ei=eM()({["".concat(Y,"-content-left")]:"right"===_,["".concat(Y,"-content-right")]:"left"===_}),ea=this.props["x-semi-children-alias"]||"children",eo=null!=v?eC.createElement("span",{className:ei,"x-semi-prop":ea},v):null;en="left"===_?eC.createElement(eC.Fragment,null,er,eo):eC.createElement(eC.Fragment,null,eo,er);let el=eM()(H,"".concat(Y,"-with-icon"),{["".concat(Y,"-with-icon-only")]:null==eo||""===eo,["".concat(Y,"-loading")]:Z});return eC.createElement(Button_Button,Object.assign({},X,{className:el,theme:B,style:et}),en)}};IconButton.defaultProps={iconPosition:ek.DEFAULT_ICON_POSITION,prefixCls:eA.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:eE(),onMouseLeave:eE()},IconButton.elementType="IconButton",IconButton.propTypes={iconStyle:eI().object,style:eI().object,loading:eI().bool,prefixCls:eI().string,icon:eI().oneOfType([eI().object,eI().string,eI().node]),iconSize:eI().oneOf(["extra-small","small","default","large","extra-large","custom"]),noHorizontalPadding:eI().oneOfType([eI().bool,eI().string,eI().array]),children:eI().node,theme:eI().string,iconPosition:eI().oneOf(ek.iconPositions),className:eI().string,onMouseEnter:eI().func,onMouseLeave:eI().func};let ez={PREFIX:`${eO.T}-banner`};var ej=_(2029),eH=_.n(ej),eG=_(7391),utils_log=function(o){if("development"===eH()(eG,"env.NODE_ENV")){for(var v=arguments.length,_=Array(v>1?v-1:0),x=1;x<v;x++)_[x-1]=arguments[x];console.log(o,..._)}};let BaseFoundation=class BaseFoundation{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:eE(),getProps:eE(),getState:eE(),getStates:eE(),setState:eE(),getContext:eE(),getContexts:eE(),getCache:eE(),setCache:eE(),getCaches:eE(),stopPropagation:eE(),persistEvent:eE()}}constructor(o){this._adapter=Object.assign(Object.assign({},BaseFoundation.defaultAdapter),o)}getProp(o){return this._adapter.getProp(o)}getProps(){return this._adapter.getProps()}getState(o){return this._adapter.getState(o)}getStates(){return this._adapter.getStates()}setState(o,v){return this._adapter.setState(Object.assign({},o),v)}getContext(o){return this._adapter.getContext(o)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(o){return this._adapter.getCache(o)}setCache(o,v){return o&&this._adapter.setCache(o,v)}stopPropagation(o){this._adapter.stopPropagation(o)}_isControlledComponent(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",v=this.getProps();return o in v}_isInProps(o){let v=this.getProps();return o in v}init(o){}destroy(){}log(o){for(var v=arguments.length,_=Array(v>1?v-1:0),x=1;x<v;x++)_[x-1]=arguments[x];utils_log(o,..._)}_persistEvent(o){this._adapter.persistEvent(o)}};var eU=BaseFoundation;let BannerFoundation=class BannerFoundation extends eU{constructor(o){super(Object.assign(Object.assign({},BannerFoundation.defaultAdapter),o))}removeBanner(o){this._adapter.notifyClose(o),this._adapter.setVisible()}};_(8293);let eW={PREFIX:`${eO.T}-typography`},eY={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]};_(9377);var typography_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let eK=eW.PREFIX;let Typography=class Typography extends eC.PureComponent{render(){let o=this.props,{component:v,className:_,children:x,forwardRef:w}=o,T=typography_rest(o,["component","className","children","forwardRef"]),L=eM()(eK,_);return eC.createElement(v,Object.assign({className:L,ref:w},T),x)}};Typography.defaultProps={component:"article",style:{},className:""},Typography.propTypes={component:eI().string,style:eI().object,className:eI().string};var eZ=_(5199),eX=_.n(eZ),e$=_(6144),eQ=_.n(e$),eJ=_(7900),e0=_.n(eJ),e1=_(2432),e2=_.n(e1),e5=_(5070),e3=_.n(e5),e4=_(3022),e7=_.n(e4),e6=_(2256),e9=_.n(e6),e8=_(5833),te=_.n(e8),tt=_(1032),tn=_.n(tt),ti=_(4686);function warning(o,v){o&&console.warn(`Warning: ${v}`)}let Event=class Event{constructor(){this._eventMap=new Map}on(o,v){return o&&"function"==typeof v&&(this._eventMap.has(o)||this._eventMap.set(o,[]),this._eventMap.get(o).push(v)),this}once(o,v){var _=this;if(o&&"function"==typeof v){let fn=function(){v(...arguments),_.off(o,fn)};this.on(o,fn)}}off(o,v){if(o){if("function"==typeof v){let _=this._eventMap.get(o);if(Array.isArray(_)&&_.length){let o=-1;for(;(o=_.findIndex(o=>o===v))>-1;)_.splice(o,1)}}else isNullOrUndefined(v)&&this._eventMap.delete(o)}return this}emit(o){for(var v=arguments.length,_=Array(v>1?v-1:0),x=1;x<v;x++)_[x-1]=arguments[x];return!!this._eventMap.has(o)&&(this._eventMap.get(o).forEach(o=>o(..._)),!0)}};function append(o){for(var v=arguments.length,_=Array(v>1?v-1:0),x=1;x<v;x++)_[x-1]=arguments[x];for(let v of _)o.appendChild(v);return o}function prepend(o){for(var v=arguments.length,_=Array(v>1?v-1:0),x=1;x<v;x++)_[x-1]=arguments[x];if(o.children&&o.children.length){let v=o.children[0];for(let x of _)o.insertBefore(x,v)}else append(o,..._);return o}function convertDOMRectToObject(o){if(o&&"object"==typeof o)return"function"==typeof o.toJSON?o.toJSON():["left","top","right","bottom","width","height"].reduce((v,_)=>(v[_]=o[_],v),{})}function handlePrevent(o){o.stopPropagation(),o.preventDefault()}let ta={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},to={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};let foundation_Tooltip=class foundation_Tooltip extends eU{constructor(o){var v;super(Object.assign({},o)),v=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(o,v)=>{this._adapter.setDisplayNone(o,v)},this.onResize=()=>{this.calcPosition()},this.delayShow=()=>{let o=this.getProp("mouseEnterDelay");this.clearDelayTimer(),o>0?this._timer=setTimeout(()=>{this.show(),this.clearDelayTimer()},o):this.show()},this.show=()=>{let o=this.getProp("content"),v=this.getProp("trigger"),_=this.getProp("clickTriggerToHide"),{visible:x,displayNone:w}=this.getStates();w&&this.setDisplayNone(!1),x||(this.clearDelayTimer(),this._adapter.on("portalInserted",()=>{this.calcPosition()}),this._adapter.on("positionUpdated",()=>{this._togglePortalVisible(!0)}),this._adapter.insertPortal(o,{left:-9999,top:-9999}),"custom"===v&&this._adapter.registerClickOutsideHandler(()=>{}),("click"===v||_||"contextMenu"===v)&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent())},this.calcPosition=function(o,_,x){let w=!(arguments.length>3)||void 0===arguments[3]||arguments[3];o=(e9()(o)?v._adapter.getTriggerBounding():o)||Object.assign({},to),x=(e9()(x)?v._adapter.getPopupContainerRect():x)||Object.assign({},to),_=(e9()(_)?v._adapter.getWrapperBounding():_)||Object.assign({},to);let T=v.calcPosStyle({triggerRect:o,wrapperRect:_,containerRect:x}),L=v.getProp("position");if(v.getProp("autoAdjustOverflow")){let{position:w,isHeightOverFlow:N,isWidthOverFlow:B}=v.adjustPosIfNeed(L,T,o,_,x);(L!==w||N||B)&&(L=w,T=v.calcPosStyle({triggerRect:o,wrapperRect:_,containerRect:x,position:L,spacing:null,isOverFlow:[N,B]}))}return w&&v._mounted&&v._adapter.setPosition(Object.assign(Object.assign({},T),{position:L})),T},this.delayHide=()=>{let o=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),o>0?this._timer=setTimeout(()=>{this.hide(),this.clearDelayTimer()},o):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=o=>{let{guardFocus:v,closeOnEsc:_}=this.getProps();switch(o&&o.key){case"Escape":_&&this._handleEscKeyDown(o);break;case"Tab":if(v){let v=this._adapter.getContainer(),_=this._adapter.getFocusableElements(v),x=_.length;x&&(o.shiftKey?this._handleContainerShiftTabKeyDown(_,o):this._handleContainerTabKeyDown(_,o))}}},this._timer=null}init(){let{wrapperId:o}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),this._initContainerPosition(),o||this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){let o=this.getProp("trigger"),{triggerEventSet:v,portalEventSet:_}=this._generateEvent(o);this._bindTriggerEvent(v),this._bindPortalEvent(_),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(o){this._adapter.registerTriggerEvent(o)}_bindPortalEvent(o){this._adapter.registerPortalEvent(o)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"reverse",x=arguments.length>3?arguments[3]:void 0;switch(_){case"reverse":default:return this._reversePos(o,v);case"expand":return this._expandPos(o,x);case"reduce":return this._reducePos(o)}}_reversePos(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(v){if(ta.TOP.test(o))return o.replace("top","bottom").replace("Top","Bottom");if(ta.BOTTOM.test(o))return o.replace("bottom","top").replace("Bottom","Top")}else if(ta.LEFT.test(o))return o.replace("left","right").replace("Left","Right");else if(ta.RIGHT.test(o))return o.replace("right","left").replace("Right","Left");return o}_expandPos(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=arguments.length>1?arguments[1]:void 0;return o.concat(v)}_reducePos(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=["Top","Bottom","Left","Right"].find(v=>o.endsWith(v));return v?o.replace(v,""):o}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(o){let v=this._adapter.getEventName(),_={[v.keydown]:o=>{this._handleTriggerKeydown(o)}},x={};switch(o){case"focus":_[v.focus]=()=>{this.delayShow()},_[v.blur]=()=>{this.delayHide()},x=_;break;case"click":_[v.click]=()=>{this.show()},x={};break;case"hover":_[v.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},_[v.mouseLeave]=()=>{this.delayHide()},_[v.focus]=()=>{let{disableFocusListener:o}=this.getProps();o||this.delayShow()},_[v.blur]=()=>{let{disableFocusListener:o}=this.getProps();o||this.delayHide()},x=Object.assign({},_),this.getProp("clickToHide")&&(x[v.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},x[v.mouseEnter]=()=>{this.getCache("isClickToHide")||this.delayShow()});break;case"custom":break;case"contextMenu":_[v.contextMenu]=o=>{o.preventDefault(),this.show()}}return{triggerEventSet:_,portalEventSet:x}}_shouldShow(){let o=this.getProp("visible");o&&this.show()}_togglePortalVisible(o){let v=this.getState("visible");v!==o&&this._adapter.togglePortalVisible(o,()=>{o&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(o)})}_roundPixel(o){return"number"==typeof o?Math.round(o):o}calcTransformOrigin(o,v,_,x){if(o&&v&&null!=_&&null!=x){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(o))return`${this._roundPixel(v.width/2)}px ${-(100*x)}%`;if(["topRight","bottomRight"].includes(o))return`calc(100% - ${this._roundPixel(v.width/2)}px) ${-(100*x)}%`;if(["leftTop","rightTop"].includes(o))return`${-(100*_)}% ${this._roundPixel(v.height/2)}px`;if(["leftBottom","rightBottom"].includes(o))return`${-(100*_)}% calc(100% - ${this._roundPixel(v.height/2)}px)`}return`${-(100*_)}% ${-(100*x)}%`}return null}calcPosStyle(o){let v,_;let{spacing:x,isOverFlow:w}=o,{innerWidth:T}=window,L=(e9()(o.triggerRect)?o.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},to),N=(e9()(o.containerRect)?o.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},to),B=(e9()(o.wrapperRect)?o.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},to),H=null!=o.position?o.position:this.getProp("position"),Y=null!=x?x:this.getProp("spacing"),{arrowPointAtCenter:Z,showArrow:X,arrowBounding:et}=this.getProps(),en=X&&Z,er=Y,ei=0;if("number"!=typeof Y){let o=H.includes("top")||H.includes("bottom");er=o?Y.y:Y.x,ei=o?Y.x:Y.y}let ea=eH()(et,"width",24),eo=eH()(et,"width",24),el=eH()(et,"offsetY",0),eu=0,ec=0,ed=L.left+L.width/2,eh=L.top+L.height/2,ep=6+ea/2,ef=6+eo/2,eg=B.height-N.height,em=B.width-N.width,ey=eg>0?eg:0,ev=em>0?em:0,e_=w&&w[0],eb=w&&w[1],eS=ed-N.left<N.right-ed,ex=eh-N.top<N.bottom-eh,ew=B.width>T;switch(H){case"top":v=eb?eS?N.left+B.width/2:N.right-B.width/2+ev:ed+ei,_=e_?N.bottom+ey:L.top-er,eu=-.5,ec=-1;break;case"topLeft":v=eb?ew?N.left:N.right-B.width:en?ed-ep+ei:L.left+ei,_=e_?N.bottom+ey:L.top-er,ec=-1;break;case"topRight":v=eb?N.right+ev:en?ed+ep+ei:L.right+ei,_=e_?N.bottom+ey:L.top-er,ec=-1,eu=-1;break;case"left":v=eb?N.right+ev-er+ep:L.left-er,_=e_?ex?N.top+B.height/2:N.bottom-B.height/2+ey:eh+ei,eu=-1,ec=-.5;break;case"leftTop":v=eb?N.right+ev-er+ep:L.left-er,_=e_?N.top:en?eh-ef+ei:L.top+ei,eu=-1;break;case"leftBottom":v=eb?N.right+ev-er+ep:L.left-er,_=e_?N.bottom+ey:en?eh+ef+ei:L.bottom+ei,eu=-1,ec=-1;break;case"bottom":v=eb?eS?N.left+B.width/2:N.right-B.width/2+ev:ed+ei,_=e_?N.top+ef-er:L.top+L.height+er,eu=-.5;break;case"bottomLeft":v=eb?ew?N.left:N.right-B.width:en?ed-ep+ei:L.left+ei,_=e_?N.top+ef-er:L.top+L.height+er;break;case"bottomRight":v=eb?N.right+ev:en?ed+ep+ei:L.right+ei,_=e_?N.top+ef-er:L.top+L.height+er,eu=-1;break;case"right":v=eb?N.left-er+ep:L.right+er,_=e_?ex?N.top+B.height/2:N.bottom-B.height/2+ey:eh+ei,ec=-.5;break;case"rightTop":v=eb?N.left-er+ep:L.right+er,_=e_?N.top:en?eh-ef+ei:L.top+ei;break;case"rightBottom":v=eb?N.left-er+ep:L.right+er,_=e_?N.bottom+ey:en?eh+ef+ei:L.bottom+ei,ec=-1;break;case"leftTopOver":v=L.left-er,_=L.top-er;break;case"rightTopOver":v=L.right+er,_=L.top-er,eu=-1;break;case"leftBottomOver":v=L.left-er,_=L.bottom+er,ec=-1;break;case"rightBottomOver":v=L.right+er,_=L.bottom+er,eu=-1,ec=-1}let eC=this.calcTransformOrigin(H,L,eu,ec),eT=this._adapter.containerIsBody();if(v-=N.left,_-=N.top,eT&&!this._adapter.containerIsRelativeOrAbsolute()){let o=this._adapter.getDocumentElementBounding();v+=N.left-o.left,_+=N.top-o.top}v=eT?v:v+N.scrollLeft,_=eT?_:_+N.scrollTop;let eM=L.height;if(this.getProp("showArrow")&&!Z&&eM<=(eo/2+el)*2){let o=eM/2-(el+eo/2);(H.includes("Top")||H.includes("Bottom"))&&!H.includes("Over")&&(_=H.includes("Top")?_+o:_-o)}let eP={left:this._roundPixel(v),top:this._roundPixel(_)},eI="";return null!=eu&&(eI+=`translateX(${100*eu}%) `,Object.defineProperty(eP,"translateX",{enumerable:!1,value:eu})),null!=ec&&(eI+=`translateY(${100*ec}%) `,Object.defineProperty(eP,"translateY",{enumerable:!1,value:ec})),null!=eC&&(eP.transformOrigin=eC),eI&&(eP.transform=eI),eP}isLR(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.includes("left")||o.includes("right")}isTB(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.includes("top")||o.includes("bottom")}isReverse(o,v,_){return o<_&&v>_}isOverFlow(o,v,_){return o<_&&v<_}isHalfOverFlow(o,v,_){return o<_||v<_}isHalfAllEnough(o,v,_){return o>=_||v>=_}getReverse(o,v,_,x){return o&&x||_}adjustPosIfNeed(o,v,_,x,w){let{innerWidth:T,innerHeight:L}=window,{margin:N}=this.getProps(),B="number"==typeof N?N:N.marginLeft,H="number"==typeof N?N:N.marginTop,Y="number"==typeof N?N:N.marginRight,Z="number"==typeof N?N:N.marginBottom,X=!1,et=!1,en=this.getProp("spacing"),er=en,ei=0;if("number"!=typeof en){let v=o.includes("top")||o.includes("bottom");er=v?en.y:en.x,ei=v?en.x:en.y}if(x.width>0&&x.height>0){let v=_.left,N=_.right,en=_.top,ea=_.bottom,eo=T-v,el=L-en,eu=T-N,ec=L-ea,ed=x.width>_.width,eh=x.height>_.height,ep=en-H<x.height+er&&ec-Z>x.height+er,ef=v-B<x.width+er&&eu-Y>x.width+er,eg=ec-Z<x.height+er&&en-H>x.height+er,em=eu-Y<x.width+er&&v-B>x.width+er;el-Z<x.height+er&&x.height,ea-H<x.height+er&&x.height;let ey=el<x.height+ei&&ea>x.height+ei,ev=ea<x.height+ei&&el>x.height+ei,e_=eo<x.width+ei&&N>x.width+ei,eb=N<x.width+ei&&eo>x.width+ei,eS=el<x.height+er&&ea>x.height+er,ex=ea<x.height+er&&el>x.height+er,ew=eo<x.width&&N>x.width,eC=N<x.width&&eo>x.width,eT=en-w.top,eM=v-w.left,eP=eT+_.height,eI=eM+_.width,eD=w.bottom-ea,eE=w.right-N,eO=eD+_.height,eA=eE+_.width,ek=this.isReverse(eT-H,eD-Z,x.height+er),eL=this.isReverse(eM-B,eE-Y,x.width+er),eR=this.isReverse(eD-Z,eT-H,x.height+er),eN=this.isReverse(eE-Y,eM-B,x.width+er);this.isReverse(eO-Z,eP-H,x.height+er),this.isReverse(eP-H,eO-Z,x.height+er);let eF=this.isReverse(eO,eP,x.height+ei),eV=this.isReverse(eP,eO,x.height+ei),eB=this.isReverse(eA,eI,x.width+ei),ez=this.isReverse(eI,eA,x.width+ei),ej=_.height/2,eH=_.width/2,eG=this.isOverFlow(en-H,ec-Z,x.height+er),eU=this.isOverFlow(v-B,eu-Y,x.width+er),eW=this.isOverFlow(ea-H,el-Z,x.height+er),eY=this.isOverFlow(N-B,eo-Y,x.width+er),eK=this.isHalfOverFlow(ea-ej,el-ej,(x.height+ei)/2),eZ=this.isHalfOverFlow(N-eH,eo-eH,(x.width+ei)/2),eX=this.isHalfAllEnough(ea-ej,el-ej,(x.height+ei)/2),e$=this.isHalfAllEnough(N-eH,eo-eH,(x.width+ei)/2),eQ=this.isOverFlow(eT-H,eD-Z,x.height+er),eJ=this.isOverFlow(eM-B,eE-Y,x.width+er),e0=this.isOverFlow(eP-H,eO-Z,x.height+er),e1=this.isOverFlow(eI-B,eA-Y,x.width+er),e2=this.isHalfOverFlow(eP-ej,eO-ej,(x.height+ei)/2),e5=this.isHalfOverFlow(eI-eH,eA-eH,(x.width+ei)/2),e3=this.isHalfAllEnough(eP-ej,eO-ej,(x.height+ei)/2),e4=this.isHalfAllEnough(eI-eH,eA-eH,(x.width+ei)/2),e7=this.getReverse(eG,eQ,ep,ek),e6=this.getReverse(eU,eJ,ef,eL),e9=this.getReverse(eG,eQ,eg,eR),e8=this.getReverse(eU,eJ,em,eN),te=this.getReverse(eW,e0,ey,eF),tt=this.getReverse(eW,e0,ev,eV),tn=this.getReverse(eY,e1,e_,eB),ti=this.getReverse(eY,e1,eb,ez),ta=eK&&e2,to=eZ&&e5;switch(o){case"top":e7&&(o=this._adjustPos(o,!0)),to&&(tn||ti)&&(o=this._adjustPos(o,!0,"expand",tn?"Right":"Left"));break;case"topLeft":e7&&(o=this._adjustPos(o,!0)),tn&&ed&&(o=this._adjustPos(o)),et&&(e$||e4)&&(o=this._adjustPos(o,!0,"reduce"));break;case"topRight":e7&&(o=this._adjustPos(o,!0)),ti&&ed&&(o=this._adjustPos(o)),et&&(e$||e4)&&(o=this._adjustPos(o,!0,"reduce"));break;case"left":e6&&(o=this._adjustPos(o)),ta&&(te||tt)&&(o=this._adjustPos(o,!1,"expand",te?"Bottom":"Top"));break;case"leftTop":e6&&(o=this._adjustPos(o)),te&&eh&&(o=this._adjustPos(o,!0)),X&&(eX||e3)&&(o=this._adjustPos(o,!1,"reduce"));break;case"leftBottom":e6&&(o=this._adjustPos(o)),tt&&eh&&(o=this._adjustPos(o,!0)),X&&(eX||e3)&&(o=this._adjustPos(o,!1,"reduce"));break;case"bottom":e9&&(o=this._adjustPos(o,!0)),to&&(tn||ti)&&(o=this._adjustPos(o,!0,"expand",tn?"Right":"Left"));break;case"bottomLeft":e9&&(o=this._adjustPos(o,!0)),tn&&ed&&(o=this._adjustPos(o)),et&&(e$||e4)&&(o=this._adjustPos(o,!0,"reduce"));break;case"bottomRight":e9&&(o=this._adjustPos(o,!0)),ti&&ed&&(o=this._adjustPos(o)),et&&(e$||e4)&&(o=this._adjustPos(o,!0,"reduce"));break;case"right":e8&&(o=this._adjustPos(o)),ta&&(te||tt)&&(o=this._adjustPos(o,!1,"expand",te?"Bottom":"Top"));break;case"rightTop":e8&&(o=this._adjustPos(o)),te&&eh&&(o=this._adjustPos(o,!0)),X&&(eX||e3)&&(o=this._adjustPos(o,!1,"reduce"));break;case"rightBottom":e8&&(o=this._adjustPos(o)),tt&&eh&&(o=this._adjustPos(o,!0)),X&&(eX||e3)&&(o=this._adjustPos(o,!1,"reduce"));break;case"leftTopOver":eS&&(o=this._adjustPos(o,!0)),ew&&(o=this._adjustPos(o));break;case"leftBottomOver":ex&&(o=this._adjustPos(o,!0)),ew&&(o=this._adjustPos(o));break;case"rightTopOver":eS&&(o=this._adjustPos(o,!0)),eC&&(o=this._adjustPos(o));break;case"rightBottomOver":ex&&(o=this._adjustPos(o,!0)),eC&&(o=this._adjustPos(o))}this.isTB(o)&&(X=eG&&eQ,et="top"===o||"bottom"===o?eZ&&e5||N<0||eu<0:eY&&e1||N<0||eu<0),this.isLR(o)&&(et=eU&&eJ,X="left"===o||"right"===o?eK&&e2||en<0||el<0:eW&&e0||en<0||el<0)}return{position:o,isHeightOverFlow:X,isWidthOverFlow:et}}_bindScrollEvent(){this._adapter.registerScrollHandler(()=>this.calcPosition())}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.updateContainerPosition()}_handleTriggerKeydown(o){let{closeOnEsc:v,disableArrowKeyDown:_}=this.getProps(),x=this._adapter.getContainer(),w=this._adapter.getFocusableElements(x),T=w.length;switch(o&&o.key){case"Escape":handlePrevent(o),v&&this._handleEscKeyDown(o);break;case"ArrowUp":!_&&T&&this._handleTriggerArrowUpKeydown(w,o);break;case"ArrowDown":!_&&T&&this._handleTriggerArrowDownKeydown(w,o)}}focusTrigger(){let{trigger:o,returnFocusOnClose:v,preventScroll:_}=this.getProps();if(v&&"custom"!==o){let o=this._adapter.getTriggerNode();o&&"focus"in o&&o.focus({preventScroll:_})}}_handleEscKeyDown(o){let{trigger:v}=this.getProps();"custom"!==v&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(o)}_handleContainerTabKeyDown(o,v){let{preventScroll:_}=this.getProps(),x=this._adapter.getActiveElement(),w=o[o.length-1]===x;w&&(o[0].focus({preventScroll:_}),v.preventDefault())}_handleContainerShiftTabKeyDown(o,v){let{preventScroll:_}=this.getProps(),x=this._adapter.getActiveElement(),w=o[0]===x;w&&(o[o.length-1].focus({preventScroll:_}),v.preventDefault())}_handleTriggerArrowDownKeydown(o,v){let{preventScroll:_}=this.getProps();o[0].focus({preventScroll:_}),v.preventDefault()}_handleTriggerArrowUpKeydown(o,v){let{preventScroll:_}=this.getProps();o[o.length-1].focus({preventScroll:_}),v.preventDefault()}};let ts={PREFIX:`${eO.T}-tooltip`},tl={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},tu={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0};function getUuid(o){return`${o}-${new Date().getTime()}-${Math.random()}`}function getUuidv4(){var o,v;try{return null!==(v=null===(o=null==crypto?void 0:crypto.randomUUID)||void 0===o?void 0:o.call(crypto))&&void 0!==v?v:String(-99990013e3).replace(/[018]/g,o=>(Number(o)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(o)/4).toString(16))}catch(o){return getUuid("semi")}}function getUuidShort(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{prefix:v="",length:_=7}=o,x="0123456789abcdefghijklmnopqrstuvwxyz",w=x.length,T="";for(let o=0;o<_;o++){let o=Math.floor(Math.random()*w);T+=x.charAt(o)}return v?`${v}-${T}`:T}function getDataAttr(o){return Object.keys(o).reduce((v,_)=>("data-"===_.substr(0,5)&&(v[_]=o[_]),v),{})}_(76);let{hasOwnProperty:tc}=Object.prototype;let BaseComponent=class BaseComponent extends eC.Component{componentDidMount(){this.foundation&&"function"==typeof this.foundation.init&&this.foundation.init()}componentWillUnmount(){this.foundation&&"function"==typeof this.foundation.destroy&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:o=>{if(this.context&&o)return this.context[o]},getContexts:()=>this.context,getProp:o=>this.props[o],getProps:()=>this.props,getState:o=>this.state[o],getStates:()=>this.state,setState:(o,v)=>this.setState(Object.assign({},o),v),getCache:o=>o&&this.cache[o],getCaches:()=>this.cache,setCache:(o,v)=>o&&(this.cache[o]=v),stopPropagation:o=>{try{o.stopPropagation(),o.nativeEvent&&o.nativeEvent.stopImmediatePropagation()}catch(o){}},persistEvent:o=>{o&&o.persist&&"function"==typeof o.persist&&o.persist()}}}log(o){for(var v=arguments.length,_=Array(v>1?v-1:0),x=1;x<v;x++)_[x-1]=arguments[x];return utils_log(o,..._)}getDataAttr(o){return getDataAttr(o)}constructor(o){super(o),this.isControlled=o=>!!(o&&this.props&&"object"==typeof this.props&&tc.call(this.props,o)),this.cache={},this.foundation=null}};function isElement(o){try{return o instanceof HTMLElement}catch(v){return"object"==typeof o&&1===o.nodeType&&"object"==typeof o.style&&"object"==typeof o.ownerDocument}}BaseComponent.propTypes={},BaseComponent.defaultProps={};var td=_(3727),th=_.n(td),tp=_(3508),tf=_.n(tp);let escapeRegExpFn=o=>o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),findChunks=o=>{let{autoEscape:v,caseSensitive:_,searchWords:x,sourceString:w}=o;return x.filter(o=>o).reduce((o,x)=>{let T;v&&(x=escapeRegExpFn(x));let L=new RegExp(x,_?"g":"gi");for(;T=L.exec(w);){let v=T.index,_=L.lastIndex;_>v&&o.push({highlight:!1,start:v,end:_}),T.index===L.lastIndex&&L.lastIndex++}return o},[])},combineChunks=o=>{let{chunks:v}=o;return v.sort((o,v)=>o.start-v.start).reduce((o,v)=>{if(0===o.length)return[v];{let _=o.pop();if(v.start<=_.end){let x=Math.max(_.end,v.end);o.push({highlight:!1,start:_.start,end:x})}else o.push(_,v);return o}},[])},fillInChunks=o=>{let{chunksToHighlight:v,totalLength:_}=o,x=[],append=(o,v,_)=>{v-o>0&&x.push({start:o,end:v,highlight:_})};if(0===v.length)append(0,_,!1);else{let o=0;v.forEach(v=>{append(o,v.start,!1),append(v.start,v.end,!0),o=v.end}),append(o,_,!1)}return x},findAll=o=>{let{autoEscape:v=!0,caseSensitive:_=!1,searchWords:x,sourceString:w}=o;e0()(x)&&(x=[x]);let T=findChunks({autoEscape:v,caseSensitive:_,searchWords:x,sourceString:w}),L=combineChunks({chunks:T}),N=fillInChunks({chunksToHighlight:L,totalLength:w?w.length:0});return N};var tg=_(7391);function stopPropagation(o,v){o&&"function"==typeof o.stopPropagation&&o.stopPropagation(),!v&&o.nativeEvent&&"function"==typeof o.nativeEvent.stopImmediatePropagation&&o.nativeEvent.stopImmediatePropagation()}function cloneDeep(o,v){return tf()(o,o=>{if("function"==typeof v)return v(o);if("function"==typeof o||eC.isValidElement(o)||"[object Error]"===Object.prototype.toString.call(o))return o;if(Array.isArray(o)&&0===o.length){let v=Object.keys(o);if(v.length){let _=[];v.forEach(v=>{th()(_,v,o[v])});try{warning("production"!==eH()(tg,"env.NODE_ENV"),"[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.\n                    The maximum length of an array is 4294967295.\n                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript")}catch(o){}return _}}})}let getHighLightTextHTML=o=>{let{sourceString:v="",searchWords:_=[],option:x={autoEscape:!0,caseSensitive:!1}}=o,w=findAll(Object.assign({sourceString:v,searchWords:_},x)),T=x.highlightTag||"mark",L=x.highlightClassName||"",N=x.highlightStyle||{};return w.map((o,_)=>{let{end:x,start:w,highlight:B}=o,H=v.substr(w,x-w);return B?eC.createElement(T,{style:N,className:L,key:H+_},H):H})},registerMediaQuery=(o,v)=>{let{match:_,unmatch:x,callInInit:w=!0}=v;{let v=window.matchMedia(o);function handlerMediaChange(o){o.matches?_&&_(o):x&&x(o)}return(w&&handlerMediaChange(v),Object.prototype.hasOwnProperty.call(v,"addEventListener"))?(v.addEventListener("change",handlerMediaChange),()=>v.removeEventListener("change",handlerMediaChange)):(v.addListener(handlerMediaChange),()=>v.removeListener(handlerMediaChange))}},isSemiIcon=o=>eC.isValidElement(o)&&"Icon"===eH()(o.type,"elementType");function getActiveElement(){return document?document.activeElement:null}function getFocusableElements(o){if(!isElement(o))return[];let v=Array.from(o.querySelectorAll("input:not([disabled]):not([tabindex='-1']),textarea:not([disabled]):not([tabindex='-1']),button:not([disabled]):not([tabindex='-1']),a[href]:not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),area[href]:not([tabindex='-1']),iframe:not([tabindex='-1']),object:not([tabindex='-1']),*[tabindex]:not([tabindex='-1']),*[contenteditable]:not([tabindex='-1'])"));return v}let tm=eC.createContext({});_(8572);let defaultGetContainer=()=>document.body;let Portal=class Portal extends eC.PureComponent{componentDidMount(){let o=this.initContainer(this.context);o!==this.state.container&&this.setState({container:o})}componentDidUpdate(o){let{didUpdate:v}=this.props;v&&v(o)}componentWillUnmount(){let{container:o}=this.state;o&&o.removeChild(this.el)}render(){let{state:o,props:v}=this;return o.container?(0,ti.createPortal)(v.children,this.el):null}constructor(o,v){var _;super(o),_=this,this.initContainer=function(o){var v,x;let w=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!_.el||!(null===(v=_.state)||void 0===v?void 0:v.container)||!Array.from(_.state.container.childNodes).includes(_.el)){_.el=document.createElement("div");let v=_.props.getPopupContainer||o.getPopupContainer||defaultGetContainer,x=v();return x.appendChild(_.el),_.addStyle(_.props.style),_.addClass(_.props.prefixCls,o,_.props.className),x}}catch(o){if(!w)throw o}return null===(x=_.state)||void 0===x?void 0:x.container},this.addStyle=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_.el)for(let v of Object.keys(o))_.el.style[v]=o[v]},this.addClass=function(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.context,{direction:x}=v;for(var w=arguments.length,T=Array(w>2?w-2:0),L=2;L<w;L++)T[L-2]=arguments[L];let N=eM()(o,...T,{["".concat(o,"-rtl")]:"rtl"===x});_.el&&(_.el.className=N)},this.state={container:this.initContainer(v,!0)}}};Portal.contextType=tm,Portal.defaultProps={prefixCls:"".concat(eO.T,"-portal")},Portal.propTypes={children:eI().node,prefixCls:eI().string,getPopupContainer:eI().func,className:eI().string,didUpdate:eI().func};var TriangleArrow_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _},tooltip_TriangleArrow=o=>{let{className:v,style:_}=o,x=TriangleArrow_rest(o,["className","style"]);return eC.createElement("svg",Object.assign({"aria-hidden":!0,className:v,style:_},x,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),eC.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))},TriangleArrowVertical_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _},tooltip_TriangleArrowVertical=o=>{let{className:v,style:_}=o,x=TriangleArrowVertical_rest(o,["className","style"]);return eC.createElement("svg",Object.assign({"aria-hidden":!0,className:v,style:_},x,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),eC.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))},ty=eI().shape({offsetX:eI().number,offsetY:eI().number,width:eI().number,height:eI().number});let CSSAnimation=class CSSAnimation extends eC.Component{componentDidMount(){var o,v,_,x;null===(v=(o=this.props).onAnimationStart)||void 0===v||v.call(o),this.props.motion||(null===(x=(_=this.props).onAnimationEnd)||void 0===x||x.call(_,!1),this.setState({isAnimating:!1}))}componentDidUpdate(o,v,_){let x=Object.keys(this.props).filter(v=>!e7()(this.props[v],o[v]));x.includes("animationState"),(x.includes("startClassName")||x.includes("replayKey")||x.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},()=>{var o,v,_,x;null===(v=(o=this.props).onAnimationStart)||void 0===v||v.call(o),this.props.motion||(null===(x=(_=this.props).onAnimationEnd)||void 0===x||x.call(_,this.state.isAnimating),this.setState({isAnimating:!1}))})}render(){var o;return this.props.motion?this.props.children({animationClassName:null!==(o=this.state.currentClassName)&&void 0!==o?o:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}constructor(o){super(o),this.handleAnimationStart=()=>{var o,v;null===(v=(o=this.props).onAnimationStart)||void 0===v||v.call(o)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},()=>{var o,v;null===(v=(o=this.props).onAnimationEnd)||void 0===v||v.call(o,!1)})},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}};CSSAnimation.defaultProps={motion:!0,replayKey:""};var tooltip_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let tv=ts.PREFIX,t_=tl.POSITION_SET,tb=tl.TRIGGER_SET,tS=["flex","block","table","flow-root","grid"],tooltip_defaultGetContainer=()=>document.body;let Tooltip=class Tooltip extends BaseComponent{get adapter(){var o=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return o.eventManager.on(...arguments)},off:function(){return o.eventManager.off(...arguments)},insertPortal:(o,v)=>{var{position:_}=v,x=tooltip_rest(v,["position"]);this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),x)},()=>{setTimeout(()=>{this.eventManager.emit("portalInserted")},0)})},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:o=>{this.setState({triggerEventSet:o})},registerPortalEvent:o=>{this.setState({portalEventSet:o})},getTriggerBounding:()=>{let o=this.adapter.getTriggerNode();return this.triggerEl.current=o,o&&o.getBoundingClientRect()},getPopupContainerRect:()=>{let o=this.getPopupContainer(),v=null;if(o&&isElement(o)){let _=convertDOMRectToObject(o.getBoundingClientRect());v=Object.assign(Object.assign({},_),{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop})}return v},containerIsBody:()=>{let o=this.getPopupContainer();return o===document.body},containerIsRelative:()=>{let o=this.getPopupContainer(),v=window.getComputedStyle(o);return"relative"===v.getPropertyValue("position")},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{let o=this.containerEl&&this.containerEl.current;return o&&o.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:o=>{var{position:v}=o,_=tooltip_rest(o,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),_),placement:v,isPositionUpdated:!0},()=>{this.eventManager.emit("positionUpdated")})},setDisplayNone:(o,v)=>{this.setState({displayNone:o},v)},updatePlacementAttr:o=>{this.setState({placement:o})},togglePortalVisible:(o,v)=>{let _={};_.transitionState=o?"enter":"leave",_.visible=o,this.mounted&&this.setState(_,()=>{v()})},registerClickOutsideHandler:o=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=v=>{if(!this.mounted)return!1;let _=this.triggerEl&&this.triggerEl.current,x=this.containerEl&&this.containerEl.current;_=ti.findDOMNode(_),x=ti.findDOMNode(x),(_&&!_.contains(v.target)&&x&&!x.contains(v.target)||this.props.clickTriggerToHide&&_&&_.contains(v.target))&&(this.props.onClickOutSide(v),o())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:o=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=tn()(v=>{if(!this.mounted)return!1;o(v)},10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:o=>{this.props.onVisibleChange(o)},registerScrollHandler:o=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=tn()(v=>{if(!this.mounted)return!1;let _=this.adapter.getTriggerNode(),x=v.target.contains(_);if(x){let _={x:v.target.scrollLeft,y:v.target.scrollTop};o(_)}},10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>!!this.props.motion,updateContainerPosition:()=>{let o=this.getPopupContainer();if(o&&isElement(o)){let v=window.getComputedStyle(o),_=v.getPropertyValue("position");this.containerPosition=_}},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let o=this.triggerEl.current;return isElement(this.triggerEl.current)||(o=ti.findDOMNode(this.triggerEl.current)),o},getFocusableElements:o=>getFocusableElements(o),getActiveElement:()=>getActiveElement(),setInitialFocus:()=>{let{preventScroll:o}=this.props,v=eH()(this,"initialFocusRef.current");v&&"focus"in v&&v.focus({preventScroll:o})},notifyEscKeydown:o=>{this.props.onEscKeyDown(o)},setId:()=>{this.setState({id:getUuidShort()})}})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||tooltip_defaultGetContainer,this.foundation.init()}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(o,v){warning(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),o.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),e7()(o.rePosKey,this.props.rePosKey)||this.rePosition()}render(){let{isInsert:o,triggerEventSet:v,visible:_,id:x}=this.state,{wrapWhenSpecial:w,role:T,trigger:L}=this.props,{children:N}=this.props,B=Object.assign({},eH()(N,"props.style")),H={};if(w){let o=this.isSpecial(N);o?(B.pointerEvents="none",o===tl.STATUS_DISABLED&&(H.cursor="not-allowed"),N=(0,eC.cloneElement)(N,{style:B}),"custom"!==L&&(N=this.wrapSpan(N)),this.isWrapped=!0):(0,eC.isValidElement)(N)||(N=this.wrapSpan(N),this.isWrapped=!0)}let Y={};"dialog"===T?(Y["aria-expanded"]=_?"true":"false",Y["aria-haspopup"]="dialog",Y["aria-controls"]=x):Y["aria-describedby"]=x;let Z=eC.cloneElement(N,Object.assign(Object.assign(Object.assign(Object.assign({},Y),N.props),this.mergeEvents(N.props,v)),{style:Object.assign(Object.assign({},eH()(N,"props.style")),H),className:eM()(eH()(N,"props.className")),ref:o=>{this.triggerEl.current=o;let{ref:v}=N;"function"==typeof v?v(o):v&&"object"==typeof v&&(v.current=o)},tabIndex:N.props.tabIndex||0,"data-popupid":x}));return eC.createElement(eC.Fragment,null,o?this.renderPortal():null,Z)}constructor(o){super(o),this.setContainerEl=o=>this.containerEl={current:o},this.isSpecial=o=>{if(isElement(o))return!!o.disabled;if((0,eC.isValidElement)(o)){let v=eH()(o,"props.disabled");if(v)return tl.STATUS_DISABLED;let _=eH()(o,"props.loading"),x=!e9()(o)&&!e9()(o.type)&&("Button"===eH()(o,"type.elementType")||"IconButton"===eH()(o,"type.elementType"));if(_&&x)return tl.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{let{placement:o}=this.state,{showArrow:v,prefixCls:_,style:x}=this.props,w=null,T=eM()(["".concat(_,"-icon-arrow")]),L=eH()(x,"backgroundColor"),N=o.includes("left")||o.includes("right")?eC.createElement(tooltip_TriangleArrowVertical,null):eC.createElement(tooltip_TriangleArrow,null);return v&&(w=(0,eC.isValidElement)(v)?v:eC.cloneElement(N,{className:T,style:{color:L,fill:"currentColor"}})),w},this.handlePortalInnerClick=o=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&stopPropagation(o)},this.handlePortalMouseDown=o=>{this.props.stopPropagation&&stopPropagation(o)},this.handlePortalFocus=o=>{this.props.stopPropagation&&stopPropagation(o)},this.handlePortalBlur=o=>{this.props.stopPropagation&&stopPropagation(o)},this.handlePortalInnerKeyDown=o=>{this.foundation.handleContainerKeydown(o)},this.renderContentNode=o=>{let v={initialFocusRef:this.initialFocusRef};return eX()(o)?o(v):o},this.renderPortal=()=>{let{containerStyle:o={},visible:v,portalEventSet:_,placement:x,displayNone:w,transitionState:T,id:L,isPositionUpdated:N}=this.state,{prefixCls:B,content:H,showArrow:Y,style:Z,motion:X,role:et,zIndex:en}=this.props,er=this.renderContentNode(H),{className:ei}=this.props,ea=this.context.direction,eo=eM()(ei,{["".concat(B,"-wrapper")]:!0,["".concat(B,"-wrapper-show")]:v,["".concat(B,"-with-arrow")]:!!Y,["".concat(B,"-rtl")]:"rtl"===ea}),el=this.renderIcon(),eu=eR()(o,X?["transformOrigin"]:void 0),ec=eH()(o,"transformOrigin"),ed=eH()(Z,"opacity",null),eh=ed||1,ep=eC.createElement(CSSAnimation,{fillMode:"forwards",animationState:T,motion:X&&N,startClassName:"enter"===T?"".concat(tv,"-animation-show"):"".concat(tv,"-animation-hide"),onAnimationEnd:()=>{var o,v;"leave"===T&&(this.didLeave(),null===(v=(o=this.props).afterClose)||void 0===v||v.call(o))}},o=>{let{animationStyle:v,animationClassName:T,animationEventsNeedBind:B}=o;return eC.createElement("div",Object.assign({className:eM()(eo,T),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},v),w?{display:"none"}:{}),{transformOrigin:ec}),Z),ed?{opacity:N?eh:"0"}:{})},_,B,{role:et,"x-placement":x,id:L}),eC.createElement("div",{className:"".concat(tv,"-content")},er),el)});return eC.createElement(Portal,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:en}},eC.createElement("div",{tabIndex:-1,className:"".concat(eO.T,"-portal-inner"),style:eu,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},ep))},this.wrapSpan=o=>{let{wrapperClassName:v}=this.props,_=eH()(o,"props.style.display"),x=eH()(o,"props.block"),w="string"==typeof o,T={};return w||(T.display="inline-block"),(x||tS.includes(_))&&(T.width="100%"),eC.createElement("span",{className:v,style:T},o)},this.mergeEvents=(o,v)=>{let _={};return te()(v,(v,x)=>{"function"==typeof v&&(_[x]=function(){v(...arguments),o&&"function"==typeof o[x]&&o[x](...arguments)})}),_},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:o.position||"top",transitionStyle:{},isPositionUpdated:!1,id:o.wrapperId,displayNone:!1},this.foundation=new foundation_Tooltip(this.adapter),this.eventManager=new Event,this.triggerEl=eC.createRef(),this.containerEl=eC.createRef(),this.initialFocusRef=eC.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}};Tooltip.contextType=tm,Tooltip.propTypes={children:eI().node,motion:eI().bool,autoAdjustOverflow:eI().bool,position:eI().oneOf(t_),getPopupContainer:eI().func,mouseEnterDelay:eI().number,mouseLeaveDelay:eI().number,trigger:eI().oneOf(tb).isRequired,className:eI().string,wrapperClassName:eI().string,clickToHide:eI().bool,clickTriggerToHide:eI().bool,visible:eI().bool,style:eI().object,content:eI().oneOfType([eI().node,eI().func]),prefixCls:eI().string,onVisibleChange:eI().func,onClickOutSide:eI().func,spacing:eI().oneOfType([eI().number,eI().object]),margin:eI().oneOfType([eI().number,eI().object]),showArrow:eI().oneOfType([eI().bool,eI().node]),zIndex:eI().number,rePosKey:eI().oneOfType([eI().string,eI().number]),arrowBounding:ty,transformFromCenter:eI().bool,arrowPointAtCenter:eI().bool,stopPropagation:eI().bool,role:eI().string,wrapWhenSpecial:eI().bool,guardFocus:eI().bool,returnFocusOnClose:eI().bool,preventScroll:eI().bool,keepDOM:eI().bool},Tooltip.defaultProps={arrowBounding:tu.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:tv,role:"tooltip",mouseEnterDelay:tu.MOUSE_ENTER_DELAY,mouseLeaveDelay:tu.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:eE(),onClickOutSide:eE(),spacing:tu.SPACING,margin:tu.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:tu.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:eE(),disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1};var tx=_(8134),tw=_.n(tx);let tC=eC.createContext(null);var tT={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}};function buildFormatLongFn(o){return function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=v.width?String(v.width):o.defaultWidth;return o.formats[_]||o.formats[o.defaultWidth]}}var tM={date:buildFormatLongFn({formats:{full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},defaultWidth:"full"}),time:buildFormatLongFn({formats:{full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};function requiredArgs(o,v){if(v.length<o)throw TypeError(o+" argument"+(o>1?"s":"")+" required, but only "+v.length+" present")}function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function toDate_toDate(o){requiredArgs(1,arguments);var v=Object.prototype.toString.call(o);return o instanceof Date||"object"===_typeof(o)&&"[object Date]"===v?new Date(o.getTime()):"number"==typeof o||"[object Number]"===v?new Date(o):(("string"==typeof o||"[object String]"===v)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}function toInteger(o){if(null===o||!0===o||!1===o)return NaN;var v=Number(o);return isNaN(v)?v:v<0?Math.ceil(v):Math.floor(v)}var tP={};function startOfUTCWeek(o,v){requiredArgs(1,arguments);var _,x,w,T,L,N,B,H,Y=toInteger(null!==(_=null!==(x=null!==(w=null!==(T=null==v?void 0:v.weekStartsOn)&&void 0!==T?T:null==v?void 0:null===(L=v.locale)||void 0===L?void 0:null===(N=L.options)||void 0===N?void 0:N.weekStartsOn)&&void 0!==w?w:tP.weekStartsOn)&&void 0!==x?x:null===(B=tP.locale)||void 0===B?void 0:null===(H=B.options)||void 0===H?void 0:H.weekStartsOn)&&void 0!==_?_:0);if(!(Y>=0&&Y<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var Z=toDate_toDate(o),X=Z.getUTCDay();return Z.setUTCDate(Z.getUTCDate()-((X<Y?7:0)+X-Y)),Z.setUTCHours(0,0,0,0),Z}function isSameUTCWeek(o,v,_){requiredArgs(2,arguments);var x=startOfUTCWeek(o,_),w=startOfUTCWeek(v,_);return x.getTime()===w.getTime()}function checkWeek(o,v,_){var x="eeee p";return isSameUTCWeek(o,v,_)?x:o.getTime()>v.getTime()?"''"+x:"''"+x}var tI={lastWeek:checkWeek,yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:checkWeek,other:"PP p"};function buildLocalizeFn(o){return function(v,_){var x;if("formatting"===(null!=_&&_.context?String(_.context):"standalone")&&o.formattingValues){var w=o.defaultFormattingWidth||o.defaultWidth,T=null!=_&&_.width?String(_.width):w;x=o.formattingValues[T]||o.formattingValues[w]}else{var L=o.defaultWidth,N=null!=_&&_.width?String(_.width):o.defaultWidth;x=o.values[N]||o.values[L]}return x[o.argumentCallback?o.argumentCallback(v):v]}}function buildMatchFn(o){return function(v){var _,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=x.width,T=w&&o.matchPatterns[w]||o.matchPatterns[o.defaultMatchWidth],L=v.match(T);if(!L)return null;var N=L[0],B=w&&o.parsePatterns[w]||o.parsePatterns[o.defaultParseWidth],H=Array.isArray(B)?findIndex(B,function(o){return o.test(N)}):findKey(B,function(o){return o.test(N)});return _=o.valueCallback?o.valueCallback(H):H,{value:_=x.valueCallback?x.valueCallback(_):_,rest:v.slice(N.length)}}}function findKey(o,v){for(var _ in o)if(o.hasOwnProperty(_)&&v(o[_]))return _}function findIndex(o,v){for(var _=0;_<o.length;_++)if(v(o[_]))return _}function buildMatchPatternFn(o){return function(v){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=v.match(o.matchPattern);if(!x)return null;var w=x[0],T=v.match(o.parsePattern);if(!T)return null;var L=o.valueCallback?o.valueCallback(T[0]):T[0];return{value:L=_.valueCallback?_.valueCallback(L):L,rest:v.slice(w.length)}}}var tD={code:"zh-CN",formatDistance:function(o,v,_){var x,w=tT[o];return(x="string"==typeof w?w:1===v?w.one:w.other.replace("{{count}}",String(v)),null!=_&&_.addSuffix)?_.comparison&&_.comparison>0?x+"":x+"":x},formatLong:tM,formatRelative:function(o,v,_,x){var w=tI[o];return"function"==typeof w?w(v,_,x):w},localize:{ordinalNumber:function(o,v){var _=Number(o);switch(null==v?void 0:v.unit){case"date":return _.toString()+"";case"hour":return _.toString()+"";case"minute":return _.toString()+"";case"second":return _.toString()+"";default:return" "+_.toString()}},era:buildLocalizeFn({values:{narrow:["",""],abbreviated:["",""],wide:["",""]},defaultWidth:"wide"}),quarter:buildLocalizeFn({values:{narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},defaultWidth:"wide",argumentCallback:function(o){return o-1}}),month:buildLocalizeFn({values:{narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},defaultWidth:"wide"}),day:buildLocalizeFn({values:{narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:{narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},defaultWidth:"wide",formattingValues:{narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:buildMatchPatternFn({matchPattern:/^(\s*)?\d+(|||)?/i,parsePattern:/\d+/i,valueCallback:function(o){return parseInt(o,10)}}),era:buildMatchFn({matchPatterns:{narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^()/i,/^()/i]},defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},defaultParseWidth:"any",valueCallback:function(o){return o+1}}),month:buildMatchFn({matchPatterns:{narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:{narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},defaultMatchWidth:"wide",parsePatterns:{any:[//i,//i,//i,//i,//i,//i,//i]},defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:{any:/^(?|?||[]|?||?||)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},tE={code:"zh-CN",dateFnsLocale:tD,Pagination:{pageSize:"${pageSize}",total:"${total}",jumpTo:"",page:""},Modal:{confirm:"",cancel:""},TimePicker:{placeholder:{time:"",timeRange:""},begin:"",end:"",hour:"",minute:"",second:"",AM:"",PM:""},DatePicker:{placeholder:{date:"",dateTime:"",dateRange:["",""],dateTimeRange:["",""],monthRange:["",""]},presets:"",footer:{confirm:"",cancel:""},selectDate:"",selectTime:"",year:"",month:"",day:"",monthText:"${year} ${month}",months:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",Sun:""},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"",expandText:""},Popconfirm:{confirm:"",cancel:""},Table:{emptyText:"",pageText:" ${currentStart} - ${currentEnd}  ${total} "},Select:{emptyText:"",createText:""},Cascader:{emptyText:""},Tree:{emptyText:"",searchPlaceholder:""},List:{emptyText:""},Calendar:{allDay:"",AM:"${time}",PM:"${time}",datestring:"",remaining:"${remained}"},Upload:{mainText:"",illegalTips:"",legalTips:"",retry:"",replace:"",clear:"",selectedFiles:"",illegalSize:"",fail:""},TreeSelect:{searchPlaceholder:""},Typography:{copy:"",copied:"",expand:"",collapse:""},Transfer:{emptyLeft:"",emptySearch:"",emptyRight:"",placeholder:"",clear:"",selectAll:"",clearSelectAll:"",total:"${total}",selected:"${total}"},Form:{optional:""},Image:{preview:"",loading:"",loadError:"",prevTip:"",nextTip:"",zoomInTip:"",zoomOutTip:"",rotateTip:"",downloadTip:"",adaptiveTip:"",originTip:""}};let LocaleConsumer=class LocaleConsumer extends eC.Component{renderChildren(o,v){let{componentName:_}=this.props,x=o;(null==o?void 0:o.code)||(x=tE);let w=eH()(tE,"dateFnsLocale"),T=eH()(x,"dateFnsLocale",w);return v(x[_],x.code,T)}render(){let{children:o}=this.props;return eC.createElement(tm.Consumer,null,v=>{let{locale:_}=v;return eC.createElement(tC.Consumer,null,v=>this.renderChildren(_||v,o))})}};LocaleConsumer.propTypes={componentName:eI().string.isRequired,children:eI().any},LocaleConsumer.defaultProps={componentName:""},_(9332);var Icon_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let tO=eC.forwardRef((o,v)=>{let{svg:_,spin:x=!1,rotate:w,style:T,className:L,prefixCls:N="semi",type:B,size:H="default"}=o,Y=Icon_rest(o,["svg","spin","rotate","style","className","prefixCls","type","size"]),Z=eM()("".concat(N,"-icon"),{["".concat(N,"-icon-extra-small")]:"extra-small"===H,["".concat(N,"-icon-small")]:"small"===H,["".concat(N,"-icon-default")]:"default"===H,["".concat(N,"-icon-large")]:"large"===H,["".concat(N,"-icon-extra-large")]:"extra-large"===H,["".concat(N,"-icon-spinning")]:!0===x,["".concat(N,"-icon-").concat(B)]:!!B},L),X={};return Number.isSafeInteger(w)&&(X.transform="rotate(".concat(w,"deg)")),Object.assign(X,T),eC.createElement("span",Object.assign({role:"img",ref:v,"aria-label":B,className:Z,style:X},Y),_)});tO.elementType="Icon";let convertIcon=(o,v)=>{let _=eC.forwardRef((_,x)=>eC.createElement(tO,Object.assign({svg:eC.createElement(o),type:v,ref:x},_)));return _.elementType="Icon",_};function SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3516 4.2652C22.0336 4.73552 22.2052 5.66964 21.7348 6.35162L11.7348 20.8516C11.4765 21.2262 11.0622 21.4632 10.6084 21.4961C10.1546 21.529 9.71041 21.3541 9.40082 21.0207L2.90082 14.0207C2.33711 13.4136 2.37226 12.4645 2.97933 11.9008C3.5864 11.3371 4.53549 11.3723 5.0992 11.9793L10.3268 17.6091L19.2652 4.64842C19.7355 3.96644 20.6696 3.79487 21.3516 4.2652Z",fill:"currentColor"}))}let tA=convertIcon(SvgComponent,"tick");function IconCopy_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{d:"M7 4C7 2.89543 7.89543 2 9 2H20C21.1046 2 22 2.89543 22 4V15C22 16.1046 21.1046 17 20 17H19V8C19 6 18 5 16 5H7V4Z",fill:"currentColor"}),eC.createElement("path",{d:"M5 7C3.89543 7 3 7.89543 3 9V19C3 20.1046 3.89543 21 5 21H15C16.1046 21 17 20.1046 17 19V9C17 7.89543 16.1046 7 15 7H5Z",fill:"currentColor"}))}let tk=convertIcon(IconCopy_SvgComponent,"copy"),tL="Enter";var tR={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,UP:38,DOWN:40},utils_isEnterPress=function(o){return eH()(o,"key")===tL};let tN=eW.PREFIX;let Copyable=class Copyable extends eC.PureComponent{componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){let{style:o,className:v,forwardRef:_,copyTip:x}=this.props,{copied:w}=this.state,T=eM()(v,{["".concat(tN,"-action-copy")]:!w,["".concat(tN,"-action-copied")]:w});return eC.createElement(LocaleConsumer,{componentName:"Typography"},v=>eC.createElement("span",{style:Object.assign({marginLeft:"4px"},o),className:T,ref:_},w?this.renderSuccessTip():eC.createElement(Tooltip,{content:void 0!==x?x:v.copy},this.renderCopyIcon())))}constructor(o){super(o),this.copy=o=>{let{content:v,duration:_,onCopy:x}=this.props,w=tw()(v);x&&x(o,v,w),this.setCopied(v,_)},this.setCopied=(o,v)=>{this.setState({copied:!0,item:o}),this._timeId=setTimeout(()=>{this.resetCopied()},1e3*v)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{let{successTip:o}=this.props;return void 0!==o?o:eC.createElement(LocaleConsumer,{componentName:"Typography"},o=>eC.createElement("span",null,eC.createElement(tA,null),o.copied))},this.renderCopyIcon=()=>{let{icon:o}=this.props,v={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:o=>utils_isEnterPress(o)&&this.copy(o)},_=eC.createElement("a",{className:"".concat(tN,"-action-copy-icon")},eC.createElement(tk,Object.assign({onClick:this.copy},v)));return eC.isValidElement(o)?eC.cloneElement(o,v):_},this.state={copied:!1,item:""}}};Copyable.propTypes={content:eI().string,onCopy:eI().func,successTip:eI().node,copyTip:eI().node,duration:eI().number,style:eI().object,className:eI().string,icon:eI().node},Copyable.defaultProps={content:"",onCopy:function_noop,duration:3,style:{},className:""};let tF={PREFIX:`${eO.T}-popover`,ARROW:`${eO.T}-popover-icon-arrow`},tV={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},tB={ARROW_BOUNDING:Object.assign(Object.assign({},tu.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030};var Arrow_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let Arrow=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{position:v="",className:_,arrowStyle:x,popStyle:w}=o,T=Arrow_rest(o,["position","className","arrowStyle","popStyle"]),L=0===v.indexOf("top")||0===v.indexOf("bottom"),N=eM()(_,tF.ARROW),B=eH()(x,"borderOpacity",tV.DEFAULT_ARROW_STYLE.borderOpacity),H=eH()(x,"backgroundColor",eH()(w,"backgroundColor",tV.DEFAULT_ARROW_STYLE.backgroundColor)),Y=eH()(x,"borderColor",eH()(w,"borderColor",tV.DEFAULT_ARROW_STYLE.borderColor)),Z=Object.assign(Object.assign({},T),{width:tB.ARROW_BOUNDING.width,height:tB.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:N});return L?eC.createElement("svg",Object.assign({},Z),eC.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:Y,opacity:B}),eC.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:H})):eC.createElement("svg",Object.assign({},Z),eC.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:Y,opacity:B}),eC.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:H}))};Arrow.propTypes={position:eI().string,className:eI().string,arrowStyle:eI().object,popStyle:eI().object},_(7374);var popover_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let tz=tV.POSITION_SET,tj=tV.TRIGGER_SET;let Popover=class Popover extends eC.PureComponent{render(){let o=this.props,{children:v,prefixCls:_,showArrow:x,arrowStyle:w={},arrowBounding:T,position:L,style:N,trigger:B}=o,H=popover_rest(o,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]),{spacing:Y}=this.props,Z=!!x&&eC.createElement(Arrow,Object.assign({},{position:L,className:"",popStyle:N,arrowStyle:w}));return isNullOrUndefined(Y)&&(Y=x?tB.SPACING_WITH_ARROW:tB.SPACING),eC.createElement(Tooltip,Object.assign({guardFocus:!0,ref:this.tooltipRef},H,{trigger:B,position:L,style:N,content:this.renderPopCard,prefixCls:_,spacing:Y,showArrow:Z,arrowBounding:T,role:"click"===B||"custom"===B?"dialog":"tooltip"}),v)}constructor(o){super(o),this.focusTrigger=()=>{var o;null===(o=this.tooltipRef.current)||void 0===o||o.focusTrigger()},this.renderPopCard=o=>{let{initialFocusRef:v}=o,{content:_,contentClassName:x,prefixCls:w}=this.props,{direction:T}=this.context,L=eM()(w,x,{["".concat(w,"-rtl")]:"rtl"===T}),N=this.renderContentNode({initialFocusRef:v,content:_});return eC.createElement("div",{className:L},eC.createElement("div",{className:"".concat(w,"-content")},N))},this.renderContentNode=o=>{let{initialFocusRef:v,content:_}=o;return eX()(_)?_({initialFocusRef:v}):_},this.tooltipRef=eC.createRef()}};function pxToNumber(o){if(!o)return 0;let v=o.match(/^\d*(\.\d*)?/);return v?Number(v[0]):0}function styleToString(o){let v=Array.prototype.slice.apply(o);return v.map(v=>"".concat(v,": ").concat(o.getPropertyValue(v),";")).join("")}Popover.contextType=tm,Popover.propTypes={children:eI().node,content:eI().oneOfType([eI().node,eI().func]),visible:eI().bool,autoAdjustOverflow:eI().bool,motion:eI().bool,position:eI().oneOf(tz),margin:eI().oneOfType([eI().number,eI().object]),mouseEnterDelay:eI().number,mouseLeaveDelay:eI().number,trigger:eI().oneOf(tj).isRequired,contentClassName:eI().oneOfType([eI().string,eI().array]),onVisibleChange:eI().func,onClickOutSide:eI().func,style:eI().object,spacing:eI().oneOfType([eI().number,eI().object]),zIndex:eI().number,showArrow:eI().bool,arrowStyle:eI().shape({borderColor:eI().string,backgroundColor:eI().string,borderOpacity:eI().oneOfType([eI().string,eI().number])}),arrowPointAtCenter:eI().bool,arrowBounding:eI().object,prefixCls:eI().string,guardFocus:eI().bool,disableArrowKeyDown:eI().bool},Popover.defaultProps={arrowBounding:tB.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:tB.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:tF.PREFIX,onClickOutSide:eE(),onEscKeyDown:eE(),closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0};var util=function(o,v){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",w=arguments.length>3?arguments[3]:void 0,T=arguments.length>4?arguments[4]:void 0,L=arguments.length>5?arguments[5]:void 0,N=arguments.length>6?arguments[6]:void 0;if(0===_.length)return"";x||((x=document.createElement("div")).setAttribute("aria-hidden","true"),document.body.appendChild(x));let B=window.getComputedStyle(o),H=styleToString(B),Y=pxToNumber(B.lineHeight),Z=Math.round(Y*(v+1)+pxToNumber(B.paddingTop)+pxToNumber(B.paddingBottom)),X=parseInt(B.width);function inRange(){return"nowrap"===B.whiteSpace?x.scrollWidth<=X:x.scrollHeight<Z}x.setAttribute("style",H),x.style.position="fixed",x.style.left="0",x.style.height="auto",x.style.top="-999999px",x.style.zIndex="-1000",x.style.textOverflow="clip",x.style.webkitLineClamp="none",ti.render(eC.createElement(eC.Fragment,null),x);let et=document.createElement("span"),en=document.createTextNode(_);if(et.appendChild(en),L.length>0){let o=document.createTextNode(L);et.appendChild(o)}function appendExpandNode(){x.innerHTML="",x.appendChild(et),Object.values(w).map(o=>o&&x.appendChild(o.cloneNode(!0)))}function getCurrentText(o,v){let _=o.length;return v?"end"===N?o.slice(0,v)+T:o.slice(0,v)+T+o.slice(_-v,_):T}function measureText(o,v){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v.length,w=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,L=Math.floor((_+x)/2),N=getCurrentText(v,L);if(o.textContent=N,_>=x-1&&x>0)for(let w=x;w>=_;w-=1){let _=getCurrentText(v,w);if(o.textContent=_,inRange())return _}else if(0===x)return T;return inRange()?measureText(o,v,L,x,L):measureText(o,v,_,L,w)}x.appendChild(et),Object.values(eR()(w,"expand")).map(o=>o&&x.appendChild(o.cloneNode(!0)));let er=_;return inRange()||(appendExpandNode(),er=measureText(en,_,0,"middle"===N?Math.floor(_.length/2):_.length)),x.innerHTML="",er},tH=function(){if("undefined"!=typeof Map)return Map;function getIndex(o,v){var _=-1;return o.some(function(o,x){return o[0]===v&&(_=x,!0)}),_}return function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(o){var v=getIndex(this.__entries__,o),_=this.__entries__[v];return _&&_[1]},class_1.prototype.set=function(o,v){var _=getIndex(this.__entries__,o);~_?this.__entries__[_][1]=v:this.__entries__.push([o,v])},class_1.prototype.delete=function(o){var v=this.__entries__,_=getIndex(v,o);~_&&v.splice(_,1)},class_1.prototype.has=function(o){return!!~getIndex(this.__entries__,o)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(o,v){void 0===v&&(v=null);for(var _=0,x=this.__entries__;_<x.length;_++){var w=x[_];o.call(v,w[1],w[0])}},class_1}()}(),tG="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,tU=void 0!==_.g&&_.g.Math===Math?_.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),tW="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(tU):function(o){return setTimeout(function(){return o(Date.now())},1e3/60)};function ResizeObserver_es_throttle(o,v){var _=!1,x=!1,w=0;function resolvePending(){_&&(_=!1,o()),x&&proxy()}function timeoutCallback(){tW(resolvePending)}function proxy(){var o=Date.now();if(_){if(o-w<2)return;x=!0}else _=!0,x=!1,setTimeout(timeoutCallback,v);w=o}return proxy}var tY=["top","right","bottom","left","width","height","size","weight"],tK="undefined"!=typeof MutationObserver,tZ=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ResizeObserver_es_throttle(this.refresh.bind(this),20)}return ResizeObserverController.prototype.addObserver=function(o){~this.observers_.indexOf(o)||this.observers_.push(o),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(o){var v=this.observers_,_=v.indexOf(o);~_&&v.splice(_,1),!v.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var o=this.observers_.filter(function(o){return o.gatherActive(),o.hasActive()});return o.forEach(function(o){return o.broadcastActive()}),o.length>0},ResizeObserverController.prototype.connect_=function(){tG&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),tK?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){tG&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(o){var v=o.propertyName,_=void 0===v?"":v;tY.some(function(o){return!!~_.indexOf(o)})&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),defineConfigurable=function(o,v){for(var _=0,x=Object.keys(v);_<x.length;_++){var w=x[_];Object.defineProperty(o,w,{value:v[w],enumerable:!1,writable:!1,configurable:!0})}return o},getWindowOf=function(o){return o&&o.ownerDocument&&o.ownerDocument.defaultView||tU},tq=createRectInit(0,0,0,0);function toFloat(o){return parseFloat(o)||0}function getBordersSize(o){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];return v.reduce(function(v,_){return v+toFloat(o["border-"+_+"-width"])},0)}function getPaddings(o){for(var v={},_=0,x=["top","right","bottom","left"];_<x.length;_++){var w=x[_],T=o["padding-"+w];v[w]=toFloat(T)}return v}function getSVGContentRect(o){var v=o.getBBox();return createRectInit(0,0,v.width,v.height)}function getHTMLElementContentRect(o){var v=o.clientWidth,_=o.clientHeight;if(!v&&!_)return tq;var x=getWindowOf(o).getComputedStyle(o),w=getPaddings(x),T=w.left+w.right,L=w.top+w.bottom,N=toFloat(x.width),B=toFloat(x.height);if("border-box"===x.boxSizing&&(Math.round(N+T)!==v&&(N-=getBordersSize(x,"left","right")+T),Math.round(B+L)!==_&&(B-=getBordersSize(x,"top","bottom")+L)),!isDocumentElement(o)){var H=Math.round(N+T)-v,Y=Math.round(B+L)-_;1!==Math.abs(H)&&(N-=H),1!==Math.abs(Y)&&(B-=Y)}return createRectInit(w.left,w.top,N,B)}var tX="undefined"!=typeof SVGGraphicsElement?function(o){return o instanceof getWindowOf(o).SVGGraphicsElement}:function(o){return o instanceof getWindowOf(o).SVGElement&&"function"==typeof o.getBBox};function isDocumentElement(o){return o===getWindowOf(o).document.documentElement}function getContentRect(o){return tG?tX(o)?getSVGContentRect(o):getHTMLElementContentRect(o):tq}function createReadOnlyRect(o){var v=o.x,_=o.y,x=o.width,w=o.height,T=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype);return defineConfigurable(T,{x:v,y:_,width:x,height:w,top:_,right:v+x,bottom:w+_,left:v}),T}function createRectInit(o,v,_,x){return{x:o,y:v,width:_,height:x}}var t$=function(){function ResizeObservation(o){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=o}return ResizeObservation.prototype.isActive=function(){var o=getContentRect(this.target);return this.contentRect_=o,o.width!==this.broadcastWidth||o.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var o=this.contentRect_;return this.broadcastWidth=o.width,this.broadcastHeight=o.height,o},ResizeObservation}(),ResizeObserverEntry=function(o,v){defineConfigurable(this,{target:o,contentRect:createReadOnlyRect(v)})},tQ=function(){function ResizeObserverSPI(o,v,_){if(this.activeObservations_=[],this.observations_=new tH,"function"!=typeof o)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=o,this.controller_=v,this.callbackCtx_=_}return ResizeObserverSPI.prototype.observe=function(o){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(o instanceof getWindowOf(o).Element))throw TypeError('parameter 1 is not of type "Element".');var v=this.observations_;v.has(o)||(v.set(o,new t$(o)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(o){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(o instanceof getWindowOf(o).Element))throw TypeError('parameter 1 is not of type "Element".');var v=this.observations_;v.has(o)&&(v.delete(o),v.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var o=this;this.clearActive(),this.observations_.forEach(function(v){v.isActive()&&o.activeObservations_.push(v)})},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var o=this.callbackCtx_,v=this.activeObservations_.map(function(o){return new ResizeObserverEntry(o.target,o.broadcastRect())});this.callback_.call(o,v,o),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),tJ="undefined"!=typeof WeakMap?new WeakMap:new tH,t0=function(){function ResizeObserver(o){if(!(this instanceof ResizeObserver))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var v=new tQ(o,tZ.getInstance(),this);tJ.set(this,v)}return ResizeObserver}();["observe","unobserve","disconnect"].forEach(function(o){t0.prototype[o]=function(){var v;return(v=tJ.get(this))[o].apply(v,arguments)}});var t1=void 0!==tU.ResizeObserver?tU.ResizeObserver:t0;let ReactResizeObserver=class ReactResizeObserver extends BaseComponent{componentDidMount(){this.observeElement()}componentDidUpdate(o){this.observeElement(this.props.observeParent!==o.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}observeElement(){let o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],v=this.getElement();if(this.observer||(this.observer=new t1(this.props.onResize)),!(v&&v instanceof Element)){this.observer.disconnect();return}(v!==this.element||o)&&(this.observer.disconnect(),this.element=v,this.observer.observe(v),this.props.observeParent&&v.parentNode&&v.parentNode.ownerDocument&&v.parentNode.ownerDocument.defaultView&&v.parentNode instanceof v.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=v.parentNode,this.observer.observe(this._parentNode)))}render(){let o=eC.Children.only(this.props.children),{ref:v}=o;return eC.cloneElement(o,{ref:o=>this.mergeRef(v,o)})}constructor(o){super(o),this.getElement=()=>{try{return(0,ti.findDOMNode)(this.childNode||this)}catch(o){return null}},this.mergeRef=(o,v)=>{this.childNode=v,"function"==typeof o?o(v):"object"==typeof o&&o&&"current"in o&&(o.current=v)},this.observer=new t1(o.onResize)}};ReactResizeObserver.propTypes={onResize:eI().func,observeParent:eI().bool},ReactResizeObserver.defaultProps={onResize:()=>{},observeParent:!1};var base_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let t2=eW.PREFIX,wrapperDecorations=(o,v)=>{let{mark:_,code:x,underline:w,strong:T,link:L,disabled:N}=o,B=v,wrap=(o,v)=>{let _={};o&&("object"==typeof o&&(_=Object.assign({},o)),B=eC.createElement(v,_,B))};return wrap(_,"mark"),wrap(x,"code"),wrap(w&&!L,"u"),wrap(T,"strong"),wrap(o.delete,"del"),wrap(L,N?"span":"a"),B};let Base=class Base extends eC.Component{componentDidMount(){this.props.ellipsis&&this.onResize()}static getDerivedStateFromProps(o,v){let{prevChildren:_}=v,x={};return x.prevChildren=o.children,o.ellipsis&&_!==o.children&&(x.isOverflowed=!0,x.ellipsisContent=o.children,x.expanded=!1,x.isTruncated=!0),x}componentDidUpdate(o){this.props.children!==o.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}getEllipsisState(){let{rows:o,suffix:v,pos:_}=this.getEllipsisOpt(),{children:x}=this.props;if(!this.wrapperRef||!this.wrapperRef.current)return this.onResize(),!1;let{expanded:w}=this.state,T=this.canUseCSSEllipsis();if(eQ()(x)){this.setState({isTruncated:!1,isOverflowed:!1});return}if(warning("children"in this.props&&"string"!=typeof x,"[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!o||o<0||w)return;if(T){let v=this.shouldTruncated(o);this.setState({isOverflowed:v,isTruncated:!1});return}let L={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},N=util(this.wrapperRef.current,o,String(x),L,"...",v,_);this.setState({isOverflowed:!1,ellipsisContent:N,isTruncated:x!==N})}renderOperations(){return eC.createElement(eC.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var o;let v;let{copyable:_,children:x}=this.props;if(!_)return null;let w=null!==(o=null==_?void 0:_.content)&&void 0!==o?o:x,T=!1;Array.isArray(w)?(v="",w.forEach(o=>{"object"==typeof o&&(T=!0),v+=String(o)})):("object"!=typeof w||(T=!0),v=String(w)),warning(T,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");let L=Object.assign({content:v,duration:3},"object"==typeof _?_:null);return eC.createElement(Copyable,Object.assign({},L,{forwardRef:this.copyRef}))}renderIcon(){let{icon:o,size:v}=this.props;return o?eC.createElement("span",{className:"".concat(t2,"-icon"),"x-semi-prop":"icon"},isSemiIcon(o)?eC.cloneElement(o,{size:"small"===v?"small":"default"}):o):null}renderContent(){let o=this.props,{component:v,children:_,className:x,type:w,spacing:T,disabled:L,style:N,ellipsis:B,icon:H,size:Y,link:Z,heading:X,weight:et}=o,en=base_rest(o,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),er=eR()(en,["strong","editable","mark","copyable","underline","code","delete"]),ei=this.renderIcon(),ea=this.getEllipsisOpt(),{ellipsisCls:eo,ellipsisStyle:el}=this.getEllipsisStyle(),eu=B?this.renderEllipsisText(ea):_,ec=eM()({["".concat(t2,"-link-text")]:Z,["".concat(t2,"-link-underline")]:this.props.underline&&Z});eu=wrapperDecorations(this.props,eC.createElement(eC.Fragment,null,ei,this.props.link?eC.createElement("span",{className:ec},eu):eu));let ed=e0()(X)&&/^h[1-6]$/.test(X),eh=eM()(x,eo,{["".concat(t2,"-").concat(w)]:w&&!Z,["".concat(t2,"-").concat(Y)]:Y,["".concat(t2,"-link")]:Z,["".concat(t2,"-disabled")]:L,["".concat(t2,"-").concat(T)]:T,["".concat(t2,"-").concat(X)]:ed,["".concat(t2,"-").concat(X,"-weight-").concat(et)]:ed&&et&&isNaN(Number(et))}),ep=Object.assign(Object.assign({},isNaN(Number(et))?{}:{fontWeight:et}),N);return eC.createElement(Typography,Object.assign({className:eh,style:Object.assign(Object.assign({},ep),el),component:v,forwardRef:this.wrapperRef},er),eu,this.renderOperations())}renderTipWrapper(){let{children:o}=this.props,v=this.showTooltip(),_=this.renderContent();if(!v)return _;{let{type:x,opts:w,renderTooltip:T}=v;return eX()(T)?T(o,_):"popover"===x.toLowerCase()?eC.createElement(Popover,Object.assign({content:o,position:"top"},w),_):eC.createElement(Tooltip,Object.assign({content:o,position:"top"},w),_)}}render(){let o=eC.createElement(LocaleConsumer,{componentName:"Typography"},o=>(this.expandStr=o.expand,this.collapseStr=o.collapse,this.renderTipWrapper()));return this.props.ellipsis?eC.createElement(ReactResizeObserver,{onResize:this.onResize,observeParent:!0},o):o}constructor(o){super(o),this.onResize=()=>{this.rafId&&window.cancelAnimationFrame(this.rafId),this.rafId=window.requestAnimationFrame(this.getEllipsisState.bind(this))},this.canUseCSSEllipsis=()=>{let{copyable:o}=this.props,{expandable:v,expandText:_,pos:x,suffix:w}=this.getEllipsisOpt();return!v&&e3()(_)&&!o&&"end"===x&&!w.length},this.shouldTruncated=o=>{if(!o||o<1)return!1;let v=o<=1?this.wrapperRef.current.scrollWidth>this.wrapperRef.current.offsetWidth:this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight;return v},this.showTooltip=()=>{var o,v;let{isOverflowed:_,isTruncated:x,expanded:w}=this.state,{showTooltip:T,expandable:L,expandText:N}=this.getEllipsisOpt(),B=!L&&e3()(N),H=B&&!w&&(_||x)&&T;if(!H)return H;let Y={type:"tooltip"};return"object"==typeof T?T.type&&"popover"===T.type.toLowerCase()?e2()({opts:{showArrow:!0}},T,{opts:{className:eM()({["".concat(t2,"-ellipsis-popover")]:!0,[null===(o=null==T?void 0:T.opts)||void 0===o?void 0:o.className]:!!(null===(v=null==T?void 0:T.opts)||void 0===v?void 0:v.className)})}}):Object.assign(Object.assign({},Y),T):Y},this.toggleOverflow=o=>{let{onExpand:v,expandable:_,collapsible:x}=this.getEllipsisOpt(),{expanded:w}=this.state;v&&v(!w,o),(_&&!w||x&&w)&&this.setState({expanded:!w})},this.getEllipsisOpt=()=>{let{ellipsis:o}=this.props;if(!o)return{};let v=Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:o.expandable?this.expandStr:void 0,collapseText:o.collapsible?this.collapseStr:void 0},"object"==typeof o?o:null);return v},this.renderExpandable=()=>{let o;let{expanded:v,isTruncated:_}=this.state;if(!_)return null;let{expandText:x,expandable:w,collapseText:T,collapsible:L}=this.getEllipsisOpt(),N=!w&&e3()(x),B=!L&&e3()(T);return(v||N?v&&!B&&(o=T):o=x,N&&B)?null:eC.createElement("a",{role:"button",tabIndex:0,className:"".concat(t2,"-ellipsis-expand"),key:"expand",ref:this.expandRef,"aria-label":o,onClick:this.toggleOverflow,onKeyPress:o=>utils_isEnterPress(o)&&this.toggleOverflow(o)},o)},this.getEllipsisStyle=()=>{let{ellipsis:o,component:v}=this.props;if(!o)return{ellipsisCls:"",ellipsisStyle:{}};let{rows:_}=this.getEllipsisOpt(),{expanded:x}=this.state,w=!x&&this.canUseCSSEllipsis(),T=eM()({["".concat(t2,"-ellipsis")]:!0,["".concat(t2,"-ellipsis-single-line")]:1===_,["".concat(t2,"-ellipsis-multiple-line")]:_>1,["".concat(t2,"-ellipsis-multiple-line-text")]:_>1&&"span"===v,["".concat(t2,"-ellipsis-overflow-ellipsis")]:1===_&&w,["".concat(t2,"-ellipsis-overflow-ellipsis-text")]:1===_&&w&&"span"===v});return{ellipsisCls:T,ellipsisStyle:w&&_>1?{WebkitLineClamp:_}:{}}},this.renderEllipsisText=o=>{let{suffix:v}=o,{children:_}=this.props,{isTruncated:x,expanded:w,ellipsisContent:T}=this.state;return w||!x?eC.createElement(eC.Fragment,null,_,v&&v.length?v:null):eC.createElement("span",null,T,v)},this.state={editable:!1,copied:!1,isOverflowed:!0,ellipsisContent:o.children,expanded:!1,isTruncated:!0,prevChildren:null},this.wrapperRef=eC.createRef(),this.expandRef=eC.createRef(),this.copyRef=eC.createRef()}};Base.propTypes={children:eI().node,copyable:eI().oneOfType([eI().shape({text:eI().string,onCopy:eI().func,successTip:eI().node,copyTip:eI().node}),eI().bool]),delete:eI().bool,disabled:eI().bool,ellipsis:eI().oneOfType([eI().shape({rows:eI().number,expandable:eI().bool,expandText:eI().string,onExpand:eI().func,suffix:eI().string,showTooltip:eI().oneOfType([eI().shape({type:eI().string,opts:eI().object}),eI().bool]),collapsible:eI().bool,collapseText:eI().string,pos:eI().oneOf(["end","middle"])}),eI().bool]),mark:eI().bool,underline:eI().bool,link:eI().oneOfType([eI().object,eI().bool]),spacing:eI().oneOf(eY.SPACING),strong:eI().bool,size:eI().oneOf(eY.SIZE),type:eI().oneOf(eY.TYPE),style:eI().object,className:eI().string,icon:eI().oneOfType([eI().node,eI().string]),heading:eI().string,component:eI().string},Base.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""};let Text=class Text extends eC.PureComponent{render(){return eC.createElement(Base,Object.assign({component:"span"},this.props))}};Text.propTypes={copyable:eI().oneOfType([eI().object,eI().bool]),delete:eI().bool,disabled:eI().bool,icon:eI().oneOfType([eI().node,eI().string]),ellipsis:eI().oneOfType([eI().object,eI().bool]),mark:eI().bool,underline:eI().bool,link:eI().oneOfType([eI().object,eI().bool]),strong:eI().bool,type:eI().oneOf(eY.TYPE),size:eI().oneOf(eY.SIZE),style:eI().object,className:eI().string,code:eI().bool,component:eI().string},Text.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};var title_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let Title=class Title extends eC.PureComponent{render(){let o=this.props,{heading:v}=o,_=title_rest(o,["heading"]),x=-1!==eY.HEADING.indexOf(v)?"h".concat(v):"h1";return eC.createElement(Base,Object.assign({component:x,heading:x},_))}};Title.propTypes={copyable:eI().oneOfType([eI().object,eI().bool]),delete:eI().bool,disabled:eI().bool,ellipsis:eI().oneOfType([eI().object,eI().bool]),mark:eI().bool,link:eI().oneOfType([eI().object,eI().bool]),underline:eI().bool,strong:eI().bool,type:eI().oneOf(eY.TYPE),heading:eI().oneOf(eY.HEADING),style:eI().object,className:eI().string,component:eI().string,weight:eI().oneOfType([eI().oneOf(eY.WEIGHT),eI().number])},Title.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};let t5=eW.PREFIX;let Paragraph=class Paragraph extends eC.PureComponent{render(){let{className:o}=this.props,v=eM()(o,"".concat(t5,"-paragraph"));return eC.createElement(Base,Object.assign({component:"p"},this.props,{className:v}))}};Paragraph.propTypes={copyable:eI().oneOfType([eI().object,eI().bool]),delete:eI().bool,disabled:eI().bool,ellipsis:eI().oneOfType([eI().object,eI().bool]),mark:eI().bool,link:eI().oneOfType([eI().object,eI().bool]),underline:eI().bool,strong:eI().bool,type:eI().oneOf(eY.TYPE),size:eI().oneOf(eY.SIZE),spacing:eI().oneOf(eY.SPACING),style:eI().object,className:eI().string,component:eI().string},Paragraph.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""};let FormatNumeral=class FormatNumeral{constructor(o,v,_,x,w){this.ruleMethods={"bytes-decimal":o=>{let v=0;for(;o>=1e3;)o/=1e3,v++;return`${this.truncatePrecision(o)} ${["B","KB","MB","GB","TB","PB","EB","ZB","YB"][v]}`},"bytes-binary":o=>{let v=0;for(;o>=1024;)o/=1024,v++;return`${this.truncatePrecision(o)} ${["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][v]}`},percentages:o=>`${this.truncatePrecision(100*o)}%`,exponential:o=>{let v=o.toExponential(this.precision+2),_=v.split("e");return`${this.truncatePrecision(Number(_[0]))}e${_[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=void 0!==w,this.content=o,this.rule=v,this.precision=_,this.truncate=x,this.parser=w}format(){return this.isDiyParser?this.parser(this.content):"text"===this.rule?extractNumbers(this.content).map(o=>checkIsNumeral(o)?this.truncatePrecision(o):o).join(""):"numbers"===this.rule?extractNumbers(this.content).filter(o=>checkIsNumeral(o)).map(o=>this.truncatePrecision(o)).join(","):extractNumbers(this.content).map(o=>checkIsNumeral(o)?this.ruleMethods[this.rule](Number(o)):o).join("")}truncatePrecision(o){let v=this.truncateMethods[this.truncate](Number(o)*Math.pow(10,this.precision))/Math.pow(10,this.precision),_=v.toString().split(".");if(1===_.length)return v.toFixed(this.precision);let x=_[1].length;return x<this.precision?`${_[0]}.${_[1]}${"0".repeat(this.precision-x)}`:v.toString()}};function extractNumbers(o){return o.match(/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g)||[]}function checkIsNumeral(o){return!(isNaN(Number(o))||""===o.replace(/\s+/g,""))}let Numeral=class Numeral extends eC.PureComponent{formatNodeDFS(o){return Array.isArray(o)||(o=[o]),1===(o=o.map(o=>"string"==typeof o||"number"==typeof o?new FormatNumeral(String(o),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():"function"==typeof o?this.formatNodeDFS(o()):"object"==typeof o&&"children"in o.props?Object.assign(Object.assign({},o),{props:Object.assign(Object.assign({},o.props),{children:this.formatNodeDFS(o.props.children)})}):o)).length?o[0]:o}render(){let o=Object.assign({},this.props);return delete o.rule,delete o.parser,o.children=this.formatNodeDFS(this.props.children),eC.createElement(Base,Object.assign({component:"span"},o))}};function IconClose_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{d:"M17.6568 19.7782C18.2426 20.3639 19.1924 20.3639 19.7782 19.7782C20.3639 19.1924 20.3639 18.2426 19.7782 17.6568L14.1213 12L19.7782 6.34313C20.3639 5.75734 20.3639 4.8076 19.7782 4.22181C19.1924 3.63602 18.2426 3.63602 17.6568 4.22181L12 9.87866L6.34313 4.22181C5.75734 3.63602 4.8076 3.63602 4.22181 4.22181C3.63602 4.8076 3.63602 5.75734 4.22181 6.34313L9.87866 12L4.22181 17.6568C3.63602 18.2426 3.63602 19.1924 4.22181 19.7782C4.8076 20.3639 5.75734 20.3639 6.34313 19.7782L12 14.1213L17.6568 19.7782Z",fill:"currentColor"}))}Numeral.propTypes={rule:eI().oneOf(eY.RULE),precision:eI().number,truncate:eI().oneOf(eY.TRUNCATE),parser:eI().func,copyable:eI().oneOfType([eI().object,eI().bool]),delete:eI().bool,disabled:eI().bool,icon:eI().oneOfType([eI().node,eI().string]),mark:eI().bool,underline:eI().bool,link:eI().oneOfType([eI().object,eI().bool]),strong:eI().bool,type:eI().oneOf(eY.TYPE),size:eI().oneOf(eY.SIZE),style:eI().object,className:eI().string,code:eI().bool,component:eI().string},Numeral.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""},Typography.Text=Text,Typography.Title=Title,Typography.Paragraph=Paragraph,Typography.Numeral=Numeral;let t3=convertIcon(IconClose_SvgComponent,"close");function IconAlertTriangle_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2268 2.3986L1.52616 19.0749C0.831449 20.4064 1.79747 22 3.29933 22H20.7007C22.2025 22 23.1686 20.4064 22.4739 19.0749L13.7732 2.3986C13.0254 0.965441 10.9746 0.965442 10.2268 2.3986ZM13.1415 14.0101C13.0603 14.5781 12.5739 15 12.0001 15C11.4263 15 10.9398 14.5781 10.8586 14.0101L10.2829 9.97992C10.1336 8.93495 10.9445 8.00002 12.0001 8.00002C13.0556 8.00002 13.8665 8.93495 13.7172 9.97992L13.1415 14.0101ZM13.5001 18.5C13.5001 19.3284 12.8285 20 12.0001 20C11.1716 20 10.5001 19.3284 10.5001 18.5C10.5001 17.6716 11.1716 17 12.0001 17C12.8285 17 13.5001 17.6716 13.5001 18.5Z",fill:"currentColor"}))}let t4=convertIcon(IconAlertTriangle_SvgComponent,"alert_triangle");function IconTickCircle_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.8831 9.82235L11.6854 17.4112C11.4029 17.7806 10.965 17.9981 10.5 18C10.035 18.0019 9.59533 17.788 9.30982 17.421L5.81604 13.4209C5.30744 12.767 5.42524 11.8246 6.07916 11.316C6.73308 10.8074 7.67549 10.9252 8.1841 11.5791L10.4838 14.0439L15.5 8C16.0032 7.34193 16.9446 7.21641 17.6027 7.71964C18.2608 8.22287 18.3863 9.16428 17.8831 9.82235Z",fill:"currentColor"}))}let t7=convertIcon(IconTickCircle_SvgComponent,"tick_circle");function IconInfoCircle_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM14 7C14 8.10457 13.1046 9 12 9C10.8954 9 10 8.10457 10 7C10 5.89543 10.8954 5 12 5C13.1046 5 14 5.89543 14 7ZM9 10.75C9 10.3358 9.33579 10 9.75 10H12.5C13.0523 10 13.5 10.4477 13.5 11V16.5H14.25C14.6642 16.5 15 16.8358 15 17.25C15 17.6642 14.6642 18 14.25 18H9.75C9.33579 18 9 17.6642 9 17.25C9 16.8358 9.33579 16.5 9.75 16.5H10.5V11.5H9.75C9.33579 11.5 9 11.1642 9 10.75Z",fill:"currentColor"}))}let t6=convertIcon(IconInfoCircle_SvgComponent,"info_circle");function IconAlertCircle_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM13.5 17.5C13.5 16.6716 12.8284 16 12 16C11.1716 16 10.5 16.6716 10.5 17.5C10.5 18.3284 11.1716 19 12 19C12.8284 19 13.5 18.3284 13.5 17.5ZM12 5C10.9138 5 10.0507 5.91244 10.1109 6.99692L10.4168 12.5023C10.4635 13.3426 11.1584 14 12 14C12.8416 14 13.5365 13.3426 13.5832 12.5023L13.8891 6.99692C13.9493 5.91244 13.0862 5 12 5Z",fill:"currentColor"}))}let t9=convertIcon(IconAlertCircle_SvgComponent,"alert_circle"),t8=ez.PREFIX;let Banner=class Banner extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{setVisible:()=>{this.setState({visible:!1})},notifyClose:o=>{let{onClose:v}=this.props;v(o)}})}componentDidMount(){this.foundation=new BannerFoundation(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}renderCloser(){let{closeIcon:o}=this.props;if(null===o)return o;let v=eC.createElement(IconButton,{className:"".concat(t8,"-close"),onClick:this.remove,icon:o||eC.createElement(t3,{"x-semi-prop":"closeIcon","aria-hidden":!0}),theme:"borderless",size:"small",type:"tertiary","aria-label":"Close"});return v}renderIcon(){let{type:o,icon:v}=this.props,_={warning:eC.createElement(t4,{size:"large","aria-label":"warning"}),success:eC.createElement(t7,{size:"large","aria-label":"success"}),info:eC.createElement(t6,{size:"large","aria-label":"info"}),danger:eC.createElement(t9,{size:"large","aria-label":"danger"})},x=_[o],w=eM()({["".concat(t8,"-icon")]:!0});return(void 0!==v&&(x=v),x)?eC.createElement("div",{className:w,"x-semi-prop":"icon"},x):null}render(){let{children:o,type:v,className:_,style:x,bordered:w,title:T,description:L,fullMode:N}=this.props,{visible:B}=this.state,H=eM()(t8,_,{["".concat(t8,"-").concat(v)]:v,["".concat(t8,"-full")]:N,["".concat(t8,"-in-container")]:!N,["".concat(t8,"-bordered")]:!N&&w}),Y=B?eC.createElement("div",Object.assign({className:H,style:x,role:"alert"},this.getDataAttr(this.props)),eC.createElement("div",{className:"".concat(t8,"-content-wrapper")},eC.createElement("div",{className:"".concat(t8,"-content")},this.renderIcon(),eC.createElement("div",{className:"".concat(t8,"-content-body")},T?eC.createElement(Typography.Title,{heading:5,className:"".concat(t8,"-title"),component:"div","x-semi-prop":"title"},T):null,L?eC.createElement(Typography.Paragraph,{className:"".concat(t8,"-description"),component:"div","x-semi-prop":"description"},L):null)),this.renderCloser()),o?eC.createElement("div",{className:"".concat(t8,"-extra"),"x-semi-prop":"children"},o):null):null;return Y}constructor(o){super(o),this.remove=o=>{o&&o.stopPropagation(),this.foundation.removeBanner(o)},this.state={visible:!0},warning("target"in this.props,"[Semi Banner] 'target' has been deprecated, please write JSX directly instead.")}};Banner.propTypes={fullMode:eI().bool,type:eI().oneOf(["info","success","danger","warning"]),title:eI().node,description:eI().node,icon:eI().oneOfType([eI().string,eI().node]),closeIcon:eI().oneOfType([eI().string,eI().node]),children:eI().node,style:eI().object,className:eI().string,onClose:eI().func,bordered:eI().bool},Banner.defaultProps={onClose:()=>{},type:"info",fullMode:!0};let Button=class Button extends eC.PureComponent{render(){let o=Object.assign({},this.props),v=!!o.icon,_=!!o.loading,x=!!o.disabled;return v||_&&!x?eC.createElement(IconButton,Object.assign({},o)):eC.createElement(Button_Button,Object.assign({},o))}constructor(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(o)}};Button.propTypes=Object.assign(Object.assign({},Button_Button.propTypes),IconButton.propTypes),Button.elementType="Button";var nt=Button,nn=_(3247),nr=_.n(nn),ni=_(4637),na=_.n(ni);let no={PREFIX:`${eO.T}-space`},ns={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"};_(4705);let flatten=o=>{let v=[];return eC.Children.forEach(o,o=>{null!=o&&(Array.isArray(o)?v=v.concat(flatten(o)):(0,eC.isValidElement)(o)&&o.type&&"Symbol(react.fragment)"===o.type.toString()&&o.props?v=v.concat(flatten(o.props.children)):v.push(o))}),v},nl=no.PREFIX;let Space=class Space extends eC.PureComponent{render(){let{children:o=null,style:v,className:_,spacing:x,wrap:w,align:T,vertical:L}=this.props,N=Object.assign({},v),B="",H="";e0()(x)?(B=x,H=x):nr()(x)?(N.rowGap=x,N.columnGap=x):na()(x)&&(e0()(x[0])?B=x[0]:nr()(x[0])&&(N.columnGap="".concat(x[0],"px")),e0()(x[1])?H=x[1]:nr()(x[1])&&(N.rowGap="".concat(x[1],"px")));let Y=eM()(nl,_,{["".concat(nl,"-align-").concat(T)]:T,["".concat(nl,"-vertical")]:L,["".concat(nl,"-horizontal")]:!L,["".concat(nl,"-wrap")]:(!w||!L)&&w,["".concat(nl,"-tight-horizontal")]:B===ns.SPACING_TIGHT,["".concat(nl,"-tight-vertical")]:H===ns.SPACING_TIGHT,["".concat(nl,"-medium-horizontal")]:B===ns.SPACING_MEDIUM,["".concat(nl,"-medium-vertical")]:H===ns.SPACING_MEDIUM,["".concat(nl,"-loose-horizontal")]:B===ns.SPACING_LOOSE,["".concat(nl,"-loose-vertical")]:H===ns.SPACING_LOOSE}),Z=flatten(o),X=getDataAttr(this.props);return eC.createElement("div",Object.assign({},X,{className:Y,style:N,"x-semi-prop":"children"}),Z)}};Space.propTypes={wrap:eI().bool,align:eI().oneOf(ns.ALIGN_SET),vertical:eI().bool,spacing:eI().oneOfType([eI().string,eI().number,eI().array]),children:eI().node,style:eI().object,className:eI().string},Space.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};var nu=Space;let nc=`${eO.T}-spin`;let SpinFoundation=class SpinFoundation extends eU{static get spinDefaultAdapter(){return{getProp:()=>void 0,setLoading:o=>void 0}}constructor(o){super(Object.assign(Object.assign({},SpinFoundation.spinDefaultAdapter),o))}updateLoadingIfNeedDelay(){let{spinning:o,delay:v}=this._adapter.getProps(),{delay:_}=this._adapter.getStates();if(_){let _=this;this._timer=setTimeout(()=>{_._adapter.setState({loading:o,delay:0})},v)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}};_(4288);var spin_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let nd={PREFIX:nc}.PREFIX;let Spin=class Spin extends BaseComponent{static getDerivedStateFromProps(o){return o.delay?!1===o.spinning?{delay:0,loading:!1}:{delay:o.delay}:{loading:o.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:o=>{this.setState({loading:o})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){let{indicator:o,tip:v}=this.props,{loading:_}=this.state;return _?eC.createElement("div",{className:"".concat(nd,"-wrapper")},o?eC.createElement("div",{className:"".concat(nd,"-animate"),"x-semi-prop":"indicator"},o):eC.createElement(spin_icon,null),v?eC.createElement("div",{"x-semi-prop":"tip"},v):null):null}render(){this.foundation.updateLoadingIfNeedDelay();let o=this.props,{children:v,style:_,wrapperClassName:x,childStyle:w,size:T}=o,L=spin_rest(o,["children","style","wrapperClassName","childStyle","size"]),{loading:N}=this.state,B=eM()(nd,x,{["".concat(nd,"-").concat(T)]:T,["".concat(nd,"-block")]:v,["".concat(nd,"-hidden")]:!N});return eC.createElement("div",Object.assign({className:B,style:_},this.getDataAttr(L)),this.renderSpin(),eC.createElement("div",{className:"".concat(nd,"-children"),style:w,"x-semi-prop":"children"},v))}constructor(o){super(o),this.foundation=new SpinFoundation(this.adapter),this.state={delay:o.delay,loading:!0}}};Spin.propTypes={size:eI().oneOf(["small","middle","large"]),spinning:eI().bool,children:eI().node,indicator:eI().node,delay:eI().number,tip:eI().node,wrapperClassName:eI().string,childStyle:eI().object,style:eI().object},Spin.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};var nh=Spin;let ToastListFoundation=class ToastListFoundation extends eU{constructor(o){super(Object.assign(Object.assign({},ToastListFoundation.defaultAdapter),o)),this.handleMouseInSideChange=o=>{this._adapter.handleMouseInSideChange(o)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(o){let v=this._adapter.getState("list");return v.map(o=>{let{id:v}=o;return v}).includes(o)}addToast(o){let v=this._adapter.getState("list");v.push(o),this._adapter.updateToast(v,[],[])}updateToast(o,v){let _=this._adapter.getState("list");_=_.map(_=>_.id===o?Object.assign(Object.assign({},_),v):_);let x=_.filter(v=>v.id===o);this._adapter.updateToast(_,[],x)}removeToast(o){let v=this._adapter.getState("list"),_=[];v=v.filter(v=>v.id!==o||(_.push(v),!1)),this._adapter.updateToast(v,_,[])}destroyAll(){let o=this._adapter.getState("list");o.length>0&&this._adapter.updateToast([],o,[])}};let np=`${eO.T}-toast`,nf={PREFIX:np,WRAPPER:`${np}-wrapper`,LIST:`${np}-list`},ng={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]};let ToastFoundation=class ToastFoundation extends eU{constructor(o){super(Object.assign(Object.assign({},ToastFoundation.defaultAdapter),o)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){let o=this._adapter.getProp("duration");o&&nr()(o)&&(this._timer=setTimeout(()=>{this.close()},1e3*o))}close(o){o&&o.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}};let nm=nf.PREFIX;let Toast=class Toast extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:o=>{this.props.close(o)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(o){this.foundation.close(o)}renderIcon(){let{type:o,icon:v}=this.props,_={warning:eC.createElement(t4,null),success:eC.createElement(t7,null),info:eC.createElement(t6,null),error:eC.createElement(t9,null)},x=_[o],w="large",T=eM()("".concat(nm,"-icon"),"".concat(nm,"-icon-").concat(o));return v?isSemiIcon(v)?eC.cloneElement(v,{size:w,className:"".concat(nm,"-icon")}):v:o&&x?eC.cloneElement(x,{size:w,className:T}):null}render(){let{content:o,type:v,theme:_,showClose:x,textMaxWidth:w,className:T,style:L}=this.props,N=this.props.direction||this.context.direction,B=eM()(nm,T,{["".concat(nm,"-").concat(v)]:!0,["".concat(nm,"-").concat(_)]:"light"===_,["".concat(nm,"-rtl")]:"rtl"===N}),H={};H.maxWidth=w;let Y=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,Z=eC.createElement("div",{ref:this.toastEle,role:"alert","aria-label":"".concat(v||"default"," type"),className:B,style:Object.assign(Object.assign({},L),{transform:"translate3d(0,0,".concat(-10*Y,"px)")}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},eC.createElement("div",{className:"".concat(nm,"-content")},this.renderIcon(),eC.createElement("span",{className:"".concat(nm,"-content-text"),style:H,"x-semi-prop":"content"},o),x&&eC.createElement("div",{className:"".concat(nm,"-close-button")},eC.createElement(IconButton,{onClick:o=>this.close(o),type:"tertiary",icon:eC.createElement(t3,{"x-semi-prop":"icon"}),theme:"borderless",size:"small"}))));if(!this.props.stack)return Z;{let o=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return eC.createElement("div",{className:"".concat(nm,"-zero-height-wrapper"),style:{height:o}},Z)}}constructor(o){super(o),this.toastEle=eC.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new ToastFoundation(this.adapter)}};Toast.contextType=tm,Toast.propTypes={onClose:eI().func,content:eI().node,close:eI().func,duration:eI().number,theme:eI().oneOf(ng.themes),type:eI().oneOf(ng.types),textMaxWidth:eI().oneOfType([eI().string,eI().number]),style:eI().object,className:eI().string,showClose:eI().bool,stack:eI().bool,stackExpanded:eI().bool,icon:eI().oneOfType([eI().string,eI().node]),direction:eI().oneOf(ng.directions)},Toast.defaultProps={onClose:eE(),content:"",close:eE(),duration:3,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"},_(4586);var HookToast_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _},ny=eC.forwardRef((o,v)=>{var{afterClose:_}=o,x=HookToast_rest(o,["afterClose"]);let[w,T]=(0,eC.useState)(!0);return eC.useImperativeHandle(v,()=>({close:()=>{T(!1)}})),(0,eC.useEffect)(()=>{w||_(x.id)},[w]),w?eC.createElement(Toast,Object.assign({},x,{close:()=>{T(!1)}})):null});let nv={motion:!0,zIndex:1010,duration:3};function usePatchElement(){let[o,v]=eC.useState([]);return[o,function(o,_){return v(v=>[{element:o,config:_},...v]),o=>{v(v=>v.filter(v=>{let{config:_}=v;return _.id!==o}))}}]}function useToast(){let[o,v]=usePatchElement(),_=(0,eC.useRef)(new Map),addToast=o=>{let x;let w=getUuid("semi_toast_"),T=Object.assign(Object.assign({},o),{id:w}),L=eC.createElement(ny,Object.assign({},T,{key:w,afterClose:o=>x(o),ref:o=>{var v;_.current.set(w,{close:null!==(v=null==o?void 0:o.close)&&void 0!==v?v:eE()})}}));return x=v(L,Object.assign({},T)),w},removeElement=o=>{var v;let{close:x}=null!==(v=_.current.get(o))&&void 0!==v?v:{};null==x||x()};return[{success:o=>addToast(Object.assign(Object.assign(Object.assign({},nv),o),{type:"success"})),info:o=>addToast(Object.assign(Object.assign(Object.assign({},nv),o),{type:"info"})),error:o=>addToast(Object.assign(Object.assign(Object.assign({},nv),o),{type:"error"})),warning:o=>addToast(Object.assign(Object.assign(Object.assign({},nv),o),{type:"warning"})),open:o=>addToast(Object.assign(Object.assign(Object.assign({},nv),o),{type:"default"})),close:o=>removeElement(o)},eC.createElement(eC.Fragment,null,Array.isArray(o)&&o.length?eC.createElement(eC.Fragment,null,o.map(o=>o.element)):null)]}let createBaseToast=()=>{var o;return(o=class ToastList extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(o,v,_)=>{this.setState({list:o,removedItems:v,updatedItems:_})},handleMouseInSideChange:o=>{this.setState({mouseInSide:o})},getInputWrapperRect:()=>{var o;return null===(o=this.innerWrapperRef.current)||void 0===o?void 0:o.getBoundingClientRect()}})}static create(o){var v;let _=null!==(v=o.id)&&void 0!==v?v:getUuid("toast");if(ToastList.ref){let v=document.querySelector("#".concat(this.wrapperId));["top","left","bottom","right"].map(_=>{_ in o&&(v.style[_]="number"==typeof o[_]?"".concat(o[_],"px"):o[_])}),!!o.stack!==ToastList.ref.stack&&(ToastList.ref.stack=!!o.stack),ToastList.ref.has(_)?ToastList.ref.update(_,Object.assign(Object.assign({},o),{id:_})):ToastList.ref.add(Object.assign(Object.assign({},o),{id:_}))}else{let v=document.createElement("div");if(this.wrapperId||(this.wrapperId=getUuid("toast-wrapper").slice(0,26)),v.className=nf.WRAPPER,v.id=this.wrapperId,v.style.zIndex=String("number"==typeof o.zIndex?o.zIndex:ToastList.defaultOpts.zIndex),["top","left","bottom","right"].map(_=>{if(_ in ToastList.defaultOpts||_ in o){let x=o[_]?o[_]:ToastList.defaultOpts[_];v.style[_]="number"==typeof x?"".concat(x,"px"):x}}),ToastList.defaultOpts.getPopupContainer){let o=ToastList.defaultOpts.getPopupContainer();o.appendChild(v)}else document.body.appendChild(v);ti.render(eC.createElement(ToastList,{ref:o=>ToastList.ref=o}),v,()=>{ToastList.ref.add(Object.assign(Object.assign({},o),{id:_})),ToastList.ref.stack=!!o.stack})}return _}static close(o){ToastList.ref&&ToastList.ref.remove(o)}static destroyAll(){if(ToastList.ref){ToastList.ref.destroyAll();let o=document.querySelector("#".concat(this.wrapperId));ti.unmountComponentAtNode(o),o&&o.parentNode.removeChild(o),ToastList.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(o){return"string"==typeof o&&(o={content:o}),this.create(Object.assign(Object.assign(Object.assign({},ToastList.defaultOpts),o),{type:"info"}))}static warning(o){return"string"==typeof o&&(o={content:o}),this.create(Object.assign(Object.assign(Object.assign({},ToastList.defaultOpts),o),{type:"warning"}))}static error(o){return"string"==typeof o&&(o={content:o}),this.create(Object.assign(Object.assign(Object.assign({},ToastList.defaultOpts),o),{type:"error"}))}static success(o){return"string"==typeof o&&(o={content:o}),this.create(Object.assign(Object.assign(Object.assign({},ToastList.defaultOpts),o),{type:"success"}))}static config(o){["top","left","bottom","right"].forEach(v=>{v in o&&(ToastList.defaultOpts[v]=o[v])}),"number"==typeof o.zIndex&&(ToastList.defaultOpts.zIndex=o.zIndex),"number"==typeof o.duration&&(ToastList.defaultOpts.duration=o.duration),"function"==typeof o.getPopupContainer&&(ToastList.defaultOpts.getPopupContainer=o.getPopupContainer)}has(o){return this.foundation.hasToast(o)}add(o){return this.foundation.addToast(o)}update(o,v){return this.foundation.updateToast(o,v)}remove(o){return this.foundation.removeToast(o)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:o}=this.state,{removedItems:v,updatedItems:_}=this.state;o=Array.from(new Set([...o,...v]));let x=_.map(o=>{let{id:v}=o;return v}),refFn=o=>{var v;(null===(v=null==o?void 0:o.foundation)||void 0===v?void 0:v._id)&&x.includes(o.foundation._id)&&o.foundation.restartCloseTimer()};return eC.createElement(eC.Fragment,null,eC.createElement("div",{className:eM()({["".concat(nf.PREFIX,"-innerWrapper")]:!0,["".concat(nf.PREFIX,"-innerWrapper-hover")]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.map((_,x)=>{let w=void 0!==v.find(o=>o.id===_.id);return eC.createElement(CSSAnimation,{key:_.id,motion:_.motion,animationState:w?"leave":"enter",startClassName:w?"".concat(nf.PREFIX,"-animation-hide"):"".concat(nf.PREFIX,"-animation-show")},v=>{let{animationClassName:T,animationEventsNeedBind:L,isAnimating:N}=v;return w&&!N?null:eC.createElement(Toast,Object.assign({},_,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:o.length,index:x},className:eM()({[_.className]:!!_.className,[T]:!0})},L,{style:Object.assign({},_.style),close:o=>this.remove(o),ref:refFn}))})})))}constructor(o){super(o),this.stack=!1,this.innerWrapperRef=eC.createRef(),this.handleMouseEnter=o=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=o=>{var v;if(this.stack){let o=null===(v=this.foundation.getInputWrapperRect())||void 0===v?void 0:v.height;o&&this.foundation.handleMouseInSideChange(!1)}},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new ToastListFoundation(this.adapter)}}).defaultOpts={motion:!0,zIndex:1010,content:""},o.propTypes={content:eI().node,duration:eI().number,onClose:eI().func,icon:eI().node,direction:eI().oneOf(ng.directions),stack:eI().bool},o.defaultProps={},o};let ToastFactory=class ToastFactory{static create(o){let v=createBaseToast();return v.useToast=useToast,o&&v.config(o),v}};var n_=ToastFactory.create(),nb=_(6506),nS=_.n(nb),nx=_(5533),nw=_.n(nx),nC=_(7495),nT=_.n(nC),nM=_(4624),nP=_.n(nM);_(323);let pathToArrayElem=o=>{let v=nS()(o),_=nr()(o)&&1===v.length;return!_&&Number.isInteger(+v[v.length-1])};function isEmptyObject(o){if(!nw()(o))return!1;{let v=nT()(o);return!v.length||v.every(o=>void 0===o)}}function cleanup(o,v){let _=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(0===v.length)return;let x=eH()(o,v);Array.isArray(x)&&x.every(o=>null==o)?nP()(o,v):isEmptyObject(x)&&nP()(o,v),cleanup(o,v.slice(0,v.length-1),_)}function empty(o){return 0===nT()(o).length}function object_get(o,v){return eH()(o,v)}function remove(o,v){nP()(o,v);let _=nS()(v);cleanup(o,_=_.slice(0,_.length-1),!1)}function object_set(o,v,_,x){if(x||void 0!==_)return th()(o,v,_);if(pathToArrayElem(v)&&void 0!==object_get(o,v)){th()(o,v,void 0);let _=nS()(v);cleanup(o,_=_.slice(0,_.length-1),!1)}else pathToArrayElem(v)||void 0===object_get(o,v)||remove(o,v)}function forwardStatics(o,v){return o&&("function"==typeof o||"object"==typeof o)&&v&&("function"==typeof v||"object"==typeof v)&&Object.entries(v).forEach(v=>{let[_,x]=v;o[_]=x}),o}function isObject_isObject(o){return null!==o&&"object"==typeof o}function isPromise(o){return isObject_isObject(o)&&"function"==typeof o.then}var nI=_(7650),nD=_.n(nI),nE=_(7391);function _extends(){return(_extends=Object.assign||function(o){for(var v=1;v<arguments.length;v++){var _=arguments[v];for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(o[x]=_[x])}return o}).apply(this,arguments)}function _inheritsLoose(o,v){o.prototype=Object.create(v.prototype),o.prototype.constructor=o,_setPrototypeOf(o,v)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,v){return(_setPrototypeOf=Object.setPrototypeOf||function(o,v){return o.__proto__=v,o})(o,v)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function _construct(o,v,_){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(o,v,_){var x=[null];x.push.apply(x,v);var w=new(Function.bind.apply(o,x));return _&&_setPrototypeOf(w,_.prototype),w}).apply(null,arguments)}function _isNativeFunction(o){return -1!==Function.toString.call(o).indexOf("[native code]")}function _wrapNativeSuper(o){var v="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(o){if(null===o||!_isNativeFunction(o))return o;if("function"!=typeof o)throw TypeError("Super expression must either be null or a function");if(void 0!==v){if(v.has(o))return v.get(o);v.set(o,Wrapper)}function Wrapper(){return _construct(o,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(o.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,o)})(o)}var nO=/%[sdj%]/g;function convertFieldsError(o){if(!o||!o.length)return null;var v={};return o.forEach(function(o){var _=o.field;v[_]=v[_]||[],v[_].push(o)}),v}function format(){for(var o=arguments.length,v=Array(o),_=0;_<o;_++)v[_]=arguments[_];var x=1,w=v[0],T=v.length;return"function"==typeof w?w.apply(null,v.slice(1)):"string"==typeof w?String(w).replace(nO,function(o){if("%%"===o)return"%";if(x>=T)return o;switch(o){case"%s":return String(v[x++]);case"%d":return Number(v[x++]);case"%j":try{return JSON.stringify(v[x++])}catch(o){return"[Circular]"}break;default:return o}}):w}function isNativeStringType(o){return"string"===o||"url"===o||"hex"===o||"email"===o||"date"===o||"pattern"===o}function isEmptyValue(o,v){return!!(null==o||"array"===v&&Array.isArray(o)&&!o.length||isNativeStringType(v)&&"string"==typeof o&&!o)}function asyncParallelArray(o,v,_){var x=[],w=0,T=o.length;function count(o){x.push.apply(x,o),++w===T&&_(x)}o.forEach(function(o){v(o,count)})}function asyncSerialArray(o,v,_){var x=0,w=o.length;function next(T){if(T&&T.length){_(T);return}var L=x;x+=1,L<w?v(o[L],next):_([])}next([])}function flattenObjArr(o){var v=[];return Object.keys(o).forEach(function(_){v.push.apply(v,o[_])}),v}void 0!==nE&&nE.env;var nA=function(o){function AsyncValidationError(v,_){var x;return(x=o.call(this,"Async Validation Error")||this).errors=v,x.fields=_,x}return _inheritsLoose(AsyncValidationError,o),AsyncValidationError}(_wrapNativeSuper(Error));function asyncMap(o,v,_,x){if(v.first){var w=new Promise(function(v,w){asyncSerialArray(flattenObjArr(o),_,function(o){return x(o),o.length?w(new nA(o,convertFieldsError(o))):v()})});return w.catch(function(o){return o}),w}var T=v.firstFields||[];!0===T&&(T=Object.keys(o));var L=Object.keys(o),N=L.length,B=0,H=[],Y=new Promise(function(v,w){var next=function(o){if(H.push.apply(H,o),++B===N)return x(H),H.length?w(new nA(H,convertFieldsError(H))):v()};L.length||(x(H),v()),L.forEach(function(v){var x=o[v];-1!==T.indexOf(v)?asyncSerialArray(x,_,next):asyncParallelArray(x,_,next)})});return Y.catch(function(o){return o}),Y}function complementError(o){return function(v){return v&&v.message?(v.field=v.field||o.fullField,v):{message:"function"==typeof v?v():v,field:v.field||o.fullField}}}function deepMerge(o,v){if(v){for(var _ in v)if(v.hasOwnProperty(_)){var x=v[_];"object"==typeof x&&"object"==typeof o[_]?o[_]=_extends({},o[_],x):o[_]=x}}return o}function required(o,v,_,x,w,T){o.required&&(!_.hasOwnProperty(o.field)||isEmptyValue(v,T||o.type))&&x.push(format(w.messages.required,o.fullField))}function whitespace(o,v,_,x,w){(/^\s+$/.test(v)||""===v)&&x.push(format(w.messages.whitespace,o.fullField))}var nk={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},nL={integer:function(o){return nL.number(o)&&parseInt(o,10)===o},float:function(o){return nL.number(o)&&!nL.integer(o)},array:function(o){return Array.isArray(o)},regexp:function(o){if(o instanceof RegExp)return!0;try{return new RegExp(o),!0}catch(o){return!1}},date:function(o){return"function"==typeof o.getTime&&"function"==typeof o.getMonth&&"function"==typeof o.getYear&&!isNaN(o.getTime())},number:function(o){return!isNaN(o)&&"number"==typeof o},object:function(o){return"object"==typeof o&&!nL.array(o)},method:function(o){return"function"==typeof o},email:function(o){return"string"==typeof o&&!!o.match(nk.email)&&o.length<255},url:function(o){return"string"==typeof o&&!!o.match(nk.url)},hex:function(o){return"string"==typeof o&&!!o.match(nk.hex)}};function type(o,v,_,x,w){if(o.required&&void 0===v){required(o,v,_,x,w);return}var T=o.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(T)>-1?nL[T](v)||x.push(format(w.messages.types[T],o.fullField,o.type)):T&&typeof v!==o.type&&x.push(format(w.messages.types[T],o.fullField,o.type))}var nR="enum",nN={required:required,whitespace:whitespace,type:type,range:function(o,v,_,x,w){var T="number"==typeof o.len,L="number"==typeof o.min,N="number"==typeof o.max,B=v,H=null,Y="number"==typeof v,Z="string"==typeof v,X=Array.isArray(v);if(Y?H="number":Z?H="string":X&&(H="array"),!H)return!1;X&&(B=v.length),Z&&(B=v.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),T?B!==o.len&&x.push(format(w.messages[H].len,o.fullField,o.len)):L&&!N&&B<o.min?x.push(format(w.messages[H].min,o.fullField,o.min)):N&&!L&&B>o.max?x.push(format(w.messages[H].max,o.fullField,o.max)):L&&N&&(B<o.min||B>o.max)&&x.push(format(w.messages[H].range,o.fullField,o.min,o.max))},enum:function(o,v,_,x,w){o[nR]=Array.isArray(o[nR])?o[nR]:[],-1===o[nR].indexOf(v)&&x.push(format(w.messages[nR],o.fullField,o[nR].join(", ")))},pattern:function(o,v,_,x,w){!o.pattern||(o.pattern instanceof RegExp?(o.pattern.lastIndex=0,o.pattern.test(v)||x.push(format(w.messages.pattern.mismatch,o.fullField,v,o.pattern))):"string"!=typeof o.pattern||new RegExp(o.pattern).test(v)||x.push(format(w.messages.pattern.mismatch,o.fullField,v,o.pattern)))}};function type$1(o,v,_,x,w){var T=o.type,L=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v,T)&&!o.required)return _();nN.required(o,v,x,L,w,T),isEmptyValue(v,T)||nN.type(o,v,x,L,w)}_(L)}var nF={string:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v,"string")&&!o.required)return _();nN.required(o,v,x,T,w,"string"),isEmptyValue(v,"string")||(nN.type(o,v,x,T,w),nN.range(o,v,x,T,w),nN.pattern(o,v,x,T,w),!0===o.whitespace&&nN.whitespace(o,v,x,T,w))}_(T)},method:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v)&&!o.required)return _();nN.required(o,v,x,T,w),void 0!==v&&nN.type(o,v,x,T,w)}_(T)},number:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(""===v&&(v=void 0),isEmptyValue(v)&&!o.required)return _();nN.required(o,v,x,T,w),void 0!==v&&(nN.type(o,v,x,T,w),nN.range(o,v,x,T,w))}_(T)},boolean:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v)&&!o.required)return _();nN.required(o,v,x,T,w),void 0!==v&&nN.type(o,v,x,T,w)}_(T)},regexp:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v)&&!o.required)return _();nN.required(o,v,x,T,w),isEmptyValue(v)||nN.type(o,v,x,T,w)}_(T)},integer:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v)&&!o.required)return _();nN.required(o,v,x,T,w),void 0!==v&&(nN.type(o,v,x,T,w),nN.range(o,v,x,T,w))}_(T)},float:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v)&&!o.required)return _();nN.required(o,v,x,T,w),void 0!==v&&(nN.type(o,v,x,T,w),nN.range(o,v,x,T,w))}_(T)},array:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(null==v&&!o.required)return _();nN.required(o,v,x,T,w,"array"),null!=v&&(nN.type(o,v,x,T,w),nN.range(o,v,x,T,w))}_(T)},object:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v)&&!o.required)return _();nN.required(o,v,x,T,w),void 0!==v&&nN.type(o,v,x,T,w)}_(T)},enum:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v)&&!o.required)return _();nN.required(o,v,x,T,w),void 0!==v&&nN.enum(o,v,x,T,w)}_(T)},pattern:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v,"string")&&!o.required)return _();nN.required(o,v,x,T,w),isEmptyValue(v,"string")||nN.pattern(o,v,x,T,w)}_(T)},date:function(o,v,_,x,w){var T,L=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v,"date")&&!o.required)return _();nN.required(o,v,x,L,w),!isEmptyValue(v,"date")&&(T=v instanceof Date?v:new Date(v),nN.type(o,T,x,L,w),T&&nN.range(o,T.getTime(),x,L,w))}_(L)},url:type$1,hex:type$1,email:type$1,required:function(o,v,_,x,w){var T=[],L=Array.isArray(v)?"array":typeof v;nN.required(o,v,x,T,w,L),_(T)},any:function(o,v,_,x,w){var T=[];if(o.required||!o.required&&x.hasOwnProperty(o.field)){if(isEmptyValue(v)&&!o.required)return _();nN.required(o,v,x,T,w)}_(T)}};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var o=JSON.parse(JSON.stringify(this));return o.clone=this.clone,o}}}var nV=newMessages();function Schema(o){this.rules=null,this._messages=nV,this.define(o)}Schema.prototype={messages:function(o){return o&&(this._messages=deepMerge(newMessages(),o)),this._messages},define:function(o){var v,_;if(!o)throw Error("Cannot configure a schema with no rules");if("object"!=typeof o||Array.isArray(o))throw Error("Rules must be an object");for(v in this.rules={},o)o.hasOwnProperty(v)&&(_=o[v],this.rules[v]=Array.isArray(_)?_:[_])},validate:function(o,v,_){var x,w,T=this;void 0===v&&(v={}),void 0===_&&(_=function(){});var L=o,N=v,B=_;if("function"==typeof N&&(B=N,N={}),!this.rules||0===Object.keys(this.rules).length)return B&&B(),Promise.resolve();function complete(o){var v,_=[],x={};function add(o){if(Array.isArray(o)){var v;_=(v=_).concat.apply(v,o)}else _.push(o)}for(v=0;v<o.length;v++)add(o[v]);_.length?x=convertFieldsError(_):(_=null,x=null),B(_,x)}if(N.messages){var H=this.messages();H===nV&&(H=newMessages()),deepMerge(H,N.messages),N.messages=H}else N.messages=this.messages();var Y={};(N.keys||Object.keys(this.rules)).forEach(function(v){x=T.rules[v],w=L[v],x.forEach(function(_){var x=_;"function"==typeof x.transform&&(L===o&&(L=_extends({},L)),w=L[v]=x.transform(w)),(x="function"==typeof x?{validator:x}:_extends({},x)).validator=T.getValidationMethod(x),x.field=v,x.fullField=x.fullField||v,x.type=T.getType(x),x.validator&&(Y[v]=Y[v]||[],Y[v].push({rule:x,value:w,source:L,field:v}))})});var Z={};return asyncMap(Y,N,function(o,v){var _,x=o.rule,w=("object"===x.type||"array"===x.type)&&("object"==typeof x.fields||"object"==typeof x.defaultField);function addFullfield(o,v){return _extends({},v,{fullField:x.fullField+"."+o})}function cb(_){void 0===_&&(_=[]);var T=_;if(Array.isArray(T)||(T=[T]),!N.suppressWarning&&T.length&&Schema.warning("async-validator:",T),T.length&&void 0!==x.message&&(T=[].concat(x.message)),T=T.map(complementError(x)),N.first&&T.length)return Z[x.field]=1,v(T);if(w){if(x.required&&!o.value)return void 0!==x.message?T=[].concat(x.message).map(complementError(x)):N.error&&(T=[N.error(x,format(N.messages.required,x.field))]),v(T);var L={};if(x.defaultField)for(var B in o.value)o.value.hasOwnProperty(B)&&(L[B]=x.defaultField);for(var H in L=_extends({},L,o.rule.fields))if(L.hasOwnProperty(H)){var Y=Array.isArray(L[H])?L[H]:[L[H]];L[H]=Y.map(addFullfield.bind(null,H))}var X=new Schema(L);X.messages(N.messages),o.rule.options&&(o.rule.options.messages=N.messages,o.rule.options.error=N.error),X.validate(o.value,o.rule.options||N,function(o){var _=[];T&&T.length&&_.push.apply(_,T),o&&o.length&&_.push.apply(_,o),v(_.length?_:null)})}else v(T)}w=w&&(x.required||!x.required&&o.value),x.field=o.field,x.asyncValidator?_=x.asyncValidator(x,o.value,cb,o.source,N):x.validator&&(!0===(_=x.validator(x,o.value,cb,o.source,N))?cb():!1===_?cb(x.message||x.field+" fails"):_ instanceof Array?cb(_):_ instanceof Error&&cb(_.message)),_&&_.then&&_.then(function(){return cb()},function(o){return cb(o)})},function(o){complete(o)})},getType:function(o){if(void 0===o.type&&o.pattern instanceof RegExp&&(o.type="pattern"),"function"!=typeof o.validator&&o.type&&!nF.hasOwnProperty(o.type))throw Error(format("Unknown rule type %s",o.type));return o.type||"string"},getValidationMethod:function(o){if("function"==typeof o.validator)return o.validator;var v=Object.keys(o),_=v.indexOf("message");return(-1!==_&&v.splice(_,1),1===v.length&&"required"===v[0])?nF.required:nF[this.getType(o)]||!1}},Schema.register=function(o,v){if("function"!=typeof v)throw Error("Cannot register a validator by type, validator is not a function");nF[o]=v},Schema.warning=function(){},Schema.messages=nV,Schema.validators=nF;var nB=Schema,nz=_(5606),utils_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};function getDisplayName(o){let v=o.displayName||o.name;return v?`SemiField${v}`:"SemiField"}function generateValidatesFromRules(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],_={};_[o]=v;let x=new nB(_);return x}function isRequired(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=!1;return"object"==typeof o&&"required"in o?v=o.required:Array.isArray(o)&&o.length&&o.forEach(o=>{o.required&&(v=!0)}),v}function utils_isValid(o){let v=!0;return"string"==typeof o&&o.length?v=!1:Array.isArray(o)&&o.length?v=o.every(o=>utils_isValid(o)):"boolean"==typeof o?v=o:o&&"symbol"==typeof o.$$typeof&&"Symbol(react.element)"===o.$$typeof.toString()&&(v=!1),v}function transformTrigger(o,v){let _=[],x=[];return Array.isArray(_=e3()(o)?e3()(v)?nz.j2.DEFAULT_TRIGGER:v:o)&&(x=_),"string"==typeof _&&(x[0]=_),x}function transformDefaultBooleanAPI(o,v){let _=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e3()(o)?e3()(v)?_:v:o}function mergeOptions(o,v){let _=Object.assign(Object.assign({},{valueKey:"value",onKeyChangeFnName:"onChange",valuePath:"",maintainCursor:!1,shouldInject:!0,shouldMemo:!0}),o),x="field"in v||_.shouldInject;return{options:_,shouldInject:x}}function mergeProps(o){let v=Object.assign(Object.assign({},{allowEmptyString:!1,allowEmpty:!1,emptyValue:"",noLabel:!1,noErrorMessage:!1,isInInputGroup:!1}),o),{field:_,label:x,labelPosition:w,labelWidth:T,labelAlign:L,labelCol:N,wrapperCol:B,initValue:H,validate:Y,validateStatus:Z,trigger:X,allowEmptyString:et,allowEmpty:en,emptyValue:er,rules:ei,onChange:ea,keepState:eo,transform:el,name:eu,fieldClassName:ec,fieldStyle:ed,noLabel:eh,noErrorMessage:ep,isInInputGroup:ef,stopValidateWithError:eg,convert:em,showValidateIcon:ey,helpText:ev,extraText:e_,extraTextPosition:eb,pure:eS,id:ex}=v,ew=utils_rest(v,["field","label","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","initValue","validate","validateStatus","trigger","allowEmptyString","allowEmpty","emptyValue","rules","onChange","keepState","transform","name","fieldClassName","fieldStyle","noLabel","noErrorMessage","isInInputGroup","stopValidateWithError","convert","showValidateIcon","helpText","extraText","extraTextPosition","pure","id"]);delete ew.defaultChecked,delete ew.defaultValue,delete ew.checked,void 0!==H&&(H=nD()(H));let eC=isRequired(ei);return{field:_,label:x,labelPosition:w,labelWidth:T,labelAlign:L,labelCol:N,wrapperCol:B,noLabel:eh,noErrorMessage:ep,isInInputGroup:ef,initValue:H,validate:Y,validateStatus:Z,trigger:X,allowEmptyString:et,allowEmpty:en,emptyValue:er=void 0!==er?er:"",rules:ei,required:eC,keepState:eo,transform:el,name:eu,fieldClassName:ec,fieldStyle:ed,convert:em,stopValidateWithError:eg,showValidateIcon:ey,helpText:ev,extraText:e_,extraTextPosition:eb,pure:eS,rest:ew,id:ex}}function t(o){return"object"==typeof o&&null!=o&&1===o.nodeType}function e(o,v){return(!v||"hidden"!==o)&&"visible"!==o&&"clip"!==o}function n(o,v){if(o.clientHeight<o.scrollHeight||o.clientWidth<o.scrollWidth){var _,x=getComputedStyle(o,null);return e(x.overflowY,v)||e(x.overflowX,v)||!!(_=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(o){return null}}(o))&&(_.clientHeight<o.scrollHeight||_.clientWidth<o.scrollWidth)}return!1}function r(o,v,_,x,w,T,L,N){return T<o&&L>v||T>o&&L<v?0:T<=o&&N<=_||L>=v&&N>=_?T-o-x:L>v&&N<_||T<o&&N>_?L-v+w:0}var i=function(o,v){var _=window,x=v.scrollMode,w=v.block,T=v.inline,L=v.boundary,N=v.skipOverflowHiddenElements,B="function"==typeof L?L:function(o){return o!==L};if(!t(o))throw TypeError("Invalid target");for(var H,Y,Z=document.scrollingElement||document.documentElement,X=[],et=o;t(et)&&B(et);){if((et=null==(Y=(H=et).parentElement)?H.getRootNode().host||null:Y)===Z){X.push(et);break}null!=et&&et===document.body&&n(et)&&!n(document.documentElement)||null!=et&&n(et,N)&&X.push(et)}for(var en=_.visualViewport?_.visualViewport.width:innerWidth,er=_.visualViewport?_.visualViewport.height:innerHeight,ei=window.scrollX||pageXOffset,ea=window.scrollY||pageYOffset,eo=o.getBoundingClientRect(),el=eo.height,eu=eo.width,ec=eo.top,ed=eo.right,eh=eo.bottom,ep=eo.left,ef="start"===w||"nearest"===w?ec:"end"===w?eh:ec+el/2,eg="center"===T?ep+eu/2:"end"===T?ed:ep,em=[],ey=0;ey<X.length;ey++){var ev=X[ey],e_=ev.getBoundingClientRect(),eb=e_.height,eS=e_.width,ex=e_.top,ew=e_.right,eC=e_.bottom,eT=e_.left;if("if-needed"===x&&ec>=0&&ep>=0&&eh<=er&&ed<=en&&ec>=ex&&eh<=eC&&ep>=eT&&ed<=ew)break;var eM=getComputedStyle(ev),eP=parseInt(eM.borderLeftWidth,10),eI=parseInt(eM.borderTopWidth,10),eD=parseInt(eM.borderRightWidth,10),eE=parseInt(eM.borderBottomWidth,10),eO=0,eA=0,ek="offsetWidth"in ev?ev.offsetWidth-ev.clientWidth-eP-eD:0,eL="offsetHeight"in ev?ev.offsetHeight-ev.clientHeight-eI-eE:0,eR="offsetWidth"in ev?0===ev.offsetWidth?0:eS/ev.offsetWidth:0,eN="offsetHeight"in ev?0===ev.offsetHeight?0:eb/ev.offsetHeight:0;if(Z===ev)eO="start"===w?ef:"end"===w?ef-er:"nearest"===w?r(ea,ea+er,er,eI,eE,ea+ef,ea+ef+el,el):ef-er/2,eA="start"===T?eg:"center"===T?eg-en/2:"end"===T?eg-en:r(ei,ei+en,en,eP,eD,ei+eg,ei+eg+eu,eu),eO=Math.max(0,eO+ea),eA=Math.max(0,eA+ei);else{eO="start"===w?ef-ex-eI:"end"===w?ef-eC+eE+eL:"nearest"===w?r(ex,eC,eb,eI,eE+eL,ef,ef+el,el):ef-(ex+eb/2)+eL/2,eA="start"===T?eg-eT-eP:"center"===T?eg-(eT+eS/2)+ek/2:"end"===T?eg-ew+eD+ek:r(eT,ew,eS,eP,eD+ek,eg,eg+eu,eu);var eF=ev.scrollLeft,eV=ev.scrollTop;ef+=eV-(eO=Math.max(0,Math.min(eV+eO/eN,ev.scrollHeight-eb/eN+eL))),eg+=eF-(eA=Math.max(0,Math.min(eF+eA/eR,ev.scrollWidth-eS/eR+ek)))}em.push({el:ev,top:eO,left:eA})}return em};function isOptionsObject(o){return o===Object(o)&&0!==Object.keys(o).length}function defaultBehavior(o,v){void 0===v&&(v="auto");var _="scrollBehavior"in document.body.style;o.forEach(function(o){var x=o.el,w=o.top,T=o.left;x.scroll&&_?x.scroll({top:w,left:T,behavior:v}):(x.scrollTop=w,x.scrollLeft=T)})}function getOptions(o){return!1===o?{block:"end",inline:"nearest"}:isOptionsObject(o)?o:{block:"start",inline:"nearest"}}var es=function(o,v){var _=o.isConnected||o.ownerDocument.documentElement.contains(o);if(isOptionsObject(v)&&"function"==typeof v.behavior)return v.behavior(_?i(o,v):[]);if(_){var x=getOptions(v);return defaultBehavior(i(o,x),x.behavior)}};let FormFoundation=class FormFoundation extends eU{constructor(o){super(Object.assign({},o));let{initValues:v}=this._adapter.getProps();v=this._adapter.cloneDeep(v),this.data={values:v||{},errors:{},touched:{}},this.fields=new Map,this.registered={},this.registeredArrayField=new Map,this.register=this.register.bind(this),this.unRegister=this.unRegister.bind(this),this.registerArrayField=this.registerArrayField.bind(this),this.unRegisterArrayField=this.unRegisterArrayField.bind(this),this.getArrayField=this.getArrayField.bind(this),this.updateArrayField=this.updateArrayField.bind(this),this.getField=this.getField.bind(this),this.setValues=this.setValues.bind(this),this.updateStateValue=this.updateStateValue.bind(this),this.updateStateError=this.updateStateError.bind(this),this.updateStateTouched=this.updateStateTouched.bind(this),this.getFormState=this.getFormState.bind(this),this.getValue=this.getValue.bind(this),this.getError=this.getError.bind(this),this.getTouched=this.getTouched.bind(this),this.getInitValues=this.getInitValues.bind(this),this.getInitValue=this.getInitValue.bind(this),this.getFormProps=this.getFormProps.bind(this),this.getFieldExist=this.getFieldExist.bind(this),this.scrollToField=this.scrollToField.bind(this)}init(){this._adapter.initFormId()}getField(o){let v=this.fields.get(o);return v}register(o,v,_){if(this.registered[o],this.registered[o]=!0,this.fields.set(o,_),_.keepState);else{let x=_.allowEmpty||!1,w={notNotify:!0,notUpdate:!1,allowEmpty:x},T=v.value;x||""!==T||(T=void 0),this.updateStateValue(o,T,w),v.error&&this.updateStateError(o,v.error,w)}}unRegister(o){let v=this.fields.get(o);try{v.keepState||(remove(this.data.values,o),remove(this.data.errors,o),remove(this.data.touched,o))}catch(v){console.error(`some thing wrong when unregister field:${o}`)}this.fields.delete(o),this._adapter.notifyChange(this.data),this._adapter.forceUpdate()}registerArrayField(o,v){this.updateArrayField(o,{updateKey:new Date().valueOf(),initValue:v})}unRegisterArrayField(o){this.registeredArrayField.delete(o)}getArrayField(o){return this.registeredArrayField.get(o)}updateArrayField(o,v){let _=Object.assign(Object.assign({},this.registeredArrayField.get(o)),v);this.registeredArrayField.set(o,_)}validate(o){let{validateFields:v}=this.getProps();return v&&eX()(v)?this._formValidate():this._fieldsValidate(o)}_formValidate(){let{values:o}=this.data,{validateFields:v}=this.getProps();return new Promise((_,x)=>{let w;try{w=v(o)}catch(o){w=o}if(w)isPromise(w)?w.then(v=>{if(v)this.data.errors=v,this._adapter.notifyChange(this.data),this.injectErrorToField(v),this._adapter.forceUpdate(),this._autoScroll(100),x(v);else{let v=this._adapter.cloneDeep(o);_(v),this.injectErrorToField({})}},o=>{this._autoScroll(100),x(o)}):(this.data.errors=w,this.injectErrorToField(w),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._autoScroll(100),x(w));else{let v=this._adapter.cloneDeep(o);_(v),this.injectErrorToField({})}})}_fieldsValidate(o){let{values:v}=this.data;return new Promise((_,x)=>{let w=[],T=this._getOperateFieldMap(o);T.forEach((o,v)=>{let _=this.getValue(v),x={notNotify:!0,notUpdate:!0},T=o.fieldApi.validate(_,x);w.push(T),o.fieldApi.setTouched(!0,x)}),Promise.all(w).then(()=>{this._adapter.notifyChange(this.data),this._adapter.forceUpdate();let o=this.getError();if(this._isValid(T)){let o=this._adapter.cloneDeep(v);_(o)}else this._autoScroll(),x(o)})})}submit(o){let{values:v}=this.data;this.validate().then(v=>{let _=this._adapter.cloneDeep(v);this._adapter.notifySubmit(_,o)}).catch(_=>{let x=this._adapter.cloneDeep(_),w=this._adapter.cloneDeep(v);this._adapter.notifySubmitFail(x,w,o)})}_getNestedField(o){let v=this.fields,_=[...v].map(o=>o[0]),x=new Map;return _.forEach(_=>{let w=nS()(_),T=nS()(o);if(T.every((o,v)=>T[v]===w[v])){let o=v.get(_);x.set(_,o)}}),x}_getOperateFieldMap(o){let v=new Map;return e3()(o)?v=this.fields:o.forEach(o=>{let _=this.fields.get(o);if(e3()(_)){let _=this._getNestedField(o);v=new Map([...v,..._])}else v.set(o,_)}),v}reset(o){let v=this._getOperateFieldMap(o);v.forEach(o=>{o.fieldApi.reset()}),this.registeredArrayField.size&&this._resetArrayField(),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._adapter.notifyReset()}_resetArrayField(){let o=[...this.registeredArrayField.keys()];o.forEach(o=>{let v=this.registeredArrayField.get(o),_=v.initValue;this.updateStateValue(o,_,{notNotify:!0,notUpdate:!0}),this.updateArrayField(o,{updateKey:new Date().valueOf()})})}injectErrorToField(o){this.fields.forEach(v=>{let _=object_get(o,v.field);v.fieldApi.setError(_,{notNotify:!0,notUpdate:!0})})}getValue(o,v){let _,x;let w=void 0===o,T=v&&v.needClone;switch(!0){case!w&&!T:_=object_get(this.data.values,o);break;case!w&&T:x=object_get(this.data.values,o),_=this._adapter.cloneDeep(x);break;case w&&!T:_=Object.assign({},this.data.values);break;case w&&T:_=this._adapter.cloneDeep(this.data.values)}return _}setValues(o,v){let{isOverride:_=!1}=v,x=this._adapter.cloneDeep(o);if(this.fields.forEach(o=>{let v=object_get(x,o.field);o.fieldApi.setValue(v,{notNotify:!0,notUpdate:!0})}),this.registeredArrayField.size){let o=[...this.registeredArrayField.keys()];o.forEach(o=>{this.updateArrayField(o,{updateKey:new Date().valueOf()})})}_&&(this.data.values=x),this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,Object.assign({},o)),this._adapter.forceUpdate()}updateStateValue(o,v,_,x){let w=_&&_.notNotify,T=_&&_.notUpdate,L=_&&_.fieldAllowEmpty,N=this.getProp("allowEmpty"),B=L||N;object_set(this.data.values,o,v,B),w||(this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,{[o]:v})),T||this._adapter.forceUpdate(x)}getTouched(o){return void 0===o?this.data.touched:object_get(this.data.touched,o)}updateStateTouched(o,v,_,x){let w=_&&_.notNotify,T=_&&_.notUpdate;object_set(this.data.touched,o,v),w||this._adapter.notifyChange(this.data),T||this._adapter.forceUpdate(x)}getError(o){return void 0===o?this.data.errors:object_get(this.data.errors,o)}updateStateError(o,v,_,x){let w=_&&_.notNotify,T=_&&_.notUpdate;object_set(this.data.errors,o,v),w||this._adapter.notifyChange(this.data),T||this._adapter.forceUpdate(x)}getFieldSetterApi(){return{setValue:(o,v,_)=>{let x=this.fields.get(o)?this.fields.get(o).fieldApi:void 0,w=this._adapter.cloneDeep(v);x?x.setValue(w,_):(this.updateStateValue(o,w,_,()=>{let v=this._getNestedField(o);v.size&&v.forEach(o=>{let v=o.field,_=object_get(this.data.values,v);o.fieldApi.setValue(_,{notNotify:!0,notUpdate:!0})})}),this.getArrayField(o)&&this.updateArrayField(o,{updateKey:new Date().valueOf()}))},setError:(o,v,_)=>{let x=this.fields.get(o)?this.fields.get(o).fieldApi:void 0,w=this._adapter.cloneDeep(v);x?x.setError(w,_):(this.updateStateError(o,w,_,()=>{let v=this._getNestedField(o);v.size&&v.forEach(o=>{let v=o.field,_=object_get(this.data.errors,v);o.fieldApi.setError(_,{notNotify:!0,notUpdate:!0})})}),this.getArrayField(o)&&this.updateArrayField(o,{updateKey:new Date().valueOf()}))},setTouched:(o,v,_)=>{let x=this.fields.get(o)?this.fields.get(o).fieldApi:void 0;x?x.setTouched(v,_):(this.updateStateTouched(o,v,_,()=>{let v=this._getNestedField(o);v.size&&v.forEach(o=>{let v=o.field,_=object_get(this.data.touched,v);o.fieldApi.setTouched(_,{notNotify:!0,notUpdate:!0})})}),this.getArrayField(o)&&this.updateArrayField(o,{updateKey:new Date().valueOf()}))}}}getModifyFormStateApi(){return{register:this.register,unRegister:this.unRegister,updateStateValue:this.updateStateValue,updateStateError:this.updateStateError,updateStateTouched:this.updateStateTouched,getValue:this.getValue,getError:this.getError,getTouched:this.getTouched,getInitValues:this.getInitValues,getInitValue:this.getInitValue,getFormProps:this.getFormProps,getField:this.getField,registerArrayField:this.registerArrayField,unRegisterArrayField:this.unRegisterArrayField,getArrayField:this.getArrayField,updateArrayField:this.updateArrayField}}getFormApi(){let o=this.getFieldSetterApi();return Object.assign(Object.assign({},o),{reset:o=>this.reset(o),validate:o=>this.validate(o),getValue:o=>this.getValue(o,{needClone:!0}),getValues:()=>this.getValue(void 0,{needClone:!0}),getFormState:()=>this.getFormState(!0),getInitValue:o=>this.getInitValue(o),getInitValues:()=>this.getInitValues(),getTouched:o=>this.getTouched(o),getError:o=>this.getError(o),setValues:(o,v)=>this.setValues(o,v||{isOverride:!1}),submitForm:()=>this.submit(),getFieldExist:o=>this.getFieldExist(o),scrollToField:(o,v)=>this.scrollToField(o,v)})}getFormState(){let o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o?this._adapter.cloneDeep(this.data):Object.assign({},this.data)}_isValid(o){let v=!0;if(o){let _=[...o.keys()];_.forEach(o=>{let _=object_get(this.data.errors,o);utils_isValid(_)||(v=!1)})}else v=!!empty(this.data.errors);return v}getInitValues(){return this._adapter.getInitValues()}getInitValue(o){return void 0===o?this._adapter.getInitValues():object_get(this._adapter.getInitValues(),o)}getFormProps(o){return this._adapter.getFormProps(o)}getFieldExist(o){return!!this.fields.has(o)}_autoScroll(o){let{autoScrollToError:v}=this.getFormProps();if(!v)return;let _={behavior:"smooth",block:"start"};"object"==typeof v&&(_=v),o?setTimeout(()=>this._getErrorFieldAndScroll(_),100):this._getErrorFieldAndScroll(_)}_getErrorFieldAndScroll(o){let v=this._adapter.getAllErrorDOM();if(v&&v.length)try{let _=v[0].parentNode.parentNode;es(_,o)}catch(o){}}scrollToField(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{behavior:"smooth",block:"start"};if(this.getFieldExist(o)){let _=this._adapter.getFieldDOM(o);es(_,v)}}};let nj=eC.createContext({});nj.displayName="FormState";let nH=eC.createContext({});nH.displayName="FormApi";let nG=eC.createContext({});nG.displayName="FormUpdater";let nU=eC.createContext({shouldUseInitValue:!0});function reactUtils_isElement(o){return eC.isValidElement(o)}function isEmptyChildren(o){return 0===eC.Children.count(o)}let nW={PREFIX:`${eO.T}`};_(3954);var row_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let nY=["xxl","xl","lg","md","sm","xs"],nK=eC.createContext(null),nZ={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let Row=class Row extends eC.Component{componentDidMount(){this.unRegisters=Object.keys(nZ).map(o=>registerMediaQuery(nZ[o],{match:()=>{"object"==typeof this.props.gutter&&this.setState(v=>({screens:Object.assign(Object.assign({},v.screens),{[o]:!0})}))},unmatch:()=>{"object"==typeof this.props.gutter&&this.setState(v=>({screens:Object.assign(Object.assign({},v.screens),{[o]:!1})}))}}))}componentWillUnmount(){this.unRegisters.forEach(o=>o())}getGutter(){let{gutter:o=0}=this.props,v=[0,0],_=Array.isArray(o)?o.slice(0,2):[o,0];return _.forEach((o,_)=>{if("object"==typeof o)for(let x=0;x<nY.length;x++){let w=nY[x];if(this.state.screens[w]&&void 0!==o[w]){v[_]=o[w];break}}else v[_]=o||0}),v}render(){let o=this.props,{prefixCls:v,type:_,justify:x,align:w,className:T,style:L,children:N}=o,B=row_rest(o,["prefixCls","type","justify","align","className","style","children"]),H=this.getGutter(),Y="".concat(v,"-row"),Z=eM()({[Y]:"flex"!==_,["".concat(Y,"-").concat(_)]:_,["".concat(Y,"-").concat(_,"-").concat(x)]:_&&x,["".concat(Y,"-").concat(_,"-").concat(w)]:_&&w},T),X=Object.assign(Object.assign(Object.assign({},H[0]>0?{marginLeft:-(H[0]/2),marginRight:-(H[0]/2)}:{}),H[1]>0?{marginTop:-(H[1]/2),marginBottom:-(H[1]/2)}:{}),L),et=Object.assign({},B);return delete et.gutter,eC.createElement(nK.Provider,{value:{gutters:H}},eC.createElement("div",Object.assign({},et,{className:Z,style:X,"x-semi-prop":"children"}),N))}constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}};Row.propTypes={type:eI().oneOf(["flex"]),align:eI().oneOf(["top","middle","bottom"]),justify:eI().oneOf(["start","end","center","space-around","space-between"]),className:eI().string,style:eI().object,children:eI().node,gutter:eI().oneOfType([eI().object,eI().number,eI().array]),prefixCls:eI().string},Row.defaultProps={prefixCls:nW.PREFIX},Row.RowContext={gutters:eI().any};let nq=nz.UX.PREFIX;let Label=class Label extends eC.PureComponent{render(){let{children:o,required:v,text:_,disabled:x,name:w,width:T,align:L,style:N,className:B,extra:H,id:Y,optional:Z}=this.props,X=eM()(B,{["".concat(nq,"-field-label")]:!0,["".concat(nq,"-field-label-left")]:"left"===L,["".concat(nq,"-field-label-right")]:"right"===L,["".concat(nq,"-field-label-required")]:v,["".concat(nq,"-field-label-disabled")]:x,["".concat(nq,"-field-label-with-extra")]:H}),et=N||{};T&&(et.width=T);let en=eC.createElement(LocaleConsumer,{componentName:"Form"},o=>eC.createElement("span",{className:"".concat(nq,"-field-label-optional-text")},o.optional)),er=eC.createElement("div",{className:"".concat(nq,"-field-label-text"),"x-semi-prop":"label"},void 0!==_?_:o,Z?en:null),ei=eC.createElement(eC.Fragment,null,er,eC.createElement("div",{className:"".concat(nq,"-field-label-extra")},H));return eC.createElement("label",{className:X,htmlFor:w,style:et,id:Y},H?ei:er)}};Label.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1},Label.propTypes={id:eI().string,children:eI().node,required:eI().bool,text:eI().node,disabled:eI().bool,name:eI().string,align:eI().string,width:eI().oneOfType([eI().number,eI().string]),style:eI().object,className:eI().string,extra:eI().node,optional:eI().bool};var col_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let nX=eI().oneOfType([eI().object,eI().number]);let Col=class Col extends eC.Component{render(){let o;let{props:v}=this,{prefixCls:_,span:x,order:w,offset:T,push:L,pull:N,className:B,children:H}=v,Y=col_rest(v,["prefixCls","span","order","offset","push","pull","className","children"]),Z={},X="".concat(_,"-col");["xs","sm","md","lg","xl","xxl"].forEach(o=>{let _={};"number"==typeof v[o]?_.span=v[o]:"object"==typeof v[o]&&(_=v[o]||{}),delete Y[o],Z=Object.assign(Object.assign({},Z),{["".concat(X,"-").concat(o,"-").concat(_.span)]:void 0!==_.span,["".concat(X,"-").concat(o,"-order-").concat(_.order)]:_.order||0===_.order,["".concat(X,"-").concat(o,"-offset-").concat(_.offset)]:_.offset||0===_.offset,["".concat(X,"-").concat(o,"-push-").concat(_.push)]:_.push||0===_.push,["".concat(X,"-").concat(o,"-pull-").concat(_.pull)]:_.pull||0===_.pull})});let et=eM()(X,{["".concat(X,"-").concat(x)]:void 0!==x,["".concat(X,"-order-").concat(w)]:w,["".concat(X,"-offset-").concat(T)]:T,["".concat(X,"-push-").concat(L)]:L,["".concat(X,"-pull-").concat(N)]:N},B,Z),{style:en}=Y;try{o=this.context.gutters}catch(o){throw Error("please make sure <Col> inside <Row>")}return en=Object.assign(Object.assign(Object.assign({},o[0]>0?{paddingLeft:o[0]/2,paddingRight:o[0]/2}:{}),o[1]>0?{paddingTop:o[1]/2,paddingBottom:o[1]/2}:{}),en),eC.createElement("div",Object.assign({},Y,{style:en,className:et,"x-semi-prop":"children"}),H)}};Col.contextType=nK,Col.propTypes={span:eI().number,order:eI().number,offset:eI().number,push:eI().number,pull:eI().number,className:eI().string,children:eI().node,xs:nX,sm:nX,md:nX,lg:nX,xl:nX,xxl:nX,prefixCls:eI().string},Col.defaultProps={prefixCls:nW.PREFIX};let n$=nz.UX.PREFIX;let ErrorMessage=class ErrorMessage extends eC.PureComponent{generatorText(o){let{helpTextId:v,errorMessageId:_}=this.props,x=this.props.error,w=_;if(x||(w=v),"string"==typeof o)return eC.createElement("span",{id:w},o);if(Array.isArray(o)){let v=o.filter(o=>o);return v.length?eC.createElement("span",{id:w},v.join(", ")):null}return eC.isValidElement(o)?o:null}render(){let{error:o,className:v,style:_,validateStatus:x,helpText:w,showValidateIcon:T,isInInputGroup:L}=this.props,N=eM()({[n$+"-field-error-message"]:!!o,[n$+"-field-help-text"]:!!w},v);if(!o&&!w)return null;let B={warning:eC.createElement(t4,null),error:eC.createElement(t9,null)},H=o?this.generatorText(o):this.generatorText(w),Y="".concat(n$,"-field-validate-status-icon"),Z=null;return L?Z=eC.createElement(t9,{className:Y}):B[x]&&(Z=eC.cloneElement(B[x],{className:Y})),eC.createElement("div",{className:N,style:_},T&&H?Z:null,H)}};ErrorMessage.propTypes={error:eI().oneOfType([eI().bool,eI().string,eI().array,eI().node]),className:eI().string,style:eI().object,validateStatus:eI().string,showValidateIcon:eI().bool,helpText:eI().node,isInInputGroup:eI().bool,errorMessageId:eI().string,helpTextId:eI().string};var slot_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let nQ=nz.UX.PREFIX;var nJ=_(269),hooks_useFormState=function(){let o=(0,eC.useContext)(nj);return o};let n0={PREFIX:`${eO.T}-input`},n1={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]};var inputGroup_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let n2=n0.PREFIX,n5=n1.SIZE;let inputGroup=class inputGroup extends BaseComponent{renderGroupWithLabel(o){let v=this.props,{size:_,className:x,label:w,labelPosition:T}=v;inputGroup_rest(v,["size","className","label","labelPosition"]);let L=eM()({["".concat(n2,"-group-wrapper")]:!0,["".concat(n2,"-group-wrapper-with-top-label")]:"top"===T,["".concat(n2,"-group-wrapper-with-left-label")]:"left"===T}),N=eM()("".concat(n2,"-group"),x,{["".concat(n2,"-").concat(_)]:"default"!==_}),B="input-group";return eC.createElement("div",{className:L},w&&w.text?eC.createElement(Label,Object.assign({name:B},w)):null,eC.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:w&&w.name||B,className:N,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},o))}render(){let o;let v=this.props,{size:_,style:x,className:w,children:T,label:L,onBlur:N,onFocus:B,disabled:H}=v,Y=inputGroup_rest(v,["size","style","className","children","label","onBlur","onFocus","disabled"]),Z=eM()("".concat(n2,"-group"),{["".concat(n2,"-").concat(_)]:"default"!==_},w);return(T&&(o=(Array.isArray(T)?T:[T]).map((o,v)=>{if(o){let{onBlur:x,onFocus:w,disabled:T}=o.props,L=eX()(x)&&"noop"!==eH()(x,"name")?x:N,Z=eX()(w)&&"noop"!==eH()(w,"name")?w:B,X="boolean"==typeof T?T:H;return eC.cloneElement(o,Object.assign(Object.assign({key:v},Y),{size:_,onBlur:L,onFocus:Z,disabled:X}))}return null})),L&&L.text)?this.renderGroupWithLabel(o):eC.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:Z,style:x,onFocus:this.props.onFocus,onBlur:this.props.onBlur},o)}};inputGroup.propTypes={className:eI().string,children:eI().node,size:eI().oneOf(n5),style:eI().object,onBlur:eI().func,onFocus:eI().func,label:eI().object,labelPosition:eI().string},inputGroup.defaultProps={size:"default",className:"",onBlur:function_noop,onFocus:function_noop};var group_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let n3=nz.UX.PREFIX,GroupError=o=>{let{fieldSet:v}=o,_=hooks_useFormState(),x=v.map(o=>object_get(_.errors,o));return utils_isValid(x)?null:eC.createElement(ErrorMessage,{error:x,showValidateIcon:o.showValidateIcon,isInInputGroup:o.isInInputGroup})};let FormInputGroup=class FormInputGroup extends eC.Component{renderLabel(o,v){return o?e0()(o)?eC.createElement(Label,{width:v.labelWidth,text:o}):eC.createElement(Label,Object.assign({width:v.labelWidth},o)):null}render(){let o;let v=this.props,{children:_,label:x,extraText:w,extraTextPosition:T}=v,L=group_rest(v,["children","label","extraText","extraTextPosition"]),N=this.context,B=N.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),H=this.props.labelPosition||B.labelPosition,Y=[],Z=eC.Children.map(_,o=>o&&o.props&&o.props.field?(Y.push(o.props.field),eC.cloneElement(o,{isInInputGroup:!0})):null),X=eM()({["".concat(n3,"-field-group")]:!0}),et=B.labelCol,en=B.wrapperCol,er=B.labelAlign,ei=et&&en,ea=et?"".concat(n3,"-col-").concat(er):"",eo=this.renderLabel(x,B),el=eC.createElement(inputGroup,Object.assign({disabled:B.disabled},L),Z),eu=eC.createElement(GroupError,{fieldSet:Y,showValidateIcon:B.showValidateIcon,isInInputGroup:!0}),ec=eM()("".concat(n3,"-field-extra"),{["".concat(n3,"-field-extra-string")]:"string"==typeof w,["".concat(n3,"-field-extra-middle")]:"middle"===T,["".concat(n3,"-field-extra-bottom")]:"bottom"===T}),ed=w?eC.createElement("div",{className:ec,"x-semi-prop":"extraText"},w):null;switch(!0){case!ei:o=eC.createElement(eC.Fragment,null,eo,eC.createElement("div",null,"middle"===T?ed:null,el,"bottom"===T?ed:null,eu));break;case ei&&"top"===H:o=eC.createElement(eC.Fragment,null,eC.createElement("div",{style:{overflow:"hidden"}},eC.createElement(Col,Object.assign({},et,{className:ea}),eo)),eC.createElement(Col,Object.assign({},en),"middle"===T?ed:null,el,"bottom"===T?ed:null,eu));break;case ei&&"top"!==H:o=eC.createElement(eC.Fragment,null,eC.createElement(Col,Object.assign({},et,{className:ea}),eo),eC.createElement(Col,Object.assign({},en),"middle"===T?ed:null,el,"bottom"===T?ed:null,eu))}return eC.createElement("div",{"x-label-pos":H,className:X},o)}};function useFormUpdater(){return(0,eC.useContext)(nG)}FormInputGroup.contextType=nG,_(171);var hooks_useArrayFieldState=function(){let o=(0,eC.useContext)(nU);return o};function useStateWithGetter(o){let v=(0,eC.useRef)(),[_,x]=(0,eC.useState)(o);return v.current=_,[_,o=>{v.current=o,x(o)},()=>v.current]}let n4=nz.UX.PREFIX,n7=eC.useLayoutEffect;var hoc_withField=function(o,v){let SemiField=(_,x)=>{let w,{field:T,label:L,labelPosition:N,labelWidth:B,labelAlign:H,labelCol:Y,wrapperCol:Z,noLabel:X,noErrorMessage:et,isInInputGroup:en,initValue:er,validate:ei,validateStatus:ea,trigger:eo,allowEmptyString:el,allowEmpty:eu,emptyValue:ec,rules:ed,required:eh,keepState:ep,transform:ef,name:eg,fieldClassName:em,fieldStyle:ey,convert:ev,stopValidateWithError:e_,helpText:eb,extraText:eS,extraTextPosition:ex,pure:ew,id:eT,rest:eP}=mergeProps(_),{options:eI,shouldInject:eD}=mergeOptions(v,_);if(warning(void 0===T&&eI.shouldInject,"[Semi Form]: 'field' is required, please check your props of Field Component"),!eD)return eC.createElement(o,Object.assign({},eP,{ref:x}));hooks_useFormState();let eE=useFormUpdater();if(!eE.getFormProps)return warning(!0,"[Semi Form]: Field Component must be use inside the Form, please check your dom declaration"),null;let eO=eE.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","disabled","showValidateIcon","extraTextPosition","stopValidateWithError","trigger"]),eA=N||eO.labelPosition,ek=B||eO.labelWidth,eL=H||eO.labelAlign,eR=Y||eO.labelCol,eN=Z||eO.wrapperCol,eF=ex||eO.extraTextPosition||"bottom",eV=transformDefaultBooleanAPI(e_,eO.stopValidateWithError,!1),eB=transformTrigger(eo,eO.trigger),ez=void 0!==T?eE.getValue(T):void 0,ej=void 0!==er?er:ez;try{(w=hooks_useArrayFieldState())&&(ej=w.shouldUseInitValue&&void 0!==er?er:ez)}catch(o){}let[eH,eG,eU]=useStateWithGetter(ej),eW=eB.includes("mount");eu=eu||eE.getFormProps().allowEmpty;let[eY,eK,eZ]=useStateWithGetter(),[eX,e$]=(0,eC.useState)(),[eQ,eJ,e0]=useStateWithGetter(0),[e1,e2]=(0,eC.useState)(ea),e5=(0,eC.useRef)(ed),e3=(0,eC.useRef)(ei),e4=(0,eC.useRef)(null),updateTouched=(o,v)=>{e$(o),eE.updateStateTouched(T,o,v)},updateError=(o,v)=>{o!==eZ()&&(eK(o),eE.updateStateError(T,o,v),utils_isValid(o)?e2("success"):e2("error"))},updateValue=(o,v)=>{eG(o);let _=Object.assign(Object.assign({},v),{allowEmpty:eu});eE.updateStateValue(T,o,_)},_validateInternal=(o,v)=>{let _=e5.current||[],x=generateValidatesFromRules(T,_),w={[T]:o},L=new Promise((o,_)=>{x.validate(w,{first:eV},(o,v)=>{}).then(_=>{e4.current===L&&(e2("success"),updateError(void 0,v),o({}))}).catch(_=>{if(e4.current!==L)return;let{errors:x,fields:w}=_;if(x&&w){let _=x.map(o=>o.message);1===_.length&&(_=_[0]),updateError(_,v),utils_isValid(_)||(e2("error"),o(x))}else throw e2("error"),updateError(_.message,v),o(_.message),_})});return e4.current=L,L},_validate=(o,v,_)=>{let x=new Promise(w=>{let T;try{T=e3.current(o,v)}catch(o){T=o}void 0===T?(w({}),updateError(void 0,_)):isPromise(T)?T.then(o=>{e4.current===x&&(utils_isValid(o)?(updateError(void 0,_),w(null)):(updateError(o,_),w(o)))}):utils_isValid(T)?(updateError(void 0,_),w(null)):(updateError(T,_),w(T))});return e4.current=x,x},fieldValidate=(o,v)=>{let _=o,x=e5.current;return(ef&&(_=ef(o)),e3.current)?_validate(_,eE.getValue(),v):x?_validateInternal(_,v):null},handleChange=function(o,v){let x;if(eI.onKeyChangeFnName in _&&"function"==typeof _[eI.onKeyChangeFnName]){for(var w=arguments.length,T=Array(w>2?w-2:0),L=2;L<w;L++)T[L-2]=arguments[L];_[eI.onKeyChangeFnName](o,v,...T)}x=eI.valuePath?object_get(o,eI.valuePath):o,"function"==typeof ev&&(x=ev(x)),el||eu||x===ec&&(x=void 0);try{v&&v.target&&v.target.selectionStart&&eJ(v.target.selectionStart)}catch(o){}updateTouched(!0,{notNotify:!0,notUpdate:!0}),updateValue(x),eB.includes("change")&&fieldValidate(x)},handleBlur=function(){_.onBlur&&_.onBlur(...arguments),eX||updateTouched(!0),eB.includes("blur")&&fieldValidate(eU())},e7={setValue:updateValue,setTouched:updateTouched,setError:updateError,reset:()=>{let o={notNotify:!0,notUpdate:!0};updateValue(null!==ej?ej:void 0,o),updateError(void 0,o),updateTouched(void 0,o),e2("default")},validate:fieldValidate};n7(()=>{e5.current=ed,e3.current=ei},[ed,ei]),n7(()=>{eW&&fieldValidate(eH)},[]),n7(()=>{if(void 0===T)return()=>{};let o=eU();return eE.register(T,{value:o,error:eY,touched:eX,status:e1},{field:T,fieldApi:e7,keepState:ep,allowEmpty:eu||el}),()=>{eE.unRegister(T)}},[T]);let e6=eT||T,e9="".concat(e6,"-label"),e8="".concat(e6,"-helpText"),te="".concat(e6,"-extraText"),tt="".concat(e6,"-errormessage"),FieldComponent=()=>{let v=ea||e1,_=eM()("".concat(n4,"-field-extra"),{["".concat(n4,"-field-extra-string")]:"string"==typeof eS,["".concat(n4,"-field-extra-middle")]:"middle"===eF,["".concat(n4,"-field-extra-bottom")]:"bottom"===eF}),w=eS?eC.createElement("div",{className:_,id:te,"x-semi-prop":"extraText"},eS):null,N=Object.assign(Object.assign({id:e6,disabled:eO.disabled},eP),{ref:x,onBlur:handleBlur,[eI.onKeyChangeFnName]:handleChange,[eI.valueKey]:eH,validateStatus:v,"aria-required":eh,"aria-labelledby":e9});eg&&(N.name=eg),eb&&(N["aria-describedby"]=eS?"".concat(e8," ").concat(te):e8),eS&&(N["aria-describedby"]=eb?"".concat(e8," ").concat(te):te),"error"===e1&&(N["aria-errormessage"]=tt,N["aria-invalid"]=!0);let B=eM()({["".concat(n4,"-field")]:!0,["".concat(n4,"-field-").concat(eg)]:!!eg,[em]:!!em}),H=eM()({["".concat(n4,"-field-main")]:!0});"inset"!==eA||X||(N.insetLabel=L||T,N.insetLabelId=e9,"object"!=typeof L||reactUtils_isElement(L)||(N.insetLabel=L.text,N.insetLabelId=e9));let Y=eC.createElement(o,Object.assign({},N));if(en)return Y;if(ew){let v=eM()(eP.className,{["".concat(n4,"-field-pure")]:!0,["".concat(n4,"-field-").concat(eg)]:!!eg,[em]:!!em});return N.className=v,eC.createElement(o,Object.assign({},N))}let Z=eR&&eN,er=eL?"".concat(n4,"-col-").concat(eL):"",ei=null;if(!X&&"inset"!==eA){let o="object"!=typeof L||reactUtils_isElement(L)?{}:L;ei=eC.createElement(Label,Object.assign({text:L||T,id:e9,required:eh,name:e6||eg||T,width:ek,align:eL},o))}let eo=eC.createElement("div",{className:H},"middle"===eF?w:null,Y,et?null:eC.createElement(ErrorMessage,{error:eY,validateStatus:v,helpText:eb,helpTextId:e8,errorMessageId:tt,showValidateIcon:eO.showValidateIcon}),"bottom"===eF?w:null),el=eC.createElement(eC.Fragment,null,"top"===eA?eC.createElement("div",{style:{overflow:"hidden"}},eC.createElement(Col,Object.assign({},eR,{className:er}),ei)):eC.createElement(Col,Object.assign({},eR,{className:er}),ei),eC.createElement(Col,Object.assign({},eN),eo));return eC.createElement("div",{className:B,style:ey,"x-label-pos":eA,"x-field-id":T,"x-extra-pos":eF},Z?el:eC.createElement(eC.Fragment,null,ei,eo))},tn=[...Object.values({value:eH,error:eY,touched:eX,status:e1}),...Object.values(_),T,eA,eL,eO.disabled];return eI.shouldMemo?(0,eC.useMemo)(FieldComponent,[...tn]):FieldComponent()};return(SemiField=(0,eC.forwardRef)(SemiField)).displayName=getDisplayName(o),SemiField};let InputFoundation=class InputFoundation extends eU{static get inputDefaultAdapter(){return{notifyChange:eE(),setValue:eE()}}constructor(o){super(Object.assign(Object.assign({},InputFoundation.inputDefaultAdapter),o))}init(){this._setInitValue()}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}_setInitValue(){let{defaultValue:o,value:v}=this.getProps(),_=o;this._isControlledComponent()&&(_=v),this._adapter.setValue(_)}setValue(o){this._adapter.setValue(o)}handleChange(o,v){let{maxLength:_,minLength:x,getValueLength:w}=this._adapter.getProps(),T=o;_&&eX()(w)&&(T=this.handleVisibleMaxLength(o)),x&&eX()(w)&&this.handleVisibleMinLength(T),this._isControlledComponent()||this._adapter.setValue(T),this._adapter.notifyChange(T,v)}handleVisibleMinLength(o){let{minLength:v,getValueLength:_}=this._adapter.getProps(),{minLength:x}=this._adapter.getStates();if(nr()(v)&&v>=0&&eX()(_)&&e0()(o)){let w=_(o);if(w<v){let _=o.length+(v-w);_!==x&&this._adapter.setMinLength(_)}else x!==v&&this._adapter.setMinLength(v)}}handleVisibleMaxLength(o){let{maxLength:v,getValueLength:_}=this._adapter.getProps();if(nr()(v)&&v>=0&&eX()(_)&&e0()(o)){let x=_(o);if(!(x>v))return o;{console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit");let _=this.handleTruncateValue(o,v);return _}}}handleTruncateValue(o,v){let{getValueLength:_}=this._adapter.getProps();if(!eX()(_))return o.slice(0,v);{let x="";for(let w=1,T=o.length;w<=T;w++){let T=o.slice(0,w);if(_(T)>v)break;x=T}return x}}handleClear(o){let v=o;this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),v&&"object"==typeof v||(v={}),th()(v,n1.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange("",v),this._adapter.notifyClear(v),v&&this.stopPropagation(v)}handleClick(o){let{disabled:v}=this._adapter.getProps(),{isFocus:_}=this._adapter.getStates();!v&&!_&&this._adapter.isEventTarget(o)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(o){"password"===o?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(o){let v=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!v)}handleInputType(o){let v=this._adapter.getProp("mode"),_=this._adapter.getState("eyeClosed");return"password"===v?_?"password":"text":o}handleMouseDown(o){o.preventDefault()}handleMouseUp(o){o.preventDefault()}handleBlur(o){let{value:v}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(v,o)}handleFocus(o){let{value:v}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(v,o)}handleInput(o){this._adapter.notifyInput(o)}handleKeyDown(o){this._adapter.notifyKeyDown(o)}handleKeyUp(o){this._adapter.notifyKeyUp(o)}handleKeyPress(o){this._adapter.notifyKeyPress(o),o.key===tL&&this._adapter.notifyEnterPress(o)}isAllowClear(){let{value:o,isFocus:v,isHovering:_}=this._adapter.getStates(),{showClear:x,disabled:w,showClearIgnoreDisabled:T}=this._adapter.getProps();return o&&x&&(!w||T)&&(v||_)}handleClickPrefixOrSuffix(o){let{disabled:v}=this._adapter.getProps(),{isFocus:_}=this._adapter.getStates();v||_||(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(o){o&&eX()(o.preventDefault)&&o.preventDefault()}handleModeEnterPress(o){["Enter"," "].includes(null==o?void 0:o.key)&&(this.handlePreventMouseDown(o),this.handleClickEye(o))}};function IconClear_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.0352 16.8626C16.4597 17.4585 15.5101 17.4751 14.9142 16.8996L12.0368 14.121L9.25822 16.9984C8.68274 17.5943 7.73314 17.6109 7.13722 17.0354C6.5413 16.4599 6.52472 15.5103 7.1002 14.9144L9.87883 12.037L7.00147 9.2584C6.40555 8.68293 6.38897 7.73332 6.96445 7.1374C7.53992 6.54148 8.48953 6.52491 9.08545 7.10038L11.9628 9.87901L14.7414 7.00165C15.3169 6.40573 16.2665 6.38916 16.8624 6.96463C17.4584 7.54011 17.4749 8.48971 16.8995 9.08563L14.1208 11.963L16.9982 14.7416C17.5941 15.3171 17.6107 16.2667 17.0352 16.8626Z",fill:"currentColor"}))}_(6433);let n6=convertIcon(IconClear_SvgComponent,"clear");function IconEyeClosedSolid_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7071 3.70711C22.0976 3.31658 22.0976 2.68342 21.7071 2.29289C21.3166 1.90237 20.6834 1.90237 20.2929 2.29289L17.3135 5.27233C15.8114 4.50566 14.0321 4 12 4C5 4 1 10 1 12C1 13.1757 2.38219 15.7335 4.94345 17.6423L2.29289 20.2929C1.90237 20.6834 1.90237 21.3166 2.29289 21.7071C2.68342 22.0976 3.31658 22.0976 3.70711 21.7071L21.7071 3.70711ZM7.8284 14.7574L9.29237 13.2934C9.10495 12.9018 9 12.4631 9 12C9 10.3431 10.3431 9 12 9C12.4631 9 12.9018 9.10495 13.2934 9.29237L14.7574 7.8284C13.967 7.30488 13.0191 7 12 7C9.23858 7 7 9.23858 7 12C7 13.0191 7.30488 13.967 7.8284 14.7574Z",fill:"currentColor"}),eC.createElement("path",{d:"M12 20C10.7789 20 9.64914 19.8174 8.61594 19.5054L11.1871 16.9342C11.4516 16.9775 11.7232 17 12 17C14.7614 17 17 14.7614 17 12C17 11.7232 16.9775 11.4516 16.9342 11.1871L20.5032 7.61808C22.1342 9.27317 23 11.0695 23 12C23 14 19 20 12 20Z",fill:"currentColor"}))}let n9=convertIcon(IconEyeClosedSolid_SvgComponent,"eye_closed_solid");function IconEyeOpened_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12C1 14 5 20 12 20C19 20 23 14 23 12C23 10 19 4 12 4ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12ZM12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",fill:"currentColor"}))}let n8=convertIcon(IconEyeOpened_SvgComponent,"eye_opened");var input_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let rr=n0.PREFIX,ri=n1.SIZE,ra=n1.STATUS,ro=n1.MODE;let Input=class Input extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:o=>this.setState({value:o}),setEyeClosed:o=>this.setState({eyeClosed:o}),toggleFocusing:o=>{this.setState({isFocus:o})},focusInput:()=>{let{preventScroll:o}=this.props,v=this.inputRef&&this.inputRef.current;v&&v.focus({preventScroll:o})},toggleHovering:o=>this.setState({isHovering:o}),getIfFocusing:()=>this.state.isFocus,notifyChange:(o,v)=>this.props.onChange(o,v),notifyBlur:(o,v)=>this.props.onBlur(v),notifyFocus:(o,v)=>this.props.onFocus(v),notifyInput:o=>this.props.onInput(o),notifyKeyPress:o=>this.props.onKeyPress(o),notifyKeyDown:o=>this.props.onKeyDown(o),notifyKeyUp:o=>this.props.onKeyUp(o),notifyEnterPress:o=>this.props.onEnterPress(o),notifyClear:o=>this.props.onClear(o),setMinLength:o=>this.setState({minLength:o}),isEventTarget:o=>o&&o.target===o.currentTarget})}static getDerivedStateFromProps(o,v){let _={};return o.value!==v.cachedValue&&(_.value=o.value,_.cachedValue=o.value),_}componentDidUpdate(o){let{mode:v}=this.props;o.mode!==v&&this.handleModeChange(v)}componentDidMount(){this.foundation.init();let{disabled:o,autoFocus:v,preventScroll:_}=this.props;!o&&(v||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:_})}renderPrepend(){let{addonBefore:o}=this.props;if(o){let v=eM()({["".concat(rr,"-prepend")]:!0,["".concat(rr,"-prepend-text")]:o&&e0()(o),["".concat(rr,"-prepend-icon")]:isSemiIcon(o)});return eC.createElement("div",{className:v,"x-semi-prop":"addonBefore"},o)}return null}renderAppend(){let{addonAfter:o}=this.props;if(o){let v=eM()({["".concat(rr,"-append")]:!0,["".concat(rr,"-append-text")]:o&&e0()(o),["".concat(rr,"-append-icon")]:isSemiIcon(o)});return eC.createElement("div",{className:v,"x-semi-prop":"addonAfter"},o)}return null}renderClearBtn(){let o=eM()("".concat(rr,"-clearbtn")),{clearIcon:v}=this.props,_=this.foundation.isAllowClear();return _?eC.createElement("div",{className:o,onMouseDown:this.handleClear},v||eC.createElement(n6,null)):null}renderModeBtn(){let{eyeClosed:o}=this.state,{mode:v,disabled:_}=this.props,x=eM()("".concat(rr,"-modebtn")),w=o?eC.createElement(n9,null):eC.createElement(n8,null);return"password"!==v||_?null:eC.createElement("div",{role:"button",tabIndex:0,"aria-label":o?"Show password":"Hidden password",className:x,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},w)}renderPrefix(){let{prefix:o,insetLabel:v,insetLabelId:_}=this.props,x=o||v;if(!x)return null;let w=eM()({["".concat(rr,"-prefix")]:!0,["".concat(rr,"-inset-label")]:v,["".concat(rr,"-prefix-text")]:x&&e0()(x),["".concat(rr,"-prefix-icon")]:isSemiIcon(x)});return eC.createElement("div",{className:w,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:_,"x-semi-prop":"prefix,insetLabel"},x)}renderSuffix(o){let{suffix:v,hideSuffix:_}=this.props;if(!v)return null;let x=eM()({["".concat(rr,"-suffix")]:!0,["".concat(rr,"-suffix-text")]:v&&e0()(v),["".concat(rr,"-suffix-icon")]:isSemiIcon(v),["".concat(rr,"-suffix-hidden")]:o&&!!_});return eC.createElement("div",{className:x,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},v)}getInputRef(){let{forwardRef:o}=this.props;if(!e3()(o)){if("function"==typeof o)return v=>{o(v),this.inputRef={current:v}};if("[object Object]"===Object.prototype.toString.call(o))return this.inputRef=o,o}return this.inputRef}render(){let o=this.props,{addonAfter:v,addonBefore:_,autoFocus:x,clearIcon:w,className:T,disabled:L,defaultValue:N,placeholder:B,prefix:H,mode:Y,insetLabel:Z,insetLabelId:X,validateStatus:et,type:en,readonly:er,size:ei,suffix:ea,style:eo,showClear:el,onEnterPress:eu,onClear:ec,hideSuffix:ed,inputStyle:eh,forwardRef:ep,maxLength:ef,getValueLength:eg,preventScroll:em,borderless:ey,showClearIgnoreDisabled:ev}=o,e_=input_rest(o,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled"]),{value:eb,isFocus:eS,minLength:ex}=this.state,ew=this.foundation.isAllowClear(),eT=isSemiIcon(ea),eP=this.getInputRef(),eI="".concat(rr,"-wrapper"),eD=eM()(eI,T,{["".concat(rr,"-wrapper__with-prefix")]:H||Z,["".concat(rr,"-wrapper__with-suffix")]:ea,["".concat(rr,"-wrapper__with-suffix-hidden")]:ew&&!!ed,["".concat(rr,"-wrapper__with-suffix-icon")]:eT,["".concat(rr,"-wrapper__with-append")]:_,["".concat(rr,"-wrapper__with-prepend")]:v,["".concat(rr,"-wrapper__with-append-only")]:_&&!v,["".concat(rr,"-wrapper__with-prepend-only")]:!_&&v,["".concat(eI,"-readonly")]:er,["".concat(eI,"-disabled")]:L,["".concat(eI,"-warning")]:"warning"===et,["".concat(eI,"-error")]:"error"===et,["".concat(eI,"-focus")]:eS,["".concat(eI,"-clearable")]:el,["".concat(eI,"-modebtn")]:"password"===Y,["".concat(eI,"-hidden")]:"hidden"===en,["".concat(eI,"-").concat(ei)]:ei,["".concat(rr,"-borderless")]:ey}),eE=eM()(rr,{["".concat(rr,"-").concat(ei)]:ei,["".concat(rr,"-disabled")]:L,["".concat(rr,"-sibling-clearbtn")]:this.foundation.isAllowClear(),["".concat(rr,"-sibling-modebtn")]:"password"===Y}),eO=Object.assign(Object.assign({},e_),{style:eh,className:eE,disabled:L,readOnly:er,type:this.foundation.handleInputType(en),placeholder:B,onInput:o=>this.foundation.handleInput(o),onChange:o=>this.foundation.handleChange(o.target.value,o),onFocus:o=>this.foundation.handleFocus(o),onBlur:o=>this.foundation.handleBlur(o),onKeyUp:o=>this.foundation.handleKeyUp(o),onKeyDown:o=>this.foundation.handleKeyDown(o),onKeyPress:o=>this.foundation.handleKeyPress(o),value:null==eb?"":eb});return eX()(eg)||(eO.maxLength=ef),ex&&(eO.minLength=ex),"error"===et&&(eO["aria-invalid"]="true"),eC.createElement("div",{className:eD,style:eo,onMouseEnter:o=>this.handleMouseOver(o),onMouseLeave:o=>this.handleMouseLeave(o),onClick:o=>this.handleClick(o)},this.renderPrepend(),this.renderPrefix(),eC.createElement("input",Object.assign({},eO,{ref:eP})),this.renderClearBtn(),this.renderSuffix(ew),this.renderModeBtn(),this.renderAppend())}constructor(o){super(o),this.handleClear=o=>{this.foundation.handleClear(o)},this.handleClick=o=>{this.foundation.handleClick(o)},this.handleMouseOver=o=>{this.setState({isHovering:!0})},this.handleMouseLeave=o=>{this.setState({isHovering:!1})},this.handleModeChange=o=>{this.foundation.handleModeChange(o)},this.handleClickEye=o=>{this.foundation.handleClickEye(o)},this.handleMouseDown=o=>{this.foundation.handleMouseDown(o)},this.handleMouseUp=o=>{this.foundation.handleMouseUp(o)},this.handleModeEnterPress=o=>{this.foundation.handleModeEnterPress(o)},this.handleClickPrefixOrSuffix=o=>{this.foundation.handleClickPrefixOrSuffix(o)},this.handlePreventMouseDown=o=>{this.foundation.handlePreventMouseDown(o)},this.state={value:"",cachedValue:null,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:"password"===o.mode,minLength:o.minLength},this.inputRef=eC.createRef(),this.prefixRef=eC.createRef(),this.suffixRef=eC.createRef(),this.foundation=new InputFoundation(this.adapter)}};Input.propTypes={"aria-label":eI().string,"aria-labelledby":eI().string,"aria-invalid":eI().bool,"aria-errormessage":eI().string,"aria-describedby":eI().string,"aria-required":eI().bool,addonBefore:eI().node,addonAfter:eI().node,clearIcon:eI().node,prefix:eI().node,suffix:eI().node,mode:eI().oneOf(ro),value:eI().any,defaultValue:eI().any,disabled:eI().bool,readonly:eI().bool,autoFocus:eI().bool,type:eI().string,showClear:eI().bool,hideSuffix:eI().bool,placeholder:eI().any,size:eI().oneOf(ri),className:eI().string,style:eI().object,validateStatus:eI().oneOf(ra),onClear:eI().func,onChange:eI().func,onBlur:eI().func,onFocus:eI().func,onInput:eI().func,onKeyDown:eI().func,onKeyUp:eI().func,onKeyPress:eI().func,onEnterPress:eI().func,insetLabel:eI().node,insetLabelId:eI().string,inputStyle:eI().object,getValueLength:eI().func,preventScroll:eI().bool,borderless:eI().bool},Input.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:eE(),onChange:eE(),onBlur:eE(),onFocus:eE(),onInput:eE(),onKeyDown:eE(),onKeyUp:eE(),onKeyPress:eE(),onEnterPress:eE(),validateStatus:"default",borderless:!1};let rs=eC.forwardRef((o,v)=>eC.createElement(Input,Object.assign({},o,{forwardRef:v}))),rl=null,ru={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},forceHiddenStyles=o=>{Object.keys(ru).forEach(v=>{o.style.setProperty(v,ru[v],"important")})},getContentHeight=(o,v)=>{let _=o.scrollHeight;return"border-box"===v.sizingStyle.boxSizing?_+v.borderSize:_-v.paddingSize};function calculateNodeHeight(o,v){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;rl||((rl=document.createElement("textarea")).setAttribute("tab-index","-1"),rl.setAttribute("aria-hidden","true"),forceHiddenStyles(rl)),null===rl.parentNode&&document.body.appendChild(rl);let{paddingSize:w,borderSize:T,sizingStyle:L}=o,{boxSizing:N}=L;Object.keys(L).forEach(o=>{rl.style[o]=L[o]}),forceHiddenStyles(rl),rl.value=v;let B=getContentHeight(rl,o);rl.value="x";let H=getContentHeight(rl,o)-w-T,Y=H*_;"border-box"===N&&(Y=Y+w+T),B=Math.max(Y,B);let Z=H*x;return"border-box"===N&&(Z=Z+w+T),B=Math.min(Z,B)}var rc=_(6004),rd=_.n(rc);let rh=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"];var util_getSizingData=o=>{let v=window.getComputedStyle(o);if(null===v)return null;let _=rd()(v,rh),{boxSizing:x}=_;if(""===x)return null;let w=parseFloat(_.paddingBottom)+parseFloat(_.paddingTop),T=parseFloat(_.borderBottomWidth)+parseFloat(_.borderTopWidth);return{sizingStyle:_,paddingSize:w,borderSize:T}};let TextAreaFoundation=class TextAreaFoundation extends eU{static get textAreaDefaultAdapter(){return{notifyChange:eE(),setValue:eE(),toggleFocusing:eE(),toggleHovering:eE(),notifyFocus:eE(),notifyBlur:eE(),notifyKeyDown:eE(),notifyEnterPress:eE()}}constructor(o){super(Object.assign(Object.assign({},TextAreaFoundation.textAreaDefaultAdapter),o)),this.resizeTextarea=o=>{var v;let{height:_}=this.getStates(),{rows:x,autosize:w}=this.getProps(),T=this._adapter.getRef(),L=util_getSizingData(T);if(!L){o&&o();return}let[N,B]=null!==w&&"object"==typeof w?[null!==(v=null==w?void 0:w.minRows)&&void 0!==v?v:x,null==w?void 0:w.maxRows]:[x],H=calculateNodeHeight(L,T.value||T.placeholder||"x",N,B);if(_!==H){this._adapter.notifyHeightUpdate(H),T.style.height=`${H}px`;return}o&&o()}}init(){this.setInitValue()}destroy(){}setInitValue(){let{defaultValue:o,value:v}=this.getProps(),_=o;this._isControlledComponent()&&(_=v),this._adapter.setValue(_)}handleValueChange(o){this._adapter.setValue(o)}handleChange(o,v){let{maxLength:_,minLength:x,getValueLength:w}=this._adapter.getProps(),T=o;_&&eX()(w)&&(T=this.handleVisibleMaxLength(o)),x&&eX()(w)&&this.handleVisibleMinLength(T),this._isControlledComponent()||this._adapter.setValue(T),this._adapter.notifyChange(T,v)}handleVisibleMinLength(o){let{minLength:v,getValueLength:_}=this._adapter.getProps(),{minLength:x}=this._adapter.getStates();if(nr()(v)&&v>=0&&eX()(_)&&e0()(o)){let w=_(o);if(w<v){let _=o.length+(v-w);_!==x&&this._adapter.setMinLength(_)}else x!==v&&this._adapter.setMinLength(v)}}handleVisibleMaxLength(o){let{maxLength:v,getValueLength:_}=this._adapter.getProps();if(nr()(v)&&v>=0&&eX()(_)&&e0()(o)){let x=_(o);if(!(x>v))return o;{console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit");let _=this.handleTruncateValue(o,v);return _}}}handleTruncateValue(o,v){let{getValueLength:_}=this._adapter.getProps();if(!eX()(_))return o.slice(0,v);{let x="";for(let w=1,T=o.length;w<=T;w++){let T=o.slice(0,w);if(_(T)>v)break;x=T}return x}}handleFocus(o){let{value:v}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(v,o)}handleBlur(o){let{value:v}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(v,o)}handleKeyDown(o){this._adapter.notifyKeyDown(o),13===o.keyCode&&this._adapter.notifyPressEnter(o)}handleMouseEnter(o){this._adapter.toggleHovering(!0)}handleMouseLeave(o){this._adapter.toggleHovering(!1)}isAllowClear(){let{value:o,isFocus:v,isHover:_}=this._adapter.getStates(),{showClear:x,disabled:w,readonly:T}=this._adapter.getProps();return o&&x&&!w&&(v||_)&&!T}handleClear(o){let{isFocus:v}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),v&&this._adapter.notifyBlur("",o),this._adapter.notifyChange("",o),this._adapter.notifyClear(o),this.stopPropagation(o)}};_(7395);var textarea_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let rp=n0.PREFIX;let TextArea=class TextArea extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:o=>this.setState({value:o},()=>{this.props.autosize&&this.foundation.resizeTextarea()}),getRef:()=>this.libRef.current,toggleFocusing:o=>this.setState({isFocus:o}),toggleHovering:o=>this.setState({isHover:o}),notifyChange:(o,v)=>{this.props.onChange(o,v)},notifyClear:o=>this.props.onClear(o),notifyBlur:(o,v)=>this.props.onBlur(v),notifyFocus:(o,v)=>this.props.onFocus(v),notifyKeyDown:o=>{this.props.onKeyDown(o)},notifyHeightUpdate:o=>{this.setState({height:o}),this.props.onResize({height:o})},notifyPressEnter:o=>{this.props.onEnterPress&&this.props.onEnterPress(o)},setMinLength:o=>this.setState({minLength:o})})}static getDerivedStateFromProps(o,v){let _={};return o.value!==v.cachedValue&&(_.value=o.value,_.cachedValue=o.value),_}componentDidMount(){this.foundation.init(),this._resizeListener=null,this.props.autosize&&(this._resizeListener=()=>{this._resizeLock||(this._resizeLock=!0,this.foundation.resizeTextarea(()=>{this._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener))}componentWillUnmount(){this.foundation.destroy(),this._resizeListener&&window.removeEventListener("resize",this._resizeListener)}componentDidUpdate(o,v){(this.props.value!==o.value||this.props.placeholder!==o.placeholder)&&this.props.autosize&&this.foundation.resizeTextarea()}renderClearBtn(){let{showClear:o}=this.props,v=this.foundation.isAllowClear(),_=eM()("".concat(rp,"-clearbtn"),{["".concat(rp,"-clearbtn-hidden")]:!v});return o?eC.createElement("div",{className:_,onClick:this.handleClear},eC.createElement(n6,null)):null}renderCounter(){let o,v,_,x;let{showCounter:w,maxCount:T,getValueLength:L}=this.props;if(w||T){let{value:w}=this.state;v=w?eX()(L)?L(w):w.length:0,_=T||null,x=eM()("".concat(rp,"-textarea-counter"),{["".concat(rp,"-textarea-counter-exceed")]:v>_}),o=eC.createElement("div",{className:x},v,_?"/":null,_)}else o=null;return o}render(){let o=this.props,{autosize:v,placeholder:_,onEnterPress:x,onResize:w,disabled:T,readonly:L,className:N,showCounter:B,validateStatus:H,maxCount:Y,defaultValue:Z,style:X,forwardRef:et,getValueLength:en,maxLength:er,minLength:ei,showClear:ea,borderless:eo,autoFocus:el}=o,eu=textarea_rest(o,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:ec,value:ed,minLength:eh}=this.state,ep=eM()(N,"".concat(rp,"-textarea-wrapper"),{["".concat(rp,"-textarea-borderless")]:eo,["".concat(rp,"-textarea-wrapper-disabled")]:T,["".concat(rp,"-textarea-wrapper-readonly")]:L,["".concat(rp,"-textarea-wrapper-").concat(H)]:!!H,["".concat(rp,"-textarea-wrapper-focus")]:ec}),ef=eM()("".concat(rp,"-textarea"),{["".concat(rp,"-textarea-disabled")]:T,["".concat(rp,"-textarea-readonly")]:L,["".concat(rp,"-textarea-autosize")]:nw()(v)?e3()(null==v?void 0:v.maxRows):v,["".concat(rp,"-textarea-showClear")]:ea}),eg=Object.assign(Object.assign({},eR()(eu,"insetLabel","insetLabelId","getValueLength","onClear","showClear")),{autoFocus:el||this.props.autofocus,className:ef,disabled:T,readOnly:L,placeholder:_||null,onChange:o=>this.foundation.handleChange(o.target.value,o),onFocus:o=>this.foundation.handleFocus(o),onBlur:o=>this.foundation.handleBlur(o.nativeEvent),onKeyDown:o=>this.foundation.handleKeyDown(o),value:null==ed?"":ed});return eX()(en)||(eg.maxLength=er),eh&&(eg.minLength=eh),eC.createElement("div",{className:ep,style:X,onMouseEnter:o=>this.foundation.handleMouseEnter(o),onMouseLeave:o=>this.foundation.handleMouseLeave(o)},eC.createElement("textarea",Object.assign({},eg,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}constructor(o){super(o),this.handleClear=o=>{this.foundation.handleClear(o)},this.setRef=o=>{this.libRef.current=o;let{forwardRef:v}=this.props;"function"==typeof v?v(o):v&&"object"==typeof v&&(v.current=o)},this.state={value:"",isFocus:!1,isHover:!1,height:0,minLength:o.minLength},this.focusing=!1,this.foundation=new TextAreaFoundation(this.adapter),this.libRef=eC.createRef(),this._resizeLock=!1}};TextArea.propTypes={autosize:eI().oneOfType([eI().bool,eI().object]),borderless:eI().bool,placeholder:eI().string,value:eI().string,rows:eI().number,cols:eI().number,maxCount:eI().number,onEnterPress:eI().func,validateStatus:eI().string,className:eI().string,style:eI().object,showClear:eI().bool,onClear:eI().func,onResize:eI().func,getValueLength:eI().func},TextArea.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:eE(),onChange:eE(),onBlur:eE(),onFocus:eE(),onKeyDown:eE(),onResize:eE(),onClear:eE()};let rf=eC.forwardRef((o,v)=>eC.createElement(TextArea,Object.assign({},o,{forwardRef:v})));var rg=_(9514),rm=_.n(rg),utils_isBothNaN=(o,v)=>{let{isNaN:_}=Number;return _(o)&&_(v)},ry=_(4735),rv=_.n(ry),r_=_(5238),rb=_.n(r_);let rS=Object.assign({},n0),rx=Object.assign(Object.assign({},{}),{DEFAULT_STEP:1,DEFAULT_SHIFT_STEP:10,DEFAULT_PRESS_TIMEOUT:250,DEFAULT_PRESS_INTERVAL:0,MOUSE_BUTTON_LEFT:0}),rw=Object.assign({},n1);function plus(o,v){let _=(o.toString().split(".")[1]||"").length,x=(v.toString().split(".")[1]||"").length,w=Math.pow(10,Math.max(_,x));return(o*w+v*w)/w}let InputNumberFoundation=class InputNumberFoundation extends eU{init(){this._setInitValue()}destroy(){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}isControlled(){return this._isControlledComponent("value")}_doInput(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,x=o,w=o,T=!0,L=this.isControlled();"number"!=typeof o&&(T=!isNaN(w=this.doParse(o,!1))),T&&(x=w,L||this._adapter.setNumber(w)),L||this._adapter.setValue(o,_),this.getProp("keepFocus")&&this._adapter.setFocusing(!0,()=>{this._adapter.setClickUpOrDown(!0)}),this.notifyChange(x,v)}_registerInterval(o){let v=this.getProp("pressInterval")||rx.DEFAULT_PRESS_INTERVAL;this._intervalHasRegistered=!0,this._interval=setInterval(()=>{"function"==typeof o&&this._intervalHasRegistered&&o()},v)}_unregisterInterval(){this._interval&&(this._intervalHasRegistered=!1,clearInterval(this._interval),this._interval=null)}_registerTimer(o){let v=this.getProp("pressTimeout")||rx.DEFAULT_PRESS_TIMEOUT;this._timerHasRegistered=!0,this._timer=setTimeout(()=>{this._timerHasRegistered&&"function"==typeof o&&o()},v)}_unregisterTimer(){this._timer&&(this._timerHasRegistered=!1,clearTimeout(this._timer),this._timer=null)}handleInputFocus(o){this.getState("value"),this._adapter.recordCursorPosition(),this._adapter.setFocusing(!0,null),this._adapter.setClickUpOrDown(!1),this._adapter.notifyFocus(o)}handleInputChange(o,v){let _;let x=this.doParse(o,!0,!0,!0),w=this.doParse(o,!1,!1,!1),T=this.afterParser(o);this._adapter.recordCursorPosition();let L=w,N=o;if(""===o)this.isControlled()||(L=null);else if(this.isValidNumber(w)&&this.isValidNumber(x))_=w,N=this.doFormat(w,!1);else{if("number"!=typeof w||isNaN(w))N=this.doFormat(T,!1);else{N=this.doFormat(w,!1);let o=T.lastIndexOf("."),v=T.length-1-o,_=this._getPrecLen(w);if(_){if(_<v)for(let o=0;o<v-_;o++)N+="0"}else{let v=o>-1?T.slice(o):"";N+=v}L=w}_=T}this.isControlled()||null!==L&&("number"!=typeof L||isNaN(L))||this._adapter.setNumber(L),this._adapter.setValue(this.isControlled()?N:this.doFormat(T,!1),()=>{this._adapter.restoreCursor()}),this.notifyChange(_,v)}handleInputKeyDown(o){let v=o.keyCode;if(v===tR.UP||v===tR.DOWN){this._adapter.setClickUpOrDown(!0),this._adapter.recordCursorPosition();let _=v===tR.UP?this.add(null,o):this.minus(null,o);this._doInput(_,o,()=>{this._adapter.restoreCursor()}),o.preventDefault()}this._adapter.notifyKeyDown(o)}handleInputBlur(o){let v=rv()(this.getState("value")),_=this.getState("number");if(null!=_||null!=v&&""!==v){let x,w;let T=this.doParse(v,!1,!0,!0),L=!1,N=!1;this.isValidNumber(T)&&_!==T&&(x=T,this.isControlled()||(_=x),L=!0);let B=this.doFormat(_,!0);if(B!==v&&(w=B,N=!0),N||L){let v=null!=w?w:x;null!=w&&this._adapter.setValue(w),null==x||this._isControlledComponent("value")||this._adapter.setNumber(x),this.notifyChange(v,o)}}this._adapter.setFocusing(!1),this._adapter.notifyBlur(o)}handleInputMouseEnter(o){this._adapter.setHovering(!0)}handleInputMouseLeave(o){this._adapter.setHovering(!1)}handleInputMouseMove(o){this._adapter.setHovering(!0)}handleMouseUp(o){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}handleUpClick(o){let{readonly:v}=this.getProps();this._isMouseButtonLeft(o)&&!v&&(this._adapter.setClickUpOrDown(!0),o&&(this._persistEvent(o),o.stopPropagation(),this._preventDefault(o)),this.upClick(o),this._registerTimer(()=>{this._registerInterval(()=>{this.upClick(o)})}))}handleDownClick(o){let{readonly:v}=this.getProps();this._isMouseButtonLeft(o)&&!v&&(this._adapter.setClickUpOrDown(!0),o&&(this._persistEvent(o),o.stopPropagation(),this._preventDefault(o)),this.downClick(o),this._registerTimer(()=>{this._registerInterval(()=>{this.downClick(o)})}))}_isMouseButtonLeft(o){return eH()(o,"button")===rx.MOUSE_BUTTON_LEFT}_preventDefault(o){let v=this._adapter.getProp("keepFocus"),_=this._adapter.getProp("innerButtons");(v||_)&&o.preventDefault()}handleMouseLeave(o){this._adapter.registerGlobalEvent("mouseup",()=>{this.handleMouseUp(o)})}upClick(o){let v=this.add(null,o);this._doInput(v,o),this._adapter.notifyUpClick(v,o)}downClick(o){let v=this.minus(null,o);this._doInput(v,o),this._adapter.notifyDownClick(v,o)}_setInitValue(){let{defaultValue:o,value:v}=this.getProps(),_=this._isControlledComponent("value")?v:o,x=this.doParse(rv()(_),!1,!0,!0),w=null;"number"!=typeof x||isNaN(x)||(w=x);let T="number"==typeof w?this.doFormat(w,!0):"";this._adapter.setNumber(w),this._adapter.setValue(T),e0()(T)&&T!==String(null!=_?_:"")&&this.notifyChange(T,null)}add(o,v){let _=v&&v.shiftKey,x=_?this.getProp("shiftStep"):this.getProp("step");o=null==o?x:Number(o);let w=Math.abs(rb()(o)),T=this.getState("number"),L=this.toNumber(T)||0,N=this.getProp("min"),B=this.getProp("max"),H=this._getPrecLen(N),Y=this._getPrecLen(B),Z=this._getPrecLen(L),X=this._getPrecLen(o),et=Math.pow(10,Math.max(H,Y,Z,X));return o<0?Math.abs(plus(N,-L))>=w&&(L=(L*et+o*et)/et):o>0&&Math.abs(plus(B,-L))>=w&&(L=(L*et+o*et)/et),"number"==typeof N&&N>L&&(L=N),"number"==typeof B&&B<L&&(L=B),this.doFormat(L,!0)}minus(o,v){let _=v&&v.shiftKey,x=_?this.getProp("shiftStep"):this.getProp("step");return o=null==o?x:Number(o),this.add(-o,v)}_getPrecLen(o){"string"!=typeof o&&(o=String(Math.abs(Number(o||""))));let v=o.indexOf(".")+1;return v?o.length-v:0}_adjustPrec(o){let v=this.getProp("precision");return"number"!=typeof v||""===o||null===o||Number.isNaN(Number(o))||(o=Number(o).toFixed(v)),rv()(o)}doFormat(){let o,v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_=!(arguments.length>1)||void 0===arguments[1]||arguments[1],x=this.getProp("formatter");return o=_?this._adjustPrec(v):rv()(v),"function"==typeof x&&(o=x(o)),o}fetchMinOrMax(o){let{min:v,max:_}=this.getProps();return o<v?v:o>_?_:o}doParse(o){let v=!(arguments.length>1)||void 0===arguments[1]||arguments[1],_=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("number"==typeof o)return x&&(o=this.fetchMinOrMax(o)),_&&(o=this._adjustPrec(o)),rb()(o);let w=this.getProp("parser");if("function"==typeof w&&(o=w(o)),v&&"string"==typeof o){let v=-1===o.indexOf(".")||o.indexOf(".")>-1&&("0"===o||o.lastIndexOf("0")<o.length-1),_=o.lastIndexOf(".")<o.length-1&&o.split("").filter(o=>"."===o).length<2;if(!v||!_)return NaN}return(_&&(o=this._adjustPrec(o)),"string"==typeof o&&o.length)?x?this.fetchMinOrMax(rb()(o)):rb()(o):NaN}afterParser(o){let v=this.getProp("parser");return"string"==typeof o&&"function"==typeof v?rv()(v(o)):rv()(o)}toNumber(o){let v=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if("number"==typeof o)return o;if("string"==typeof o){let _=this.getProp("parser");"function"==typeof _&&(o=_(o)),v&&(o=this._adjustPrec(o))}return rb()(o)}isValidNumber(o){let v=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if("number"==typeof o&&!isNaN(o)){let{min:_,max:x,precision:w}=this.getProps(),T=this._getPrecLen(o);if(o>=_&&o<=x&&(!v||"number"==typeof w&&T<=w||"number"!=typeof w))return!0}return!1}isValidString(o){if("string"==typeof o&&o.length){let v=this.doParse(o);return this.isValidNumber(v)}return!1}notifyChange(o,v){if(null==o||""===o)this._adapter.notifyChange("",v);else{let _=this.toNumber(o,!0);"number"!=typeof _||isNaN(_)?this._adapter.notifyChange(this.afterParser(o),v):(this._adapter.notifyChange(_,v),this.notifyNumberChange(_,v))}}notifyNumberChange(o,v){let{number:_}=this.getStates();this.isValidNumber(o)&&o!==_&&this._adapter.notifyNumberChange(o,v)}updateStates(o,v){this._adapter.updateStates(o,v)}};function IconChevronUp_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.637 16.4369C19.0513 17.0227 18.1015 17.0227 17.5157 16.4369L11.8589 10.7801L6.20202 16.4369C5.61623 17.0227 4.66648 17.0227 4.0807 16.4369C3.49491 15.8511 3.49491 14.9014 4.0807 14.3156L10.7982 7.59809C11.384 7.01231 12.3337 7.01231 12.9195 7.59809L19.637 14.3156C20.2228 14.9014 20.2228 15.8511 19.637 16.4369Z",fill:"currentColor"}))}let rC=convertIcon(IconChevronUp_SvgComponent,"chevron_up");function IconChevronDown_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08045 7.59809C4.66624 7.01231 5.61599 7.01231 6.20177 7.59809L11.8586 13.2549L17.5155 7.59809C18.1013 7.01231 19.051 7.01231 19.6368 7.59809C20.2226 8.18388 20.2226 9.13363 19.6368 9.71941L12.9193 16.4369C12.3335 17.0227 11.3838 17.0227 10.798 16.4369L4.08045 9.71941C3.49467 9.13363 3.49467 8.18388 4.08045 7.59809Z",fill:"currentColor"}))}let rT=convertIcon(IconChevronDown_SvgComponent,"chevron_down");_(4303);var inputNumber_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let InputNumber=class InputNumber extends BaseComponent{get adapter(){var o=this;return Object.assign(Object.assign({},super.adapter),{setValue:(o,v)=>this.setState({value:o},v),setNumber:(o,v)=>this.setState({number:o},v),setFocusing:(o,v)=>this.setState({focusing:o},v),setHovering:o=>this.setState({hovering:o}),notifyChange:function(){return o.props.onChange(...arguments)},notifyNumberChange:function(){return o.props.onNumberChange(...arguments)},notifyBlur:o=>this.props.onBlur(o),notifyFocus:o=>this.props.onFocus(o),notifyUpClick:(o,v)=>this.props.onUpClick(o,v),notifyDownClick:(o,v)=>this.props.onDownClick(o,v),notifyKeyDown:o=>this.props.onKeyDown(o),registerGlobalEvent:(o,v)=>{o&&"function"==typeof v&&(this.adapter.unregisterGlobalEvent(o),this.adapter.setCache(o,v),document.addEventListener(o,v))},unregisterGlobalEvent:o=>{if(o){let v=this.adapter.getCache(o);document.removeEventListener(o,v),this.adapter.setCache(o,null)}},recordCursorPosition:()=>{try{this.inputNode&&(this.cursorStart=this.inputNode.selectionStart,this.cursorEnd=this.inputNode.selectionEnd,this.currentValue=this.inputNode.value,this.cursorBefore=this.inputNode.value.substring(0,this.cursorStart),this.cursorAfter=this.inputNode.value.substring(this.cursorEnd))}catch(o){console.warn(o)}},restoreByAfter:o=>{if(isNullOrUndefined(o))return!1;let v=this.inputNode.value,_=v.lastIndexOf(o);return -1!==_&&_+o.length===v.length&&(this.adapter.fixCaret(_,_),!0)},restoreCursor:function(){let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.cursorAfter;return!isNullOrUndefined(v)&&Array.prototype.some.call(v,(_,x)=>{let w=v.substring(x);return o.adapter.restoreByAfter(w)})},fixCaret:(o,v)=>{if(void 0!==o&&void 0!==v&&this.inputNode&&this.inputNode.value)try{let _=this.inputNode.selectionStart,x=this.inputNode.selectionEnd;(o!==_||v!==x)&&this.inputNode.setSelectionRange(o,v)}catch(o){}},setClickUpOrDown:o=>{this.clickUpOrDown=o},updateStates:(o,v)=>{this.setState(o,v)}})}componentDidUpdate(o){let v;let{value:_,preventScroll:x}=this.props,{focusing:w}=this.state;if(_!==o.value&&!utils_isBothNaN(_,o.value)){if(isNullOrUndefined(_)||""===_)v="",this.foundation.updateStates({value:v,number:null});else{let o=_;"number"==typeof _&&(o=this.foundation.doFormat(_));let x=this.foundation.doParse(o,!1,!0,!0),T="number"==typeof _?_:this.foundation.doParse(o,!1,!1,!1);if(w){if(this.foundation.isValidNumber(x)&&x!==this.state.number){let o={number:x};this.clickUpOrDown&&(o.value=this.foundation.doFormat(o.number,!0),v=o.value),this.foundation.updateStates(o,()=>this.adapter.restoreCursor())}else rm()(T)?this.foundation.updateStates({value:o}):(v=this.foundation.doFormat(T,!1),this.foundation.updateStates({value:v}))}else this.foundation.isValidNumber(x)?(v=this.foundation.doFormat(x),this.foundation.updateStates({number:x,value:v})):(v="",this.foundation.updateStates({number:null,value:v}))}v&&e0()(v)&&v!==String(this.props.value)&&this.foundation.notifyChange(v,null)}this.clickUpOrDown&&this.props.keepFocus&&this.state.focusing&&document.activeElement!==this.inputNode&&this.inputNode.focus({preventScroll:x})}render(){let o=this.props,{disabled:v,className:_,prefixCls:x,min:w,max:T,step:L,shiftStep:N,precision:B,formatter:H,parser:Y,forwardedRef:Z,onUpClick:X,onDownClick:et,pressInterval:en,pressTimeout:er,suffix:ei,size:ea,hideButtons:eo,innerButtons:el,style:eu,onNumberChange:ec,keepFocus:ed,defaultValue:eh}=o,ep=inputNumber_rest(o,["disabled","className","prefixCls","min","max","step","shiftStep","precision","formatter","parser","forwardedRef","onUpClick","onDownClick","pressInterval","pressTimeout","suffix","size","hideButtons","innerButtons","style","onNumberChange","keepFocus","defaultValue"]),{value:ef,number:eg}=this.state,em=eM()(_,"".concat(x,"-number"),{["".concat(x,"-number-size-").concat(ea)]:ea}),ey=this.renderButtons(),ev={"aria-disabled":v,step:L};eg&&(ev["aria-valuenow"]=eg),T!==1/0&&(ev["aria-valuemax"]=T),w!==-1/0&&(ev["aria-valuemin"]=w);let e_=eC.createElement("div",{className:em,style:eu,onMouseMove:o=>this.handleInputMouseMove(o),onMouseEnter:o=>this.handleInputMouseEnter(o),onMouseLeave:o=>this.handleInputMouseLeave(o)},eC.createElement(rs,Object.assign({role:"spinbutton"},ev,ep,{size:ea,disabled:v,ref:this.setInputRef,value:ef,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,suffix:this.renderSuffix()})),eo||el?null:ey);return e_}constructor(o){super(o),this.setInputRef=o=>{let{forwardedRef:v}=this.props;this.inputNode=o,v&&"object"==typeof v?v.current=o:"function"==typeof v&&v(o)},this.handleInputFocus=o=>this.foundation.handleInputFocus(o),this.handleInputChange=(o,v)=>this.foundation.handleInputChange(o,v),this.handleInputBlur=o=>this.foundation.handleInputBlur(o),this.handleInputKeyDown=o=>this.foundation.handleInputKeyDown(o),this.handleInputMouseEnter=o=>this.foundation.handleInputMouseEnter(o),this.handleInputMouseLeave=o=>this.foundation.handleInputMouseLeave(o),this.handleInputMouseMove=o=>this.foundation.handleInputMouseMove(o),this.handleUpClick=o=>this.foundation.handleUpClick(o),this.handleDownClick=o=>this.foundation.handleDownClick(o),this.handleMouseUp=o=>this.foundation.handleMouseUp(o),this.handleMouseLeave=o=>this.foundation.handleMouseLeave(o),this.renderButtons=()=>{let{prefixCls:o,disabled:v,innerButtons:_,max:x,min:w}=this.props,{hovering:T,focusing:L,number:N}=this.state,B=v||N===x,H=v||N===w,Y=eM()("".concat(o,"-number-suffix-btns"),{["".concat(o,"-number-suffix-btns-inner")]:_,["".concat(o,"-number-suffix-btns-inner-hover")]:_&&T&&!L}),Z=eM()("".concat(o,"-number-button"),"".concat(o,"-number-button-up"),{["".concat(o,"-number-button-up-disabled")]:v,["".concat(o,"-number-button-up-not-allowed")]:B}),X=eM()("".concat(o,"-number-button"),"".concat(o,"-number-button-down"),{["".concat(o,"-number-button-down-disabled")]:v,["".concat(o,"-number-button-down-not-allowed")]:H});return eC.createElement("div",{className:Y},eC.createElement("span",{className:Z,onMouseDown:B?eE():this.handleUpClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},eC.createElement(rC,{size:"extra-small"})),eC.createElement("span",{className:X,onMouseDown:H?eE():this.handleDownClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},eC.createElement(rT,{size:"extra-small"})))},this.renderSuffix=()=>{let{innerButtons:o,suffix:v}=this.props,{hovering:_,focusing:x}=this.state;if(o&&(_||x)){let o=this.renderButtons();return o}return v},this.state={value:"",number:null,focusing:!!o.autofocus,hovering:!1},this.inputNode=null,this.foundation=new InputNumberFoundation(this.adapter),this.clickUpOrDown=!1}};InputNumber.propTypes={"aria-label":eI().string,"aria-labelledby":eI().string,"aria-invalid":eI().bool,"aria-errormessage":eI().string,"aria-describedby":eI().string,"aria-required":eI().bool,autofocus:eI().bool,clearIcon:eI().node,className:eI().string,defaultValue:eI().oneOfType([eI().number,eI().string]),disabled:eI().bool,formatter:eI().func,forwardedRef:eI().any,hideButtons:eI().bool,innerButtons:eI().bool,insetLabel:eI().node,insetLabelId:eI().string,keepFocus:eI().bool,max:eI().number,min:eI().number,parser:eI().func,precision:eI().number,prefixCls:eI().string,pressInterval:eI().number,pressTimeout:eI().number,preventScroll:eI().bool,shiftStep:eI().number,step:eI().number,style:eI().object,suffix:eI().any,value:eI().oneOfType([eI().number,eI().string]),onBlur:eI().func,onChange:eI().func,onDownClick:eI().func,onKeyDown:eI().func,onNumberChange:eI().func,onUpClick:eI().func},InputNumber.defaultProps={forwardedRef:eE(),innerButtons:!1,keepFocus:!1,max:1/0,min:-1/0,prefixCls:rS.PREFIX,pressInterval:rx.DEFAULT_PRESS_TIMEOUT,pressTimeout:rx.DEFAULT_PRESS_TIMEOUT,shiftStep:rx.DEFAULT_SHIFT_STEP,size:rw.DEFAULT_SIZE,step:rx.DEFAULT_STEP,onBlur:eE(),onChange:eE(),onDownClick:eE(),onFocus:eE(),onKeyDown:eE(),onNumberChange:eE(),onUpClick:eE()};var rM=forwardStatics(eC.forwardRef(function(o,v){return eC.createElement(InputNumber,Object.assign({},o,{forwardedRef:v}))}),InputNumber),foundation_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let SelectFoundation=class SelectFoundation extends eU{constructor(o){super(Object.assign({},o)),this._keydownHandler=null}init(){this._setDropdownWidth();let o=this.getProp("defaultOpen"),v=this.getProp("open"),_=this._collectOptions();this._setDefaultSelection(_),(o||v)&&this.open(void 0,_);let x=this.getProp("autoFocus");x&&this.focus()}focus(){let o=this._isFilterable(),v=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),o&&v?this.focusInput():o&&!v?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){let o;let{style:v,dropdownMatchSelectWidth:_}=this.getProps();_&&(o=v&&nr()(v.width)?v.width:v&&e0()(v.width)&&!v.width.includes("%")?v.width:this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(o))}_collectOptions(){let o=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(o),this._adapter.rePositionDropdown(),o}_setDefaultSelection(o){let{value:v}=this.getProps(),{defaultValue:_}=this.getProps();this._isControlledComponent()||(v=_),this._update(v,o)}handleOptionListChange(){let o=this._collectOptions(),{selections:v}=this.getStates();this.updateOptionsActiveStatus(v,o);let{defaultActiveFirstOption:_}=this.getProps();_&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){let o;let v=this.getState("selections"),{onChangeWithObject:_}=this.getProps(),x=this._isMultiple();switch(!0){case x&&!!v.size:try{o=[...v].map(o=>_?o[1]:o[1].value)}catch(v){o=[]}break;case x&&!v.size:o=[];break;case!x&&!!v.size:try{o=_?[...v][0][1]:[...v][0][1].value}catch(o){}case!x&&!v.size:}let w=this._adapter.getOptionsFromChildren();this._update(o,w)}handleValueChange(o){let v;let{allowCreate:_,autoClearSearchValue:x,remote:w}=this.getProps(),{inputValue:T}=this.getStates();_&&this._isControlledComponent()?(v=this.getState("options")).forEach(o=>o._show=!0):v=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!x&&T&&!w&&(v=this._filterOption(v,T)),this._update(o,v)}_update(o,v){let _;this._isMultiple()?(_=this._updateMultiple(o,v),this.updateOverflowItemCount(_.size)):_=this._updateSingle(o,v),this._adapter.updateSelection(_),this.updateOptionsActiveStatus(_,v)}_updateSingle(o,v){let _=new Map,{onChangeWithObject:x}=this.getProps(),w=x&&void 0!==o?o.value:o,T=v.filter(o=>o.value===w),L=!T.length&&null!=w;if(T.length){let o=T[0],v=Object.assign({},o);_.set(v.label,v)}else if(L){let v={value:o,label:o,_notExist:!0,_scrollIndex:-1};x&&(v=Object.assign(Object.assign({},o),{_notExist:!0,_scrollIndex:-1})),_.set(v.label,v)}return _}_updateMultiple(o,v){let _=this.getState("selections"),x=[],w=Array.isArray(o);this.checkMultipleProps(),_.size&&(x=[..._].map(o=>o[1]));let T=new Map,L=o,{onChangeWithObject:N}=this.getProps();return N&&w&&(L=o.map(o=>o.value)),w&&L.length&&L.forEach((_,w)=>{let L=v.findIndex(o=>o.value===_);if(-1!==L)T.set(v[L].label,v[L]);else{let v=x.findIndex(o=>o.value===_);if(-1!==v){let o=x[v];T.set(o.label,o)}else{let v={value:_,label:_,_notExist:!0};N&&(v=Object.assign(Object.assign({},o[w]),{_notExist:!0})),T.set(v.label,Object.assign(Object.assign({},v),{_scrollIndex:-1}))}}}),T}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filter")}handleClick(o){let{clickToHide:v}=this.getProps(),{isOpen:_}=this.getStates(),x=this._isDisabled();x||(_?_&&v?this.close(o):_&&!v&&this.focusInput():(this.open(),this._notifyFocus(o)))}open(o,v){let _=this._isFilterable(),x=v||this.getState("options");if(_){let o=this._filterOption(x,"").filter(o=>!o._inputCreateOnly);this._adapter.updateOptions(o),this.toggle2SearchInput(!0)}this._adapter.openMenu(),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler(o=>{this.close(o),this._notifyBlur(o),this._adapter.updateFocusState(!1)})}toggle2SearchInput(o){o?this._adapter.toggleInputShow(o,()=>this.focusInput()):this._adapter.toggleInputShow(o,()=>void 0)}close(o,v){this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),this._adapter.unregisterClickOutsideHandler();let _=this._isFilterable();_&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",()=>{_&&this.clearInput(o),v&&v()})}onSelect(o,v,_){let x=this._isDisabled();if(x)return;o._inputCreateOnly&&this._adapter.notifyCreate(o);let w=this._isMultiple();w?this._handleMultipleSelect(o,_):(this._handleSingleSelect(o,_),this._focusTrigger()),this._adapter.updateFocusIndex(v)}_handleSingleSelect(o,v){var{value:_,label:x}=o,w=foundation_rest(o,["value","label"]);let T=new Map().set(x,Object.assign({value:_,label:x},w));this._notifySelect(_,Object.assign({value:_,label:x},w)),this._isControlledComponent()?this.close(v,()=>{this._notifyChange(T)}):(this._adapter.updateSelection(T),this._notifyChange(T),this.close(v,()=>{this.updateOptionsActiveStatus(T)}))}_handleMultipleSelect(o,v){var{value:_,label:x}=o,w=foundation_rest(o,["value","label"]);let T=this._adapter.getMaxLimit(),L=this._adapter.getSelections(),{autoClearSearchValue:N}=this.getProps();if(L.has(x))this._notifyDeselect(_,Object.assign({value:_,label:x},w)),L.delete(x);else if(T&&L.size===T){this._adapter.notifyMaxLimit(Object.assign({value:_,label:x},eR()(w,"_scrollIndex")));return}else this._notifySelect(_,Object.assign({value:_,label:x},w)),L.set(x,Object.assign({value:_,label:x},w));if(this._isControlledComponent())this._notifyChange(L),this._isFilterable()&&(N&&this.clearInput(v),this.focusInput());else{this._adapter.updateSelection(L),this.updateOverflowItemCount(L.size),this._adapter.rePositionDropdown();let{options:o}=this.getStates();this._isFilterable()&&(N&&(this.clearInput(v),o=this._filterOption(o,"")),this.focusInput()),this.updateOptionsActiveStatus(L,o),this._notifyChange(L)}}clearSelected(){let o=new Map;this._isControlledComponent()||(this._adapter.updateSelection(o),this.updateOptionsActiveStatus(o)),this._notifyChange(o),this._adapter.notifyClear();let{isOpen:v}=this.getStates();v&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getState("options"),{allowCreate:_}=this.getProps(),x=v.map(v=>(o.has(v.label)?(v._selected=!0,_&&delete v._inputCreateOnly):(v._inputCreateOnly&&(v._show=!1),v._selected=!1),v));this._adapter.updateOptions(x)}removeTag(o){let v=this._adapter.getSelections();v.delete(o.label),this._isControlledComponent()?this._notifyDeselect(o.value,o):(this._notifyDeselect(o.value,o),this._adapter.updateSelection(v),this.updateOverflowItemCount(v.size),this.updateOptionsActiveStatus(v),this._adapter.rePositionDropdown()),this._notifyChange(v)}clearInput(o){let{inputValue:v}=this.getStates();if(""!==v){this._adapter.updateInputValue(""),this._adapter.notifySearch("",o);let{options:v}=this.getStates(),{remote:_}=this.getProps(),x=v;_||(x=this._filterOption(v,"")),this._adapter.updateOptions(x)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(o,v){this._adapter.updateInputValue(o);let{options:_,isOpen:x}=this.getStates(),{allowCreate:w,remote:T}=this.getProps(),L=_;T||(L=this._filterOption(_,o)),L=this._createOptionByInput(w,L,o),this._adapter.updateOptions(L),this._adapter.notifySearch(o,v),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(o,v){let _=this.getProp("filter");if(!_)return o;if("boolean"==typeof _&&_){let _=v.toLowerCase();return o.map(o=>{let v=o.label.toString().toLowerCase(),x=o._parentGroup&&o._parentGroup.label,w=v.includes(_),T=e0()(x)&&x.toLowerCase().includes(_);return w||T?o._show=!0:o._show=!1,o})}if("function"==typeof _)return o.map(o=>(_(v,o)?o._show=!0:o._show=!1,o))}_createOptionByInput(o,v,_){if(o){if(_){let o=-1,x=-1;v.forEach((v,w)=>{(v._show||v._inputCreateOnly)&&(v.label===_&&(x=w),v._inputCreateOnly&&(o=w,v.value=_,v.label=_,v._show=!0))}),-1===o&&-1===x&&v.push({_show:!0,_selected:!1,value:_,label:_,_inputCreateOnly:!0}),-1!==x&&(v=v.filter(o=>!o._inputCreateOnly))}else v=v.filter(o=>!o._inputCreateOnly)}return v}bindKeyBoardEvent(){this._keydownHandler=o=>{this._handleKeyDown(o)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(o){let v=o.keyCode,{loading:_,filter:x,multiple:w,disabled:T}=this.getProps(),{isOpen:L}=this.getStates();if(!_&&!T)switch(v){case tR.UP:o.preventDefault(),this._handleArrowKeyDown(-1);break;case tR.DOWN:o.preventDefault(),this._handleArrowKeyDown(1);break;case tR.BACKSPACE:this._handleBackspaceKeyDown();break;case tR.ENTER:handlePrevent(o),this._handleEnterKeyDown(o);break;case tR.ESC:L&&this.close(o),x&&!w&&this._focusTrigger();break;case tR.TAB:this._handleTabKeyDown(o)}}handleContainerKeyDown(o){let v=o.keyCode,{isOpen:_}=this.getStates();v===tR.TAB&&_&&this._handleTabKeyDown(o)}_getEnableFocusIndex(o){let{focusIndex:v,options:_}=this.getStates(),x=_.filter(o=>o._show),w=x.length,T=v+o;if(T<0&&(T=w-1),T>=w&&(T=0),o>0){let o=-1;for(let v=0;v<x.length;v++){let _=!x[v].disabled;if(_&&(o=v),o>=T)break}T=o}else{let o=x.length;for(let v=w-1;v>=0;v--){let _=!x[v].disabled;if(_&&(o=v),o<=T)break}T=o}this._adapter.updateFocusIndex(T),this._adapter.updateScrollTop(T)}_handleArrowKeyDown(o){let{isOpen:v}=this.getStates();v?this._getEnableFocusIndex(o):this.open()}_handleTabKeyDown(o){let{isOpen:v}=this.getStates();if(this._adapter.updateFocusState(!1),v){let v=this._adapter.getContainer(),_=this._adapter.getFocusableElements(v),x=_.length;x>0?o.shiftKey?this._handlePanelOpenShiftTabKeyDown(_,o):this._handlePanelOpenTabKeyDown(_,o):(this.close(o),this._notifyBlur(o))}else this._notifyBlur(o)}_handlePanelOpenTabKeyDown(o,v){let _=this._adapter.getActiveElement(),x=this._adapter.getIsFocusInContainer();x?_===o[o.length-1]&&(this._focusTrigger(),this.close(v),handlePrevent(v)):(o[0].focus(),this._adapter.setIsFocusInContainer(!0),handlePrevent(v))}_handlePanelOpenShiftTabKeyDown(o,v){let _=this._adapter.getActiveElement(),x=this._adapter.getIsFocusInContainer();x?_===o[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),handlePrevent(v)):(this.close(v),this._notifyBlur(v))}_handleEnterKeyDown(o){let{isOpen:v,options:_,focusIndex:x}=this.getStates();if(v){if(-1!==x){let v=_.filter(o=>o._show),{length:w}=v;if(w<=x)return;if(v&&w){let _=v[x];if(_.disabled)return;this.onSelect(_,x,o)}}else this.close(o)}else this.open()}_handleBackspaceKeyDown(){if(this._isMultiple()){let o=this._adapter.getSelections(),{inputValue:v}=this.getStates(),_=o.size;if(_&&!v){let v=[...o.keys()],x=_-1,w=v[x],T=o.get(w),L=!1;if(T.disabled&&0===x)return;for(;T.disabled&&0!==x;)x-=1,w=v[x],T=o.get(w),0==x&&T.disabled&&(L=!0);L||this.removeTag(T)}}}_notifyChange(o){let v;let{onChangeWithObject:_}=this.getProps(),x=this.getState("selections"),w=[...o.values()],T=this._isMultiple(),L=this._diffSelections(o,x,T);if(L)switch(!0){case _:this._notifyChangeWithObject(o);break;case!_&&!T:v=w.length?w[0].value:void 0,this._adapter.notifyChange(v);break;case!_&&T:v=w.length?w.map(o=>o.value):[],this._adapter.notifyChange(v)}}_removeInternalKey(o){let v=Object.assign({},o);return delete v._parentGroup,delete v._show,delete v._selected,delete v._scrollIndex,delete v._keyInJsx,"_keyInOptionList"in v&&(v.key=v._keyInOptionList,delete v._keyInOptionList),v}_notifySelect(o,v){let _=this._removeInternalKey(v);this._adapter.notifySelect(o,_)}_notifyDeselect(o,v){let _=this._removeInternalKey(v);this._adapter.notifyDeselect(o,_)}_diffSelections(o,v,_){let x=!0;if(!_){let _=[...o.values()],w=[...v.values()],T=_[0]?_[0].label:_[0],L=w[0]?w[0].label:w[0];x=!e7()(T,L)}return x}_notifyChangeWithObject(o){this.getState("selections");let v=[];for(let _ of o.entries()){let o=Object.assign({label:_[0]},_[1]);o=this._removeInternalKey(o),v.push(o)}this._isMultiple()?this._adapter.notifyChange(v):this._adapter.notifyChange(v[0])}_notifyBlur(o){this._adapter.notifyBlur(o)}_notifyFocus(o){this._adapter.notifyFocus(o)}handleMouseEnter(o){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(o)}handleMouseLeave(o){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(o)}handleClearClick(o){let{filter:v}=this.getProps();v&&this.clearInput(o),this.clearSelected(),o.stopPropagation()}handleKeyPress(o){o&&o.key===tL&&this.handleClick(o)}handleClearBtnEnterPress(o){utils_isEnterPress(o)&&this.handleClearClick(o)}handleOptionMouseEnter(o){this._adapter.updateFocusIndex(o)}handleListScroll(o){this._adapter.notifyListScroll(o)}handleTriggerFocus(o){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(o){this._adapter.updateFocusState(!1);let{filter:v,autoFocus:_}=this.getProps(),{isOpen:x,isFocus:w}=this.getStates();w&&!x&&this._notifyBlur(o)}handleInputBlur(o){let{filter:v,autoFocus:_}=this.getProps(),x=this._isMultiple();_&&v&&!x&&this.toggle2SearchInput(!1)}selectAll(){let{options:o}=this.getStates(),{onChangeWithObject:v}=this.getProps(),_=[],x=this._isMultiple();if(!x){console.warn(`[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.
                Please note that this is not a legal way to use it`);return}_=v?o:o.map(o=>o.value),this.handleValueChange(_),this._adapter.notifyChange(_)}checkMultipleProps(o){if(this._isMultiple()){let v=o||this.getProps(),{defaultValue:_,value:x}=v,w=x||_;isNullOrUndefined(w)||Array.isArray(w)||warning(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(o,v){let{maxTagCount:_,ellipsisTrigger:x}=this.getProps();x&&(v?this._adapter.updateOverflowItemCount(v):"number"==typeof _&&(o-_>0?this._adapter.updateOverflowItemCount(o-_):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){let{isFullTags:o}=this.getStates();o||this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}};let rP=["default","error","warning","success"],rI={PREFIX:`${eO.T}-select`,PREFIX_OPTION:`${eO.T}-select-option`,PREFIX_GROUP:`${eO.T}-select-group`},rD={SIZE_SET:["small","large","default"],POSITION_SET:tl.POSITION_SET,MODE_SELECT:"select",MODE_AUTOCOMPLETE:"autoComplete",STATUS:rP},rE={LIST_HEIGHT:270},rO={PREFIX:`${eO.T}-tag`},rA={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]},rk={PREFIX:`${eO.T}-avatar`},rL={SHAPE:["circle","square"],SIZE:["extra-extra-small","extra-small","small","default","medium","large","extra-large"],COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"]};let AvatarFoundation=class AvatarFoundation extends eU{constructor(o){super(Object.assign({},o)),this.handleFocusVisible=o=>{let{target:v}=o;try{v.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch(o){warning(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){}destroy(){}handleImgLoadError(){let{onError:o}=this.getProps(),v=o?o():void 0;!1!==v&&this._adapter.notifyImgState(!1)}handleEnter(o){this._adapter.notifyEnter(o)}handleLeave(o){this._adapter.notifyLeave(o)}};_(6710);var avatar_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let rR=rL.SIZE,rN=rL.SHAPE,rF=rL.COLOR,rV=rk.PREFIX;let Avatar=class Avatar extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:o=>{this.setState({isImgExist:o})},notifyEnter:o=>{let{hoverMask:v}=this.props;this.setState({hoverContent:v},()=>{let{onMouseEnter:v}=this.props;v&&v(o)})},notifyLeave:o=>{this.setState({hoverContent:""},()=>{let{onMouseLeave:v}=this.props;v&&v(o)})},setFocusVisible:o=>{this.setState({focusVisible:o})}})}componentDidMount(){this.foundation=new AvatarFoundation(this.adapter),this.foundation.init()}componentDidUpdate(o){if(this.props.src&&this.props.src!==o.src){let o=new Image(0,0);o.src=this.props.src,o.onload=()=>{this.setState({isImgExist:!0})},o.onerror=()=>{this.setState({isImgExist:!1})},o.onabort=()=>{this.setState({isImgExist:!1})}}}componentWillUnmount(){this.foundation.destroy()}onEnter(o){this.foundation.handleEnter(o)}onLeave(o){this.foundation.handleLeave(o)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(o){let{onClick:v}=this.props;switch(o.key){case"Enter":v(o),handlePrevent(o);break;case"Escape":o.target.blur()}}render(){let o=this.props,{shape:v,children:_,size:x,color:w,className:T,hoverMask:L,onClick:N,imgAttr:B,src:H,srcSet:Y,style:Z,alt:X}=o,et=avatar_rest(o,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt"]),{isImgExist:en,hoverContent:er,focusVisible:ei}=this.state,ea=H&&en,eo=eM()(rV,{["".concat(rV,"-").concat(v)]:v,["".concat(rV,"-").concat(x)]:x,["".concat(rV,"-").concat(w)]:w&&!ea,["".concat(rV,"-img")]:ea,["".concat(rV,"-focus")]:ei},T),el=er?eC.createElement("div",{className:"".concat(rV,"-hover"),"x-semi-prop":"hoverContent"},er):null;return eC.createElement("span",Object.assign({},et,{style:Z,className:eo,onClick:N,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave,role:"listitem"}),this.getContent(),el)}constructor(o){super(o),this.handleFocusVisible=o=>{this.foundation.handleFocusVisible(o)},this.handleBlur=o=>{this.foundation.handleBlur()},this.getContent=()=>{let{children:o,onClick:v,imgAttr:_,src:x,srcSet:w,alt:T}=this.props,{isImgExist:L}=this.state,N=o,B=v!==function_noop,H=x&&L,Y={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(H){let o=Object.assign(Object.assign({src:x,srcSet:w,onError:this.handleError},_),{className:eM()({["".concat(rV,"-no-focus-visible")]:B})}),v=B?Object.assign(Object.assign({},o),Y):o;N=eC.createElement("img",Object.assign({alt:B?"clickable Avatar: ".concat(T):T},v))}else if("string"==typeof o){let v=null!=T?T:o,_={role:"img","aria-label":B?"clickable Avatar: ".concat(v):v,className:eM()("".concat(rV,"-label"),{["".concat(rV,"-no-focus-visible")]:B})},x=B?Object.assign(Object.assign({},_),Y):_;N=eC.createElement("span",{className:"".concat(rV,"-content")},eC.createElement("span",Object.assign({},x,{"x-semi-prop":"children"}),o))}return N},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this)}};Avatar.defaultProps={size:"medium",color:"grey",shape:"circle",onClick:function_noop,onMouseEnter:function_noop,onMouseLeave:function_noop},Avatar.propTypes={children:eI().node,color:eI().oneOf(rF),shape:eI().oneOf(rN),size:eI().oneOf(rR),hoverMask:eI().node,className:eI().string,style:eI().object,imgAttr:eI().object,src:eI().string,srcSet:eI().string,alt:eI().string,onError:eI().func,onClick:eI().func,onMouseEnter:eI().func,onMouseLeave:eI().func},Avatar.elementType="Avatar",_(5141);var tag_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let rB=rO.PREFIX,rz=rA.TAG_COLOR,rj=rA.TAG_SIZE,rH=rA.TAG_TYPE,rG=rA.AVATAR_SHAPE;let Tag=class Tag extends eC.Component{static getDerivedStateFromProps(o){return"visible"in o?{visible:o.visible}:null}setVisible(o){"visible"in this.props||this.setState({visible:o})}close(o,v,_){let{onClose:x}=this.props;o.stopPropagation(),o.nativeEvent.stopImmediatePropagation(),x&&x(v,o,_),o.defaultPrevented||this.setVisible(!1)}handleKeyDown(o){let{closable:v,onClick:_,onKeyDown:x}=this.props;switch(o.key){case"Backspace":case"Delete":v&&this.close(o,this.props.children,this.props.tagKey),handlePrevent(o);break;case"Enter":_(o),handlePrevent(o);break;case"Escape":o.target.blur()}x&&x(o)}renderAvatar(){let{avatarShape:o,avatarSrc:v}=this.props,_=eC.createElement(Avatar,{src:v,shape:o});return _}render(){let o=this.props,{tagKey:v,children:_,size:x,color:w,closable:T,visible:L,onClose:N,onClick:B,className:H,type:Y,shape:Z,avatarSrc:X,avatarShape:et,tabIndex:en,prefixIcon:er,suffixIcon:ei}=o,ea=tag_rest(o,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:eo}=this.state,el=B!==Tag.defaultProps.onClick||T,eu={role:"button",tabIndex:en||0,onKeyDown:this.handleKeyDown},ec=Object.assign(Object.assign({},ea),{onClick:B,tabIndex:en,className:eM()(rB,{["".concat(rB,"-default")]:"default"===x,["".concat(rB,"-small")]:"small"===x,["".concat(rB,"-large")]:"large"===x,["".concat(rB,"-square")]:"square"===Z,["".concat(rB,"-circle")]:"circle"===Z,["".concat(rB,"-").concat(Y)]:Y,["".concat(rB,"-").concat(w,"-").concat(Y)]:w&&Y,["".concat(rB,"-closable")]:T,["".concat(rB,"-invisible")]:!eo,["".concat(rB,"-avatar-").concat(et)]:X},H)}),ed=el?Object.assign(Object.assign({},ec),eu):ec,eh=T?eC.createElement("div",{className:"".concat(rB,"-close"),onClick:o=>this.close(o,_,v)},eC.createElement(t3,{size:"small"})):null,ep=e0()(_),ef=eM()("".concat(rB,"-content"),"".concat(rB,"-content-").concat(ep?"ellipsis":"center"));return eC.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||ep?"".concat(T?"Closable ":"","Tag: ").concat(_):""},ed),er?eC.createElement("div",{className:"".concat(rB,"-prefix-icon")},er):null,X?this.renderAvatar():null,eC.createElement("div",{className:ef},_),ei?eC.createElement("div",{className:"".concat(rB,"-suffix-icon")},ei):null,eh)}constructor(o){super(o),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}};Tag.defaultProps={size:rj[0],color:rz[0],closable:!1,type:rH[0],onClose:()=>void 0,onClick:()=>void 0,onMouseEnter:()=>void 0,style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null},Tag.propTypes={children:eI().node,tagKey:eI().oneOfType([eI().string,eI().number]),size:eI().oneOf(rj),color:eI().oneOf(rz),type:eI().oneOf(rH),closable:eI().bool,visible:eI().bool,onClose:eI().func,onClick:eI().func,prefixIcon:eI().node,suffixIcon:eI().node,style:eI().object,className:eI().string,avatarSrc:eI().string,avatarShape:eI().oneOf(rG),"aria-label":eI().string};let rU=rO.PREFIX,rW=rA.TAG_SIZE,rY=rA.AVATAR_SHAPE;let TagGroup=class TagGroup extends eC.PureComponent{renderNTag(o,v){let{size:_,showPopover:x,popoverProps:w,onPlusNMouseEnter:T}=this.props,L=eC.createElement(Tag,{closable:!1,size:_,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:T},"+",o);return x&&(L=eC.createElement(Popover,Object.assign({showArrow:!0,content:v,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:"".concat(rU,"-rest-group-popover")},w,{key:"_+n_Popover"}),L)),L}renderMergeTags(o){let{maxTagCount:v,tagList:_,restCount:x}=this.props,w=x||_.length-v,T=o,L=o.slice(0,v),N=o.slice(v),B=null;return w>0&&(B=this.renderNTag(w,N),L.push(B),T=L),T}renderAllTags(){let{tagList:o,size:v,mode:_,avatarShape:x,onTagClose:w}=this.props,T=o.map(o=>{if("custom"===_)return o;let T=Object.assign({},o);return T.size||(T.size=v),T.avatarShape||(T.avatarShape=x),T.tagKey||("string"==typeof T.children||"number"==typeof T.children?T.tagKey=T.children:T.tagKey=Math.random()),eC.createElement(Tag,Object.assign({},T,{key:T.tagKey,onClose:(o,v,_)=>{T.onClose&&T.onClose(o,v,_),w&&w(o,v,_)}}))});return T}render(){let{style:o,className:v,maxTagCount:_,size:x}=this.props,w=eM()({["".concat(rU,"-group")]:!0,["".concat(rU,"-group-max")]:_,["".concat(rU,"-group-small")]:"small"===x,["".concat(rU,"-group-large")]:"large"===x},v),T=this.renderAllTags(),L=void 0===_?T:this.renderMergeTags(T);return eC.createElement("div",{style:o,className:w},L)}};TagGroup.defaultProps={style:{},className:"",size:rW[0],avatarShape:"square",onTagClose:()=>void 0,onPlusNMouseEnter:()=>void 0},TagGroup.propTypes={children:eI().node,style:eI().object,className:eI().string,maxTagCount:eI().number,restCount:eI().number,tagList:eI().array,size:eI().oneOf(rW),mode:eI().string,onTagClose:eI().func,showPopover:eI().bool,popoverProps:eI().object,avatarShape:eI().oneOf(rY)};let rK={PREFIX:eO.T+"-overflow-list"},rZ={COLLAPSE:"collapse",SCROLL:"scroll"},rq={START:"start",END:"end"},rX={BOUNDARY_SET:Object.values(rq),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(rZ),MODE_MAP:rZ,BOUNDARY_MAP:rq,OVERFLOW_DIR:{NONE:0,GROW:1,SHRINK:2}},r$={MINIMUM_HTML_ELEMENT_WIDTH:4};let ReactIntersectionObserver=class ReactIntersectionObserver extends eC.PureComponent{componentDidMount(){let{items:o}=this.props;this.cachedKeys=Object.keys(o);let{root:v,threshold:_,rootMargin:x,option:w,onIntersect:T}=this.props;this.observer=new IntersectionObserver(T,Object.assign({root:v,threshold:_,rootMargin:x},w)),this.observeElement()}componentDidUpdate(){let{items:o}=this.props,v=Object.keys(o);e7()(this.cachedKeys,v)||(this.observeElement(!0),this.cachedKeys=v)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{items:v}=this.props;if(e9()(v)){this.observer.disconnect();return}o&&this.observer.disconnect(),Object.keys(v).forEach(o=>{let _=v[o];_&&isElement(_)&&this.observer.observe(_)})}render(){let{children:o}=this.props;return o}};ReactIntersectionObserver.propTypes={onIntersect:eI().func,option:eI().object,root:eI().any,threshold:eI().number,rootMargin:eI().string,items:eI().object},ReactIntersectionObserver.defaultProps={onIntersect:()=>void 0,threshold:.75,rootMargin:"0px",option:{},items:{}};let rQ=rX.BOUNDARY_MAP;rX.OVERFLOW_DIR;let OverflowListFoundation=class OverflowListFoundation extends eU{constructor(o){super(Object.assign({},o)),this.previousY=void 0,this.isScrollMode=()=>{let{renderMode:o}=this.getProps();return"scroll"===o},this.getReversedItems=()=>{let{items:o}=this.getProps();return nD()(o).reverse()}}getOverflowItem(){let{items:o}=this.getProps(),{visibleState:v,overflow:_}=this.getStates();if(!this.isScrollMode())return _;let x=o.map(o=>{let{key:_}=o;return!!v.get(_)}),w=x.indexOf(!0),T=x.lastIndexOf(!0),L=[];return L[0]=w>=0?o.slice(0,w):[],L[1]=T>=0?o.slice(T+1,o.length):o,L}handleIntersect(o){let v=nD()(this.getState("visibleState")),_={};o.forEach(o=>{let x=eH()(o,"target.dataset.scrollkey"),w=o.isIntersecting;_[x]=o,v.set(x,w)});let x=!1;for(let o of v.values())if(o){x=!0;break}let w=x,[T]=o,L=T.boundingClientRect.y;if(!w&&void 0!==this.previousY&&L!==this.previousY){this.previousY=L;return}this.previousY=L,this._adapter.updateVisibleState(v),this._adapter.notifyIntersect(_)}handleCollapseOverflow(){let{minVisibleItems:o,collapseFrom:v}=this.getProps(),{overflowWidth:_,containerWidth:x,pivot:w,overflowStatus:T}=this.getStates(),{items:L,onOverflow:N}=this.getProps(),B=_,H=0,Y=!1;for(let o of this._adapter.getItemSizeMap().values()){if((B+=o)>x){Y=!0;break}if(H===L.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:L.length-1,visible:L,overflow:[]});break}H++}if(Y){let _=Math.max(o,H),x=v===rQ.START,T=x?this.getReversedItems().slice(0,_).reverse():L.slice(0,_),B=x?this.getReversedItems().slice(_).reverse():L.slice(_);this._adapter.updateStates({overflowStatus:"overflowed",pivot:_,visible:T,overflow:B}),w!==_&&N(B);return}}};_(8543);let rJ=rK.PREFIX,r0=rX.BOUNDARY_MAP,r1=rX.OVERFLOW_DIR,r2=rX.MODE_MAP;let OverflowList=class OverflowList extends BaseComponent{static getDerivedStateFromProps(o,v){let{prevProps:_}=v,x={};x.prevProps=o;let needUpdate=v=>!_&&v in o||_&&!e7()(_[v],o[v]);if(needUpdate("items")||needUpdate("style")){if(x.direction=r1.GROW,x.lastOverflowCount=0,x.maxCount=0,o.renderMode===r2.SCROLL)x.visible=o.items,x.overflow=[];else{let _=o.items.length;0!==Math.floor(v.containerWidth/r$.MINIMUM_HTML_ELEMENT_WIDTH)&&(_=Math.min(_,Math.floor(v.containerWidth/r$.MINIMUM_HTML_ELEMENT_WIDTH)));let w=o.collapseFrom===r0.START,T=w?cloneDeep(o.items).reverse().slice(0,_):o.items.slice(0,_),L=w?cloneDeep(o.items).reverse().slice(_):o.items.slice(_);x.visible=T,x.overflow=L,x.maxCount=_}x.pivot=-1,x.overflowStatus="calculating"}return x}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:o=>{this.setState({visibleState:o})},updateStates:o=>{this.setState(Object.assign({},o))},notifyIntersect:o=>{this.props.onIntersect&&this.props.onIntersect(o)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(o,v){let _=o.items.map(o=>o.key),x=this.props.items.map(o=>o.key);e7()(_,x)||(this.itemRefs={},this.setState({visibleState:new Map}));let{overflow:w,containerWidth:T,visible:L,overflowStatus:N}=this.state;this.isScrollMode()||"calculating"!==N||this.foundation.handleCollapseOverflow()}render(){let o=this.renderItemList(),{renderMode:v}=this.props;return v===r2.SCROLL?eC.createElement(ReactIntersectionObserver,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},o):eC.createElement(ReactResizeObserver,{onResize:this.resize},o)}constructor(o){var v;super(o),v=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{let{renderMode:o}=this.props;return o===r2.SCROLL},this.resize=function(){var o;let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],x=null===(o=_[0])||void 0===o?void 0:o.target.clientWidth;v.setState({containerWidth:x,overflowStatus:"calculating"})},this.reintersect=o=>{this.foundation.handleIntersect(o)},this.mergeRef=(o,v,_)=>{this.itemRefs[_]=v,"function"==typeof o?o(v):"object"==typeof o&&o&&"current"in o&&(o.current=v)},this.renderOverflow=()=>{let o=this.foundation.getOverflowItem();return this.props.overflowRenderer(o)},this.getItemKey=(o,v)=>{let{itemKey:_}=this.props;return eX()(_)?_(o):eH()(o,_||"key",v)},this.renderItemList=()=>{let{className:o,wrapperClassName:v,wrapperStyle:_,style:x,visibleItemRenderer:w,renderMode:T,collapseFrom:L}=this.props,{visible:N,overflowStatus:B}=this.state,H=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(H)&&(H=eC.createElement(eC.Fragment,null,H)),eC.isValidElement(H))){let o=eC.cloneElement(H);H=eC.createElement(ReactResizeObserver,{onResize:o=>{let[v]=o;this.setState({overflowWidth:v.target.clientWidth,overflowStatus:"calculating"})}},eC.createElement("div",{className:"".concat(rJ,"-overflow")},o))}let Y=T===r2.SCROLL?[H[0],eC.createElement("div",{className:eM()(v,"".concat(rJ,"-scroll-wrapper")),ref:o=>{this.scroller=o},style:Object.assign({},_),key:"".concat(rJ,"-scroll-wrapper")},N.map(w).map(o=>{let{forwardRef:v,key:_}=o;return eC.cloneElement(o,{ref:o=>this.mergeRef(v,o,_),"data-scrollkey":"".concat(_),key:_})})),H[1]]:[L===r0.START?H:null,N.map((o,v)=>{let{key:_}=o,x=w(o,v),T=eC.cloneElement(x);return eC.createElement(ReactResizeObserver,{key:null!=_?_:v,onResize:_=>{let[x]=_;return this.onItemResize(x,o,v)}},eC.createElement("div",{key:null!=_?_:v,className:"".concat(rJ,"-item")},T))}),L===r0.END?H:null],Z=eC.createElement("div",{className:eM()("".concat(rJ),o),style:Object.assign(Object.assign({},x),T===r2.COLLAPSE?{maxWidth:"100%",visibility:"calculating"===B?"hidden":"visible"}:null)},...Y);return Z},this.onItemResize=(o,v,_)=>{let x=this.getItemKey(v,_),w=this.itemSizeMap.get(x);w?w!==o.target.clientWidth&&(this.itemSizeMap.set(x,o.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(x,o.target.clientWidth);let{maxCount:T}=this.state;this.itemSizeMap.size===T&&this.setState({overflowStatus:"calculating"})},this.state={direction:r1.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new OverflowListFoundation(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}};function extends_extends(){return(extends_extends=Object.assign?Object.assign.bind():function(o){for(var v=1;v<arguments.length;v++){var _=arguments[v];for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(o[x]=_[x])}return o}).apply(this,arguments)}function _assertThisInitialized(o){if(void 0===o)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function setPrototypeOf_setPrototypeOf(o,v){return(setPrototypeOf_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,v){return o.__proto__=v,o})(o,v)}function inheritsLoose_inheritsLoose(o,v){o.prototype=Object.create(v.prototype),o.prototype.constructor=o,setPrototypeOf_setPrototypeOf(o,v)}OverflowList.defaultProps={collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null},OverflowList.propTypes={className:eI().string,collapseFrom:eI().oneOf(rX.BOUNDARY_SET),direction:eI().oneOf(rX.POSITION_SET),items:eI().array,minVisibleItems:eI().number,onIntersect:eI().func,onOverflow:eI().func,overflowRenderer:eI().func,renderMode:eI().oneOf(rX.MODE_SET),style:eI().object,threshold:eI().number,visibleItemRenderer:eI().func,wrapperClassName:eI().string,wrapperStyle:eI().object};var r5=Number.isNaN||function(o){return"number"==typeof o&&o!=o};function memoize_one_esm_isEqual(o,v){return!!(o===v||r5(o)&&r5(v))}function areInputsEqual(o,v){if(o.length!==v.length)return!1;for(var _=0;_<o.length;_++)if(!memoize_one_esm_isEqual(o[_],v[_]))return!1;return!0}var memoize_one_esm=function(o,v){void 0===v&&(v=areInputsEqual);var _,x,w=[],T=!1;return function(){for(var L=[],N=0;N<arguments.length;N++)L[N]=arguments[N];return T&&_===this&&v(L,w)||(x=o.apply(this,L),T=!0,_=this,w=L),x}},r3="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function cancelTimeout(o){cancelAnimationFrame(o.id)}function requestTimeout(o,v){var _=r3();function tick(){r3()-_>=v?o.call(null):x.id=requestAnimationFrame(tick)}var x={id:requestAnimationFrame(tick)};return x}var r4=-1;function getScrollbarSize(o){if(void 0===o&&(o=!1),-1===r4||o){var v=document.createElement("div"),_=v.style;_.width="50px",_.height="50px",_.overflow="scroll",document.body.appendChild(v),r4=v.offsetWidth-v.clientWidth,document.body.removeChild(v)}return r4}var r7=null;function getRTLOffsetType(o){if(void 0===o&&(o=!1),null===r7||o){var v=document.createElement("div"),_=v.style;_.width="50px",_.height="50px",_.overflow="scroll",_.direction="rtl";var x=document.createElement("div"),w=x.style;w.width="100px",w.height="100px",v.appendChild(x),document.body.appendChild(v),v.scrollLeft>0?r7="positive-descending":(v.scrollLeft=1,r7=0===v.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(v)}return r7}var getItemMetadata=function(o,v,_,x){var w,T,L;if("column"===o?(w=x.columnMetadataMap,T=v.columnWidth,L=x.lastMeasuredColumnIndex):(w=x.rowMetadataMap,T=v.rowHeight,L=x.lastMeasuredRowIndex),_>L){var N=0;if(L>=0){var B=w[L];N=B.offset+B.size}for(var H=L+1;H<=_;H++){var Y=T(H);w[H]={offset:N,size:Y},N+=Y}"column"===o?x.lastMeasuredColumnIndex=_:x.lastMeasuredRowIndex=_}return w[_]},defaultItemKey$1=function(o,v){return o},validateSharedProps$1=function(o,v){o.children,o.direction,o.height,o.layout,o.innerTagName,o.outerTagName,o.width,v.instance},getItemMetadata$1=function(o,v,_){var x=o.itemSize,w=_.itemMetadataMap,T=_.lastMeasuredIndex;if(v>T){var L=0;if(T>=0){var N=w[T];L=N.offset+N.size}for(var B=T+1;B<=v;B++){var H=x(B);w[B]={offset:L,size:H},L+=H}_.lastMeasuredIndex=v}return w[v]},r6=(L=(w={getItemOffset:function(o,v){return v*o.itemSize},getItemSize:function(o,v){return o.itemSize},getEstimatedTotalSize:function(o){var v=o.itemCount;return o.itemSize*v},getOffsetForIndexAndAlignment:function(o,v,_,x,w,T){var L=o.direction,N=o.height,B=o.itemCount,H=o.itemSize,Y=o.layout,Z=o.width,X="horizontal"===L||"horizontal"===Y?Z:N,et=Math.max(0,B*H-X),en=Math.min(et,v*H),er=Math.max(0,v*H-X+H+T);switch("smart"===_&&(_=x>=er-X&&x<=en+X?"auto":"center"),_){case"start":return en;case"end":return er;case"center":var ei=Math.round(er+(en-er)/2);if(ei<Math.ceil(X/2))return 0;if(ei>et+Math.floor(X/2))return et;return ei;default:if(x>=er&&x<=en)return x;if(x<er)return er;return en}},getStartIndexForOffset:function(o,v){return Math.max(0,Math.min(o.itemCount-1,Math.floor(v/o.itemSize)))},getStopIndexForStartIndex:function(o,v,_){var x=o.direction,w=o.height,T=o.itemCount,L=o.itemSize,N=o.layout,B=o.width;return Math.max(0,Math.min(T-1,v+Math.ceil((("horizontal"===x||"horizontal"===N?B:w)+_-v*L)/L)-1))},initInstanceProps:function(o){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(o){o.itemSize}}).getItemOffset,N=w.getEstimatedTotalSize,B=w.getItemSize,H=w.getOffsetForIndexAndAlignment,Y=w.getStartIndexForOffset,Z=w.getStopIndexForStartIndex,X=w.initInstanceProps,et=w.shouldResetStyleCacheOnItemSizeChange,en=w.validateProps,(T=function(o){function List(v){var _;return(_=o.call(this,v)||this)._instanceProps=X(_.props,_assertThisInitialized(_)),_._outerRef=void 0,_._resetIsScrollingTimeoutId=null,_.state={instance:_assertThisInitialized(_),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof _.props.initialScrollOffset?_.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},_._callOnItemsRendered=void 0,_._callOnItemsRendered=memoize_one_esm(function(o,v,x,w){return _.props.onItemsRendered({overscanStartIndex:o,overscanStopIndex:v,visibleStartIndex:x,visibleStopIndex:w})}),_._callOnScroll=void 0,_._callOnScroll=memoize_one_esm(function(o,v,x){return _.props.onScroll({scrollDirection:o,scrollOffset:v,scrollUpdateWasRequested:x})}),_._getItemStyle=void 0,_._getItemStyle=function(o){var v,x=_.props,w=x.direction,T=x.itemSize,N=x.layout,H=_._getItemStyleCache(et&&T,et&&N,et&&w);if(H.hasOwnProperty(o))v=H[o];else{var Y=L(_.props,o,_._instanceProps),Z=B(_.props,o,_._instanceProps),X="horizontal"===w||"horizontal"===N,en="rtl"===w,er=X?Y:0;H[o]=v={position:"absolute",left:en?void 0:er,right:en?er:void 0,top:X?0:Y,height:X?"100%":Z,width:X?Z:"100%"}}return v},_._getItemStyleCache=void 0,_._getItemStyleCache=memoize_one_esm(function(o,v,_){return{}}),_._onScrollHorizontal=function(o){var v=o.currentTarget,x=v.clientWidth,w=v.scrollLeft,T=v.scrollWidth;_.setState(function(o){if(o.scrollOffset===w)return null;var v=_.props.direction,L=w;if("rtl"===v)switch(getRTLOffsetType()){case"negative":L=-w;break;case"positive-descending":L=T-x-w}return L=Math.max(0,Math.min(L,T-x)),{isScrolling:!0,scrollDirection:o.scrollOffset<w?"forward":"backward",scrollOffset:L,scrollUpdateWasRequested:!1}},_._resetIsScrollingDebounced)},_._onScrollVertical=function(o){var v=o.currentTarget,x=v.clientHeight,w=v.scrollHeight,T=v.scrollTop;_.setState(function(o){if(o.scrollOffset===T)return null;var v=Math.max(0,Math.min(T,w-x));return{isScrolling:!0,scrollDirection:o.scrollOffset<v?"forward":"backward",scrollOffset:v,scrollUpdateWasRequested:!1}},_._resetIsScrollingDebounced)},_._outerRefSetter=function(o){var v=_.props.outerRef;_._outerRef=o,"function"==typeof v?v(o):null!=v&&"object"==typeof v&&v.hasOwnProperty("current")&&(v.current=o)},_._resetIsScrollingDebounced=function(){null!==_._resetIsScrollingTimeoutId&&cancelTimeout(_._resetIsScrollingTimeoutId),_._resetIsScrollingTimeoutId=requestTimeout(_._resetIsScrolling,150)},_._resetIsScrolling=function(){_._resetIsScrollingTimeoutId=null,_.setState({isScrolling:!1},function(){_._getItemStyleCache(-1,null)})},_}inheritsLoose_inheritsLoose(List,o),List.getDerivedStateFromProps=function(o,v){return validateSharedProps$1(o,v),en(o),null};var v=List.prototype;return v.scrollTo=function(o){o=Math.max(0,o),this.setState(function(v){return v.scrollOffset===o?null:{scrollDirection:v.scrollOffset<o?"forward":"backward",scrollOffset:o,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},v.scrollToItem=function(o,v){void 0===v&&(v="auto");var _=this.props,x=_.itemCount,w=_.layout,T=this.state.scrollOffset;o=Math.max(0,Math.min(o,x-1));var L=0;if(this._outerRef){var N=this._outerRef;L="vertical"===w?N.scrollWidth>N.clientWidth?getScrollbarSize():0:N.scrollHeight>N.clientHeight?getScrollbarSize():0}this.scrollTo(H(this.props,o,v,T,this._instanceProps,L))},v.componentDidMount=function(){var o=this.props,v=o.direction,_=o.initialScrollOffset,x=o.layout;if("number"==typeof _&&null!=this._outerRef){var w=this._outerRef;"horizontal"===v||"horizontal"===x?w.scrollLeft=_:w.scrollTop=_}this._callPropsCallbacks()},v.componentDidUpdate=function(){var o=this.props,v=o.direction,_=o.layout,x=this.state,w=x.scrollOffset;if(x.scrollUpdateWasRequested&&null!=this._outerRef){var T=this._outerRef;if("horizontal"===v||"horizontal"===_){if("rtl"===v)switch(getRTLOffsetType()){case"negative":T.scrollLeft=-w;break;case"positive-ascending":T.scrollLeft=w;break;default:var L=T.clientWidth,N=T.scrollWidth;T.scrollLeft=N-L-w}else T.scrollLeft=w}else T.scrollTop=w}this._callPropsCallbacks()},v.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelTimeout(this._resetIsScrollingTimeoutId)},v.render=function(){var o=this.props,v=o.children,_=o.className,x=o.direction,w=o.height,T=o.innerRef,L=o.innerElementType,B=o.innerTagName,H=o.itemCount,Y=o.itemData,Z=o.itemKey,X=void 0===Z?defaultItemKey$1:Z,et=o.layout,en=o.outerElementType,er=o.outerTagName,ei=o.style,ea=o.useIsScrolling,eo=o.width,el=this.state.isScrolling,eu="horizontal"===x||"horizontal"===et,ec=eu?this._onScrollHorizontal:this._onScrollVertical,ed=this._getRangeToRender(),eh=ed[0],ep=ed[1],ef=[];if(H>0)for(var eg=eh;eg<=ep;eg++)ef.push((0,eC.createElement)(v,{data:Y,key:X(eg,Y),index:eg,isScrolling:ea?el:void 0,style:this._getItemStyle(eg)}));var em=N(this.props,this._instanceProps);return(0,eC.createElement)(en||er||"div",{className:_,onScroll:ec,ref:this._outerRefSetter,style:extends_extends({position:"relative",height:w,width:eo,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:x},ei)},(0,eC.createElement)(L||B||"div",{children:ef,ref:T,style:{height:eu?"100%":em,pointerEvents:el?"none":void 0,width:eu?em:"100%"}}))},v._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var o=this._getRangeToRender(),v=o[0],_=o[1],x=o[2],w=o[3];this._callOnItemsRendered(v,_,x,w)}if("function"==typeof this.props.onScroll){var T=this.state,L=T.scrollDirection,N=T.scrollOffset,B=T.scrollUpdateWasRequested;this._callOnScroll(L,N,B)}},v._getRangeToRender=function(){var o=this.props,v=o.itemCount,_=o.overscanCount,x=this.state,w=x.isScrolling,T=x.scrollDirection,L=x.scrollOffset;if(0===v)return[0,0,0,0];var N=Y(this.props,L,this._instanceProps),B=Z(this.props,N,L,this._instanceProps);return[Math.max(0,N-(w&&"backward"!==T?1:Math.max(1,_))),Math.max(0,Math.min(v-1,B+(w&&"forward"!==T?1:Math.max(1,_)))),N,B]},List}(eC.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},T),select_utils_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let generateOption=(o,v,_)=>{let x=o.props;if(!o||!x)return null;let w=Object.assign(Object.assign({value:x.value,label:x.label||x.children||x.value,_show:!0,_selected:!1,_scrollIndex:_},x),{_parentGroup:v});return w._keyInJsx=o.key,w},getOptionsFromGroup=o=>{let v=[],_=[],x={label:"",children:[],_show:!1},w=eC.Children.toArray(o);w=w.filter(o=>o&&o.props);let T="",L=-1;return w.forEach(o=>{if(o.type.isSelectOption){T="option",L++;let v=generateOption(o,void 0,L);x.children.push(v),_.push(v)}else if(o.type.isSelectOptionGroup){T="group";let x=o.props,{children:w}=x,N=select_utils_rest(x,["children"]);w=eC.Children.toArray(w);let B=w.map(o=>generateOption(o,N,++L)),H=Object.assign(Object.assign({},o.props),{children:B,key:o.key});v.push(H),_=_.concat(B)}else warning(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")}),"option"===T&&(v=[x]),{optionGroups:v,options:_}};var virtualRow=o=>{let{index:v,data:_,style:x}=o,{visibleOptions:w,renderOption:T}=_,L=w[v];return T(L,v,x)},option_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let Option=class Option extends eC.PureComponent{onClick(o,v){var{value:_,label:x,children:w}=o,T=option_rest(o,["value","label","children"]);let{props:L}=this,N=L.disabled;N||L.onSelect(Object.assign(Object.assign({},T),{value:_,label:x||w}),v)}renderOptionContent(o){let{config:v,children:_,inputValue:x,prefixCls:w}=o;return e0()(_)&&x?getHighLightTextHTML(v):_}render(){let o=this.props,{children:v,disabled:_,value:x,selected:w,label:T,empty:L,emptyContent:N,onSelect:B,focused:H,showTick:Y,className:Z,style:X,onMouseEnter:et,prefixCls:en,renderOptionItem:er,inputValue:ei,semiOptionId:ea}=o,eo=option_rest(o,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),el=eM()(en,{["".concat(en,"-disabled")]:_,["".concat(en,"-selected")]:w,["".concat(en,"-focused")]:H,["".concat(en,"-empty")]:L,[Z]:Z}),eu=eM()(["".concat(en,"-icon")]);return L?null===N?null:eC.createElement(LocaleConsumer,{componentName:"Select"},o=>eC.createElement("div",{className:el,"x-semi-prop":"emptyContent"},N||o.emptyText)):"function"==typeof er?er(Object.assign({disabled:_,focused:H,selected:w,style:X,label:T,value:x,inputValue:ei,onMouseEnter:o=>et(o),onClick:o=>this.onClick(Object.assign({value:x,label:T,children:v},eo),o)},eo)):eC.createElement("div",{className:el,onClick:o=>{this.onClick(Object.assign({value:x,label:T,children:v},eo),o)},onMouseEnter:o=>et&&et(o),role:"option",id:ea,"aria-selected":w?"true":"false","aria-disabled":_?"true":"false",style:X},Y?eC.createElement("div",{className:eu},eC.createElement(tA,null)):null,e0()(v)?eC.createElement("div",{className:"".concat(en,"-text")},this.renderOptionContent({children:v,config:{searchWords:ei,sourceString:v,option:{highlightClassName:"".concat(en,"-keyword")}},inputValue:ei,prefixCls:en})):v)}};Option.isSelectOption=!0,Option.propTypes={children:eI().node,disabled:eI().bool,value:eI().oneOfType([eI().string,eI().number]),selected:eI().bool,label:eI().node,empty:eI().bool,emptyContent:eI().node,onSelect:eI().func,focused:eI().bool,showTick:eI().bool,className:eI().string,style:eI().object,onMouseEnter:eI().func,prefixCls:eI().string,renderOptionItem:eI().func,inputValue:eI().string},Option.defaultProps={prefixCls:rI.PREFIX_OPTION};let r9=rI.PREFIX_GROUP;let OptionGroup=class OptionGroup extends BaseComponent{render(){let{label:o,className:v,style:_}=this.props,x=eM()(v,{[r9]:!0});return o||"number"==typeof o?eC.createElement("div",{className:x,style:_},o):null}};OptionGroup.isSelectOptionGroup=!0,OptionGroup.propTypes={children:eI().oneOfType([eI().array,eI().node]),label:eI().node,className:eI().string,style:eI().object};var trigger_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let Trigger=class Trigger extends eC.PureComponent{render(){let o=this.props,{triggerRender:v,componentName:_}=o,x=trigger_rest(o,["triggerRender","componentName"]);return v(Object.assign({},x))}};Trigger.propTypes={triggerRender:eI().func.isRequired,componentName:eI().string,componentProps:eI().object,value:eI().any,inputValue:eI().string,placeholder:eI().oneOfType([eI().string,eI().array]),className:eI().string,style:eI().object},_(908);var select_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let r8=rI.PREFIX;let Select=class Select extends BaseComponent{get adapter(){var o=this;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),{registerKeyDown:o=>{this.setState({keyboardEventSet:{onKeyDown:o}})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:o=>{this.setState({focusIndex:o})},scrollToFocusOption:()=>{}}),{updateInputValue:o=>{this.setState({inputValue:o})},toggleInputShow:(o,v)=>{this.setState({showInput:o},()=>{v()})},focusInput:()=>{let{preventScroll:o}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:o})}}),{notifyMaxLimit:o=>this.props.onExceed(o),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:o=>{let clickOutsideHandler=v=>{let _=this.optionsRef&&this.optionsRef.current,x=this.triggerRef&&this.triggerRef.current,w=ti.findDOMNode(_);w&&!w.contains(v.target)&&x&&!x.contains(v.target)&&o(v)};this.clickOutsideHandler=clickOutsideHandler,document.addEventListener("mousedown",clickOutsideHandler,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:o}=this.state;o+=1,this.setState({optionKey:o})},notifyDeselect:(o,v)=>{delete v._parentGroup,this.props.onDeselect(o,v)}}),{on:(o,v)=>this.eventManager.on(o,v),off:o=>this.eventManager.off(o),once:(o,v)=>this.eventManager.once(o,v),emit:o=>this.eventManager.emit(o),getOptionsFromChildren:function(){let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props.children,_=[],x=[],{optionList:w}=o.props;if(w&&w.length)x=w.map((o,v)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:v},o)),_[0]={children:x,label:""};else{let o=getOptionsFromGroup(v);_=o.optionGroups,x=o.options}return o.setState({optionGroups:_}),x},updateOptions:o=>{this.setState({options:o})},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{let o=this.triggerRef.current;return o&&o.getBoundingClientRect().width},setOptionWrapperWidth:o=>{this.setState({dropdownMinWidth:o})},updateSelection:o=>{this.setState({selections:o})},getSelections:()=>new Map(this.state.selections),notifyChange:o=>{this.props.onChange(o)},notifySelect:(o,v)=>{delete v._parentGroup,this.props.onSelect(o,v)},notifyDropdownVisibleChange:o=>{this.props.onDropdownVisibleChange(o)},notifySearch:(o,v)=>{this.props.onSearch(o,v)},notifyCreate:o=>{this.props.onCreate(o)},notifyMouseEnter:o=>{this.props.onMouseEnter(o)},notifyMouseLeave:o=>{this.props.onMouseLeave(o)},notifyFocus:o=>{this.props.onFocus(o)},notifyBlur:o=>{this.props.onBlur(o)},notifyClear:()=>{this.props.onClear()},notifyListScroll:o=>{this.props.onListScroll(o)},updateHovering:o=>{this.setState({isHovering:o})},updateFocusState:o=>{this.setState({isFocus:o})},updateOverflowItemCount:o=>{this.setState({overflowItemCount:o})},focusTrigger:()=>{try{let{preventScroll:o}=this.props,v=this.triggerRef.current;v.focus({preventScroll:o})}catch(o){}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:o=>getFocusableElements(o),getActiveElement:()=>getActiveElement(),setIsFocusInContainer:o=>{this.setState({isFocusInContainer:o})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:o=>{let v=".".concat(r8,"-option-selected");void 0!==o&&(v=".".concat(r8,"-option:nth-child(").concat(o,")"));let _=document.querySelector("#".concat(r8,"-").concat(this.selectOptionListID," ").concat(v));if(Array.isArray(_)&&(_=_[0]),_){let o=_.parentNode;o.scrollTop=_.offsetTop-o.offsetTop-o.clientHeight/2+_.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=getUuidShort(),this.selectID=this.props.id||getUuidShort()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(o,v){let _=eC.Children.toArray(o.children).map(o=>o.key),x=eC.Children.toArray(this.props.children).map(o=>o.key),w=!1;e7()(_,x)&&e7()(o.optionList,this.props.optionList)||(w=!0,this.foundation.handleOptionListChange()),(!e7()(this.props.value,o.value)||w)&&("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderInput(){let{size:o,multiple:v,disabled:_,inputProps:x,filter:w}=this.props,T=eH()(x,"className"),L=eM()("".concat(r8,"-input"),{["".concat(r8,"-input-single")]:!v,["".concat(r8,"-input-multiple")]:v},T),{inputValue:N,focusIndex:B}=this.state,H=Object.assign({value:N,disabled:_,className:L,onChange:this.handleInputChange},x),Y={};return v&&(Y={width:N?"".concat(16*N.length,"px"):"2px"},H.style=Y),eC.createElement(rs,Object.assign({ref:this.inputRef,size:o,"aria-activedescendant":-1!==B?"".concat(this.selectID,"-option-").concat(B):"",onFocus:o=>{v&&w&&this.setState({isFocus:!0}),o.stopPropagation()},onBlur:o=>this.foundation.handleInputBlur(o)},H))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(o,v,_){this.foundation.onSelect(o,v,_)}onClear(o){o.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(o)}search(o,v){this.handleInputChange(o,v)}renderEmpty(){return eC.createElement(Option,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){let o="".concat(r8,"-loading-wrapper");return eC.createElement("div",{className:o},eC.createElement(nh,null))}renderOption(o,v,_){let x;let{focusIndex:w,inputValue:T}=this.state,{renderOptionItem:L}=this.props,N=v===w,B=_||{};return o.style&&(B=Object.assign(Object.assign({},B),o.style)),o._inputCreateOnly?x=this.renderCreateOption(o,N,v,_):("key"in o&&(o._keyInOptionList=o.key),x=eC.createElement(Option,Object.assign({showTick:!0},o,{selected:o._selected,onSelect:(o,_)=>this.onSelect(o,v,_),focused:N,onMouseEnter:()=>this.onOptionHover(v),style:B,key:o._keyInOptionList||o._keyInJsx||o.label+o.value+v,renderOptionItem:L,inputValue:T,semiOptionId:"".concat(this.selectID,"-option-").concat(v)}),o.label)),x}renderCreateOption(o,v,_,x){let{renderCreateItem:w}=this.props;if(void 0===w){let w=eC.createElement(Option,Object.assign({key:o.key||o.label+o.value,onSelect:(o,v)=>this.onSelect(o,_,v),onMouseEnter:()=>this.onOptionHover(_),showTick:!0},o,{focused:v,style:x}),eC.createElement(LocaleConsumer,{componentName:"Select"},v=>eC.createElement(eC.Fragment,null,eC.createElement("span",{className:"".concat(r8,"-create-tips")},v.createText),o.value)));return w}let T=w(o.value,v,x);return eC.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:v=>this.onSelect(o,_,v),key:o.key||o.label},T)}onOptionHover(o){this.foundation.handleOptionMouseEnter(o)}renderWithGroup(o){let v=[],_=new Map;return o.forEach((o,x)=>{let w=o._parentGroup,T=this.renderOption(o,x);if(w&&!_.has(w.label)){let o=eC.createElement(OptionGroup,Object.assign({},w,{key:w.label}));_.set(w.label,!0),v.push(o)}v.push(T)}),v}renderVirtualizeList(o){let{virtualize:v}=this.props,{direction:_}=this.context,{height:x,width:w,itemSize:T}=v;return eC.createElement(r6,{ref:this.virtualizeListRef,height:x||rE.LIST_HEIGHT,itemCount:o.length,itemSize:T,itemData:{visibleOptions:o,renderOption:this.renderOption},width:w||"100%",style:{direction:_}},virtualRow)}renderOptions(o){let{dropdownMinWidth:v,options:_,selections:x}=this.state,{maxHeight:w,dropdownClassName:T,dropdownStyle:L,outerTopSlot:N,innerTopSlot:B,outerBottomSlot:H,innerBottomSlot:Y,loading:Z,virtualize:X,multiple:et,emptyContent:en}=this.props,er=_.filter(o=>o._show),ei=this.renderWithGroup(er);X&&(ei=this.renderVirtualizeList(er));let ea=Object.assign({minWidth:v},L),eo=eM()({["".concat(r8,"-option-list")]:!0,["".concat(r8,"-option-list-chosen")]:x.size}),el=!_.length||!_.some(o=>o._show);return eC.createElement("div",{id:"".concat(r8,"-").concat(this.selectOptionListID),className:eM()({["".concat(r8,"-option-list-wrapper")]:!(el&&null===en)},T),style:ea,ref:this.setOptionContainerEl,onKeyDown:o=>this.foundation.handleContainerKeyDown(o)},N?eC.createElement("div",{className:"".concat(r8,"-option-list-outer-top-slot"),onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},N):null,eC.createElement("div",{style:{maxHeight:"".concat(w,"px")},className:eo,role:"listbox","aria-multiselectable":et,onScroll:o=>this.foundation.handleListScroll(o)},B?eC.createElement("div",{className:"".concat(r8,"-option-list-inner-top-slot"),onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},B):null,Z?this.renderLoading():el?this.renderEmpty():ei,Y?eC.createElement("div",{className:"".concat(r8,"-option-list-inner-bottom-slot"),onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},Y):null),H?eC.createElement("div",{className:"".concat(r8,"-option-list-outer-bottom-slot"),onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},H):null)}renderSingleSelection(o,v){let{renderSelectedItem:_}=this.props,{placeholder:x}=this.props,{showInput:w,inputValue:T}=this.state,L="",N=[...o];if(void 0===_&&(_=o=>o.label),N.length){let o=N[0][1];L=_(o)}let B=eM()({["".concat(r8,"-selection-text")]:!0,["".concat(r8,"-selection-placeholder")]:!L&&0!==L,["".concat(r8,"-selection-text-hide")]:T&&w,["".concat(r8,"-selection-text-inactive")]:!T&&w}),H="".concat(r8,"-content-wrapper");return eC.createElement(eC.Fragment,null,eC.createElement("div",{className:H},eC.createElement("span",{className:B,"x-semi-prop":"placeholder"},L||0===L?L:x),v&&w?this.renderInput():null))}renderTag(o,v,_){let{size:x,disabled:w}=this.props,{renderSelectedItem:T}=this.props,L=o[0],{value:N}=o[1],B=o[1].disabled||w,onClose=(o,v)=>{v&&"function"==typeof v.preventDefault&&v.preventDefault(),this.foundation.removeTag({label:L,value:N})};void 0===T&&(T=o=>({isRenderInTag:!0,content:o.label}));let{content:H,isRenderInTag:Y}=T(o[1],{index:v,disabled:B,onClose}),Z=_&&!eX()(this.props.renderSelectedItem)?eC.createElement(Text,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},H):H;return Y?eC.createElement(Tag,Object.assign({},{disabled:B,closable:!B,onClose},{color:"white",size:x||"large",key:N,style:{maxWidth:"100%"}}),Z):eC.createElement(eC.Fragment,{key:N},Z)}renderNTag(o,v){let{size:_,showRestTagsPopover:x,restTagsPopoverProps:w}=this.props,T=eC.createElement(Tag,{closable:!1,size:_||"large",color:"grey",className:"".concat(r8,"-content-wrapper-collapse-tag"),key:"_+".concat(o),style:{marginRight:0,flexShrink:0}},"+",o);return x&&(T=eC.createElement(Popover,Object.assign({showArrow:!0,content:eC.createElement(nu,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},v.map((o,v)=>this.renderTag(o,v))),trigger:"hover",position:"top",autoAdjustOverflow:!0},w,{key:"_+".concat(o,"_Popover")}),T)),T}renderOverflow(o,v){return o.length&&o[0]?this.renderTag(o[0],v,!0):null}handleOverflow(o){let{overflowItemCount:v,selections:_}=this.state,{maxTagCount:x}=this.props,w=_.size-x>0?_.size-x+o.length-1:o.length-1;v!==w&&this.foundation.updateOverflowItemCount(_.size,w)}renderCollapsedTags(o,v){let{overflowItemCount:_}=this.state,x="number"==typeof v?o.slice(0,v):o;return eC.createElement("div",{className:"".concat(r8,"-content-wrapper-collapse")},eC.createElement(OverflowList,{items:x,key:String(o.length),overflowRenderer:o=>this.renderOverflow(o,v-1),onOverflow:o=>this.handleOverflow(o),visibleItemRenderer:(o,v)=>this.renderTag(o,v)}),_>0&&this.renderNTag(_,o.slice(o.length-_)))}renderOneLineTags(o,v){let _,{renderSelectedItem:x}=this.props,{showRestTagsPopover:w,restTagsPopoverProps:T,maxTagCount:L}=this.props,{isFullTags:N}=this.state;if(void 0===x&&(x=o=>({isRenderInTag:!0,content:o.label})),w){let B=N?o:o.slice(0,L),H=B.map((o,v)=>this.getTagItem(o,v,x));_=eC.createElement(TagGroup,{tagList:H,maxTagCount:v,restCount:N?void 0:o.length-L,size:"large",mode:"custom",showPopover:w,popoverProps:T,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{let w=o.slice(0,L),T=w.map((o,v)=>this.getTagItem(o,v,x));_=eC.createElement(TagGroup,{tagList:T,maxTagCount:v,restCount:o.length-L,size:"large",mode:"custom"})}return _}renderMultipleSelection(o,v){let{renderSelectedItem:_}=this.props,{placeholder:x,maxTagCount:w,expandRestTagsOnClick:T,ellipsisTrigger:L}=this.props,{inputValue:N,isOpen:B}=this.state,H=[...o];void 0===_&&(_=o=>({isRenderInTag:!0,content:o.label}));let Y=eM()({["".concat(r8,"-content-wrapper")]:!0,["".concat(r8,"-content-wrapper-one-line")]:w&&!B,["".concat(r8,"-content-wrapper-empty")]:!H.length}),Z=eM()({["".concat(r8,"-selection-text")]:!0,["".concat(r8,"-selection-placeholder")]:!H.length,["".concat(r8,"-selection-text-hide")]:H&&H.length}),X=x&&!N?eC.createElement("span",{className:Z},x):null,et=H.length>w?w:void 0,en=L?this.renderCollapsedTags(H,et):this.renderOneLineTags(H,et),er=!w||T&&B?H.map((o,v)=>this.renderTag(o,v)):en;return eC.createElement(eC.Fragment,null,eC.createElement("div",{className:Y},H&&H.length?er:X,v?this.renderInput():null))}onMouseEnter(o){this.foundation.handleMouseEnter(o)}onMouseLeave(o){this.foundation.handleMouseLeave(o)}onKeyPress(o){this.foundation.handleKeyPress(o)}handlePopoverVisibleChange(o){let{virtualize:v}=this.props,{selections:_}=this.state;if(o){if(v){let o=-1;if(_.forEach(v=>{let _=eH()(v,"_scrollIndex");nr()(_)&&_>=0&&(o=-1!==o&&o<_?o:_)}),-1!==o)try{this.virtualizeListRef.current.scrollToItem(o,"center")}catch(o){}}else this.foundation.updateScrollTop()}}renderSuffix(){let{suffix:o}=this.props,v=eM()({["".concat(r8,"-suffix")]:!0,["".concat(r8,"-suffix-text")]:o&&e0()(o),["".concat(r8,"-suffix-icon")]:isSemiIcon(o)});return eC.createElement("div",{className:v,"x-semi-prop":"suffix"},o)}renderPrefix(){let{prefix:o,insetLabel:v,insetLabelId:_}=this.props,x=o||v,w=eM()({["".concat(r8,"-prefix")]:!0,["".concat(r8,"-inset-label")]:v,["".concat(r8,"-prefix-text")]:x&&e0()(x),["".concat(r8,"-prefix-icon")]:isSemiIcon(x)});return eC.createElement("div",{className:w,id:_,"x-semi-prop":"prefix,insetLabel"},x)}renderSelection(){let o=this.props,{disabled:v,multiple:_,filter:x,style:w,id:T,size:L,className:N,validateStatus:B,showArrow:H,suffix:Y,prefix:Z,insetLabel:X,placeholder:et,triggerRender:en,arrowIcon:er,clearIcon:ei,borderless:ea}=o,eo=select_rest(o,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:el,isOpen:eu,keyboardEventSet:ec,inputValue:ed,isHovering:eh,isFocus:ep,showInput:ef,focusIndex:eg}=this.state,em="function"==typeof en,ey=!!x,ev=em?eM()(N):eM()(r8,N,{["".concat(r8,"-borderless")]:ea,["".concat(r8,"-open")]:eu,["".concat(r8,"-focus")]:ep,["".concat(r8,"-disabled")]:v,["".concat(r8,"-single")]:!_,["".concat(r8,"-multiple")]:_,["".concat(r8,"-filterable")]:ey,["".concat(r8,"-small")]:"small"===L,["".concat(r8,"-large")]:"large"===L,["".concat(r8,"-error")]:"error"===B,["".concat(r8,"-warning")]:"warning"===B,["".concat(r8,"-no-arrow")]:!H,["".concat(r8,"-with-prefix")]:Z||X,["".concat(r8,"-with-suffix")]:Y}),e_=this.props.showClear&&(el.size||ed)&&!v&&(eh||eu),eb=H?eC.createElement("div",{className:"".concat(r8,"-arrow"),"x-semi-prop":"arrowIcon"},er):eC.createElement("div",{className:"".concat(r8,"-arrow-empty")}),eS=ei||eC.createElement(n6,null),ex=em?eC.createElement(Trigger,{value:Array.from(el.values()),inputValue:ed,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:o=>this.foundation.removeTag(o),onClear:this.onClear,disabled:v,triggerRender:en,placeholder:et,componentName:"Select",componentProps:Object.assign({},this.props)}):[eC.createElement(eC.Fragment,{key:"prefix"},Z||X?this.renderPrefix():null),eC.createElement(eC.Fragment,{key:"selection"},eC.createElement("div",{className:eM()("".concat(r8,"-selection"))},_?this.renderMultipleSelection(el,ey):this.renderSingleSelection(el,ey))),eC.createElement(eC.Fragment,{key:"clearicon"},e_?eC.createElement("div",{className:eM()("".concat(r8,"-clear")),onClick:this.onClear},eS):eb),eC.createElement(eC.Fragment,{key:"suffix"},Y?this.renderSuffix():null)],ew=v||ey&&ef||ey&&_?-1:0;return eC.createElement("div",Object.assign({role:"combobox","aria-disabled":v,"aria-expanded":eu,"aria-controls":"".concat(r8,"-").concat(this.selectOptionListID),"aria-haspopup":"listbox","aria-label":el.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:ev,ref:o=>this.triggerRef.current=o,onClick:o=>this.foundation.handleClick(o),style:w,id:this.selectID,tabIndex:ew,"aria-activedescendant":-1!==eg?"".concat(this.selectID,"-option-").concat(eg):"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:o=>this.foundation.handleTriggerFocus(o),onBlur:o=>this.foundation.handleTriggerBlur(o),onKeyPress:this.onKeyPress},ec,this.getDataAttr(eo)),ex)}render(){let{direction:o}=this.context,{children:v,position:_="rtl"===o?"bottomRight":"bottomLeft",zIndex:x,getPopupContainer:w,motion:T,autoAdjustOverflow:L,mouseLeaveDelay:N,mouseEnterDelay:B,spacing:H,stopPropagation:Y,dropdownMargin:Z}=this.props,{isOpen:X,optionKey:et}=this.state,en=this.renderOptions(v),er=this.renderSelection();return eC.createElement(Popover,{getPopupContainer:w,motion:T,margin:Z,autoAdjustOverflow:L,mouseLeaveDelay:N,mouseEnterDelay:B,zIndex:x,ref:this.optionsRef,content:en,visible:X,trigger:"custom",rePosKey:et,position:_,spacing:H,stopPropagation:Y,disableArrowKeyDown:!0,onVisibleChange:o=>this.handlePopoverVisibleChange(o),afterClose:()=>this.foundation.handlePopoverClose()},er)}constructor(o){super(o),this.setOptionContainerEl=o=>this.optionContainerEl={current:o},this.handleInputChange=(o,v)=>this.foundation.handleInputChange(o,v),this.getTagItem=(o,v,_)=>{let{size:x,disabled:w}=this.props,T=o[0],{value:L}=o[1],N=o[1].disabled||w,onClose=(o,v)=>{v&&"function"==typeof v.preventDefault&&v.preventDefault(),this.foundation.removeTag({label:T,value:L})},{content:B,isRenderInTag:H}=_(o[1],{index:v,disabled:N,onClose});return H?eC.createElement(Tag,Object.assign({},{disabled:N,closable:!N,onClose},{color:"white",size:x||"large",key:L,tabIndex:-1}),B):eC.createElement(eC.Fragment,{key:L},B)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:0,inputValue:"",showInput:!1,focusIndex:o.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=eC.createRef(),this.inputRef=eC.createRef(),this.triggerRef=eC.createRef(),this.optionsRef=eC.createRef(),this.optionContainerEl=eC.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new Event,this.foundation=new SelectFoundation(this.adapter)}};Select.contextType=tm,Select.Option=Option,Select.OptGroup=OptionGroup,Select.propTypes={"aria-describedby":eI().string,"aria-errormessage":eI().string,"aria-invalid":eI().bool,"aria-labelledby":eI().string,"aria-required":eI().bool,autoFocus:eI().bool,autoClearSearchValue:eI().bool,borderless:eI().bool,children:eI().node,clearIcon:eI().node,defaultValue:eI().oneOfType([eI().string,eI().number,eI().array,eI().object]),ellipsisTrigger:eI().bool,value:eI().oneOfType([eI().string,eI().number,eI().array,eI().object]),placeholder:eI().node,onChange:eI().func,multiple:eI().bool,filter:eI().oneOfType([eI().func,eI().bool]),max:eI().number,maxTagCount:eI().number,maxHeight:eI().oneOfType([eI().string,eI().number]),style:eI().object,className:eI().string,size:eI().oneOf(rD.SIZE_SET),disabled:eI().bool,emptyContent:eI().node,expandRestTagsOnClick:eI().bool,onDropdownVisibleChange:eI().func,zIndex:eI().number,position:eI().oneOf(rD.POSITION_SET),onSearch:eI().func,getPopupContainer:eI().func,dropdownClassName:eI().string,dropdownStyle:eI().object,dropdownMargin:eI().oneOfType([eI().number,eI().object]),outerTopSlot:eI().node,innerTopSlot:eI().node,inputProps:eI().object,outerBottomSlot:eI().node,innerBottomSlot:eI().node,optionList:eI().array,dropdownMatchSelectWidth:eI().bool,loading:eI().bool,defaultOpen:eI().bool,validateStatus:eI().oneOf(rD.STATUS),defaultActiveFirstOption:eI().bool,triggerRender:eI().func,stopPropagation:eI().bool,motion:eI().bool,onChangeWithObject:eI().bool,suffix:eI().node,prefix:eI().node,insetLabel:eI().node,insetLabelId:eI().string,showClear:eI().bool,showArrow:eI().bool,renderSelectedItem:eI().func,allowCreate:eI().bool,renderCreateItem:eI().func,onMouseEnter:eI().func,onMouseLeave:eI().func,clickToHide:eI().bool,onExceed:eI().func,onCreate:eI().func,remote:eI().bool,onDeselect:eI().func,onSelect:eI().func,autoAdjustOverflow:eI().bool,mouseEnterDelay:eI().number,mouseLeaveDelay:eI().number,spacing:eI().oneOfType([eI().number,eI().object]),onBlur:eI().func,onFocus:eI().func,onClear:eI().func,virtualize:eI().object,renderOptionItem:eI().func,onListScroll:eI().func,arrowIcon:eI().node,preventScroll:eI().bool},Select.defaultProps={stopPropagation:!0,motion:!0,borderless:!1,zIndex:tB.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:eE(),onChangeWithObject:!1,onChange:eE(),onSearch:eE(),onMouseEnter:eE(),onMouseLeave:eE(),onDeselect:eE(),onSelect:eE(),onCreate:eE(),onExceed:eE(),onFocus:eE(),onBlur:eE(),onClear:eE(),onListScroll:eE(),maxHeight:rE.LIST_HEIGHT,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:eC.createElement(rT,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1};var ie=_(4079),it=_.n(ie);let ir={PREFIX:`${eO.T}-checkbox`,INNER:`${eO.T}-checkbox-inner`,TEXT:`${eO.T}-checkbox-text`,INPUT:`${eO.T}-checkbox-input`,CHECKED:`${eO.T}-checkbox-checked`,DISABLED:`${eO.T}-checkbox-disabled`,BUTTON:`${eO.T}-checkbox-button`,WRAPPER:""},ii={PREFIX:`${eO.T}-checkboxGroup`,INNER:`${eO.T}-checkboxGroup-inner`,TEXT:`${eO.T}-checkboxGroup-text`,INPUT:`${eO.T}-checkboxGroup-input`,CHECKED:`${eO.T}-checkboxGroup-checked`,DISABLED:`${eO.T}-checkboxGroup-disabled`},ia={DIRECTION_SET:["horizontal","vertical"],TYPE_DEFAULT:"default",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",DEFAULT_DIRECTION:"vertical"};let CheckboxFoundation=class CheckboxFoundation extends eU{constructor(o){super(Object.assign({},o)),this.clickState=!1,this.handleFocusVisible=o=>{let{target:v}=o;try{if(this.clickState){this.clickState=!1;return}v.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch(o){warning(!0,"Warning: [Semi Checkbox] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this.clickState=!1,this._adapter.setFocusVisible(!1)}}init(){let{children:o,extra:v,extraId:_,addonId:x}=this.getProps();o&&!x&&this._adapter.setAddonId(),v&&!_&&this._adapter.setExtraId()}notifyChange(o,v){let _=this._adapter.generateEvent(o,v);this._adapter.notifyChange(_)}handleChange(o){let v=this.getProp("disabled");if(v)return;(null==o?void 0:o.type)==="click"&&(this.clickState=!0),this._adapter.focusCheckboxEntity();let _=this._adapter.getIsInGroup();if(_){let v=this._adapter.getGroupDisabled();v||this.handleChangeInGroup(o);return}let x=this.getState("checked"),w=!x;this._isControlledComponent("checked")||this.setChecked(w),this.notifyChange(w,o)}handleChangeInGroup(o){let{value:v}=this.getProps(),_=this._adapter.getGroupValue(),x=_.includes(v),w=this._adapter.generateEvent(!x,o);this._adapter.notifyChange(w),this._adapter.notifyGroupChange(w)}handleEnterPress(o){utils_isEnterPress(o)&&this.handleChange(o)}setChecked(o){this._adapter.setNativeControlChecked(o)}destroy(){}};let io=eC.createContext({});function IconCheckboxTick_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4111 7.30848C18.0692 7.81171 18.1947 8.75312 17.6915 9.41119L11.1915 17.9112C10.909 18.2806 10.4711 18.4981 10.0061 18.5C9.54105 18.5019 9.10143 18.288 8.81592 17.9209L5.31592 13.4209C4.80731 12.767 4.92512 11.8246 5.57904 11.316C6.23296 10.8074 7.17537 10.9252 7.68398 11.5791L9.98988 14.5438L15.3084 7.58884C15.8116 6.93077 16.7531 6.80525 17.4111 7.30848Z",fill:"currentColor"}))}let is=convertIcon(IconCheckboxTick_SvgComponent,"checkbox_tick");function IconCheckboxIndeterminate_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{d:"M5 12.5C5 11.6716 5.67157 11 6.5 11H17.5C18.3284 11 19 11.6716 19 12.5C19 13.3284 18.3284 14 17.5 14H6.5C5.67157 14 5 13.3284 5 12.5Z",fill:"currentColor"}))}let il=convertIcon(IconCheckboxIndeterminate_SvgComponent,"checkbox_indeterminate");let CheckboxInner=class CheckboxInner extends eC.PureComponent{blur(){this.inputEntity.blur()}focus(){let{preventScroll:o}=this.props;this.inputEntity.focus({preventScroll:o})}render(){let{indeterminate:o,checked:v,disabled:_,prefixCls:x,name:w,isPureCardType:T,addonId:L,extraId:N,focusInner:B,onInputFocus:H,onInputBlur:Y}=this.props,Z=x||ir.PREFIX,X=eM()({["".concat(Z,"-inner")]:!0,["".concat(Z,"-inner-checked")]:!!v,["".concat(Z,"-inner-pureCardType")]:T},ir.WRAPPER),et=eM()({["".concat(Z,"-inner-display")]:!0,["".concat(Z,"-focus")]:B,["".concat(Z,"-focus-border")]:B&&!v}),en=v?eC.createElement(is,null):o?eC.createElement(il,null):null,er={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":_,"aria-checked":v,"aria-labelledby":L,"aria-describedby":N||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:ir.INPUT,onChange:eE(),checked:v,disabled:_,onFocus:H,onBlur:Y};return w&&(er.name=w),eC.createElement("span",{className:X},eC.createElement("input",Object.assign({},er,{ref:o=>{this.inputEntity=o}})),eC.createElement("span",{className:et},en))}};CheckboxInner.contextType=io,CheckboxInner.propTypes={"aria-describedby":eI().string,"aria-errormessage":eI().string,"aria-invalid":eI().bool,"aria-labelledby":eI().string,"aria-required":eI().bool,checked:eI().bool,disabled:eI().bool,onChange:eI().func,children:eI().node,grouped:eI().bool,value:eI().any,isPureCardType:eI().bool,addonId:eI().string,extraId:eI().string,focusInner:eI().bool,onInputFocus:eI().func,onInputBlur:eI().func,preventScroll:eI().bool},CheckboxInner.defaultProps={onChange:eE()},_(93);let Checkbox=class Checkbox extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:o=>{this.setState({checked:o})},notifyChange:o=>{let{onChange:v}=this.props;v&&v(o)},generateEvent:(o,v)=>{let{props:_}=this,x={target:Object.assign(Object.assign({},_),{checked:o}),stopPropagation:()=>{v.stopPropagation()},preventDefault:()=>{v.preventDefault()},nativeEvent:{stopImmediatePropagation:()=>{v.nativeEvent&&"function"==typeof v.nativeEvent.stopImmediatePropagation&&v.nativeEvent.stopImmediatePropagation()}}};return x},getIsInGroup:()=>this.isInGroup(),getGroupValue:()=>this.context&&this.context.checkboxGroup.value||[],notifyGroupChange:o=>{this.context.checkboxGroup.onChange(o)},getGroupDisabled:()=>this.context&&this.context.checkboxGroup.disabled,setAddonId:()=>{this.setState({addonId:getUuidShort({prefix:"addon"})})},setExtraId:()=>{this.setState({extraId:getUuidShort({prefix:"extra"})})},setFocusVisible:o=>{this.setState({focusVisible:o})},focusCheckboxEntity:()=>{this.focus()}})}componentDidUpdate(o){this.props.checked!==o.checked&&(e3()(this.props.checked)?this.foundation.setChecked(!1):it()(this.props.checked)&&this.foundation.setChecked(this.props.checked))}isInGroup(){return!!(this.context&&this.context.checkboxGroup&&"value"in this.props)}focus(){this.checkboxEntity&&this.checkboxEntity.focus()}blur(){this.checkboxEntity&&this.checkboxEntity.blur()}render(){let{disabled:o,style:v,prefixCls:_,className:x,indeterminate:w,children:T,onMouseEnter:L,onMouseLeave:N,extra:B,value:H,role:Y,tabIndex:Z,id:X,type:et}=this.props,{checked:en,addonId:er,extraId:ei,focusVisible:ea}=this.state,eo={checked:en,disabled:o},el=this.isInGroup();if(el){if(this.context.checkboxGroup.value){let o=(this.context.checkboxGroup.value||[]).includes(H);eo.checked=o}this.context.checkboxGroup.disabled&&(eo.disabled=this.context.checkboxGroup.disabled||this.props.disabled);let{isCardType:o,isPureCardType:v}=this.context.checkboxGroup;eo.isCardType=o,eo.isPureCardType=v,eo.name=this.context.checkboxGroup.name}else eo.isPureCardType=et===ia.TYPE_PURECARD,eo.isCardType=et===ia.TYPE_CARD||eo.isPureCardType;let eu=_||ir.PREFIX,ec=eo.isCardType||eo.isPureCardType,ed=eM()(eu,{["".concat(eu,"-disabled")]:eo.disabled,["".concat(eu,"-indeterminate")]:w,["".concat(eu,"-checked")]:eo.checked,["".concat(eu,"-unChecked")]:!eo.checked,["".concat(eu,"-cardType")]:eo.isCardType,["".concat(eu,"-cardType_disabled")]:eo.disabled&&eo.isCardType,["".concat(eu,"-cardType_unDisabled")]:!(eo.disabled&&eo.isCardType),["".concat(eu,"-cardType_checked")]:eo.isCardType&&eo.checked&&!eo.disabled,["".concat(eu,"-cardType_checked_disabled")]:eo.isCardType&&eo.checked&&eo.disabled,[x]:!!x,["".concat(eu,"-focus")]:ea&&ec}),eh=eM()("".concat(eu,"-extra"),{["".concat(eu,"-cardType_extra_noChildren")]:eo.isCardType&&!T});el&&this.context.checkboxGroup.name;let ep=this.props["x-semi-children-alias"]||"children";return eC.createElement("span",Object.assign({role:Y,tabIndex:Z,style:v,className:ed,id:X,onMouseEnter:L,onMouseLeave:N,onClick:this.handleChange,onKeyPress:this.handleEnterPress,"aria-labelledby":this.props["aria-labelledby"]},this.getDataAttr(this.props)),eC.createElement(CheckboxInner,Object.assign({},this.props,eo,{addonId:T&&er,extraId:B&&ei,isPureCardType:eo.isPureCardType,ref:o=>{this.checkboxEntity=o},focusInner:ea&&!ec,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),T||B?eC.createElement("div",{className:"".concat(eu,"-content")},T?eC.createElement("span",{id:er,className:"".concat(eu,"-addon"),"x-semi-prop":ep},T):null,B?eC.createElement("div",{id:ei,className:eh,"x-semi-prop":"extra"},B):null):null)}constructor(o){super(o),this.handleChange=o=>this.foundation.handleChange(o),this.handleEnterPress=o=>this.foundation.handleEnterPress(o),this.handleFocusVisible=o=>{this.foundation.handleFocusVisible(o)},this.handleBlur=o=>{this.foundation.handleBlur()},this.state={checked:o.checked||o.defaultChecked||!1,addonId:o.addonId,extraId:o.extraId,focusVisible:!1},this.checkboxEntity=null,this.foundation=new CheckboxFoundation(this.adapter)}};Checkbox.contextType=io,Checkbox.propTypes={"aria-describedby":eI().string,"aria-errormessage":eI().string,"aria-invalid":eI().bool,"aria-labelledby":eI().string,"aria-required":eI().bool,checked:eI().bool,defaultChecked:eI().bool,disabled:eI().bool,indeterminate:eI().bool,onChange:eI().func,value:eI().any,style:eI().object,className:eI().string,prefixCls:eI().string,onMouseEnter:eI().func,onMouseLeave:eI().func,extra:eI().node,index:eI().number,"aria-label":eI().string,tabIndex:eI().number,preventScroll:eI().bool,type:eI().string},Checkbox.defaultProps={defaultChecked:!1,indeterminate:!1,onChange:eE(),onMouseEnter:eE(),onMouseLeave:eE(),type:"default"},Checkbox.elementType="Checkbox";var iu=Checkbox;let CheckboxGroupFoundation=class CheckboxGroupFoundation extends eU{static get checkboxGroupDefaultAdapter(){return{}}constructor(o){super(Object.assign(Object.assign({},CheckboxGroupFoundation.checkboxGroupDefaultAdapter),o))}init(){let{defaultValue:o,value:v}=this.getProps();void 0===o||Array.isArray(o)||warning(!0,"Warning: [Semi CheckboxGroup] defaultValue should be an Array"),void 0===v||Array.isArray(v)||warning(!0,"Warning: [Semi CheckboxGroup] value should be an Array")}notifyChange(o){this._adapter.notifyChange(o)}handleChange(o){let v=this.getState("value"),_=[];Array.isArray(v)||(_=[v]),_=o.target.checked?[...v,o.target.value]:v.filter((v,_)=>v!==o.target.value);let x="value"in this.getProps();x||this._adapter.updateGroupValue(_),this.notifyChange(_)}getFormatName(){let o=this.getProp("name");return o||"default"}handlePropValueChange(o){Array.isArray(o)?this._adapter.updateGroupValue(o):(void 0===o&&this._adapter.updateGroupValue([]),warning(!0,"Warning: [Semi CheckboxGroup] value should be an Array"))}destroy(){}};let CheckboxGroup=class CheckboxGroup extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateGroupValue:o=>{this.setState({value:o})},notifyChange:o=>{this.props.onChange&&this.props.onChange(o)}})}componentDidMount(){this.foundation.init()}componentDidUpdate(o){e7()(o.value,this.props.value)||this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}onChange(o){this.foundation.handleChange(o)}render(){let o;let{children:v,options:_,prefixCls:x,direction:w,className:T,id:L,style:N,type:B,disabled:H}=this.props,Y=B===ia.TYPE_PURECARD,Z=B===ia.TYPE_CARD||Y,X=x||ii.PREFIX,et=eM()({[X]:!0,["".concat(X,"-wrapper")]:!0,["".concat(X,"-").concat(w)]:w,["".concat(X,"-").concat(w,"-cardType")]:w&&Z,["".concat(X,"-").concat(w,"-pureCardType")]:w&&Y},T),en=this.state.value.slice();return _?o=(_||[]).map((o,v)=>"string"==typeof o?eC.createElement(iu,{role:"listitem",key:v,disabled:this.props.disabled,value:o,prefixCls:x},o):eC.createElement(iu,{role:"listitem",key:v,disabled:o.disabled||this.props.disabled,value:o.value,prefixCls:x,extra:o.extra,className:o.className,style:o.style,onChange:o.onChange},o.label)):v&&(o=eC.Children.toArray(v).map((o,v)=>eC.cloneElement(o,{key:v,role:"listitem"}))),eC.createElement("div",Object.assign({id:L,role:"list","aria-label":this.props["aria-label"],className:et,style:N,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"]},this.getDataAttr(this.props)),eC.createElement(io.Provider,{value:{checkboxGroup:{onChange:this.onChange,value:en,disabled:this.props.disabled,name:this.foundation.getFormatName(),isCardType:Z,isPureCardType:Y}}},o))}constructor(o){super(o),this.state={value:o.value||o.defaultValue},this.foundation=new CheckboxGroupFoundation(this.adapter),this.onChange=this.onChange.bind(this)}};CheckboxGroup.propTypes={"aria-describedby":eI().string,"aria-errormessage":eI().string,"aria-invalid":eI().bool,"aria-labelledby":eI().string,"aria-required":eI().bool,defaultValue:eI().array,disabled:eI().bool,name:eI().string,options:eI().array,value:eI().array,onChange:eI().func,children:eI().node,prefixCls:eI().string,direction:eI().oneOf(ia.DIRECTION_SET),className:eI().string,type:eI().oneOf([ia.TYPE_DEFAULT,ia.TYPE_CARD,ia.TYPE_PURECARD]),style:eI().object},CheckboxGroup.defaultProps={disabled:!1,onChange:()=>{},type:ia.TYPE_DEFAULT,defaultValue:[],direction:ia.DEFAULT_DIRECTION};let RadioFoundation=class RadioFoundation extends eU{constructor(){super(...arguments),this.handleFocusVisible=o=>{let{target:v}=o;try{v.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch(o){warning(!0,"Warning: [Semi Radio] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){let{children:o,extra:v,extraId:_,addonId:x}=this._adapter.getProps();o&&!x&&this._adapter.setAddonId(),v&&!_&&this._adapter.setExtraId()}setHover(o){this._adapter.setHover(o)}setChecked(o){this._adapter.setChecked(o)}};let ic={PREFIX:`${eO.T}-radio`,INNER:`${eO.T}-radio-inner`,TEXT:`${eO.T}-radio-text`,INPUT:`${eO.T}-radio-input`,CHECKED:`${eO.T}-radio-checked`,DISABLED:`${eO.T}-radio-disabled`,BUTTON:`${eO.T}-radio-button`},id={PREFIX:`${eO.T}-radioGroup`,INNER:`${eO.T}-radioGroup-inner`,TEXT:`${eO.T}-radioGroup-text`,INPUT:`${eO.T}-radioGroup-input`,CHECKED:`${eO.T}-radioGroup-checked`,DISABLED:`${eO.T}-radioGroup-disabled`},ih={DIRECTION_SET:["horizontal","vertical"],DEFAULT_DIRECTION:"horizontal",MODE:["advanced",""],TYPE_DEFAULT:"default",TYPE_BUTTON:"button",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",BUTTON_SIZE:["middle","small","large"]};_(5962);let RadioInnerFoundation=class RadioInnerFoundation extends eU{constructor(o){super(Object.assign({},o))}init(){let o=this._adapter.getProp("checked"),v=this._adapter.getProp("defaultChecked");this.setChecked(o||v)}setChecked(o){this._adapter.setNativeControlChecked(o)}getChecked(){return this._adapter.getProp("checked")}handleChange(o){let v="checked"in this.getProps(),{checked:_}=o.target,x={target:Object.assign(Object.assign({},this.getProps()),{checked:_}),stopPropagation:()=>{o.stopPropagation()},preventDefault:()=>{o.preventDefault()}};v||this.setChecked(_),this._adapter.notifyChange(x)}destroy(){}};let ip=eC.createContext(null);function IconRadio_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("circle",{cx:12,cy:12,r:5,fill:"currentColor"}))}let ig=convertIcon(IconRadio_SvgComponent,"radio");let RadioInner=class RadioInner extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:o=>{this.setState({checked:o})},notifyChange:o=>{this.props.onChange(o)}})}componentDidMount(){this.foundation.init()}componentDidUpdate(o){o.checked!==this.props.checked&&this.foundation.setChecked(this.props.checked)}componentWillUnmount(){this.foundation.destroy()}blur(){this.inputEntity.blur()}focus(){let{preventScroll:o}=this.props;this.inputEntity.focus({preventScroll:o})}onChange(o){this.foundation.handleChange(o)}render(){let{disabled:o,mode:v,autoFocus:_,name:x,isButtonRadio:w,isPureCardRadioGroup:T,addonId:L,extraId:N,"aria-label":B,focusInner:H,onInputFocus:Y,onInputBlur:Z}=this.props,{checked:X}=this.state,et=this.props.prefixCls||ic.PREFIX,en=eM()({["".concat(et,"-inner")]:!0,["".concat(et,"-inner-checked")]:!!X,["".concat(et,"-inner-buttonRadio")]:w,["".concat(et,"-inner-pureCardRadio")]:T}),er=eM()({["".concat(et,"-focus")]:H,["".concat(et,"-focus-border")]:H&&!X,["".concat(et,"-inner-display")]:!w});return eC.createElement("span",{className:en},eC.createElement("input",{ref:o=>{this.inputEntity=o},autoFocus:_,type:"advanced"===v?"checkbox":"radio",checked:!!X,disabled:o,onChange:this.onChange,name:x,"aria-label":B,"aria-labelledby":L,"aria-describedby":N,onFocus:Y,onBlur:Z}),eC.createElement("span",{className:er},X?eC.createElement(ig,null):null))}constructor(o){super(o),this.state={checked:!1},this.foundation=new RadioInnerFoundation(this.adapter),this.onChange=this.onChange.bind(this)}};RadioInner.contextType=ip,RadioInner.propTypes={checked:eI().bool,disabled:eI().bool,isButtonRadio:eI().bool,onChange:eI().func,mode:eI().oneOf(["advanced",""]),"aria-label":eI().string,focusInner:eI().bool,onInputFocus:eI().func,onInputBlur:eI().func,preventScroll:eI().bool},RadioInner.defaultProps={onChange:eE(),isButtonRadio:!1};var radio_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let Radio=class Radio extends BaseComponent{componentDidUpdate(o){this.props.checked!==o.checked&&(e3()(this.props.checked)?this.foundation.setChecked(!1):it()(this.props.checked)&&this.foundation.setChecked(this.props.checked))}get adapter(){return Object.assign(Object.assign({},super.adapter),{setHover:o=>{this.setState({hover:o})},setAddonId:()=>{this.setState({addonId:getUuidShort({prefix:"addon"})})},setChecked:o=>{this.setState({checked:o})},setExtraId:()=>{this.setState({extraId:getUuidShort({prefix:"extra"})})},setFocusVisible:o=>{this.setState({focusVisible:o})}})}isInGroup(){return this.context&&this.context.radioGroup}focus(){this.radioEntity.focus()}blur(){this.radioEntity.blur()}render(){let o,v,_,x,w,T,L,N,B;let H=this.props,{addonClassName:Y,addonStyle:Z,disabled:X,style:et,className:en,prefixCls:er,displayMode:ei,children:ea,extra:eo,mode:el,type:eu,value:ec,name:ed}=H,eh=radio_rest(H,["addonClassName","addonStyle","disabled","style","className","prefixCls","displayMode","children","extra","mode","type","value","name"]),{hover:ep,addonId:ef,extraId:eg,focusVisible:em,checked:ey}=this.state,ev={checked:ey,disabled:X};this.isInGroup()?(o=this.context.radioGroup.value===ec,v=X||this.context.radioGroup.disabled,_=this.context.mode,x=this.context.radioGroup.isButtonRadio,w=this.context.radioGroup.isCardRadio,T=this.context.radioGroup.isPureCardRadio,N=this.context.radioGroup.buttonSize,B=er||this.context.radioGroup.prefixCls,ev.checked=o,ev.disabled=v):(o=ey,v=X,_=el,L="button"===eu,B=er,x=eu===ih.TYPE_BUTTON,T=eu===ih.TYPE_PURECARD,w=eu===ih.TYPE_CARD||T);let e_=void 0===x?L:x,eb=B||ic.PREFIX,eS=w||T||e_,ex=eM()(eb,{["".concat(eb,"-disabled")]:v,["".concat(eb,"-checked")]:o,["".concat(eb,"-").concat(ei)]:!!ei,["".concat(eb,"-buttonRadioComponent")]:L,["".concat(eb,"-buttonRadioGroup")]:x,["".concat(eb,"-buttonRadioGroup-").concat(N)]:x&&N,["".concat(eb,"-cardRadioGroup")]:w,["".concat(eb,"-cardRadioGroup_disabled")]:v&&w,["".concat(eb,"-cardRadioGroup_checked")]:w&&o&&!v,["".concat(eb,"-cardRadioGroup_checked_disabled")]:w&&o&&v,["".concat(eb,"-cardRadioGroup_hover")]:w&&!o&&ep&&!v,[en]:!!en,["".concat(eb,"-focus")]:em&&(w||T)}),ew=this.isInGroup()&&this.context.radioGroup.name,eT=eM()({["".concat(eb,"-addon")]:!e_,["".concat(eb,"-addon-buttonRadio")]:e_,["".concat(eb,"-addon-buttonRadio-checked")]:e_&&o,["".concat(eb,"-addon-buttonRadio-disabled")]:e_&&v,["".concat(eb,"-addon-buttonRadio-hover")]:e_&&!o&&!v&&ep,["".concat(eb,"-addon-buttonRadio-").concat(N)]:e_&&N,["".concat(eb,"-focus")]:em&&e_},Y);return eC.createElement("label",Object.assign({style:et,className:ex,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getDataAttr(eh)),eC.createElement(RadioInner,Object.assign({},this.props,ev,{mode:_,name:null!=ed?ed:ew,isButtonRadio:e_,isPureCardRadioGroup:T,onChange:this.onChange,ref:o=>{this.radioEntity=o},addonId:ea&&ef,extraId:eo&&eg,focusInner:em&&!eS,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),ea||eo?eC.createElement("div",{className:eM()(["".concat(eb,"-content"),{["".concat(eb,"-isCardRadioGroup_content")]:w}])},ea?eC.createElement("span",{className:eT,style:Z,id:ef,"x-semi-prop":"children"},ea):null,eo&&!e_?eC.createElement("div",{className:"".concat(eb,"-extra"),id:eg,"x-semi-prop":"extra"},eo):null):null)}constructor(o){super(o),this.onChange=o=>{let{onChange:v}=this.props;if(this.isInGroup()){let{radioGroup:v}=this.context;v.onChange&&v.onChange(o)}"checked"in this.props||this.foundation.setChecked(o.target.checked),v&&v(o)},this.handleMouseEnter=o=>{this.props.onMouseEnter(o),this.foundation.setHover(!0)},this.handleMouseLeave=o=>{this.props.onMouseLeave(o),this.foundation.setHover(!1)},this.handleFocusVisible=o=>{this.foundation.handleFocusVisible(o)},this.handleBlur=o=>{this.foundation.handleBlur()},this.state={hover:!1,addonId:o.addonId,extraId:o.extraId,checked:o.checked||o.defaultChecked||!1},this.foundation=new RadioFoundation(this.adapter),this.radioEntity=null}};Radio.contextType=ip,Radio.propTypes={autoFocus:eI().bool,checked:eI().bool,defaultChecked:eI().bool,value:eI().any,style:eI().object,className:eI().string,disabled:eI().bool,prefixCls:eI().string,displayMode:eI().oneOf(["vertical",""]),onChange:eI().func,onMouseEnter:eI().func,onMouseLeave:eI().func,mode:eI().oneOf(ih.MODE),extra:eI().node,addonStyle:eI().object,addonClassName:eI().string,type:eI().oneOf([ih.TYPE_DEFAULT,ih.TYPE_BUTTON,ih.TYPE_CARD,ih.TYPE_PURECARD]),"aria-label":eI().string,preventScroll:eI().bool},Radio.defaultProps={autoFocus:!1,defaultChecked:!1,value:void 0,style:void 0,onMouseEnter:eE(),onMouseLeave:eE(),mode:"",type:"default"},Radio.elementType="Radio";let RadioGroupFoundation=class RadioGroupFoundation extends eU{constructor(o){super(Object.assign({},o))}init(){let o=this._getDisplayValue();this._setValue(o)}_getDisplayValue(){let o;let{value:v,defaultValue:_}=this.getProps();return"value"in this.getProps()?o=v:"defaultValue"in this.getProps()&&(o=_),o}handleChange(o){let v=this.getProp("mode"),_=this.getState("value"),{checked:x,value:w}=o.target,T=this._adapter.isInProps("value"),L=Object.assign(Object.assign({},o),{target:Object.assign(Object.assign({},o.target),{value:w})});"advanced"!==v||x||(L.target.value=void 0),T||("advanced"!==v||x?this._setValue(w):this._setValue(void 0)),("advanced"===v||_!==w)&&this._adapter.notifyChange(L)}handlePropValueChange(o){this._setValue(o)}_setValue(o){this._adapter.setValue(o)}destroy(){}};var radioGroup_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let RadioGroup=class RadioGroup extends BaseComponent{componentDidMount(){this.foundation.init()}componentDidUpdate(o){"number"==typeof o.value&&isNaN(o.value)&&"number"==typeof this.props.value&&isNaN(this.props.value)||o.value===this.props.value||this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:o=>{this.setState({value:o})},getProps:()=>this.props,isInProps:o=>o in this.props,notifyChange:o=>{this.props.onChange&&this.props.onChange(o)}})}render(){let o;let v=this.props,{children:_,options:x,mode:w,prefixCls:T,className:L,style:N,direction:B,type:H,buttonSize:Y,id:Z}=v,X=radioGroup_rest(v,["children","options","mode","prefixCls","className","style","direction","type","buttonSize","id"]),et=H===ih.TYPE_BUTTON,en=H===ih.TYPE_PURECARD,er=H===ih.TYPE_CARD||en,ei=H===ih.TYPE_DEFAULT,ea=T||id.PREFIX,eo=eM()(L,{[ea]:!0,["".concat(ea,"-wrapper")]:!0,["".concat(ea,"-").concat(B)]:B&&!et,["".concat(ea,"-").concat(B,"-default")]:B&&ei,["".concat(ea,"-").concat(B,"-card")]:B&&er,["".concat(ea,"-buttonRadio")]:et}),el=this.state.value;return x?o=(x||[]).map((o,v)=>"string"==typeof o?eC.createElement(Radio,{key:v,disabled:this.props.disabled,value:o},o):eC.createElement(Radio,{key:v,disabled:o.disabled||this.props.disabled,value:o.value,extra:o.extra,className:o.className,style:o.style},o.label)):_&&(o=eC.Children.map(_,(o,v)=>eC.isValidElement(o)?eC.cloneElement(o,{key:v}):null)),eC.createElement("div",Object.assign({className:eo,style:N,id:Z,"aria-label":this.props["aria-label"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(X)),eC.createElement(ip.Provider,{value:{radioGroup:{onChange:this.onChange,value:el,disabled:this.props.disabled,name:this.getFormatName(),isButtonRadio:et,isCardRadio:er,isPureCardRadio:en,buttonSize:Y,prefixCls:T},mode:w}},o))}constructor(o){super(o),this.onChange=o=>{this.foundation.handleChange(o)},this.getFormatName=()=>this.props.name||"default",this.state={value:o.value||o.defaultValue},this.foundation=new RadioGroupFoundation(this.adapter)}};RadioGroup.propTypes={defaultValue:eI().any,disabled:eI().bool,name:eI().string,options:eI().array,buttonSize:eI().oneOf(ih.BUTTON_SIZE),type:eI().oneOf([ih.TYPE_DEFAULT,ih.TYPE_BUTTON,ih.TYPE_CARD,ih.TYPE_PURECARD]),value:eI().any,onChange:eI().func,children:eI().node,prefixCls:eI().string,className:eI().string,style:eI().object,direction:eI().oneOf(ih.DIRECTION_SET),mode:eI().oneOf(ih.MODE),"aria-label":eI().string,"aria-describedby":eI().string,"aria-errormessage":eI().string,"aria-invalid":eI().bool,"aria-labelledby":eI().string,"aria-required":eI().bool,id:eI().string},RadioGroup.defaultProps={disabled:!1,onChange:eE(),direction:ih.DEFAULT_DIRECTION,mode:"",type:ih.TYPE_DEFAULT,buttonSize:"middle"};let im={DAY_TODAY:`${eO.T}-datepicker-day-today`,DAY_IN_RANGE:`${eO.T}-datepicker-day-inrange`,DAY_HOVER:`${eO.T}-datepicker-day-inhover`,DAY_SELECTED:`${eO.T}-datepicker-day-selected`,DAY_SELECTED_START:`${eO.T}-datepicker-day-selected-start`,DAY_SELECTED_END:`${eO.T}-datepicker-day-selected-end`,DAY_DISABLED:`${eO.T}-datepicker-day-disabled`,DAY_HOVER_DAY:`${eO.T}-datepicker-day-hoverday`,DAY_HOVER_DAY_OFFSET:`${eO.T}-datepicker-day-hoverday-offset`,DAY_IN_OFFSET_RANGE:`${eO.T}-datepicker-day-inoffsetrange`,DAY_SELECTED_RANGE_HOVER:`${eO.T}-datepicker-day-selectedrange-hover`,DAY_OFFSET_RANGE_START:`${eO.T}-datepicker-day-offsetrange-start`,DAY_OFFSET_RANGE_END:`${eO.T}-datepicker-day-offsetrange-end`,DAY_SELECTED_START_AFTER_HOVER:`${eO.T}-datepicker-day-selected-start-afterhover`,DAY_SELECTED_END_BEFORE_HOVER:`${eO.T}-datepicker-day-selected-end-beforehover`,DAY_HOVER_DAY_BEFORE_RANGE:`${eO.T}-datepicker-day-hoverday-beforerange`,DAY_HOVER_DAY_AFTER_RANGE:`${eO.T}-datepicker-day-hoverday-afterrange`,DAY_HOVER_DAY_IN_RANGE:`${eO.T}-datepicker-day-hoverday-inrange`,DAY_HOVER_DAY_AROUND_SINGLE_SELECTED:`${eO.T}-datepicker-day-hoverday-around-singleselected`},iy=Object.assign({PREFIX:`${eO.T}-datepicker`,NAVIGATION:`${eO.T}-datepicker-navigation`,PANEL_YAM:`${eO.T}-datepicker-panel-yam`,MONTH:`${eO.T}-datepicker-month`,WEEKDAY:`${eO.T}-datepicker-weekday`,WEEKS:`${eO.T}-datepicker-weeks`,WEEK:`${eO.T}-datepicker-week`,DAY:`${eO.T}-datepicker-day`},im),iv=Object.assign({DEFAULT_SEPARATOR_MULTIPLE:",",DEFAULT_SEPARATOR_RANGE:" ~ ",SIZE_SET:["small","default","large"],TYPE_SET:["date","dateRange","year","month","monthRange","dateTime","dateTimeRange"],PRESET_POSITION_SET:["left","right","top","bottom"],DENSITY_SET:["default","compact"],PANEL_TYPE_LEFT:"left",PANEL_TYPE_RIGHT:"right",STATUS:rP,POSITION_SET:tV.POSITION_SET,POSITION_INLINE_INPUT:"leftTopOver"},{FORMAT_FULL_DATE:"yyyy-MM-dd",FORMAT_TIME_PICKER:"HH:mm:ss",FORMAT_DATE_TIME:"yyyy-MM-dd HH:mm:ss",FORMAT_YEAR_MONTH:"yyyy-MM"}),i_={WEEK_START_ON:0,WEEK_HEIGHT:36,SPACING:tB.SPACING,SPACING_INSET_INPUT:1};var ib=_(4014),iS=_.n(ib),ix=_(1857),iw=_.n(ix);function isDate_isDate(o){return requiredArgs(1,arguments),o instanceof Date||"object"===_typeof(o)&&"[object Date]"===Object.prototype.toString.call(o)}function isValid_isValid(o){return requiredArgs(1,arguments),(!!isDate_isDate(o)||"number"==typeof o)&&!isNaN(Number(toDate_toDate(o)))}function startOfSecond(o){requiredArgs(1,arguments);var v=toDate_toDate(o);return v.setMilliseconds(0),v}function isSameSecond(o,v){requiredArgs(2,arguments);var _=startOfSecond(o),x=startOfSecond(v);return _.getTime()===x.getTime()}function isEqual_isEqual(o,v){requiredArgs(2,arguments);var _=toDate_toDate(o),x=toDate_toDate(v);return _.getTime()===x.getTime()}function addMilliseconds(o,v){return requiredArgs(2,arguments),new Date(toDate_toDate(o).getTime()+toInteger(v))}function subMilliseconds(o,v){return requiredArgs(2,arguments),addMilliseconds(o,-toInteger(v))}function getUTCDayOfYear(o){requiredArgs(1,arguments);var v=toDate_toDate(o),_=v.getTime();return v.setUTCMonth(0,1),v.setUTCHours(0,0,0,0),Math.floor((_-v.getTime())/864e5)+1}function startOfUTCISOWeek(o){requiredArgs(1,arguments);var v=toDate_toDate(o),_=v.getUTCDay();return v.setUTCDate(v.getUTCDate()-((_<1?7:0)+_-1)),v.setUTCHours(0,0,0,0),v}function getUTCISOWeekYear(o){requiredArgs(1,arguments);var v=toDate_toDate(o),_=v.getUTCFullYear(),x=new Date(0);x.setUTCFullYear(_+1,0,4),x.setUTCHours(0,0,0,0);var w=startOfUTCISOWeek(x),T=new Date(0);T.setUTCFullYear(_,0,4),T.setUTCHours(0,0,0,0);var L=startOfUTCISOWeek(T);return v.getTime()>=w.getTime()?_+1:v.getTime()>=L.getTime()?_:_-1}function startOfUTCISOWeekYear(o){requiredArgs(1,arguments);var v=getUTCISOWeekYear(o),_=new Date(0);return _.setUTCFullYear(v,0,4),_.setUTCHours(0,0,0,0),startOfUTCISOWeek(_)}function getUTCISOWeek(o){requiredArgs(1,arguments);var v=toDate_toDate(o);return Math.round((startOfUTCISOWeek(v).getTime()-startOfUTCISOWeekYear(v).getTime())/6048e5)+1}function getUTCWeekYear(o,v){requiredArgs(1,arguments);var _,x,w,T,L,N,B,H,Y=toDate_toDate(o),Z=Y.getUTCFullYear(),X=toInteger(null!==(_=null!==(x=null!==(w=null!==(T=null==v?void 0:v.firstWeekContainsDate)&&void 0!==T?T:null==v?void 0:null===(L=v.locale)||void 0===L?void 0:null===(N=L.options)||void 0===N?void 0:N.firstWeekContainsDate)&&void 0!==w?w:tP.firstWeekContainsDate)&&void 0!==x?x:null===(B=tP.locale)||void 0===B?void 0:null===(H=B.options)||void 0===H?void 0:H.firstWeekContainsDate)&&void 0!==_?_:1);if(!(X>=1&&X<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var et=new Date(0);et.setUTCFullYear(Z+1,0,X),et.setUTCHours(0,0,0,0);var en=startOfUTCWeek(et,v),er=new Date(0);er.setUTCFullYear(Z,0,X),er.setUTCHours(0,0,0,0);var ei=startOfUTCWeek(er,v);return Y.getTime()>=en.getTime()?Z+1:Y.getTime()>=ei.getTime()?Z:Z-1}function startOfUTCWeekYear(o,v){requiredArgs(1,arguments);var _,x,w,T,L,N,B,H,Y=toInteger(null!==(_=null!==(x=null!==(w=null!==(T=null==v?void 0:v.firstWeekContainsDate)&&void 0!==T?T:null==v?void 0:null===(L=v.locale)||void 0===L?void 0:null===(N=L.options)||void 0===N?void 0:N.firstWeekContainsDate)&&void 0!==w?w:tP.firstWeekContainsDate)&&void 0!==x?x:null===(B=tP.locale)||void 0===B?void 0:null===(H=B.options)||void 0===H?void 0:H.firstWeekContainsDate)&&void 0!==_?_:1),Z=getUTCWeekYear(o,v),X=new Date(0);return X.setUTCFullYear(Z,0,Y),X.setUTCHours(0,0,0,0),startOfUTCWeek(X,v)}function getUTCWeek(o,v){requiredArgs(1,arguments);var _=toDate_toDate(o);return Math.round((startOfUTCWeek(_,v).getTime()-startOfUTCWeekYear(_,v).getTime())/6048e5)+1}function addLeadingZeros(o,v){for(var _=Math.abs(o).toString();_.length<v;)_="0"+_;return(o<0?"-":"")+_}var iC={y:function(o,v){var _=o.getUTCFullYear(),x=_>0?_:1-_;return addLeadingZeros("yy"===v?x%100:x,v.length)},M:function(o,v){var _=o.getUTCMonth();return"M"===v?String(_+1):addLeadingZeros(_+1,2)},d:function(o,v){return addLeadingZeros(o.getUTCDate(),v.length)},a:function(o,v){var _=o.getUTCHours()/12>=1?"pm":"am";switch(v){case"a":case"aa":return _.toUpperCase();case"aaa":return _;case"aaaaa":return _[0];default:return"am"===_?"a.m.":"p.m."}},h:function(o,v){return addLeadingZeros(o.getUTCHours()%12||12,v.length)},H:function(o,v){return addLeadingZeros(o.getUTCHours(),v.length)},m:function(o,v){return addLeadingZeros(o.getUTCMinutes(),v.length)},s:function(o,v){return addLeadingZeros(o.getUTCSeconds(),v.length)},S:function(o,v){var _=v.length;return addLeadingZeros(Math.floor(o.getUTCMilliseconds()*Math.pow(10,_-3)),v.length)}},iT={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function formatTimezoneShort(o,v){var _=o>0?"-":"+",x=Math.abs(o),w=Math.floor(x/60),T=x%60;return 0===T?_+String(w):_+String(w)+(v||"")+addLeadingZeros(T,2)}function formatTimezoneWithOptionalMinutes(o,v){return o%60==0?(o>0?"-":"+")+addLeadingZeros(Math.abs(o)/60,2):formatTimezone(o,v)}function formatTimezone(o,v){var _=o>0?"-":"+",x=Math.abs(o);return _+addLeadingZeros(Math.floor(x/60),2)+(v||"")+addLeadingZeros(x%60,2)}var iM={G:function(o,v,_){var x=o.getUTCFullYear()>0?1:0;switch(v){case"G":case"GG":case"GGG":return _.era(x,{width:"abbreviated"});case"GGGGG":return _.era(x,{width:"narrow"});default:return _.era(x,{width:"wide"})}},y:function(o,v,_){if("yo"===v){var x=o.getUTCFullYear(),w=x>0?x:1-x;return _.ordinalNumber(w,{unit:"year"})}return iC.y(o,v)},Y:function(o,v,_,x){var w=getUTCWeekYear(o,x),T=w>0?w:1-w;return"YY"===v?addLeadingZeros(T%100,2):"Yo"===v?_.ordinalNumber(T,{unit:"year"}):addLeadingZeros(T,v.length)},R:function(o,v){return addLeadingZeros(getUTCISOWeekYear(o),v.length)},u:function(o,v){return addLeadingZeros(o.getUTCFullYear(),v.length)},Q:function(o,v,_){var x=Math.ceil((o.getUTCMonth()+1)/3);switch(v){case"Q":return String(x);case"QQ":return addLeadingZeros(x,2);case"Qo":return _.ordinalNumber(x,{unit:"quarter"});case"QQQ":return _.quarter(x,{width:"abbreviated",context:"formatting"});case"QQQQQ":return _.quarter(x,{width:"narrow",context:"formatting"});default:return _.quarter(x,{width:"wide",context:"formatting"})}},q:function(o,v,_){var x=Math.ceil((o.getUTCMonth()+1)/3);switch(v){case"q":return String(x);case"qq":return addLeadingZeros(x,2);case"qo":return _.ordinalNumber(x,{unit:"quarter"});case"qqq":return _.quarter(x,{width:"abbreviated",context:"standalone"});case"qqqqq":return _.quarter(x,{width:"narrow",context:"standalone"});default:return _.quarter(x,{width:"wide",context:"standalone"})}},M:function(o,v,_){var x=o.getUTCMonth();switch(v){case"M":case"MM":return iC.M(o,v);case"Mo":return _.ordinalNumber(x+1,{unit:"month"});case"MMM":return _.month(x,{width:"abbreviated",context:"formatting"});case"MMMMM":return _.month(x,{width:"narrow",context:"formatting"});default:return _.month(x,{width:"wide",context:"formatting"})}},L:function(o,v,_){var x=o.getUTCMonth();switch(v){case"L":return String(x+1);case"LL":return addLeadingZeros(x+1,2);case"Lo":return _.ordinalNumber(x+1,{unit:"month"});case"LLL":return _.month(x,{width:"abbreviated",context:"standalone"});case"LLLLL":return _.month(x,{width:"narrow",context:"standalone"});default:return _.month(x,{width:"wide",context:"standalone"})}},w:function(o,v,_,x){var w=getUTCWeek(o,x);return"wo"===v?_.ordinalNumber(w,{unit:"week"}):addLeadingZeros(w,v.length)},I:function(o,v,_){var x=getUTCISOWeek(o);return"Io"===v?_.ordinalNumber(x,{unit:"week"}):addLeadingZeros(x,v.length)},d:function(o,v,_){return"do"===v?_.ordinalNumber(o.getUTCDate(),{unit:"date"}):iC.d(o,v)},D:function(o,v,_){var x=getUTCDayOfYear(o);return"Do"===v?_.ordinalNumber(x,{unit:"dayOfYear"}):addLeadingZeros(x,v.length)},E:function(o,v,_){var x=o.getUTCDay();switch(v){case"E":case"EE":case"EEE":return _.day(x,{width:"abbreviated",context:"formatting"});case"EEEEE":return _.day(x,{width:"narrow",context:"formatting"});case"EEEEEE":return _.day(x,{width:"short",context:"formatting"});default:return _.day(x,{width:"wide",context:"formatting"})}},e:function(o,v,_,x){var w=o.getUTCDay(),T=(w-x.weekStartsOn+8)%7||7;switch(v){case"e":return String(T);case"ee":return addLeadingZeros(T,2);case"eo":return _.ordinalNumber(T,{unit:"day"});case"eee":return _.day(w,{width:"abbreviated",context:"formatting"});case"eeeee":return _.day(w,{width:"narrow",context:"formatting"});case"eeeeee":return _.day(w,{width:"short",context:"formatting"});default:return _.day(w,{width:"wide",context:"formatting"})}},c:function(o,v,_,x){var w=o.getUTCDay(),T=(w-x.weekStartsOn+8)%7||7;switch(v){case"c":return String(T);case"cc":return addLeadingZeros(T,v.length);case"co":return _.ordinalNumber(T,{unit:"day"});case"ccc":return _.day(w,{width:"abbreviated",context:"standalone"});case"ccccc":return _.day(w,{width:"narrow",context:"standalone"});case"cccccc":return _.day(w,{width:"short",context:"standalone"});default:return _.day(w,{width:"wide",context:"standalone"})}},i:function(o,v,_){var x=o.getUTCDay(),w=0===x?7:x;switch(v){case"i":return String(w);case"ii":return addLeadingZeros(w,v.length);case"io":return _.ordinalNumber(w,{unit:"day"});case"iii":return _.day(x,{width:"abbreviated",context:"formatting"});case"iiiii":return _.day(x,{width:"narrow",context:"formatting"});case"iiiiii":return _.day(x,{width:"short",context:"formatting"});default:return _.day(x,{width:"wide",context:"formatting"})}},a:function(o,v,_){var x=o.getUTCHours()/12>=1?"pm":"am";switch(v){case"a":case"aa":return _.dayPeriod(x,{width:"abbreviated",context:"formatting"});case"aaa":return _.dayPeriod(x,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return _.dayPeriod(x,{width:"narrow",context:"formatting"});default:return _.dayPeriod(x,{width:"wide",context:"formatting"})}},b:function(o,v,_){var x,w=o.getUTCHours();switch(x=12===w?iT.noon:0===w?iT.midnight:w/12>=1?"pm":"am",v){case"b":case"bb":return _.dayPeriod(x,{width:"abbreviated",context:"formatting"});case"bbb":return _.dayPeriod(x,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return _.dayPeriod(x,{width:"narrow",context:"formatting"});default:return _.dayPeriod(x,{width:"wide",context:"formatting"})}},B:function(o,v,_){var x,w=o.getUTCHours();switch(x=w>=17?iT.evening:w>=12?iT.afternoon:w>=4?iT.morning:iT.night,v){case"B":case"BB":case"BBB":return _.dayPeriod(x,{width:"abbreviated",context:"formatting"});case"BBBBB":return _.dayPeriod(x,{width:"narrow",context:"formatting"});default:return _.dayPeriod(x,{width:"wide",context:"formatting"})}},h:function(o,v,_){if("ho"===v){var x=o.getUTCHours()%12;return 0===x&&(x=12),_.ordinalNumber(x,{unit:"hour"})}return iC.h(o,v)},H:function(o,v,_){return"Ho"===v?_.ordinalNumber(o.getUTCHours(),{unit:"hour"}):iC.H(o,v)},K:function(o,v,_){var x=o.getUTCHours()%12;return"Ko"===v?_.ordinalNumber(x,{unit:"hour"}):addLeadingZeros(x,v.length)},k:function(o,v,_){var x=o.getUTCHours();return(0===x&&(x=24),"ko"===v)?_.ordinalNumber(x,{unit:"hour"}):addLeadingZeros(x,v.length)},m:function(o,v,_){return"mo"===v?_.ordinalNumber(o.getUTCMinutes(),{unit:"minute"}):iC.m(o,v)},s:function(o,v,_){return"so"===v?_.ordinalNumber(o.getUTCSeconds(),{unit:"second"}):iC.s(o,v)},S:function(o,v){return iC.S(o,v)},X:function(o,v,_,x){var w=(x._originalDate||o).getTimezoneOffset();if(0===w)return"Z";switch(v){case"X":return formatTimezoneWithOptionalMinutes(w);case"XXXX":case"XX":return formatTimezone(w);default:return formatTimezone(w,":")}},x:function(o,v,_,x){var w=(x._originalDate||o).getTimezoneOffset();switch(v){case"x":return formatTimezoneWithOptionalMinutes(w);case"xxxx":case"xx":return formatTimezone(w);default:return formatTimezone(w,":")}},O:function(o,v,_,x){var w=(x._originalDate||o).getTimezoneOffset();switch(v){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(w,":");default:return"GMT"+formatTimezone(w,":")}},z:function(o,v,_,x){var w=(x._originalDate||o).getTimezoneOffset();switch(v){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(w,":");default:return"GMT"+formatTimezone(w,":")}},t:function(o,v,_,x){return addLeadingZeros(Math.floor((x._originalDate||o).getTime()/1e3),v.length)},T:function(o,v,_,x){return addLeadingZeros((x._originalDate||o).getTime(),v.length)}},dateLongFormatter=function(o,v){switch(o){case"P":return v.date({width:"short"});case"PP":return v.date({width:"medium"});case"PPP":return v.date({width:"long"});default:return v.date({width:"full"})}},timeLongFormatter=function(o,v){switch(o){case"p":return v.time({width:"short"});case"pp":return v.time({width:"medium"});case"ppp":return v.time({width:"long"});default:return v.time({width:"full"})}},iP={p:timeLongFormatter,P:function(o,v){var _,x=o.match(/(P+)(p+)?/)||[],w=x[1],T=x[2];if(!T)return dateLongFormatter(o,v);switch(w){case"P":_=v.dateTime({width:"short"});break;case"PP":_=v.dateTime({width:"medium"});break;case"PPP":_=v.dateTime({width:"long"});break;default:_=v.dateTime({width:"full"})}return _.replace("{{date}}",dateLongFormatter(w,v)).replace("{{time}}",timeLongFormatter(T,v))}};function getTimezoneOffsetInMilliseconds(o){var v=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return v.setUTCFullYear(o.getFullYear()),o.getTime()-v.getTime()}var iI=["D","DD"],iD=["YY","YYYY"];function isProtectedDayOfYearToken(o){return -1!==iI.indexOf(o)}function isProtectedWeekYearToken(o){return -1!==iD.indexOf(o)}function throwProtectedError(o,v,_){if("YYYY"===o)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(v,"`) for formatting years to the input `").concat(_,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===o)throw RangeError("Use `yy` instead of `YY` (in `".concat(v,"`) for formatting years to the input `").concat(_,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===o)throw RangeError("Use `d` instead of `D` (in `".concat(v,"`) for formatting days of the month to the input `").concat(_,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===o)throw RangeError("Use `dd` instead of `DD` (in `".concat(v,"`) for formatting days of the month to the input `").concat(_,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var iE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iO={date:buildFormatLongFn({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:buildFormatLongFn({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},iA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ik={code:"en-US",formatDistance:function(o,v,_){var x,w=iE[o];return(x="string"==typeof w?w:1===v?w.one:w.other.replace("{{count}}",v.toString()),null!=_&&_.addSuffix)?_.comparison&&_.comparison>0?"in "+x:x+" ago":x},formatLong:iO,formatRelative:function(o,v,_,x){return iA[o]},localize:{ordinalNumber:function(o,v){var _=Number(o),x=_%100;if(x>20||x<10)switch(x%10){case 1:return _+"st";case 2:return _+"nd";case 3:return _+"rd"}return _+"th"},era:buildLocalizeFn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:buildLocalizeFn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(o){return o-1}}),month:buildLocalizeFn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:buildLocalizeFn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:buildMatchPatternFn({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(o){return parseInt(o,10)}}),era:buildMatchFn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(o){return o+1}}),month:buildMatchFn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},iL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iN=/^'([^]*?)'?$/,iF=/''/g,iV=/[a-zA-Z]/;function format_format(o,v,_){requiredArgs(2,arguments);var x,w,T,L,N,B,H,Y,Z,X,et,en,er,ei,ea,eo,el,eu,ec=String(v),ed=null!==(x=null!==(w=null==_?void 0:_.locale)&&void 0!==w?w:tP.locale)&&void 0!==x?x:ik,eh=toInteger(null!==(T=null!==(L=null!==(N=null!==(B=null==_?void 0:_.firstWeekContainsDate)&&void 0!==B?B:null==_?void 0:null===(H=_.locale)||void 0===H?void 0:null===(Y=H.options)||void 0===Y?void 0:Y.firstWeekContainsDate)&&void 0!==N?N:tP.firstWeekContainsDate)&&void 0!==L?L:null===(Z=tP.locale)||void 0===Z?void 0:null===(X=Z.options)||void 0===X?void 0:X.firstWeekContainsDate)&&void 0!==T?T:1);if(!(eh>=1&&eh<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ep=toInteger(null!==(et=null!==(en=null!==(er=null!==(ei=null==_?void 0:_.weekStartsOn)&&void 0!==ei?ei:null==_?void 0:null===(ea=_.locale)||void 0===ea?void 0:null===(eo=ea.options)||void 0===eo?void 0:eo.weekStartsOn)&&void 0!==er?er:tP.weekStartsOn)&&void 0!==en?en:null===(el=tP.locale)||void 0===el?void 0:null===(eu=el.options)||void 0===eu?void 0:eu.weekStartsOn)&&void 0!==et?et:0);if(!(ep>=0&&ep<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ed.localize)throw RangeError("locale must contain localize property");if(!ed.formatLong)throw RangeError("locale must contain formatLong property");var ef=toDate_toDate(o);if(!isValid_isValid(ef))throw RangeError("Invalid time value");var eg=getTimezoneOffsetInMilliseconds(ef),em=subMilliseconds(ef,eg),ey={firstWeekContainsDate:eh,weekStartsOn:ep,locale:ed,_originalDate:ef};return ec.match(iR).map(function(o){var v=o[0];return"p"===v||"P"===v?(0,iP[v])(o,ed.formatLong):o}).join("").match(iL).map(function(x){if("''"===x)return"'";var w=x[0];if("'"===w)return cleanEscapedString(x);var T=iM[w];if(T)return!(null!=_&&_.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(x)&&throwProtectedError(x,v,String(o)),!(null!=_&&_.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(x)&&throwProtectedError(x,v,String(o)),T(em,x,ed.localize,ey);if(w.match(iV))throw RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return x}).join("")}function cleanEscapedString(o){var v=o.match(iN);return v?v[1].replace(iF,"'"):o}function isValidDate(o){return o&&"[object Date]"===Object.prototype.toString.call(o)&&!isNaN(o)}function isNumber_isNumber(o){return"number"==typeof o||"[object Number]"===Object.prototype.toString.call(o)}function isTimestamp(o){return isNumber_isNumber(o)&&isValidDate(new Date(o))}var iB=_(3560);let iz=[[-11,["Pacific/Midway"]],[-10,["Pacific/Honolulu"]],[-9.5,["Pacific/Marquesas"]],[-9,["Pacific/Gambier"]],[-8,["Pacific/Pitcairn"]],[-7,["America/Phoenix"]],[-6,["America/Tegucigalpa"]],[-5,["America/Bogota"]],[-4,["America/Puerto_Rico"]],[-3.5,["America/St_Johns"]],[-3,["America/Montevideo"]],[-2,["Atlantic/South_Georgia"]],[-1,["Atlantic/Cape_Verde"]],[0,["Africa/Accra"]],[1,["Africa/Bangui"]],[2,["Africa/Cairo"]],[3,["Asia/Bahrain","Indian/Antananarivo"]],[3.5,["Asia/Tehran"]],[4,["Asia/Dubai","Asia/Muscat"]],[4.5,["Asia/Kabul"]],[5,["Asia/Samarkand","Asia/Karachi"]],[5.5,["Asia/Kolkata"]],[5.75,["Asia/Kathmandu"]],[6,["Asia/Dhaka"]],[6.5,["Asia/Rangoon","Asia/Rangoon"]],[7,["Asia/Jakarta","Asia/Phnom_Penh","Asia/Bangkok"]],[8,["Asia/Shanghai","Asia/Singapore"]],[8.75,["Australia/Eucla"]],[9,["Asia/Tokyo","Asia/Seoul","Asia/Pyongyang"]],[9.5,["Australia/Darwin"]],[10,["Pacific/Guam"]],[10.5,["Australia/Adelaide"]],[11,["Pacific/Guadalcanal"]],[12,["Pacific/Funafuti"]],[13,["Pacific/Enderbury"]],[13.75,["Pacific/Chatham"]],[14,["Pacific/Kiritimati"]]],ij={0:"Etc/GMT",1:"Etc/GMT-1",2:"Etc/GMT-2",3:"Etc/GMT-3",4:"Etc/GMT-4",5:"Etc/GMT-5",6:"Etc/GMT-6",7:"Etc/GMT-7",8:"Etc/GMT-8",9:"Etc/GMT-9",10:"Etc/GMT-10",11:"Etc/GMT-11",12:"Etc/GMT-12",13:"Etc/GMT-13",14:"Etc/GMT-14","-1":"Etc/GMT+1","-2":"Etc/GMT+2","-3":"Etc/GMT+3","-4":"Etc/GMT+4","-5":"Etc/GMT+5","-6":"Etc/GMT+6","-7":"Etc/GMT+7","-8":"Etc/GMT+8","-9":"Etc/GMT+9","-10":"Etc/GMT+10","-11":"Etc/GMT+11","-12":"Etc/GMT+12"},iH=/([\-\+]{1})(\d{2})\:(\d{2})/,toIANA=o=>{let v=null;if("string"==typeof o){if(!(v=o.match(iH)))return o;let _=parseInt(v[1]+1,10),x=parseInt(v[2],10),w=parseInt(v[3],10);o=_*(x+w/60)}if("number"==typeof o){if(o in ij){let v=ij[o];if(isValidTimezoneIANAString(v))return v}let v=iz.find(v=>v[0]===o);return v&&v[1][0]}},iG={};function isValidTimezoneIANAString(o){if(iG[o])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:o}),iG[o]=!0,!0}catch(o){return!1}}let utcToZonedTime=(o,v,_)=>(0,iB.utcToZonedTime)(o,toIANA(v),_),zonedTimeToUtc=(o,v,_)=>(0,iB.zonedTimeToUtc)(o,toIANA(v),_);function _arrayLikeToArray(o,v){(null==v||v>o.length)&&(v=o.length);for(var _=0,x=Array(v);_<v;_++)x[_]=o[_];return x}function _unsupportedIterableToArray(o,v){if(o){if("string"==typeof o)return _arrayLikeToArray(o,v);var _=Object.prototype.toString.call(o).slice(8,-1);if("Object"===_&&o.constructor&&(_=o.constructor.name),"Map"===_||"Set"===_)return Array.from(o);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray(o,v)}}function _createForOfIteratorHelper(o,v){var _="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!_){if(Array.isArray(o)||(_=_unsupportedIterableToArray(o))||v&&o&&"number"==typeof o.length){_&&(o=_);var x=0,F=function(){};return{s:F,n:function(){return x>=o.length?{done:!0}:{done:!1,value:o[x++]}},e:function(o){throw o},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,T=!0,L=!1;return{s:function(){_=_.call(o)},n:function(){var o=_.next();return T=o.done,o},e:function(o){L=!0,w=o},f:function(){try{T||null==_.return||_.return()}finally{if(L)throw w}}}}function assign_assign(o,v){if(null==o)throw TypeError("assign requires that input parameter not be null or undefined");for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(o[_]=v[_]);return o}function _inherits(o,v){if("function"!=typeof v&&null!==v)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(v&&v.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),v&&setPrototypeOf_setPrototypeOf(o,v)}function getPrototypeOf_getPrototypeOf(o){return(getPrototypeOf_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function isNativeReflectConstruct_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function _possibleConstructorReturn(o,v){if(v&&("object"===_typeof(v)||"function"==typeof v))return v;if(void 0!==v)throw TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(o)}function _createSuper(o){var v=isNativeReflectConstruct_isNativeReflectConstruct();return function(){var _,x=getPrototypeOf_getPrototypeOf(o);if(v){var w=getPrototypeOf_getPrototypeOf(this).constructor;_=Reflect.construct(x,arguments,w)}else _=x.apply(this,arguments);return _possibleConstructorReturn(this,_)}}function _classCallCheck(o,v){if(!(o instanceof v))throw TypeError("Cannot call a class as a function")}function _toPrimitive(o,v){if("object"!==_typeof(o)||null===o)return o;var _=o[Symbol.toPrimitive];if(void 0!==_){var x=_.call(o,v||"default");if("object"!==_typeof(x))return x;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(o)}function _toPropertyKey(o){var v=_toPrimitive(o,"string");return"symbol"===_typeof(v)?v:String(v)}function _defineProperties(o,v){for(var _=0;_<v.length;_++){var x=v[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(o,_toPropertyKey(x.key),x)}}function _createClass(o,v,_){return v&&_defineProperties(o.prototype,v),_&&_defineProperties(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _defineProperty(o,v,_){return(v=_toPropertyKey(v))in o?Object.defineProperty(o,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[v]=_,o}var iU=function(){function Setter(){_classCallCheck(this,Setter),_defineProperty(this,"priority",void 0),_defineProperty(this,"subPriority",0)}return _createClass(Setter,[{key:"validate",value:function(o,v){return!0}}]),Setter}(),iW=function(o){_inherits(ValueSetter,o);var v=_createSuper(ValueSetter);function ValueSetter(o,_,x,w,T){var L;return _classCallCheck(this,ValueSetter),(L=v.call(this)).value=o,L.validateValue=_,L.setValue=x,L.priority=w,T&&(L.subPriority=T),L}return _createClass(ValueSetter,[{key:"validate",value:function(o,v){return this.validateValue(o,this.value,v)}},{key:"set",value:function(o,v,_){return this.setValue(o,v,this.value,_)}}]),ValueSetter}(iU),iY=function(o){_inherits(DateToSystemTimezoneSetter,o);var v=_createSuper(DateToSystemTimezoneSetter);function DateToSystemTimezoneSetter(){var o;_classCallCheck(this,DateToSystemTimezoneSetter);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",10),_defineProperty(_assertThisInitialized(o),"subPriority",-1),o}return _createClass(DateToSystemTimezoneSetter,[{key:"set",value:function(o,v){if(v.timestampIsSet)return o;var _=new Date(0);return _.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),_.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),_}}]),DateToSystemTimezoneSetter}(iU),iK=function(){function Parser(){_classCallCheck(this,Parser),_defineProperty(this,"incompatibleTokens",void 0),_defineProperty(this,"priority",void 0),_defineProperty(this,"subPriority",void 0)}return _createClass(Parser,[{key:"run",value:function(o,v,_,x){var w=this.parse(o,v,_,x);return w?{setter:new iW(w.value,this.validate,this.set,this.priority,this.subPriority),rest:w.rest}:null}},{key:"validate",value:function(o,v,_){return!0}}]),Parser}(),iZ=function(o){_inherits(EraParser,o);var v=_createSuper(EraParser);function EraParser(){var o;_classCallCheck(this,EraParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",140),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["R","u","t","T"]),o}return _createClass(EraParser,[{key:"parse",value:function(o,v,_){switch(v){case"G":case"GG":case"GGG":return _.era(o,{width:"abbreviated"})||_.era(o,{width:"narrow"});case"GGGGG":return _.era(o,{width:"narrow"});default:return _.era(o,{width:"wide"})||_.era(o,{width:"abbreviated"})||_.era(o,{width:"narrow"})}}},{key:"set",value:function(o,v,_){return v.era=_,o.setUTCFullYear(_,0,1),o.setUTCHours(0,0,0,0),o}}]),EraParser}(iK),iq={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},iX={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(o,v){return o?{value:v(o.value),rest:o.rest}:o}function parseNumericPattern(o,v){var _=v.match(o);return _?{value:parseInt(_[0],10),rest:v.slice(_[0].length)}:null}function parseTimezonePattern(o,v){var _=v.match(o);return _?"Z"===_[0]?{value:0,rest:v.slice(1)}:{value:("+"===_[1]?1:-1)*((_[2]?parseInt(_[2],10):0)*36e5+(_[3]?parseInt(_[3],10):0)*6e4+(_[5]?parseInt(_[5],10):0)*1e3),rest:v.slice(_[0].length)}:null}function parseAnyDigitsSigned(o){return parseNumericPattern(iq.anyDigitsSigned,o)}function parseNDigits(o,v){switch(o){case 1:return parseNumericPattern(iq.singleDigit,v);case 2:return parseNumericPattern(iq.twoDigits,v);case 3:return parseNumericPattern(iq.threeDigits,v);case 4:return parseNumericPattern(iq.fourDigits,v);default:return parseNumericPattern(RegExp("^\\d{1,"+o+"}"),v)}}function parseNDigitsSigned(o,v){switch(o){case 1:return parseNumericPattern(iq.singleDigitSigned,v);case 2:return parseNumericPattern(iq.twoDigitsSigned,v);case 3:return parseNumericPattern(iq.threeDigitsSigned,v);case 4:return parseNumericPattern(iq.fourDigitsSigned,v);default:return parseNumericPattern(RegExp("^-?\\d{1,"+o+"}"),v)}}function dayPeriodEnumToHours(o){switch(o){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function normalizeTwoDigitYear(o,v){var _,x=v>0,w=x?v:1-v;if(w<=50)_=o||100;else{var T=w+50;_=o+100*Math.floor(T/100)-(o>=T%100?100:0)}return x?_:1-_}function isLeapYearIndex(o){return o%400==0||o%4==0&&o%100!=0}var i$=function(o){_inherits(YearParser,o);var v=_createSuper(YearParser);function YearParser(){var o;_classCallCheck(this,YearParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",130),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),o}return _createClass(YearParser,[{key:"parse",value:function(o,v,_){var valueCallback=function(o){return{year:o,isTwoDigitYear:"yy"===v}};switch(v){case"y":return mapValue(parseNDigits(4,o),valueCallback);case"yo":return mapValue(_.ordinalNumber(o,{unit:"year"}),valueCallback);default:return mapValue(parseNDigits(v.length,o),valueCallback)}}},{key:"validate",value:function(o,v){return v.isTwoDigitYear||v.year>0}},{key:"set",value:function(o,v,_){var x=o.getUTCFullYear();if(_.isTwoDigitYear){var w=normalizeTwoDigitYear(_.year,x);return o.setUTCFullYear(w,0,1),o.setUTCHours(0,0,0,0),o}var T="era"in v&&1!==v.era?1-_.year:_.year;return o.setUTCFullYear(T,0,1),o.setUTCHours(0,0,0,0),o}}]),YearParser}(iK),iQ=function(o){_inherits(LocalWeekYearParser,o);var v=_createSuper(LocalWeekYearParser);function LocalWeekYearParser(){var o;_classCallCheck(this,LocalWeekYearParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",130),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),o}return _createClass(LocalWeekYearParser,[{key:"parse",value:function(o,v,_){var valueCallback=function(o){return{year:o,isTwoDigitYear:"YY"===v}};switch(v){case"Y":return mapValue(parseNDigits(4,o),valueCallback);case"Yo":return mapValue(_.ordinalNumber(o,{unit:"year"}),valueCallback);default:return mapValue(parseNDigits(v.length,o),valueCallback)}}},{key:"validate",value:function(o,v){return v.isTwoDigitYear||v.year>0}},{key:"set",value:function(o,v,_,x){var w=getUTCWeekYear(o,x);if(_.isTwoDigitYear){var T=normalizeTwoDigitYear(_.year,w);return o.setUTCFullYear(T,0,x.firstWeekContainsDate),o.setUTCHours(0,0,0,0),startOfUTCWeek(o,x)}var L="era"in v&&1!==v.era?1-_.year:_.year;return o.setUTCFullYear(L,0,x.firstWeekContainsDate),o.setUTCHours(0,0,0,0),startOfUTCWeek(o,x)}}]),LocalWeekYearParser}(iK),iJ=function(o){_inherits(ISOWeekYearParser,o);var v=_createSuper(ISOWeekYearParser);function ISOWeekYearParser(){var o;_classCallCheck(this,ISOWeekYearParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",130),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),o}return _createClass(ISOWeekYearParser,[{key:"parse",value:function(o,v){return"R"===v?parseNDigitsSigned(4,o):parseNDigitsSigned(v.length,o)}},{key:"set",value:function(o,v,_){var x=new Date(0);return x.setUTCFullYear(_,0,4),x.setUTCHours(0,0,0,0),startOfUTCISOWeek(x)}}]),ISOWeekYearParser}(iK),i0=function(o){_inherits(ExtendedYearParser,o);var v=_createSuper(ExtendedYearParser);function ExtendedYearParser(){var o;_classCallCheck(this,ExtendedYearParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",130),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),o}return _createClass(ExtendedYearParser,[{key:"parse",value:function(o,v){return"u"===v?parseNDigitsSigned(4,o):parseNDigitsSigned(v.length,o)}},{key:"set",value:function(o,v,_){return o.setUTCFullYear(_,0,1),o.setUTCHours(0,0,0,0),o}}]),ExtendedYearParser}(iK),i1=function(o){_inherits(QuarterParser,o);var v=_createSuper(QuarterParser);function QuarterParser(){var o;_classCallCheck(this,QuarterParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",120),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),o}return _createClass(QuarterParser,[{key:"parse",value:function(o,v,_){switch(v){case"Q":case"QQ":return parseNDigits(v.length,o);case"Qo":return _.ordinalNumber(o,{unit:"quarter"});case"QQQ":return _.quarter(o,{width:"abbreviated",context:"formatting"})||_.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return _.quarter(o,{width:"narrow",context:"formatting"});default:return _.quarter(o,{width:"wide",context:"formatting"})||_.quarter(o,{width:"abbreviated",context:"formatting"})||_.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,v){return v>=1&&v<=4}},{key:"set",value:function(o,v,_){return o.setUTCMonth((_-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),QuarterParser}(iK),i2=function(o){_inherits(StandAloneQuarterParser,o);var v=_createSuper(StandAloneQuarterParser);function StandAloneQuarterParser(){var o;_classCallCheck(this,StandAloneQuarterParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",120),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),o}return _createClass(StandAloneQuarterParser,[{key:"parse",value:function(o,v,_){switch(v){case"q":case"qq":return parseNDigits(v.length,o);case"qo":return _.ordinalNumber(o,{unit:"quarter"});case"qqq":return _.quarter(o,{width:"abbreviated",context:"standalone"})||_.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return _.quarter(o,{width:"narrow",context:"standalone"});default:return _.quarter(o,{width:"wide",context:"standalone"})||_.quarter(o,{width:"abbreviated",context:"standalone"})||_.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,v){return v>=1&&v<=4}},{key:"set",value:function(o,v,_){return o.setUTCMonth((_-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),StandAloneQuarterParser}(iK),i5=function(o){_inherits(MonthParser,o);var v=_createSuper(MonthParser);function MonthParser(){var o;_classCallCheck(this,MonthParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),_defineProperty(_assertThisInitialized(o),"priority",110),o}return _createClass(MonthParser,[{key:"parse",value:function(o,v,_){var valueCallback=function(o){return o-1};switch(v){case"M":return mapValue(parseNumericPattern(iq.month,o),valueCallback);case"MM":return mapValue(parseNDigits(2,o),valueCallback);case"Mo":return mapValue(_.ordinalNumber(o,{unit:"month"}),valueCallback);case"MMM":return _.month(o,{width:"abbreviated",context:"formatting"})||_.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return _.month(o,{width:"narrow",context:"formatting"});default:return _.month(o,{width:"wide",context:"formatting"})||_.month(o,{width:"abbreviated",context:"formatting"})||_.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,v){return v>=0&&v<=11}},{key:"set",value:function(o,v,_){return o.setUTCMonth(_,1),o.setUTCHours(0,0,0,0),o}}]),MonthParser}(iK),i3=function(o){_inherits(StandAloneMonthParser,o);var v=_createSuper(StandAloneMonthParser);function StandAloneMonthParser(){var o;_classCallCheck(this,StandAloneMonthParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",110),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),o}return _createClass(StandAloneMonthParser,[{key:"parse",value:function(o,v,_){var valueCallback=function(o){return o-1};switch(v){case"L":return mapValue(parseNumericPattern(iq.month,o),valueCallback);case"LL":return mapValue(parseNDigits(2,o),valueCallback);case"Lo":return mapValue(_.ordinalNumber(o,{unit:"month"}),valueCallback);case"LLL":return _.month(o,{width:"abbreviated",context:"standalone"})||_.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return _.month(o,{width:"narrow",context:"standalone"});default:return _.month(o,{width:"wide",context:"standalone"})||_.month(o,{width:"abbreviated",context:"standalone"})||_.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,v){return v>=0&&v<=11}},{key:"set",value:function(o,v,_){return o.setUTCMonth(_,1),o.setUTCHours(0,0,0,0),o}}]),StandAloneMonthParser}(iK);function setUTCWeek(o,v,_){requiredArgs(2,arguments);var x=toDate_toDate(o),w=toInteger(v),T=getUTCWeek(x,_)-w;return x.setUTCDate(x.getUTCDate()-7*T),x}var i4=function(o){_inherits(LocalWeekParser,o);var v=_createSuper(LocalWeekParser);function LocalWeekParser(){var o;_classCallCheck(this,LocalWeekParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",100),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),o}return _createClass(LocalWeekParser,[{key:"parse",value:function(o,v,_){switch(v){case"w":return parseNumericPattern(iq.week,o);case"wo":return _.ordinalNumber(o,{unit:"week"});default:return parseNDigits(v.length,o)}}},{key:"validate",value:function(o,v){return v>=1&&v<=53}},{key:"set",value:function(o,v,_,x){return startOfUTCWeek(setUTCWeek(o,_,x),x)}}]),LocalWeekParser}(iK);function setUTCISOWeek(o,v){requiredArgs(2,arguments);var _=toDate_toDate(o),x=toInteger(v),w=getUTCISOWeek(_)-x;return _.setUTCDate(_.getUTCDate()-7*w),_}var i7=function(o){_inherits(ISOWeekParser,o);var v=_createSuper(ISOWeekParser);function ISOWeekParser(){var o;_classCallCheck(this,ISOWeekParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",100),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),o}return _createClass(ISOWeekParser,[{key:"parse",value:function(o,v,_){switch(v){case"I":return parseNumericPattern(iq.week,o);case"Io":return _.ordinalNumber(o,{unit:"week"});default:return parseNDigits(v.length,o)}}},{key:"validate",value:function(o,v){return v>=1&&v<=53}},{key:"set",value:function(o,v,_){return startOfUTCISOWeek(setUTCISOWeek(o,_))}}]),ISOWeekParser}(iK),i6=[31,28,31,30,31,30,31,31,30,31,30,31],i9=[31,29,31,30,31,30,31,31,30,31,30,31],i8=function(o){_inherits(DateParser,o);var v=_createSuper(DateParser);function DateParser(){var o;_classCallCheck(this,DateParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",90),_defineProperty(_assertThisInitialized(o),"subPriority",1),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),o}return _createClass(DateParser,[{key:"parse",value:function(o,v,_){switch(v){case"d":return parseNumericPattern(iq.date,o);case"do":return _.ordinalNumber(o,{unit:"date"});default:return parseNDigits(v.length,o)}}},{key:"validate",value:function(o,v){var _=isLeapYearIndex(o.getUTCFullYear()),x=o.getUTCMonth();return _?v>=1&&v<=i9[x]:v>=1&&v<=i6[x]}},{key:"set",value:function(o,v,_){return o.setUTCDate(_),o.setUTCHours(0,0,0,0),o}}]),DateParser}(iK),ar=function(o){_inherits(DayOfYearParser,o);var v=_createSuper(DayOfYearParser);function DayOfYearParser(){var o;_classCallCheck(this,DayOfYearParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",90),_defineProperty(_assertThisInitialized(o),"subpriority",1),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),o}return _createClass(DayOfYearParser,[{key:"parse",value:function(o,v,_){switch(v){case"D":case"DD":return parseNumericPattern(iq.dayOfYear,o);case"Do":return _.ordinalNumber(o,{unit:"date"});default:return parseNDigits(v.length,o)}}},{key:"validate",value:function(o,v){return isLeapYearIndex(o.getUTCFullYear())?v>=1&&v<=366:v>=1&&v<=365}},{key:"set",value:function(o,v,_){return o.setUTCMonth(0,_),o.setUTCHours(0,0,0,0),o}}]),DayOfYearParser}(iK);function setUTCDay(o,v,_){requiredArgs(2,arguments);var x,w,T,L,N,B,H,Y,Z=toInteger(null!==(x=null!==(w=null!==(T=null!==(L=null==_?void 0:_.weekStartsOn)&&void 0!==L?L:null==_?void 0:null===(N=_.locale)||void 0===N?void 0:null===(B=N.options)||void 0===B?void 0:B.weekStartsOn)&&void 0!==T?T:tP.weekStartsOn)&&void 0!==w?w:null===(H=tP.locale)||void 0===H?void 0:null===(Y=H.options)||void 0===Y?void 0:Y.weekStartsOn)&&void 0!==x?x:0);if(!(Z>=0&&Z<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var X=toDate_toDate(o),et=toInteger(v),en=X.getUTCDay();return X.setUTCDate(X.getUTCDate()+(((et%7+7)%7<Z?7:0)+et-en)),X}var ai=function(o){_inherits(DayParser,o);var v=_createSuper(DayParser);function DayParser(){var o;_classCallCheck(this,DayParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",90),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["D","i","e","c","t","T"]),o}return _createClass(DayParser,[{key:"parse",value:function(o,v,_){switch(v){case"E":case"EE":case"EEE":return _.day(o,{width:"abbreviated",context:"formatting"})||_.day(o,{width:"short",context:"formatting"})||_.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return _.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return _.day(o,{width:"short",context:"formatting"})||_.day(o,{width:"narrow",context:"formatting"});default:return _.day(o,{width:"wide",context:"formatting"})||_.day(o,{width:"abbreviated",context:"formatting"})||_.day(o,{width:"short",context:"formatting"})||_.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,v){return v>=0&&v<=6}},{key:"set",value:function(o,v,_,x){return(o=setUTCDay(o,_,x)).setUTCHours(0,0,0,0),o}}]),DayParser}(iK),aa=function(o){_inherits(LocalDayParser,o);var v=_createSuper(LocalDayParser);function LocalDayParser(){var o;_classCallCheck(this,LocalDayParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",90),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),o}return _createClass(LocalDayParser,[{key:"parse",value:function(o,v,_,x){var valueCallback=function(o){return(o+x.weekStartsOn+6)%7+7*Math.floor((o-1)/7)};switch(v){case"e":case"ee":return mapValue(parseNDigits(v.length,o),valueCallback);case"eo":return mapValue(_.ordinalNumber(o,{unit:"day"}),valueCallback);case"eee":return _.day(o,{width:"abbreviated",context:"formatting"})||_.day(o,{width:"short",context:"formatting"})||_.day(o,{width:"narrow",context:"formatting"});case"eeeee":return _.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return _.day(o,{width:"short",context:"formatting"})||_.day(o,{width:"narrow",context:"formatting"});default:return _.day(o,{width:"wide",context:"formatting"})||_.day(o,{width:"abbreviated",context:"formatting"})||_.day(o,{width:"short",context:"formatting"})||_.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,v){return v>=0&&v<=6}},{key:"set",value:function(o,v,_,x){return(o=setUTCDay(o,_,x)).setUTCHours(0,0,0,0),o}}]),LocalDayParser}(iK),ao=function(o){_inherits(StandAloneLocalDayParser,o);var v=_createSuper(StandAloneLocalDayParser);function StandAloneLocalDayParser(){var o;_classCallCheck(this,StandAloneLocalDayParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",90),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),o}return _createClass(StandAloneLocalDayParser,[{key:"parse",value:function(o,v,_,x){var valueCallback=function(o){return(o+x.weekStartsOn+6)%7+7*Math.floor((o-1)/7)};switch(v){case"c":case"cc":return mapValue(parseNDigits(v.length,o),valueCallback);case"co":return mapValue(_.ordinalNumber(o,{unit:"day"}),valueCallback);case"ccc":return _.day(o,{width:"abbreviated",context:"standalone"})||_.day(o,{width:"short",context:"standalone"})||_.day(o,{width:"narrow",context:"standalone"});case"ccccc":return _.day(o,{width:"narrow",context:"standalone"});case"cccccc":return _.day(o,{width:"short",context:"standalone"})||_.day(o,{width:"narrow",context:"standalone"});default:return _.day(o,{width:"wide",context:"standalone"})||_.day(o,{width:"abbreviated",context:"standalone"})||_.day(o,{width:"short",context:"standalone"})||_.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,v){return v>=0&&v<=6}},{key:"set",value:function(o,v,_,x){return(o=setUTCDay(o,_,x)).setUTCHours(0,0,0,0),o}}]),StandAloneLocalDayParser}(iK);function setUTCISODay(o,v){requiredArgs(2,arguments);var _=toInteger(v);_%7==0&&(_-=7);var x=toDate_toDate(o),w=((_%7+7)%7<1?7:0)+_-x.getUTCDay();return x.setUTCDate(x.getUTCDate()+w),x}var as=function(o){_inherits(ISODayParser,o);var v=_createSuper(ISODayParser);function ISODayParser(){var o;_classCallCheck(this,ISODayParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",90),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),o}return _createClass(ISODayParser,[{key:"parse",value:function(o,v,_){var valueCallback=function(o){return 0===o?7:o};switch(v){case"i":case"ii":return parseNDigits(v.length,o);case"io":return _.ordinalNumber(o,{unit:"day"});case"iii":return mapValue(_.day(o,{width:"abbreviated",context:"formatting"})||_.day(o,{width:"short",context:"formatting"})||_.day(o,{width:"narrow",context:"formatting"}),valueCallback);case"iiiii":return mapValue(_.day(o,{width:"narrow",context:"formatting"}),valueCallback);case"iiiiii":return mapValue(_.day(o,{width:"short",context:"formatting"})||_.day(o,{width:"narrow",context:"formatting"}),valueCallback);default:return mapValue(_.day(o,{width:"wide",context:"formatting"})||_.day(o,{width:"abbreviated",context:"formatting"})||_.day(o,{width:"short",context:"formatting"})||_.day(o,{width:"narrow",context:"formatting"}),valueCallback)}}},{key:"validate",value:function(o,v){return v>=1&&v<=7}},{key:"set",value:function(o,v,_){return(o=setUTCISODay(o,_)).setUTCHours(0,0,0,0),o}}]),ISODayParser}(iK),al=function(o){_inherits(AMPMParser,o);var v=_createSuper(AMPMParser);function AMPMParser(){var o;_classCallCheck(this,AMPMParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",80),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["b","B","H","k","t","T"]),o}return _createClass(AMPMParser,[{key:"parse",value:function(o,v,_){switch(v){case"a":case"aa":case"aaa":return _.dayPeriod(o,{width:"abbreviated",context:"formatting"})||_.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return _.dayPeriod(o,{width:"narrow",context:"formatting"});default:return _.dayPeriod(o,{width:"wide",context:"formatting"})||_.dayPeriod(o,{width:"abbreviated",context:"formatting"})||_.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,v,_){return o.setUTCHours(dayPeriodEnumToHours(_),0,0,0),o}}]),AMPMParser}(iK),au=function(o){_inherits(AMPMMidnightParser,o);var v=_createSuper(AMPMMidnightParser);function AMPMMidnightParser(){var o;_classCallCheck(this,AMPMMidnightParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",80),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["a","B","H","k","t","T"]),o}return _createClass(AMPMMidnightParser,[{key:"parse",value:function(o,v,_){switch(v){case"b":case"bb":case"bbb":return _.dayPeriod(o,{width:"abbreviated",context:"formatting"})||_.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return _.dayPeriod(o,{width:"narrow",context:"formatting"});default:return _.dayPeriod(o,{width:"wide",context:"formatting"})||_.dayPeriod(o,{width:"abbreviated",context:"formatting"})||_.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,v,_){return o.setUTCHours(dayPeriodEnumToHours(_),0,0,0),o}}]),AMPMMidnightParser}(iK),ac=function(o){_inherits(DayPeriodParser,o);var v=_createSuper(DayPeriodParser);function DayPeriodParser(){var o;_classCallCheck(this,DayPeriodParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",80),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["a","b","t","T"]),o}return _createClass(DayPeriodParser,[{key:"parse",value:function(o,v,_){switch(v){case"B":case"BB":case"BBB":return _.dayPeriod(o,{width:"abbreviated",context:"formatting"})||_.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return _.dayPeriod(o,{width:"narrow",context:"formatting"});default:return _.dayPeriod(o,{width:"wide",context:"formatting"})||_.dayPeriod(o,{width:"abbreviated",context:"formatting"})||_.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,v,_){return o.setUTCHours(dayPeriodEnumToHours(_),0,0,0),o}}]),DayPeriodParser}(iK),ad=function(o){_inherits(Hour1to12Parser,o);var v=_createSuper(Hour1to12Parser);function Hour1to12Parser(){var o;_classCallCheck(this,Hour1to12Parser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",70),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["H","K","k","t","T"]),o}return _createClass(Hour1to12Parser,[{key:"parse",value:function(o,v,_){switch(v){case"h":return parseNumericPattern(iq.hour12h,o);case"ho":return _.ordinalNumber(o,{unit:"hour"});default:return parseNDigits(v.length,o)}}},{key:"validate",value:function(o,v){return v>=1&&v<=12}},{key:"set",value:function(o,v,_){var x=o.getUTCHours()>=12;return x&&_<12?o.setUTCHours(_+12,0,0,0):x||12!==_?o.setUTCHours(_,0,0,0):o.setUTCHours(0,0,0,0),o}}]),Hour1to12Parser}(iK),ah=function(o){_inherits(Hour0to23Parser,o);var v=_createSuper(Hour0to23Parser);function Hour0to23Parser(){var o;_classCallCheck(this,Hour0to23Parser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",70),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["a","b","h","K","k","t","T"]),o}return _createClass(Hour0to23Parser,[{key:"parse",value:function(o,v,_){switch(v){case"H":return parseNumericPattern(iq.hour23h,o);case"Ho":return _.ordinalNumber(o,{unit:"hour"});default:return parseNDigits(v.length,o)}}},{key:"validate",value:function(o,v){return v>=0&&v<=23}},{key:"set",value:function(o,v,_){return o.setUTCHours(_,0,0,0),o}}]),Hour0to23Parser}(iK),ap=function(o){_inherits(Hour0To11Parser,o);var v=_createSuper(Hour0To11Parser);function Hour0To11Parser(){var o;_classCallCheck(this,Hour0To11Parser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",70),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["h","H","k","t","T"]),o}return _createClass(Hour0To11Parser,[{key:"parse",value:function(o,v,_){switch(v){case"K":return parseNumericPattern(iq.hour11h,o);case"Ko":return _.ordinalNumber(o,{unit:"hour"});default:return parseNDigits(v.length,o)}}},{key:"validate",value:function(o,v){return v>=0&&v<=11}},{key:"set",value:function(o,v,_){return o.getUTCHours()>=12&&_<12?o.setUTCHours(_+12,0,0,0):o.setUTCHours(_,0,0,0),o}}]),Hour0To11Parser}(iK),af=function(o){_inherits(Hour1To24Parser,o);var v=_createSuper(Hour1To24Parser);function Hour1To24Parser(){var o;_classCallCheck(this,Hour1To24Parser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",70),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["a","b","h","H","K","t","T"]),o}return _createClass(Hour1To24Parser,[{key:"parse",value:function(o,v,_){switch(v){case"k":return parseNumericPattern(iq.hour24h,o);case"ko":return _.ordinalNumber(o,{unit:"hour"});default:return parseNDigits(v.length,o)}}},{key:"validate",value:function(o,v){return v>=1&&v<=24}},{key:"set",value:function(o,v,_){var x=_<=24?_%24:_;return o.setUTCHours(x,0,0,0),o}}]),Hour1To24Parser}(iK),ag=function(o){_inherits(MinuteParser,o);var v=_createSuper(MinuteParser);function MinuteParser(){var o;_classCallCheck(this,MinuteParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",60),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["t","T"]),o}return _createClass(MinuteParser,[{key:"parse",value:function(o,v,_){switch(v){case"m":return parseNumericPattern(iq.minute,o);case"mo":return _.ordinalNumber(o,{unit:"minute"});default:return parseNDigits(v.length,o)}}},{key:"validate",value:function(o,v){return v>=0&&v<=59}},{key:"set",value:function(o,v,_){return o.setUTCMinutes(_,0,0),o}}]),MinuteParser}(iK),am=function(o){_inherits(SecondParser,o);var v=_createSuper(SecondParser);function SecondParser(){var o;_classCallCheck(this,SecondParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",50),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["t","T"]),o}return _createClass(SecondParser,[{key:"parse",value:function(o,v,_){switch(v){case"s":return parseNumericPattern(iq.second,o);case"so":return _.ordinalNumber(o,{unit:"second"});default:return parseNDigits(v.length,o)}}},{key:"validate",value:function(o,v){return v>=0&&v<=59}},{key:"set",value:function(o,v,_){return o.setUTCSeconds(_,0),o}}]),SecondParser}(iK),ay=function(o){_inherits(FractionOfSecondParser,o);var v=_createSuper(FractionOfSecondParser);function FractionOfSecondParser(){var o;_classCallCheck(this,FractionOfSecondParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",30),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["t","T"]),o}return _createClass(FractionOfSecondParser,[{key:"parse",value:function(o,v){return mapValue(parseNDigits(v.length,o),function(o){return Math.floor(o*Math.pow(10,-v.length+3))})}},{key:"set",value:function(o,v,_){return o.setUTCMilliseconds(_),o}}]),FractionOfSecondParser}(iK),av=function(o){_inherits(ISOTimezoneWithZParser,o);var v=_createSuper(ISOTimezoneWithZParser);function ISOTimezoneWithZParser(){var o;_classCallCheck(this,ISOTimezoneWithZParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",10),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["t","T","x"]),o}return _createClass(ISOTimezoneWithZParser,[{key:"parse",value:function(o,v){switch(v){case"X":return parseTimezonePattern(iX.basicOptionalMinutes,o);case"XX":return parseTimezonePattern(iX.basic,o);case"XXXX":return parseTimezonePattern(iX.basicOptionalSeconds,o);case"XXXXX":return parseTimezonePattern(iX.extendedOptionalSeconds,o);default:return parseTimezonePattern(iX.extended,o)}}},{key:"set",value:function(o,v,_){return v.timestampIsSet?o:new Date(o.getTime()-_)}}]),ISOTimezoneWithZParser}(iK),a_=function(o){_inherits(ISOTimezoneParser,o);var v=_createSuper(ISOTimezoneParser);function ISOTimezoneParser(){var o;_classCallCheck(this,ISOTimezoneParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",10),_defineProperty(_assertThisInitialized(o),"incompatibleTokens",["t","T","X"]),o}return _createClass(ISOTimezoneParser,[{key:"parse",value:function(o,v){switch(v){case"x":return parseTimezonePattern(iX.basicOptionalMinutes,o);case"xx":return parseTimezonePattern(iX.basic,o);case"xxxx":return parseTimezonePattern(iX.basicOptionalSeconds,o);case"xxxxx":return parseTimezonePattern(iX.extendedOptionalSeconds,o);default:return parseTimezonePattern(iX.extended,o)}}},{key:"set",value:function(o,v,_){return v.timestampIsSet?o:new Date(o.getTime()-_)}}]),ISOTimezoneParser}(iK),ab=function(o){_inherits(TimestampSecondsParser,o);var v=_createSuper(TimestampSecondsParser);function TimestampSecondsParser(){var o;_classCallCheck(this,TimestampSecondsParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",40),_defineProperty(_assertThisInitialized(o),"incompatibleTokens","*"),o}return _createClass(TimestampSecondsParser,[{key:"parse",value:function(o){return parseAnyDigitsSigned(o)}},{key:"set",value:function(o,v,_){return[new Date(1e3*_),{timestampIsSet:!0}]}}]),TimestampSecondsParser}(iK),aS=function(o){_inherits(TimestampMillisecondsParser,o);var v=_createSuper(TimestampMillisecondsParser);function TimestampMillisecondsParser(){var o;_classCallCheck(this,TimestampMillisecondsParser);for(var _=arguments.length,x=Array(_),w=0;w<_;w++)x[w]=arguments[w];return _defineProperty(_assertThisInitialized(o=v.call.apply(v,[this].concat(x))),"priority",20),_defineProperty(_assertThisInitialized(o),"incompatibleTokens","*"),o}return _createClass(TimestampMillisecondsParser,[{key:"parse",value:function(o){return parseAnyDigitsSigned(o)}},{key:"set",value:function(o,v,_){return[new Date(_),{timestampIsSet:!0}]}}]),TimestampMillisecondsParser}(iK),ax={G:new iZ,y:new i$,Y:new iQ,R:new iJ,u:new i0,Q:new i1,q:new i2,M:new i5,L:new i3,w:new i4,I:new i7,d:new i8,D:new ar,E:new ai,e:new aa,c:new ao,i:new as,a:new al,b:new au,B:new ac,h:new ad,H:new ah,K:new ap,k:new af,m:new ag,s:new am,S:new ay,X:new av,x:new a_,t:new ab,T:new aS},aw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aT=/^'([^]*?)'?$/,aM=/''/g,aP=/\S/,aI=/[a-zA-Z]/;function parse_parse(o,v,_,x){requiredArgs(3,arguments);var w=String(o),T=String(v),L=null!==(H=null!==(Y=null==x?void 0:x.locale)&&void 0!==Y?Y:tP.locale)&&void 0!==H?H:ik;if(!L.match)throw RangeError("locale must contain match property");var N=toInteger(null!==(Z=null!==(X=null!==(et=null!==(en=null==x?void 0:x.firstWeekContainsDate)&&void 0!==en?en:null==x?void 0:null===(er=x.locale)||void 0===er?void 0:null===(ei=er.options)||void 0===ei?void 0:ei.firstWeekContainsDate)&&void 0!==et?et:tP.firstWeekContainsDate)&&void 0!==X?X:null===(ea=tP.locale)||void 0===ea?void 0:null===(eo=ea.options)||void 0===eo?void 0:eo.firstWeekContainsDate)&&void 0!==Z?Z:1);if(!(N>=1&&N<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=toInteger(null!==(el=null!==(eu=null!==(ec=null!==(ed=null==x?void 0:x.weekStartsOn)&&void 0!==ed?ed:null==x?void 0:null===(eh=x.locale)||void 0===eh?void 0:null===(ep=eh.options)||void 0===ep?void 0:ep.weekStartsOn)&&void 0!==ec?ec:tP.weekStartsOn)&&void 0!==eu?eu:null===(ef=tP.locale)||void 0===ef?void 0:null===(eg=ef.options)||void 0===eg?void 0:eg.weekStartsOn)&&void 0!==el?el:0);if(!(B>=0&&B<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===T)return""===w?toDate_toDate(_):new Date(NaN);var H,Y,Z,X,et,en,er,ei,ea,eo,el,eu,ec,ed,eh,ep,ef,eg,em,ey={firstWeekContainsDate:N,weekStartsOn:B,locale:L},ev=[new iY],e_=T.match(aC).map(function(o){var v=o[0];return v in iP?(0,iP[v])(o,L.formatLong):o}).join("").match(aw),eb=[],eS=_createForOfIteratorHelper(e_);try{for(eS.s();!(em=eS.n()).done;){var ex=function(){var v=em.value;!(null!=x&&x.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(v)&&throwProtectedError(v,T,o),!(null!=x&&x.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(v)&&throwProtectedError(v,T,o);var _=v[0],N=ax[_];if(N){var B=N.incompatibleTokens;if(Array.isArray(B)){var H=eb.find(function(o){return B.includes(o.token)||o.token===_});if(H)throw RangeError("The format string mustn't contain `".concat(H.fullToken,"` and `").concat(v,"` at the same time"))}else if("*"===N.incompatibleTokens&&eb.length>0)throw RangeError("The format string mustn't contain `".concat(v,"` and any other token at the same time"));eb.push({token:_,fullToken:v});var Y=N.run(w,v,L.match,ey);if(!Y)return{v:new Date(NaN)};ev.push(Y.setter),w=Y.rest}else{if(_.match(aI))throw RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if("''"===v?v="'":"'"===_&&(v=parse_cleanEscapedString(v)),0!==w.indexOf(v))return{v:new Date(NaN)};w=w.slice(v.length)}}();if("object"===_typeof(ex))return ex.v}}catch(o){eS.e(o)}finally{eS.f()}if(w.length>0&&aP.test(w))return new Date(NaN);var ew=ev.map(function(o){return o.priority}).sort(function(o,v){return v-o}).filter(function(o,v,_){return _.indexOf(o)===v}).map(function(o){return ev.filter(function(v){return v.priority===o}).sort(function(o,v){return v.subPriority-o.subPriority})}).map(function(o){return o[0]}),eC=toDate_toDate(_);if(isNaN(eC.getTime()))return new Date(NaN);var eT,eM=subMilliseconds(eC,getTimezoneOffsetInMilliseconds(eC)),eP={},eI=_createForOfIteratorHelper(ew);try{for(eI.s();!(eT=eI.n()).done;){var eD=eT.value;if(!eD.validate(eM,ey))return new Date(NaN);var eE=eD.set(eM,eP,ey);Array.isArray(eE)?(eM=eE[0],assign_assign(eP,eE[1])):eM=eE}}catch(o){eI.e(o)}finally{eI.f()}return eM}function parse_cleanEscapedString(o){return o.match(aT)[1].replace(aM,"'")}function parseISO(o,v){requiredArgs(1,arguments);var _,x,w,T=toInteger(null!==(_=null==v?void 0:v.additionalDigits)&&void 0!==_?_:2);if(2!==T&&1!==T&&0!==T)throw RangeError("additionalDigits must be 0, 1 or 2");if(!("string"==typeof o||"[object String]"===Object.prototype.toString.call(o)))return new Date(NaN);var L=splitDateString(o);if(L.date){var N=parseYear(L.date,T);x=parseDate(N.restDateString,N.year)}if(!x||isNaN(x.getTime()))return new Date(NaN);var B=x.getTime(),H=0;if(L.time&&isNaN(H=parseTime(L.time)))return new Date(NaN);if(L.timezone){if(isNaN(w=parseTimezone(L.timezone)))return new Date(NaN)}else{var Y=new Date(B+H),Z=new Date(0);return Z.setFullYear(Y.getUTCFullYear(),Y.getUTCMonth(),Y.getUTCDate()),Z.setHours(Y.getUTCHours(),Y.getUTCMinutes(),Y.getUTCSeconds(),Y.getUTCMilliseconds()),Z}return new Date(B+H+w)}var aD={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},aE=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,aO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,aA=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(o){var v,_={},x=o.split(aD.dateTimeDelimiter);if(x.length>2)return _;if(/:/.test(x[0])?v=x[0]:(_.date=x[0],v=x[1],aD.timeZoneDelimiter.test(_.date)&&(_.date=o.split(aD.timeZoneDelimiter)[0],v=o.substr(_.date.length,o.length))),v){var w=aD.timezone.exec(v);w?(_.time=v.replace(w[1],""),_.timezone=w[1]):_.time=v}return _}function parseYear(o,v){var _=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+v)+"})|(\\d{2}|[+-]\\d{"+(2+v)+"})$)"),x=o.match(_);if(!x)return{year:NaN,restDateString:""};var w=x[1]?parseInt(x[1]):null,T=x[2]?parseInt(x[2]):null;return{year:null===T?w:100*T,restDateString:o.slice((x[1]||x[2]).length)}}function parseDate(o,v){if(null===v)return new Date(NaN);var _=o.match(aE);if(!_)return new Date(NaN);var x=!!_[4],w=parseDateUnit(_[1]),T=parseDateUnit(_[2])-1,L=parseDateUnit(_[3]),N=parseDateUnit(_[4]),B=parseDateUnit(_[5])-1;if(x)return validateWeekDate(v,N,B)?dayOfISOWeekYear(v,N,B):new Date(NaN);var H=new Date(0);return validateDate(v,T,L)&&validateDayOfYearDate(v,w)?(H.setUTCFullYear(v,T,Math.max(w,L)),H):new Date(NaN)}function parseDateUnit(o){return o?parseInt(o):1}function parseTime(o){var v=o.match(aO);if(!v)return NaN;var _=parseTimeUnit(v[1]),x=parseTimeUnit(v[2]),w=parseTimeUnit(v[3]);return validateTime(_,x,w)?36e5*_+6e4*x+1e3*w:NaN}function parseTimeUnit(o){return o&&parseFloat(o.replace(",","."))||0}function parseTimezone(o){if("Z"===o)return 0;var v=o.match(aA);if(!v)return 0;var _="+"===v[1]?-1:1,x=parseInt(v[2]),w=v[3]&&parseInt(v[3])||0;return validateTimezone(x,w)?_*(36e5*x+6e4*w):NaN}function dayOfISOWeekYear(o,v,_){var x=new Date(0);x.setUTCFullYear(o,0,4);var w=x.getUTCDay()||7;return x.setUTCDate(x.getUTCDate()+((v-1)*7+_+1-w)),x}var ak=[31,null,31,30,31,30,31,31,30,31,30,31];function parseISO_isLeapYearIndex(o){return o%400==0||o%4==0&&o%100!=0}function validateDate(o,v,_){return v>=0&&v<=11&&_>=1&&_<=(ak[v]||(parseISO_isLeapYearIndex(o)?29:28))}function validateDayOfYearDate(o,v){return v>=1&&v<=(parseISO_isLeapYearIndex(o)?366:365)}function validateWeekDate(o,v,_){return v>=1&&v<=53&&_>=0&&_<=6}function validateTime(o,v,_){return 24===o?0===v&&0===_:_>=0&&_<60&&v>=0&&v<60&&o>=0&&o<25}function validateTimezone(o,v){return v>=0&&v<=59}function compatibleParse(o,v,_,x){let w=null;if(o){v&&(w=parse_parse(o,v,_=_||new Date,{locale:x})),isValid_isValid(w)||(w=parseISO(o)),isValid_isValid(w)||(w=new Date(Date.parse(o)));let T=isValid_isValid(w)&&String(w.getFullYear()).length>4;(!isValid_isValid(w)||T)&&(w=null)}return w}let aL={date:iv.FORMAT_FULL_DATE,dateTime:iv.FORMAT_DATE_TIME,dateRange:iv.FORMAT_FULL_DATE,dateTimeRange:iv.FORMAT_DATE_TIME,month:iv.FORMAT_YEAR_MONTH,monthRange:iv.FORMAT_YEAR_MONTH};function getDefaultFormatTokenByType(o){return o&&aL[o]}var _utils_getDefaultFormatToken=o=>aL;function getInsetInputFormatToken(o){let v;let{format:_,type:x}=o,w=getDefaultFormatTokenByType(x);switch(x){case"dateTime":case"dateTimeRange":let T=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4}) (H{0,2}[^a-z\s]*m{0,2}[^a-z\s]*s{0,2})/i.exec(_);v=T&&T[1]&&T[2]?`${T[1]} ${T[2]}`:w;break;default:let L=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4})/i.exec(_);v=L&&L[1]||w}return v}function getInsetInputValueFromInsetInputStr(o){let v,_,x,w;let{inputValue:T="",rangeSeparator:L,type:N}=o,B={monthLeft:{dateInput:"",timeInput:""},monthRight:{dateInput:"",timeInput:""}};switch(N){case"date":case"month":case"monthRange":B.monthLeft.dateInput=T;break;case"dateRange":[v="",x=""]=T.split(L),B.monthLeft.dateInput=v,B.monthRight.dateInput=x;break;case"dateTime":[v="",_=""]=T.split(" "),B.monthLeft.dateInput=v,B.monthLeft.timeInput=_;break;case"dateTimeRange":let[H="",Y=""]=T.split(L);[v="",_=""]=H.split(" "),[x="",w=""]=Y.split(" "),B.monthLeft.dateInput=v,B.monthLeft.timeInput=_,B.monthRight.dateInput=x,B.monthRight.timeInput=w}return B}function isValidTimeZone(o){return["string","number"].includes(typeof o)&&""!==o}let DatePickerFoundation=class DatePickerFoundation extends eU{constructor(o){super(Object.assign({},o)),this.clearRangeInputFocus=()=>{let{type:o}=this._adapter.getProps(),{rangeInputFocus:v}=this._adapter.getStates();"dateTimeRange"===o&&v&&this._adapter.setRangeInputFocus(!1)},this._isRangeType=()=>{let o=this._adapter.getProp("type");return/range/i.test(o)},this._isRangeValueComplete=o=>{let v=!1;return Array.isArray(o)&&(v=!o.some(o=>isNullOrUndefined(o))),v}}init(){let o=this.getProp("timeZone");this._isControlledComponent()?this.initFromProps({timeZone:o,value:this.getProp("value")}):this._isInProps("defaultValue")&&this.initFromProps({timeZone:o,value:this.getProp("defaultValue")}),this.initPanelOpenStatus(this.getProp("defaultOpen"))}initFromProps(o){let{value:v,timeZone:_,prevTimeZone:x}=o,w=(Array.isArray(v)?[...v]:(v||0===v)&&[v])||[],T=this.parseWithTimezone(w,_,x);this._adapter.updatePrevTimezone(x),this.clearInputValue(),this._adapter.updateValue(T),this.resetCachedSelectedValue(T),this.initRangeInputFocus(T),this._adapter.needConfirm()&&this._adapter.updateCachedSelectedValue(T)}initRangeInputFocus(o){let{triggerRender:v}=this.getProps();this._isRangeType()&&eX()(v)&&0===o.length&&this._adapter.setRangeInputFocus("rangeStart")}parseWithTimezone(o,v,_){let x=[];if(Array.isArray(o)&&o.length)for(let w of o){let o=(w||0===w)&&this._parseValue(w);o&&(isValidTimeZone(_)&&(o=zonedTimeToUtc(o,_)),x.push(isValidTimeZone(v)?utcToZonedTime(o,v):o))}return x}_isMultiple(){return!!this.getProp("multiple")}_parseValue(o){let v;let _=this._adapter.getProp("dateFnsLocale");if(!o&&0!==o)return new Date;if(isValidDate(o))v=o;else if(e0()(o))v=compatibleParse(o,this.getProp("format"),void 0,_);else if(isTimestamp(o))v=new Date(o);else throw TypeError("defaultValue should be valid Date object/timestamp or string");return v}destroy(){this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide()}initPanelOpenStatus(o){(this.getProp("open")||o)&&!this.getProp("disabled")?(this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()):(this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide())}openPanel(){this.getProp("disabled")||(this._isControlledComponent("open")||this.open(),this._adapter.notifyOpenChange(!0))}clearInsetInputValue(){let{insetInput:o}=this._adapter.getProps();o&&this._adapter.updateInsetInputValue(null)}resetCachedSelectedValue(o){let{value:v,cachedSelectedValue:_}=this._adapter.getStates(),x=Array.isArray(o)?o:v;e7()(x,_)||this._adapter.updateCachedSelectedValue(x)}closePanel(o){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let v=arguments.length>2?arguments[2]:void 0,{value:_}=this._adapter.getStates(),x=isNullOrUndefined(v)?_:v;this._isControlledComponent("open")?this.resetInnerSelectedStates(x):this.close(),this._adapter.notifyOpenChange(!1)}open(){this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()}close(){this._adapter.togglePanel(!1,()=>this.resetInnerSelectedStates()),this._adapter.unregisterClickOutSide()}focus(o){if(this._isRangeType()){let v=null!=o?o:"rangeStart";this._adapter.setRangeInputFocus(v)}else this._adapter.setInputFocus()}blur(){this._isRangeType()?this._adapter.setRangeInputBlur():this._adapter.setInputBlur()}resetInnerSelectedStates(o){let{value:v}=this._adapter.getStates(),_=!this.isCachedSelectedValueValid(o)||this._adapter.needConfirm()&&!this.clickConfirmButton;_&&this.resetCachedSelectedValue(v),this.resetFocus(),this.clearInputValue(),this.clickConfirmButton=!1}resetFocus(o){this._adapter.setRangeInputFocus(!1),this._adapter.notifyBlur(o)}isCachedSelectedValueValid(o){let v=o||this._adapter.getState("cachedSelectedValue"),{type:_}=this._adapter.getProps(),x=!0;switch(!0){case"dateRange"===_:case"dateTimeRange"===_:this._isRangeValueComplete(v)||(x=!1);break;default:let w=null==v?void 0:v.filter(o=>o);Array.isArray(w)&&w.length||(x=!1)}return x}clearInputValue(){this._adapter.updateInputValue(null),this._adapter.updateInsetInputValue(null)}handleInputChange(o,v){let _=this._isMultiple()?this.parseMultipleInput(o):this.parseInput(o),{value:x}=this.getStates();if(this._updateCachedSelectedValueFromInput(o),_&&_.length||""===o){if(eH()(v,n1.CLEARBTN_CLICKED_EVENT_FLAG)&&this._isControlledComponent("value")){this._notifyChange(_);return}this._updateValueAndInput(_,""===o,o);let w=this._getChangedDates(_);this._someDateDisabled(w,_)||e7()(_,x)||this._notifyChange(_)}else this._adapter.updateInputValue(o)}handleInsetInputChange(o){let{insetInputStr:v,format:_,insetInputValue:x}=o,w=this._isMultiple(),T=w?this.parseMultipleInput(v,_):this.parseInput(v,_),{value:L}=this.getStates();if(this._updateCachedSelectedValueFromInput(v),T&&T.length){let o=this._getChangedDates(T);if(!this._someDateDisabled(o,T)){e7()(T,L)||(this._isControlledComponent()||this._adapter.needConfirm()||this._adapter.updateValue(T),this._notifyChange(T));let o=w?this.formatMultipleDates(T):this.formatDates(T);this._adapter.updateInputValue(o)}}this._adapter.updateInsetInputValue(x)}_updateCachedSelectedValueFromInput(o){let v=this.getLooseDateFromInput(o),_=this._getChangedDates(v);this._someDateDisabled(_,v)||this.resetCachedSelectedValue(v)}handleInputBlur(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1]}handleRangeEndTabPress(o){this._adapter.setRangeInputFocus(!1)}handleInputFocus(o,v){let _=this._adapter.getState("rangeInputFocus");v&&this._adapter.setRangeInputFocus(v),v&&["rangeStart","rangeEnd"].includes(_)||this._adapter.notifyFocus(o,v)}handleSetRangeFocus(o){this._adapter.setRangeInputFocus(o)}handleInputClear(o){this._adapter.notifyClear(o)}handleRangeInputClear(o){let v=[];this._isControlledComponent("value")||(this._updateValueAndInput(v,!0,""),this._adapter.updateInsetInputValue(null),this.resetCachedSelectedValue(v)),this._notifyChange(v),this._adapter.setRangeInputFocus(!1),this._adapter.notifyClear(o)}handleRangeInputBlur(o,v){}handleInputComplete(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=o?this._isMultiple()?this.parseMultipleInput(o,",",!0):this.parseInput(o):[];if(!(v=v&&v.length?v:this.getState("value"))||!v.length){let o=new Date;v=this._isRangeType()?[o,o]:[o]}this._updateValueAndInput(v);let{value:_}=this.getStates(),x=this._getChangedDates(v);this._someDateDisabled(x,v)||e7()(v,_)||this._notifyChange(v)}parseInput(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=arguments.length>1?arguments[1]:void 0,_=[],{dateFnsLocale:x,rangeSeparator:w}=this.getProps();if(o&&o.length){let T,L;let N=this.getProp("type"),B=v||this.getProp("format")||getDefaultFormatTokenByType(N),H=new Date;switch(N){case"date":case"dateTime":case"month":L=(T=o?compatibleParse(o,B,H,x):"")&&isValid_isValid(T)&&this.localeFormat(T,B),T&&L===o&&(_=[T]);break;case"dateRange":case"dateTimeRange":case"monthRange":let Y=o.split(w);L=(T=Y&&Y.reduce((o,v)=>{let _=v&&compatibleParse(v,B,H,x);return _&&o.push(_),o},[]))&&T.map(o=>o&&isValid_isValid(o)&&this.localeFormat(o,B)).join(w),T&&L===o&&(T.sort((o,v)=>o.getTime()-v.getTime()),_=T)}}return _}getLooseDateFromInput(o){let v=this._isMultiple()?this.parseMultipleInputLoose(o):this.parseInputLoose(o);return v}parseInputLoose(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=[],{dateFnsLocale:_,rangeSeparator:x,type:w,format:T}=this.getProps();if(o&&o.length){let L;let N=T||getDefaultFormatTokenByType(w),B=new Date;switch(w){case"date":case"dateTime":case"month":let H=compatibleParse(o,N,B,_);isValidDate(H)?this.localeFormat(H,N)===o&&(L=H):L=null,v=[L];break;case"dateRange":case"dateTimeRange":let Y=o.split(x);Array.isArray(L=Y&&Y.reduce((o,v)=>{let x=null,w=compatibleParse(v,N,B,_);return isValidDate(w)&&this.localeFormat(w,N)===v&&(x=w),o.push(x),o},[]))&&L.every(o=>isValid_isValid(o))&&L.sort((o,v)=>o.getTime()-v.getTime()),v=L}}return v}parseMultipleInputLoose(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iv.DEFAULT_SEPARATOR_MULTIPLE,_=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=this.getProp("max"),w=o.split(v),T=[];for(let o of w){let v=o&&this.parseInputLoose(o);if(!(v=Array.isArray(v)?v:v&&[v])||!v.length||(_&&T.filter(o=>!!v.find(v=>isSameSecond(o,v)))||T.push(...v),x&&x>0&&T.length>x))return[]}return T}parseMultipleInput(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iv.DEFAULT_SEPARATOR_MULTIPLE,_=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=this.getProp("max"),w=o.split(v),T=[];for(let o of w){let v=o&&this.parseInput(o);if(!(v=Array.isArray(v)?v:v&&[v])||!v.length||(_&&T.filter(o=>!!v.find(v=>isSameSecond(o,v)))||T.push(...v),x&&x>0&&T.length>x))return[]}return T}formatDates(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=arguments.length>1?arguments[1]:void 0,_="",x=this.getProp("rangeSeparator");if(Array.isArray(o)&&o.length){let w=this.getProp("type"),T=v||this.getProp("format")||getDefaultFormatTokenByType(w);switch(w){case"date":case"dateTime":case"month":_=this.localeFormat(o[0],T);break;case"dateRange":case"dateTimeRange":case"monthRange":let L=!isNullOrUndefined(o[0]),N=!isNullOrUndefined(o[1]);L&&N?_=`${this.localeFormat(o[0],T)}${x}${this.localeFormat(o[1],T)}`:L?_=`${this.localeFormat(o[0],T)}${x}`:N&&(_=`${x}${this.localeFormat(o[1],T)}`)}}return _}formatMultipleDates(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iv.DEFAULT_SEPARATOR_MULTIPLE,_=arguments.length>2?arguments[2]:void 0,x=[];if(Array.isArray(o)&&o.length){let v=this.getProp("type");switch(v){case"date":case"dateTime":case"month":o.forEach(o=>x.push(this.formatDates([o],_)));break;case"dateRange":case"dateTimeRange":case"monthRange":for(let v=0;v<o.length;v+=2)x.push(this.formatDates(o.slice(v,v+2),_))}}return x.join(v)}_updateValueAndInput(o,v,_){let x;if(v||o){x=Array.isArray(o)?o:o?[o]:[];let v=this._getChangedDates(x);this._isControlledComponent()||this._someDateDisabled(v,x)||this._adapter.needConfirm()||this._adapter.updateValue(x)}this._adapter.updateInputValue(_)}handleSelectedChange(o,v){let _,x;let{type:w,format:T,rangeSeparator:L,insetInput:N}=this._adapter.getProps(),{value:B}=this.getStates(),H=this._isControlledComponent(),Y=nw()(v)?v.fromPreset:v,Z=eH()(v,"closePanel",!0),X=eH()(v,"needCheckFocusRecord",!0),et=Array.isArray(o)?[...o]:o?[o]:[],en=this._getChangedDates(et);if(!this._someDateDisabled(en,et)){if(this.resetCachedSelectedValue(et),_=this._isMultiple()?this.formatMultipleDates(et):this.formatDates(et),N){let o=getInsetInputFormatToken({format:T,type:w}),v=this._isMultiple()?this.formatMultipleDates(et,void 0,o):this.formatDates(et,o);x=getInsetInputValueFromInsetInputStr({inputValue:v,type:w,rangeSeparator:L})}let v=this._isRangeType()&&!this._isRangeValueComplete(et);if(!this._adapter.needConfirm()||Y){if(v){this._adapter.updateInputValue(_),this._adapter.updateInsetInputValue(x);return}(!H||Y)&&(this._updateValueAndInput(et,!0,_),this._adapter.updateInsetInputValue(x))}if(!H&&this._adapter.needConfirm()&&(this._adapter.updateInputValue(_),this._adapter.updateInsetInputValue(x),v))return;e7()(o,B)||this._notifyChange(o)}let er=!X||X&&this._adapter.couldPanelClosed();("date"===w&&!this._isMultiple()&&Z||"dateRange"===w&&this._isRangeValueComplete(et)&&Z&&er)&&this.closePanel(void 0,_,et)}handleYMSelectedChange(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{currentMonth:v,currentYear:_}=o,{type:x}=this.getProps();if("month"===x){let o=new Date(_.left,v.left-1);this.handleSelectedChange([o])}else{let o=new Date(_.left,v.left-1),x=new Date(_.right,v.right-1);this.handleSelectedChange([o,x])}}handleConfirm(){this.clickConfirmButton=!0;let{cachedSelectedValue:o,value:v}=this._adapter.getStates(),_=this._isRangeValueComplete(o),x=_?o:v;if(this._adapter.needConfirm()&&!this._isControlledComponent()&&this._adapter.updateValue(x),this.closePanel(void 0,void 0,x),_){let{notifyValue:v,notifyDate:_}=this.disposeCallbackArgs(o);this._adapter.notifyConfirm(_,v)}}handleCancel(){this.closePanel();let o=this.getState("value"),{notifyValue:v,notifyDate:_}=this.disposeCallbackArgs(o);this._adapter.notifyCancel(_,v)}handlePresetClick(o,v){let _;let{type:x,timeZone:w}=this.getProps(),T=this.getState("prevTimezone");switch(x){case"month":case"dateTime":case"date":_=this.parseWithTimezone([o.start],w,T),this.handleSelectedChange(_);break;case"dateTimeRange":case"dateRange":_=this.parseWithTimezone([o.start,o.end],w,T),this.handleSelectedChange(_,{needCheckFocusRecord:!1})}this._adapter.notifyPresetsClick(o,v)}disposeCallbackArgs(o){let v,_,x=Array.isArray(o)?o:o&&[o]||[],w=this.getProp("timeZone");isValidTimeZone(w)&&(x=x.map(o=>zonedTimeToUtc(o,w)));let T=this.getProp("type"),L=this.getProp("format")||getDefaultFormatTokenByType(T);switch(T){case"date":case"dateTime":case"month":this._isMultiple()?(v=x.map(o=>o&&this.localeFormat(o,L)),_=[...x]):(v=x[0]&&this.localeFormat(x[0],L),[_]=x);break;case"dateRange":case"dateTimeRange":case"monthRange":v=x.map(o=>o&&this.localeFormat(o,L)),_=[...x]}return{notifyValue:v,notifyDate:_}}_notifyChange(o){if(this._isRangeType()&&!this._isRangeValueComplete(o))return;let{onChangeWithDateFirst:v}=this.getProps(),{notifyValue:_,notifyDate:x}=this.disposeCallbackArgs(o);v?this._adapter.notifyChange(x,_):this._adapter.notifyChange(_,x)}_getChangedDates(o){let v=this._adapter.getProp("type"),{cachedSelectedValue:_}=this._adapter.getStates(),x=[];switch(v){case"dateRange":case"dateTimeRange":let[w,T]=_,[L,N]=o;isEqual_isEqual(L,w)||x.push(L),isEqual_isEqual(N,T)||x.push(N);break;default:let B=new Set;for(let v of(_.forEach(o=>B.add(isDate_isDate(o)&&o.valueOf())),o))B.has(isDate_isDate(v)&&v.valueOf())||x.push(v)}return x}_someDateDisabled(o,v){let{rangeInputFocus:_}=this.getStates(),x={rangeStart:"",rangeEnd:"",rangeInputFocus:_};if(this._isRangeType()&&Array.isArray(v)){if(isValid_isValid(v[0])){let o=format_format(v[0],"yyyy-MM-dd");x.rangeStart=o}if(isValid_isValid(v[1])){let o=format_format(v[1],"yyyy-MM-dd");x.rangeEnd=o}}let w=!1;for(let v of o)if(!isNullOrUndefined(v)&&this.disabledDisposeDate(v,x)){w=!0;break}return w}localeFormat(o,v){let _=this._adapter.getProp("dateFnsLocale");return format_format(o,v,{locale:_})}disposeDateFn(o,v){let _;let{notifyDate:x}=this.disposeCallbackArgs(v),w=Array.isArray(v),T=Array.isArray(x);_=w===T?x:w?[x]:x[0];for(var L=arguments.length,N=Array(L>2?L-2:0),B=2;B<L;B++)N[B-2]=arguments[B];return o(_,...N)}disabledDisposeDate(o){let{disabledDate:v}=this.getProps();for(var _=arguments.length,x=Array(_>1?_-1:0),w=1;w<_;w++)x[w-1]=arguments[w];return this.disposeDateFn(v,o,...x)}disabledDisposeTime(o){let{disabledTime:v}=this.getProps();for(var _=arguments.length,x=Array(_>1?_-1:0),w=1;w<_;w++)x[w-1]=arguments[w];return this.disposeDateFn(v,o,...x)}handleTriggerWrapperClick(o){let{disabled:v,triggerRender:_}=this._adapter.getProps(),{rangeInputFocus:x}=this._adapter.getStates();v||(this._isRangeType()&&!x&&(this._adapter.isEventTarget(o)?setTimeout(()=>{this.handleInputFocus(o,"rangeStart")},0):eX()(_)&&this._adapter.setRangeInputFocus("rangeStart")),this.openPanel())}handlePanelVisibleChange(o){o?(this._adapter.setInsetInputFocus(),setTimeout(()=>{this._adapter.setTriggerDisabled(!0)},0)):this._adapter.setTriggerDisabled(!1)}};function formatDateValues(o,v){let{groupInnerSeparator:_=iv.DEFAULT_SEPARATOR_RANGE,groupSize:x=1,groupSeparator:w=iv.DEFAULT_SEPARATOR_MULTIPLE}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},T=arguments.length>3?arguments[3]:void 0,L="";if((x<=0||"number"!=typeof x)&&(x=1),Array.isArray(o)&&o.length){let N=[],{length:B}=o;for(let v=0;v<B;v++){v%x==0&&N.push([]);let _=Math.floor(v/x);N[_].push(o[v])}L=N.map(o=>o.map(o=>o?format_format(o,v,{locale:T}):"").join(_)).join(w)}return L}function addMonths(o,v){requiredArgs(2,arguments);var _=toDate_toDate(o),x=toInteger(v);if(isNaN(x))return new Date(NaN);if(!x)return _;var w=_.getDate(),T=new Date(_.getTime());return(T.setMonth(_.getMonth()+x+1,0),w>=T.getDate())?T:(_.setFullYear(T.getFullYear(),T.getMonth(),w),_)}function getDefaultPickerDate(o){let{defaultPickerValue:v,format:_,dateFnsLocale:x}=o,w=Array.isArray(v)?v[0]:v,T=Array.isArray(v)?v[1]:void 0;switch(!0){case isValidDate(w):break;case isTimestamp(w):w=new Date(w);break;case"string"==typeof w:w=compatibleParse(w,_,void 0,x);break;default:w=new Date}switch(!0){case isValidDate(T):break;case isTimestamp(T):T=new Date(T);break;case"string"==typeof T:T=compatibleParse(T,_,void 0,x);break;default:T=addMonths(w,1)}return{nowDate:w,nextDate:T}}let aR="Enter";let inputFoundation_InputFoundation=class inputFoundation_InputFoundation extends eU{constructor(o){super(Object.assign({},o))}init(){}destroy(){}handleClick(o){this._adapter.notifyClick(o)}handleChange(o,v){this._adapter.notifyChange(o,v)}handleInputComplete(o){o.key===aR&&this._adapter.notifyEnter(o.target.value)}handleInputClear(o){this._adapter.notifyClear(o)}handleRangeInputClear(o){this.stopPropagation(o),this._adapter.notifyRangeInputClear(o)}handleRangeInputEnterPress(o,v){o.key===aR&&this._adapter.notifyEnter(v)}handleRangeInputEndKeyPress(o){"Tab"===o.key&&this._adapter.notifyTabPress(o)}handleRangeInputFocus(o,v){this._adapter.notifyRangeInputFocus(o,v)}formatShowText(o,v){let{type:_,dateFnsLocale:x,format:w,rangeSeparator:T}=this._adapter.getProps(),L=v||w||getDefaultFormatTokenByType(_),N="";switch(_){case"date":case"dateTime":case"month":N=formatDateValues(o,L,void 0,x);break;case"dateRange":case"dateTimeRange":case"monthRange":N=formatDateValues(o,L,{groupSize:2,groupInnerSeparator:T},x)}return N}handleInsetInputChange(o){let{value:v,valuePath:_,insetInputValue:x}=o,{format:w,type:T}=this._adapter.getProps(),L=getInsetInputFormatToken({type:T,format:w}),N=th()(nD()(x),_,v);N=this._autoFillTimeToInsetInputValue({insetInputValue:N,valuePath:_,format:L});let B=this.concatInsetInputValue({insetInputValue:N});this._adapter.notifyInsetInputChange({insetInputValue:N,format:L,insetInputStr:B})}_autoFillTimeToInsetInputValue(o){let{valuePath:v,insetInputValue:_,format:x}=o,{type:w,defaultPickerValue:T,dateFnsLocale:L}=this._adapter.getProps(),N=nD()(_),{nowDate:B,nextDate:H}=getDefaultPickerDate({defaultPickerValue:T,format:x,dateFnsLocale:L});if(w.includes("Time")){let o="",_=eH()(x.split(" "),"0",iv.FORMAT_FULL_DATE),w=eH()(x.split(" "),"1",iv.FORMAT_TIME_PICKER);switch(v){case"monthLeft.dateInput":let T=N.monthLeft.dateInput;if(!N.monthLeft.timeInput&&T.length===_.length){let v=compatibleParse(N.monthLeft.dateInput,_);isValidDate(v)&&(o=format_format(B,w),N.monthLeft.timeInput=o)}break;case"monthRight.dateInput":let L=N.monthRight.dateInput;if(!N.monthRight.timeInput&&L.length===_.length){let v=compatibleParse(L,_);isValidDate(v)&&(o=format_format(H,w),N.monthRight.timeInput=o)}}}return N}getInsetInputPlaceholder(){let o,v;let{type:_,format:x,rangeSeparator:w}=this._adapter.getProps(),T=getInsetInputFormatToken({type:_,format:x});switch(_){case"date":case"month":case"dateRange":o=T;break;case"dateTime":case"dateTimeRange":[o,v]=T.split(" ");break;case"monthRange":o=T+w+T}return{datePlaceholder:o,timePlaceholder:v}}getInsetInputValue(o){let{value:v,insetInputValue:_}=o,{type:x,rangeSeparator:w,format:T}=this._adapter.getProps(),L="";if(nw()(_))L=this.concatInsetInputValue({insetInputValue:_});else{let o=getInsetInputFormatToken({format:T,type:x});L=this.formatShowText(v,o)}let N=getInsetInputValueFromInsetInputStr({inputValue:L,type:x,rangeSeparator:w});return N}concatInsetDateAndTime(o){let{date:v,time:_}=o;return`${v} ${_}`}concatInsetDateRange(o){let{rangeStart:v,rangeEnd:_}=o,{rangeSeparator:x}=this._adapter.getProps();return`${v}${x}${_}`}concatInsetInputValue(o){let{insetInputValue:v}=o,{type:_}=this._adapter.getProps(),x="";switch(_){case"date":case"month":case"monthRange":x=v.monthLeft.dateInput;break;case"dateRange":x=this.concatInsetDateRange({rangeStart:v.monthLeft.dateInput,rangeEnd:v.monthRight.dateInput});break;case"dateTime":x=this.concatInsetDateAndTime({date:v.monthLeft.dateInput,time:v.monthLeft.timeInput});break;case"dateTimeRange":let w=this.concatInsetDateAndTime({date:v.monthLeft.dateInput,time:v.monthLeft.timeInput}),T=this.concatInsetDateAndTime({date:v.monthRight.dateInput,time:v.monthRight.timeInput});x=this.concatInsetDateRange({rangeStart:w,rangeEnd:T})}return x}};function IconCalendar_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 20V8H20V20H4ZM2 4C2 2.89543 2.89543 2 4 2H20C21.1046 2 22 2.89543 22 4V20C22 21.1046 21.1046 22 20 22H4C2.89543 22 2 21.1046 2 20V4ZM6 10.5C6 10.2239 6.22386 10 6.5 10H8.5C8.77614 10 9 10.2239 9 10.5V12.5C9 12.7761 8.77614 13 8.5 13H6.5C6.22386 13 6 12.7761 6 12.5V10.5ZM6.5 15C6.22386 15 6 15.2239 6 15.5V17.5C6 17.7761 6.22386 18 6.5 18H8.5C8.77614 18 9 17.7761 9 17.5V15.5C9 15.2239 8.77614 15 8.5 15H6.5ZM10.5 10.5C10.5 10.2239 10.7239 10 11 10H13C13.2761 10 13.5 10.2239 13.5 10.5V12.5C13.5 12.7761 13.2761 13 13 13H11C10.7239 13 10.5 12.7761 10.5 12.5V10.5ZM11 15C10.7239 15 10.5 15.2239 10.5 15.5V17.5C10.5 17.7761 10.7239 18 11 18H13C13.2761 18 13.5 17.7761 13.5 17.5V15.5C13.5 15.2239 13.2761 15 13 15H11ZM15 10.5C15 10.2239 15.2239 10 15.5 10H17.5C17.7761 10 18 10.2239 18 10.5V12.5C18 12.7761 17.7761 13 17.5 13H15.5C15.2239 13 15 12.7761 15 12.5V10.5ZM15.5 15C15.2239 15 15 15.2239 15 15.5V17.5C15 17.7761 15.2239 18 15.5 18H17.5C17.7761 18 18 17.7761 18 17.5V15.5C18 15.2239 17.7761 15 17.5 15H15.5Z",fill:"currentColor"}))}let aN=convertIcon(IconCalendar_SvgComponent,"calendar");function IconCalendarClock_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{d:"M2 5V19C2 20.6569 3.34315 22 5 22H12.101C11.5151 21.4259 11.0297 20.7496 10.6736 20H6C4.89543 20 4 19.1046 4 18V8C4 7.44772 4.44772 7 5 7H19C19.5523 7 20 7.44772 20 8V10.6736C20.7496 11.0297 21.4259 11.5151 22 12.101V5C22 3.34315 20.6569 2 19 2H5C3.34315 2 2 3.34315 2 5Z",fill:"currentColor"}),eC.createElement("path",{d:"M16 10H17C16.4614 10 15.9369 10.0608 15.4332 10.176C15.5943 10.065 15.7896 10 16 10Z",fill:"currentColor"}),eC.createElement("path",{d:"M13.4981 10.9376C13.4659 10.4144 13.0313 10 12.5 10H11.5C10.9477 10 10.5 10.4477 10.5 11V12C10.5 12.4742 10.83 12.8712 11.2729 12.9741C11.857 12.1446 12.6168 11.4478 13.4981 10.9376Z",fill:"currentColor"}),eC.createElement("path",{d:"M7 10C6.44772 10 6 10.4477 6 11V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V11C9 10.4477 8.55228 10 8 10H7Z",fill:"currentColor"}),eC.createElement("path",{d:"M6 16C6 15.4477 6.44772 15 7 15H8C8.55228 15 9 15.4477 9 16V17C9 17.5523 8.55228 18 8 18H7C6.44772 18 6 17.5523 6 17V16Z",fill:"currentColor"}),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 17C22 19.7614 19.7614 22 17 22C14.2386 22 12 19.7614 12 17C12 14.2386 14.2386 12 17 12C19.7614 12 22 14.2386 22 17ZM18 15C18 14.4477 17.5523 14 17 14C16.4477 14 16 14.4477 16 15V17C16 17.2652 16.1054 17.5196 16.2929 17.7071L17.7929 19.2071C18.1834 19.5976 18.8166 19.5976 19.2071 19.2071C19.5976 18.8166 19.5976 18.1834 19.2071 17.7929L18 16.5858V15Z",fill:"currentColor"}))}let aF=convertIcon(IconCalendarClock_SvgComponent,"calendar_clock");function InsetDateInput(o){let{insetInputValue:v,valuePath:_,onFocus:x,onChange:w,placeholder:T,forwardRef:L}=o,N=eH()(v,_);return eC.createElement(rs,{value:N,onChange:(o,x)=>{w({value:o,event:x,insetInputValue:v,valuePath:_})},onFocus:x,placeholder:T,ref:L})}function InsetTimeInput(o){let{insetInputValue:v,valuePath:_,type:x,onFocus:w,onChange:T,placeholder:L,disabled:N}=o,B=x.includes("Time");if(!B)return null;let H=eH()(v,_);return eC.createElement(rs,{value:H,onChange:(o,x)=>{T({value:o,event:x,insetInputValue:v,valuePath:_})},onFocus:w,placeholder:L,disabled:N})}var dateInput_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let DateInput=class DateInput extends BaseComponent{get adapter(){var o=this;return Object.assign(Object.assign({},super.adapter),{updateIsFocusing:o=>this.setState({isFocusing:o}),notifyClick:function(){return o.props.onClick(...arguments)},notifyChange:function(){return o.props.onChange(...arguments)},notifyEnter:function(){return o.props.onEnterPress(...arguments)},notifyBlur:function(){return o.props.onBlur(...arguments)},notifyClear:function(){return o.props.onClear(...arguments)},notifyFocus:function(){return o.props.onFocus(...arguments)},notifyRangeInputClear:function(){return o.props.onRangeClear(...arguments)},notifyRangeInputFocus:function(){return o.props.onFocus(...arguments)},notifyTabPress:function(){return o.props.onRangeEndTabPress(...arguments)},notifyInsetInputChange:o=>this.props.onInsetInputChange(o)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}formatText(o){return o&&o.length?this.foundation.formatShowText(o):""}renderRangePrefix(){let{prefix:o,insetLabel:v,prefixCls:_,disabled:x,rangeInputFocus:w}=this.props,T=o||v;return T?eC.createElement("div",{className:"".concat(_,"-range-input-prefix"),onClick:o=>!x&&!w&&this.handleRangeStartFocus(o),"x-semi-prop":"prefix,insetLabel"},T):null}renderRangeSeparator(o,v){let{disabled:_,rangeSeparator:x}=this.props,w=eM()({["".concat(iy.PREFIX,"-range-input-separator")]:!0,["".concat(iy.PREFIX,"-range-input-separator-active")]:(o||v)&&!_});return eC.createElement("span",{onClick:o=>!_&&this.handleRangeStartFocus(o),className:w},x)}renderRangeClearBtn(o,v){let{showClear:_,prefixCls:x,disabled:w,clearIcon:T,showClearIgnoreDisabled:L}=this.props;return(o||v)&&_&&!(w&&!L)?eC.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear range input value",className:"".concat(x,"-range-input-clearbtn"),onMouseDown:o=>this.handleRangeInputClear(o)},T||eC.createElement(n6,{"aria-hidden":!0})):null}renderRangeSuffix(o){let{prefixCls:v,disabled:_,rangeInputFocus:x}=this.props,w=o?eC.createElement("div",{className:"".concat(v,"-range-input-suffix"),onClick:o=>!_&&!x&&this.handleRangeStartFocus(o)},o):null;return w}renderRangeInput(o){let{placeholder:v,inputStyle:_,disabled:x,inputReadOnly:w,autofocus:T,size:L,text:N,suffix:B,inputCls:H,rangeInputStartRef:Y,rangeInputEndRef:Z,rangeInputFocus:X,prefixCls:et,rangeSeparator:en,borderless:er}=o,[ei,ea=""]=N.split(en)||[],eo="large"===L?"default":"small",el=Array.isArray(v)?v:[v,v],[eu,ec]=el,ed=eM()("".concat(et,"-range-input-wrapper-start"),"".concat(et,"-range-input-wrapper"),{["".concat(et,"-range-input-wrapper-active")]:"rangeStart"===X&&!x,["".concat(et,"-range-input-wrapper-start-with-prefix")]:this.props.prefix||this.props.insetLabel,["".concat(et,"-borderless")]:er}),eh=eM()("".concat(et,"-range-input-wrapper-end"),"".concat(et,"-range-input-wrapper"),{["".concat(et,"-range-input-wrapper-active")]:"rangeEnd"===X&&!x,["".concat(et,"-borderless")]:er});return eC.createElement(eC.Fragment,null,this.renderRangePrefix(),eC.createElement("div",{onClick:o=>!x&&this.handleRangeInputFocus(o,"rangeStart"),className:"".concat(H," ").concat(ed)},eC.createElement(rs,{borderless:er,size:eo,style:_,disabled:x,readonly:w,placeholder:eu,value:ei,onChange:(o,v)=>this.handleRangeInputChange(o,ea,v),onEnterPress:o=>this.handleRangeInputEnterPress(o,ei,ea),onFocus:o=>this.handleRangeInputFocus(o,"rangeStart"),autoFocus:T,ref:Y})),this.renderRangeSeparator(ei,ea),eC.createElement("div",{className:"".concat(H," ").concat(eh),onClick:o=>!x&&this.handleRangeInputFocus(o,"rangeEnd")},eC.createElement(rs,{borderless:er,size:eo,style:_,disabled:x,readonly:w,placeholder:ec,value:ea,onChange:(o,v)=>this.handleRangeInputChange(ei,o,v),onEnterPress:o=>this.handleRangeInputEnterPress(o,ei,ea),onFocus:o=>this.handleRangeInputFocus(o,"rangeEnd"),onKeyDown:this.handleRangeInputEndKeyPress,ref:Z})),this.renderRangeClearBtn(ei,ea),this.renderRangeSuffix(B))}isRenderMultipleInputs(){let{type:o}=this.props;return o.includes("Range")&&"monthRange"!==o}renderInputInset(){let{type:o,handleInsetDateFocus:v,handleInsetTimeFocus:_,value:x,insetInputValue:w,prefixCls:T,rangeInputStartRef:L,rangeInputEndRef:N,density:B,insetInput:H}=this.props,Y=this.foundation.getInsetInputValue({value:x,insetInputValue:w}),{dateStart:Z,dateEnd:X,timeStart:et,timeEnd:en}=eH()(H,"placeholder",{}),{datePlaceholder:er,timePlaceholder:ei}=this.foundation.getInsetInputPlaceholder();return eC.createElement("div",{className:"".concat(T,"-inset-input-wrapper"),"x-type":o},eC.createElement(InsetDateInput,{forwardRef:L,insetInputValue:Y,placeholder:null!=Z?Z:er,valuePath:"monthLeft.dateInput",onChange:this.handleInsetInputChange,onFocus:o=>v(o,"rangeStart")}),eC.createElement(InsetTimeInput,{disabled:!Y.monthLeft.dateInput,insetInputValue:Y,placeholder:null!=et?et:ei,type:o,valuePath:"monthLeft.timeInput",onChange:this.handleInsetInputChange,onFocus:_}),this.isRenderMultipleInputs()&&eC.createElement(eC.Fragment,null,eC.createElement("div",{className:"".concat(T,"-inset-input-separator")},"compact"===B?null:"-"),eC.createElement(InsetDateInput,{forwardRef:N,insetInputValue:Y,placeholder:null!=X?X:er,valuePath:"monthRight.dateInput",onChange:this.handleInsetInputChange,onFocus:o=>v(o,"rangeEnd")}),eC.createElement(InsetTimeInput,{disabled:!Y.monthRight.dateInput,insetInputValue:Y,placeholder:null!=en?en:ei,type:o,valuePath:"monthRight.timeInput",onChange:this.handleInsetInputChange,onFocus:_})))}renderTriggerInput(){let o=this.props,{placeholder:v,type:_,value:x,inputValue:w,inputStyle:T,disabled:L,showClear:N,inputReadOnly:B,insetLabel:H,validateStatus:Y,block:Z,prefixCls:X,multiple:et,dateFnsLocale:en,onBlur:er,onClear:ei,onFocus:ea,prefix:eo,autofocus:el,size:eu,inputRef:ec,rangeInputStartRef:ed,rangeInputEndRef:eh,onRangeClear:ep,onRangeBlur:ef,onRangeEndTabPress:eg,rangeInputFocus:em,rangeSeparator:ey,insetInput:ev,insetInputValue:e_,defaultPickerValue:eb,showClearIgnoreDisabled:eS}=o,ex=dateInput_rest(o,["placeholder","type","value","inputValue","inputStyle","disabled","showClear","inputReadOnly","insetLabel","validateStatus","block","prefixCls","multiple","dateFnsLocale","onBlur","onClear","onFocus","prefix","autofocus","size","inputRef","rangeInputStartRef","rangeInputEndRef","onRangeClear","onRangeBlur","onRangeEndTabPress","rangeInputFocus","rangeSeparator","insetInput","insetInputValue","defaultPickerValue","showClearIgnoreDisabled"]),ew=eC.createElement(aN,{"aria-hidden":!0}),eT=eC.createElement(aF,{"aria-hidden":!0}),eP=_.includes("Time")?eT:ew,eI="";isNullOrUndefined(w)?x&&(eI=this.formatText(x)):eI=w;let eD=eM()({["".concat(X,"-input-readonly")]:B,["".concat(X,"-monthRange-input")]:"monthRange"===_}),eE=Object.assign(Object.assign({},this.props),{text:eI,suffix:eP,inputCls:eD});return this.isRenderMultipleInputs()?this.renderRangeInput(eE):eC.createElement(rs,Object.assign({},ex,{ref:ec,insetLabel:H,disabled:L,showClearIgnoreDisabled:eS,readonly:B,className:eD,style:T,hideSuffix:N,placeholder:"monthRange"===_&&Array.isArray(v)?v[0]+ey+v[1]:v,onEnterPress:this.handleEnterPress,onChange:this.handleChange,onClear:this.handleInputClear,suffix:eP,showClear:N,value:eI,validateStatus:Y,prefix:eo,autoFocus:el,size:eu,onBlur:er,onFocus:ea}))}render(){let{insetInput:o}=this.props;return o?this.renderInputInset():this.renderTriggerInput()}constructor(o){super(o),this.handleChange=(o,v)=>this.foundation.handleChange(o,v),this.handleEnterPress=o=>this.foundation.handleInputComplete(o),this.handleInputClear=o=>this.foundation.handleInputClear(o),this.handleRangeInputChange=(o,v,_)=>{let x=this.getRangeInputValue(o,v);this.foundation.handleChange(x,_)},this.handleRangeInputClear=o=>{this.foundation.handleRangeInputClear(o)},this.handleRangeInputEnterPress=(o,v,_)=>{let x=this.getRangeInputValue(v,_);this.foundation.handleRangeInputEnterPress(o,x)},this.handleRangeInputEndKeyPress=o=>{this.foundation.handleRangeInputEndKeyPress(o)},this.handleRangeInputFocus=(o,v)=>{this.foundation.handleRangeInputFocus(o,v)},this.handleRangeStartFocus=o=>{this.handleRangeInputFocus(o,"rangeStart")},this.handleInsetInputChange=o=>{this.foundation.handleInsetInputChange(o)},this.getRangeInputValue=(o,v)=>{let{rangeSeparator:_}=this.props,x="".concat(o).concat(_).concat(v);return x},this.foundation=new inputFoundation_InputFoundation(this.adapter)}};function startOfDay(o){requiredArgs(1,arguments);var v=toDate_toDate(o);return v.setHours(0,0,0,0),v}function isSameDay(o,v){requiredArgs(2,arguments);var _=startOfDay(o),x=startOfDay(v);return _.getTime()===x.getTime()}DateInput.propTypes={borderless:eI().bool,onClick:eI().func,onChange:eI().func,onEnterPress:eI().func,onBlur:eI().func,onClear:eI().func,onFocus:eI().func,value:eI().array,disabled:eI().bool,type:eI().oneOf(iv.TYPE_SET),showClear:eI().bool,format:eI().string,inputStyle:eI().object,inputReadOnly:eI().bool,insetLabel:eI().node,validateStatus:eI().string,prefix:eI().node,prefixCls:eI().string,dateFnsLocale:eI().object.isRequired,placeholder:eI().oneOfType([eI().string,eI().array]),rangeInputFocus:eI().oneOfType([eI().string,eI().bool]),rangeInputStartRef:eI().object,rangeInputEndRef:eI().object,rangeSeparator:eI().string,insetInput:eI().oneOfType([eI().bool,eI().object]),insetInputValue:eI().object,defaultPickerValue:eI().oneOfType([eI().string,eI().number,eI().object,eI().array])},DateInput.defaultProps={borderless:!1,showClear:!0,onClick:function_noop,onChange:function_noop,onEnterPress:function_noop,onBlur:function_noop,onClear:function_noop,onFocus:function_noop,type:"date",inputStyle:{},inputReadOnly:!1,prefixCls:iy.PREFIX,rangeSeparator:iv.DEFAULT_SEPARATOR_RANGE};var aV=_(1704),aB=_.n(aV),az=_(452),aj=_.n(az);function differenceInCalendarMonths(o,v){requiredArgs(2,arguments);var _=toDate_toDate(o),x=toDate_toDate(v);return 12*(_.getFullYear()-x.getFullYear())+(_.getMonth()-x.getMonth())}function differenceInCalendarYears(o,v){requiredArgs(2,arguments);var _=toDate_toDate(o),x=toDate_toDate(v);return _.getFullYear()-x.getFullYear()}function subMonths(o,v){return requiredArgs(2,arguments),addMonths(o,-toInteger(v))}function addYears(o,v){return requiredArgs(2,arguments),addMonths(o,12*toInteger(v))}function subYears(o,v){return requiredArgs(2,arguments),addYears(o,-toInteger(v))}function getDaysInMonth(o){requiredArgs(1,arguments);var v=toDate_toDate(o),_=v.getFullYear(),x=v.getMonth(),w=new Date(0);return w.setFullYear(_,x+1,0),w.setHours(0,0,0,0),w.getDate()}function setMonth(o,v){requiredArgs(2,arguments);var _=toDate_toDate(o),x=toInteger(v),w=_.getFullYear(),T=_.getDate(),L=new Date(0);L.setFullYear(w,x,15),L.setHours(0,0,0,0);var N=getDaysInMonth(L);return _.setMonth(x,Math.min(T,N)),_}function set_set(o,v){if(requiredArgs(2,arguments),"object"!==_typeof(v)||null===v)throw RangeError("values parameter must be an object");var _=toDate_toDate(o);return isNaN(_.getTime())?new Date(NaN):(null!=v.year&&_.setFullYear(v.year),null!=v.month&&(_=setMonth(_,v.month)),null!=v.date&&_.setDate(toInteger(v.date)),null!=v.hours&&_.setHours(toInteger(v.hours)),null!=v.minutes&&_.setMinutes(toInteger(v.minutes)),null!=v.seconds&&_.setSeconds(toInteger(v.seconds)),null!=v.milliseconds&&_.setMilliseconds(toInteger(v.milliseconds)),_)}var _utils_getFullDateOffset=(o,v)=>{if(!v)return"";let _=new Date(v),x=eX()(o)?o(_):_;return format_format(new Date(x),iv.FORMAT_FULL_DATE)};function isBefore(o,v){requiredArgs(2,arguments);var _=toDate_toDate(o),x=toDate_toDate(v);return _.getTime()<x.getTime()}function utils_isString(o){return"string"==typeof o}function isBefore_isBefore(o,v){let _=utils_isString(o)?parseISO(o):o,x=utils_isString(v)?parseISO(v):v;return isBefore(_,x)}function lastDayOfMonth(o){requiredArgs(1,arguments);var v=toDate_toDate(o),_=v.getMonth();return v.setFullYear(v.getFullYear(),_+1,0),v.setHours(0,0,0,0),v}function startOfMonth(o){requiredArgs(1,arguments);var v=toDate_toDate(o);return v.setDate(1),v.setHours(0,0,0,0),v}function formatFullDate(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",x="number"==typeof v&&v<10?`0${v}`:v.toString(),w="number"==typeof _&&_<10?`0${_}`:_.toString();return`${String(o)}-${x}-${w}`}function getWeeks(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_={dayNumber:"",dateNumberFull:"",fullDate:""},x=getDaysInMonth(o),w=format_format(o,"yyyy"),T=format_format(o,"MM"),L=lastDayOfMonth(o),N=startOfMonth(o),B=Number(format_format(N,"e",{weekStartsOn:v})),H=[],Y=[];for(let o=1;o<B;o++)Y.push(_);for(let o=0;o<x;o++){let v=o+1,_=v<10?`0${v}`:v.toString(),x=formatFullDate(w,T,v);Y.push({dayNumber:v,dayNumberFull:_,fullDate:x}),7===Y.length?(H.push(Y),Y=[]):x===format_format(L,"yyyy-MM-dd")&&(H.push(Y),Y=[])}return H}var _utils_getMonthTable=(o,v)=>{let _=getWeeks(o,v),x=format_format(o,"yyyy-MM");return{monthText:x,weeks:_,month:o}};let aH={month:differenceInCalendarMonths,year:differenceInCalendarYears},aG={prevMonth:subMonths,nextMonth:addMonths,prevYear:subYears,nextYear:addYears};let MonthsGridFoundation=class MonthsGridFoundation extends eU{constructor(o){super(Object.assign({},o)),this.newBiMonthPanelDate=[this.getState("monthLeft").pickerDate,this.getState("monthRight").pickerDate]}init(){let o=this.getProp("defaultValue");this.initDefaultPickerValue(),this.updateSelectedFromProps(o)}initDefaultPickerValue(){let o=compatibleParse(this.getProp("defaultPickerValue"));o&&isValidDate(o)&&(this._updatePanelDetail(iv.PANEL_TYPE_LEFT,{pickerDate:o}),this._updatePanelDetail(iv.PANEL_TYPE_RIGHT,{pickerDate:addMonths(o,1)}))}updateSelectedFromProps(o){let v=!(arguments.length>1)||void 0===arguments[1]||arguments[1],_=this.getProp("type"),{selected:x,rangeStart:w,rangeEnd:T}=this.getStates();if(o&&(null==o?void 0:o.length))switch(_){case"date":this._initDatePickerFromValue(o,v);break;case"dateRange":this._initDateRangePickerFromValue(o);break;case"dateTime":this._initDateTimePickerFromValue(o);break;case"dateTimeRange":this._initDateTimeRangePickerFormValue(o)}else(Array.isArray(o)&&!o.length||!o)&&(aB()(x)&&x.size&&this._adapter.updateDaySelected(new Set),w&&this._adapter.setRangeStart(""),T&&this._adapter.setRangeEnd(""))}calcDisabledTime(o){let{disabledTime:v,type:_}=this.getProps();if("function"==typeof v&&o&&["dateTime","dateTimeRange"].includes(_)){let{rangeStart:x,rangeEnd:w,monthLeft:T}=this.getStates(),L=[];"dateTimeRange"===_?(x&&L.push(x),x&&w&&L.push(w)):T&&T.showDate&&L.push(T.showDate);let N=L.map(o=>o instanceof Date?o:parseISO(o)),B="dateTimeRange"===_?N:N[0];return v(B,o)}}_initDatePickerFromValue(o){let v=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{monthLeft:_}=this._adapter.getStates(),x=Object.assign({},_);this._adapter.updateMonthOnLeft(x);let w=new Set,T=this._isMultiple();if(T?o.forEach(o=>{o&&w.add(format_format(o,iv.FORMAT_FULL_DATE))}):o[0]&&w.add(format_format(o[0],iv.FORMAT_FULL_DATE)),v){if(T){let v=null==o?void 0:o.some(o=>o&&0===differenceInCalendarMonths(o,_.pickerDate));v||this.handleShowDateAndTime(iv.PANEL_TYPE_LEFT,o[0]||x.pickerDate)}else this.handleShowDateAndTime(iv.PANEL_TYPE_LEFT,o[0]||x.pickerDate)}else this.handleShowDateAndTime(iv.PANEL_TYPE_LEFT,x.pickerDate);this._adapter.updateDaySelected(w)}_initDateRangePickerFromValue(o){let v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=this.getState("monthLeft"),x=this.getState("monthRight"),w=this._autoAdjustMonth(Object.assign(Object.assign({},_),{pickerDate:o[0]||_.pickerDate}),Object.assign(Object.assign({},x),{pickerDate:o[1]||x.pickerDate})),T=Array.isArray(o)&&o.filter(o=>o).length>1;if(T)this.handleShowDateAndTime(iv.PANEL_TYPE_LEFT,w.monthLeft.pickerDate),this.handleShowDateAndTime(iv.PANEL_TYPE_RIGHT,w.monthRight.pickerDate);else{let v=o.find(o=>o);if(v){let o=Math.abs(differenceInCalendarMonths(v,_.pickerDate))>0,T=Math.abs(differenceInCalendarMonths(v,x.pickerDate))>0;o&&T&&(this.handleShowDateAndTime(iv.PANEL_TYPE_LEFT,w.monthLeft.pickerDate),this.handleShowDateAndTime(iv.PANEL_TYPE_RIGHT,w.monthRight.pickerDate))}}let L=v?iv.FORMAT_DATE_TIME:iv.FORMAT_FULL_DATE,N=o[0]&&format_format(o[0],L),B=o[1]&&format_format(o[1],L);this._isNeedSwap(N,B)&&([N,B]=[B,N]),this._adapter.setRangeStart(N),this._adapter.setRangeEnd(B),this._adapter.setHoverDay(B)}_initDateTimePickerFromValue(o){this._initDatePickerFromValue(o)}_initDateTimeRangePickerFormValue(o){this._initDateRangePickerFromValue(o,!0)}destroy(){}handleSyncChangeMonths(o){let{panelType:v,target:_}=o,{type:x}=this._adapter.getProps(),{monthLeft:w,monthRight:T}=this._adapter.getStates();this.isRangeType(x)&&("right"===v&&0===differenceInCalendarMonths(_,w.pickerDate)?this.handleYearOrMonthChange("prevMonth","left",1,!0):"left"===v&&0===differenceInCalendarMonths(T.pickerDate,_)&&this.handleYearOrMonthChange("nextMonth","right",1,!0))}getTargetChangeDate(o){let v;let{panelType:_,switchType:x}=o,{monthRight:w,monthLeft:T}=this._adapter.getStates(),L="left"===_?T.pickerDate:w.pickerDate;switch(x){case"prevMonth":v=addMonths(L,-1);break;case"nextMonth":v=addMonths(L,1);break;case"prevYear":v=addYears(L,-1);break;case"nextYear":v=addYears(L,1)}return v}toMonth(o,v){let{type:_}=this._adapter.getProps(),x=this._getDiff("month",v,o);this.handleYearOrMonthChange(x<0?"prevMonth":"nextMonth",o,Math.abs(x),!1),this.isRangeType(_)&&this.handleSyncChangeMonths({panelType:o,target:v})}toYear(o,v){let _=this._getDiff("year",v,o);this.handleYearOrMonthChange(_<0?"prevYear":"nextYear",o,Math.abs(_),!1)}toYearMonth(o,v){this.toYear(o,v),this.toMonth(o,v)}isRangeType(o){let{type:v}=this.getProps(),_=o||v;return"string"==typeof _&&/range/i.test(_)}handleSwitchMonthOrYear(o,v){let{type:_,syncSwitchMonth:x}=this.getProps(),w=this.isRangeType(_);if(w&&x)this.handleYearOrMonthChange(o,"left",1,!0),this.handleYearOrMonthChange(o,"right",1,!0);else if(this.handleYearOrMonthChange(o,v),w){let _=this.getTargetChangeDate({panelType:v,switchType:o});this.handleSyncChangeMonths({panelType:v,target:_})}}prevMonth(o){this.handleSwitchMonthOrYear("prevMonth",o)}nextMonth(o){this.handleSwitchMonthOrYear("nextMonth",o)}prevYear(o){this.handleSwitchMonthOrYear("prevYear",o)}nextYear(o){this.handleSwitchMonthOrYear("nextYear",o)}_getDiff(o,v,_){let x=this._getPanelDetail(_),w=aH[o]&&aH[o](v,x.pickerDate);return w}_getPanelDetail(o){return o===iv.PANEL_TYPE_RIGHT?this.getState("monthRight"):this.getState("monthLeft")}localeFormat(o,v){let _=this._adapter.getProp("dateFnsLocale");return format_format(o,v,{locale:_})}disposeCallbackArgs(o){let v,_,x=Array.isArray(o)?o:o&&[o]||[],w=this.getProp("timeZone");isValidTimeZone(w)&&(x=x.map(o=>zonedTimeToUtc(o,w)));let T=this.getProp("type"),L=this.getProp("format")||getDefaultFormatTokenByType(T);switch(T){case"date":case"dateTime":case"month":this._isMultiple()?(v=x.map(o=>o&&this.localeFormat(o,L)),_=[...x]):(v=x[0]&&this.localeFormat(x[0],L),[_]=x);break;case"dateRange":case"dateTimeRange":v=x.map(o=>o&&this.localeFormat(o,L)),_=[...x]}return{notifyValue:v,notifyDate:_}}handleYearOrMonthChange(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iv.PANEL_TYPE_LEFT,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,x=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{autoSwitchDate:w,type:T}=this.getProps(),{monthLeft:L,monthRight:N}=this.getStates(),B=this.isRangeType(T),H=B&&v===iv.PANEL_TYPE_LEFT,Y=this._getPanelDetail(v),{pickerDate:Z}=Y,X=aG[o],et=X(Z,_),en=v===iv.PANEL_TYPE_LEFT&&!e7()(et,L.pickerDate)||v===iv.PANEL_TYPE_RIGHT&&!e7()(et,N.pickerDate);if(this._updatePanelDetail(v,{pickerDate:et}),en){if(B){if(H?this.newBiMonthPanelDate[0]=et:this.newBiMonthPanelDate[1]=et,!(H&&x)){let{notifyValue:o,notifyDate:v}=this.disposeCallbackArgs(this.newBiMonthPanelDate);this._adapter.notifyPanelChange(v,o)}}else{let{notifyValue:o,notifyDate:v}=this.disposeCallbackArgs(et);this._adapter.notifyPanelChange(v,o)}}w&&this.updateDateAfterChangeYM(o,et)}updateDateAfterChangeYM(o,v){let{multiple:_,disabledDate:x,type:w}=this.getProps(),{selected:T,rangeStart:L,rangeEnd:N,monthLeft:B}=this.getStates(),H=["dateRange","dateTimeRange"].includes(o);if(!_&&!H&&T.size){let o=Array.from(T)[0],_=new Date(o),H=v.getFullYear(),Y=v.getMonth(),Z=set_set(_,{year:H,month:Y});if("dateTime"===w&&(Z=this._mergeDateAndTime(Z,B.pickerDate)),x(Z,{rangeStart:L,rangeEnd:N}))return;this._adapter.notifySelectedChange([Z],{closePanel:!1})}}_isMultiple(){return!!this.getProp("multiple")&&"date"===this.getProp("type")}_isRange(){}handleDayClick(o,v){let _=this.getProp("type");switch(!0){case"date"===_||"dateTime"===_:this.handleDateSelected(o,v);break;case"dateRange"===_||"dateTimeRange"===_:this.handleRangeSelected(o)}}handleDateSelected(o,v){let{max:_,type:x,isControlledComponent:w,dateFnsLocale:T}=this.getProps(),L=this._isMultiple(),{selected:N}=this.getStates(),B=this._getPanelDetail(v),H=new Set(L?[...N]:[]),{fullDate:Y}=o,Z=B.pickerDate,X="dateTime"===x?this._mergeDateAndTime(Y,Z):Y;L?H.has(X)?H.delete(X):_&&H.size===_?this._adapter.notifyMaxLimit():H.add(X):H.add(X);let et=this.getValidDateFormat(),en=[...H].map(o=>compatibleParse(o,et,void 0,T));this.handleShowDateAndTime(v,Z),w||this._adapter.updateDaySelected(H),this._adapter.notifySelectedChange(en)}handleShowDateAndTime(o,v,_){let x=_||v;this._updatePanelDetail(o,{showDate:x,pickerDate:v})}_mergeDateAndTime(o,v){let _=this._adapter.getProp("dateFnsLocale"),x=format_format(isValidDate(o)?o:compatibleParse(o,iv.FORMAT_FULL_DATE,void 0,_),iv.FORMAT_FULL_DATE),w=format_format(isValidDate(v)?v:compatibleParse(v,iv.FORMAT_TIME_PICKER,void 0,_),iv.FORMAT_TIME_PICKER),T=this.getValidTimeFormat();return compatibleParse(`${x} ${w}`,T,void 0,_)}handleRangeSelected(o){let{rangeStart:v,rangeEnd:_}=this.getStates(),{startDateOffset:x,endDateOffset:w,type:T,dateFnsLocale:L,rangeInputFocus:N,triggerRender:B}=this._adapter.getProps(),{fullDate:H}=o,Y=!1,Z=!1,X=(x||w)&&"dateRange"===T;X?(v=_utils_getFullDateOffset(x,H),_=_utils_getFullDateOffset(w,H)):"rangeEnd"===N?(_=H,v&&_&&isBefore_isBefore(_,v.trim().split(/\s+/)[0])&&(v=null,Y=!0)):("rangeStart"===N||!N)&&(v=H)&&_&&isBefore_isBefore(_.trim().split(/\s+/)[0],v)&&(_=null,Z=!0);let et=/range/i.test(T);!et||(X?(this._adapter.setRangeStart(v),this._adapter.setRangeEnd(_)):"rangeEnd"===N?(this._adapter.setRangeEnd(_),Y&&this._adapter.setRangeStart(v),this._adapter.isAnotherPanelHasOpened("rangeEnd")&&v||this._adapter.setRangeInputFocus("rangeStart")):"rangeStart"!==N&&N||(this._adapter.setRangeStart(v),Z&&this._adapter.setRangeEnd(_),this._adapter.isAnotherPanelHasOpened("rangeStart")&&_||this._adapter.setRangeInputFocus("rangeEnd")));let en=this.getValidDateFormat();if(v||_){let[o,x]=[compatibleParse(v,en,void 0,L),compatibleParse(_,en,void 0,L)],w=[o,x];if("dateTimeRange"===T){let T=this.getState("monthLeft").pickerDate,L=this.getState("monthRight").pickerDate,N=v?this._mergeDateAndTime(v,T):null,B=_?this._mergeDateAndTime(_,L):null;w=isSameDay(o,x)&&isBefore_isBefore(B,N)?[N,N]:[N,B]}let N=!("dateRange"===T&&X);this._adapter.notifySelectedChange(w,{needCheckFocusRecord:N})}}_isNeedSwap(o,v){return o&&v&&isBefore_isBefore(v,o)}handleDayHover(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fullDate:""};arguments.length>1&&arguments[1];let{fullDate:v}=o,{startDateOffset:_,endDateOffset:x,type:w}=this.getProps();if(this._adapter.setHoverDay(v),(_||x)&&"dateRange"===w){let o=_utils_getFullDateOffset(_,v),w=_utils_getFullDateOffset(x,v);this._adapter.setOffsetRangeStart(o),this._adapter.setOffsetRangeEnd(w)}}_autoAdjustMonth(o,v){let _=o,x=v,w=differenceInCalendarMonths(o.pickerDate,v.pickerDate);return w>0?(_=Object.assign({},v),x=Object.assign({},o)):0===w&&(_=o,x=Object.assign(Object.assign({},v),{pickerDate:addMonths(v.pickerDate,1)})),{monthLeft:_,monthRight:x}}getValidTimeFormat(){let o=this.getProp("format")||iv.FORMAT_TIME_PICKER,v=[];return(aj()(o,"h")||aj()(o,"H"))&&v.push("HH"),aj()(o,"m")&&v.push("mm"),aj()(o,"s")&&v.push("ss"),v.join(":")}getValidDateFormat(){return this.getProp("format")||_utils_getDefaultFormatToken(this.getProp("type"))}handleTimeChange(o,v){let _,x,w;let{rangeEnd:T,rangeStart:L}=this.getStates(),N=this.getProp("dateFnsLocale"),B=o.timeStampValue,H=this.getProp("type"),Y=this._getPanelDetail(v),{showDate:Z}=Y,X=new Date(B),et=this.getValidDateFormat(),en=v===iv.PANEL_TYPE_RIGHT?T:L;if("dateTimeRange"===H&&en){let o=compatibleParse(en,et,void 0,N);_=o.getFullYear(),x=o.getMonth(),w=o.getDate()}else _=Z.getFullYear(),x=Z.getMonth(),w=Z.getDate();let er=X.getHours(),ei=X.getMinutes(),ea=X.getSeconds(),eo=X.getMilliseconds(),el=[_,x,w,er,ei,ea,eo],eu=new Date(...el);if("dateTimeRange"===H)this.handleShowDateAndTime(v,eu,Z),this._updateTimeInDateRange(v,eu);else{let o=formatFullDate(_,x+1,w);this.handleDateSelected({fullDate:o,fullValidDate:eu},v),this.handleShowDateAndTime(v,eu),this._adapter.notifySelectedChange([eu])}}_updateTimeInDateRange(o,v){let{isControlledComponent:_,dateFnsLocale:x}=this.getProps(),w=this.getState("rangeStart"),T=this.getState("rangeEnd"),L=this.getValidDateFormat();if(w&&T){let N=compatibleParse(w,L,void 0,x),B=compatibleParse(T,L,void 0,x);o===iv.PANEL_TYPE_RIGHT?(T=format_format(B=this._mergeDateAndTime(v,v),iv.FORMAT_DATE_TIME),this._isNeedSwap(w,T)&&([w,T]=[T,w],[N,B]=[B,N]),_||this._adapter.setRangeEnd(T)):(w=format_format(N=this._mergeDateAndTime(v,v),iv.FORMAT_DATE_TIME),this._isNeedSwap(w,T)&&([w,T]=[T,w],[N,B]=[B,N]),_||this._adapter.setRangeStart(w)),this._adapter.notifySelectedChange([N,B])}}_updatePanelDetail(o,v){let{monthLeft:_,monthRight:x}=this.getStates();o===iv.PANEL_TYPE_RIGHT?this._adapter.updateMonthOnRight(Object.assign(Object.assign({},x),v)):this._adapter.updateMonthOnLeft(Object.assign(Object.assign({},_),v))}showYearPicker(o){this._updatePanelDetail(o,{isTimePickerOpen:!1,isYearPickerOpen:!0})}showTimePicker(o,v){this.getProp("disabledTimePicker")||this._updatePanelDetail(o,{isTimePickerOpen:!0,isYearPickerOpen:!1})}showDatePanel(o){this._updatePanelDetail(o,{isTimePickerOpen:!1,isYearPickerOpen:!1})}getYAMOpenType(){let{monthLeft:o,monthRight:v}=this._adapter.getStates(),_=o.isYearPickerOpen,x=v.isYearPickerOpen;return _&&x?"both":_?"left":x?"right":"none"}};function IconDoubleChevronLeft_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6185 4.39653C13.1272 4.92524 13.1272 5.78245 12.6185 6.31116L7.14483 12L12.6185 17.6888C13.1272 18.2176 13.1272 19.0748 12.6185 19.6035C12.1098 20.1322 11.285 20.1322 10.7763 19.6035L4.38153 12.9573C3.87282 12.4286 3.87282 11.5714 4.38153 11.0427L10.7763 4.39653C11.285 3.86782 12.1098 3.86782 12.6185 4.39653Z",fill:"currentColor"}),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.6185 4.39653C20.1272 4.92524 20.1272 5.78245 19.6185 6.31116L14.1448 12L19.6185 17.6888C20.1272 18.2176 20.1272 19.0748 19.6185 19.6035C19.1098 20.1322 18.285 20.1322 17.7763 19.6035L11.3815 12.9573C10.8728 12.4286 10.8728 11.5714 11.3815 11.0427L17.7763 4.39653C18.285 3.86782 19.1098 3.86782 19.6185 4.39653Z",fill:"currentColor"}))}let aU=convertIcon(IconDoubleChevronLeft_SvgComponent,"double_chevron_left");function IconChevronLeft_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2782 4.23933C16.864 4.82511 16.864 5.77486 16.2782 6.36065L10.6213 12.0175L16.2782 17.6744C16.864 18.2601 16.864 19.2099 16.2782 19.7957C15.6924 20.3815 14.7426 20.3815 14.1569 19.7957L7.43934 13.0782C6.85355 12.4924 6.85355 11.5426 7.43934 10.9568L14.1569 4.23933C14.7426 3.65354 15.6924 3.65354 16.2782 4.23933Z",fill:"currentColor"}))}let aW=convertIcon(IconChevronLeft_SvgComponent,"chevron_left");function IconChevronRight_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.43934 19.7957C6.85355 19.2099 6.85355 18.2601 7.43934 17.6744L13.0962 12.0175L7.43934 6.36065C6.85355 5.77486 6.85355 4.82511 7.43934 4.23933C8.02513 3.65354 8.97487 3.65354 9.56066 4.23933L16.2782 10.9568C16.864 11.5426 16.864 12.4924 16.2782 13.0782L9.56066 19.7957C8.97487 20.3815 8.02513 20.3815 7.43934 19.7957Z",fill:"currentColor"}))}let aY=convertIcon(IconChevronRight_SvgComponent,"chevron_right");function IconDoubleChevronRight_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.38153 4.39653C4.89024 3.86782 5.71502 3.86782 6.22373 4.39653L12.6185 11.0427C13.1272 11.5714 13.1272 12.4286 12.6185 12.9573L6.22373 19.6035C5.71502 20.1322 4.89024 20.1322 4.38153 19.6035C3.87282 19.0748 3.87282 18.2176 4.38153 17.6888L9.85517 12L4.38153 6.31116C3.87282 5.78245 3.87282 4.92524 4.38153 4.39653Z",fill:"currentColor"}),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3815 4.39653C11.8902 3.86782 12.715 3.86782 13.2237 4.39653L19.6185 11.0427C20.1272 11.5714 20.1272 12.4286 19.6185 12.9573L13.2237 19.6035C12.715 20.1322 11.8902 20.1322 11.3815 19.6035C10.8728 19.0748 10.8728 18.2176 11.3815 17.6888L16.8552 12L11.3815 6.31116C10.8728 5.78245 10.8728 4.92524 11.3815 4.39653Z",fill:"currentColor"}))}let aK=convertIcon(IconDoubleChevronRight_SvgComponent,"double_chevron_right"),aZ=iy.NAVIGATION;let Navigation=class Navigation extends eC.PureComponent{render(){let{forwardRef:o,monthText:v,onMonthClick:_,onNextMonth:x,onPrevMonth:w,onPrevYear:T,onNextYear:L,density:N,shouldBimonthSwitch:B,panelType:H}=this.props,Y="borderless",Z="compact"===N?"default":"large",X="compact"===N?"small":"default",et=H===iv.PANEL_TYPE_LEFT,en=H===iv.PANEL_TYPE_RIGHT,er={},ei={};B&&en&&(er.visibility="hidden"),B&&et&&(ei.visibility="hidden");let ea=o||this.navRef;return eC.createElement("div",{className:aZ,ref:ea},eC.createElement(IconButton,{key:"double-chevron-left","aria-label":"Previous year",icon:eC.createElement(aU,{"aria-hidden":!0,size:Z}),size:X,theme:Y,noHorizontalPadding:!0,onClick:T,style:er}),eC.createElement(IconButton,{key:"chevron-left","aria-label":"Previous month",icon:eC.createElement(aW,{"aria-hidden":!0,size:Z}),size:X,onClick:w,theme:Y,noHorizontalPadding:!0,style:er}),eC.createElement("div",{className:"".concat(aZ,"-month")},eC.createElement(nt,{onClick:_,theme:Y,size:X},eC.createElement("span",null,v))),eC.createElement(IconButton,{key:"chevron-right","aria-label":"Next month",icon:eC.createElement(aY,{"aria-hidden":!0,size:Z}),size:X,onClick:x,theme:Y,noHorizontalPadding:!0,style:ei}),eC.createElement(IconButton,{key:"double-chevron-right","aria-label":"Next year",icon:eC.createElement(aK,{"aria-hidden":!0,size:Z}),size:X,theme:Y,noHorizontalPadding:!0,onClick:L,style:ei}))}constructor(o){super(o),this.navRef=eC.createRef()}};Navigation.propTypes={monthText:eI().string,density:eI().string,onMonthClick:eI().func,onNextMonth:eI().func,onPrevMonth:eI().func,onNextYear:eI().func,onPrevYear:eI().func,navPrev:eI().node,navNext:eI().node,shouldBimonthSwitch:eI().bool,panelType:eI().oneOf([iv.PANEL_TYPE_LEFT,iv.PANEL_TYPE_RIGHT])},Navigation.defaultProps={monthText:"",onMonthClick:eE(),onNextMonth:eE(),onPrevMonth:eE(),onNextYear:eE(),onPrevYear:eE()};var getDayOfWeek=o=>{let{weekStartsOn:v=0}=o,_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let o=0;o<v;o++)_.push(_.shift());return _};let CalendarMonthFoundation=class CalendarMonthFoundation extends eU{constructor(o){super(Object.assign({},o))}init(){this._getToday(),this.getMonthTable()}_getToday(){let o=new Date,v=format_format(o,"yyyy-MM-dd");this._adapter.updateToday(v)}getMonthTable(){let o=this._adapter.getProp("month"),v=this.getState("weeksRowNum");if(o){this.updateWeekDays();let _=this._adapter.getProp("weekStartsOn"),x=_utils_getMonthTable(o,_),{weeks:w}=x;this._adapter.updateMonthTable(x),isNullOrUndefined(v)?this._adapter.setWeeksRowNum(w.length):Array.isArray(w)&&w.length!==v&&this._adapter.setWeeksRowNum(w.length,()=>{this._adapter.notifyWeeksRowNumChange(w.length)})}}updateWeekDays(){let o=this._adapter.getProp("weekStartsOn"),v=getDayOfWeek({weekStartsOn:o});this._adapter.setWeekDays(v)}destroy(){}handleClick(o){this._adapter.notifyDayClick(o)}handleHover(o){this._adapter.notifyDayHover(o)}};function isAfter(o,v){requiredArgs(2,arguments);var _=toDate_toDate(o),x=toDate_toDate(v);return _.getTime()>x.getTime()}function isAfter_isAfter(o,v){let _=utils_isString(o)?parseISO(o):o,x=utils_isString(v)?parseISO(v):v;return isAfter(_,x)}function isSameDay_isSameDay(o,v){let _=utils_isString(o)?parseISO(o):o,x=utils_isString(v)?parseISO(v):v;return isSameDay(_,x)}function isWithinInterval(o,v){requiredArgs(2,arguments);var _=toDate_toDate(o).getTime(),x=toDate_toDate(v.start).getTime(),w=toDate_toDate(v.end).getTime();if(!(x<=w))throw RangeError("Invalid interval");return _>=x&&_<=w}function isBetween(o,v){let{start:_,end:x}=v,w=utils_isString(o)?parseISO(o):o,T=utils_isString(_)?parseISO(_):_,L=utils_isString(x)?parseISO(x):x;return isBefore(T,L)&&isWithinInterval(w,{start:T,end:L})&&!isEqual_isEqual(w,T)&&!isEqual_isEqual(w,L)}let aq=iy.PREFIX;let Month=class Month extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToday:o=>this.setState({todayText:o}),setWeekDays:o=>this.setState({weekdays:o}),setWeeksRowNum:(o,v)=>this.setState({weeksRowNum:o},v),updateMonthTable:o=>this.setState({month:o}),notifyDayClick:o=>this.props.onDayClick(o),notifyDayHover:o=>this.props.onDayHover(o),notifyWeeksRowNumChange:o=>this.props.onWeeksRowNumChange(o)})}componentDidMount(){this.foundation=new CalendarMonthFoundation(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(o,v){o.month!==this.props.month&&this.foundation.getMonthTable()}getSingleDayStatus(o){let{rangeInputFocus:v}=this.props,{fullDate:_,todayText:x,selected:w,disabledDate:T,rangeStart:L,rangeEnd:N}=o,B=_===x,H=w.has(_),Y=T&&T(parseISO(_),{rangeStart:L,rangeEnd:N,rangeInputFocus:v});return!Y&&"rangeStart"===this.props.rangeInputFocus&&N&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeEnd&&(Y=isAfter_isAfter(_,N.trim().split(/\s+/)[0])),!Y&&"rangeEnd"===this.props.rangeInputFocus&&L&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeStart&&(Y=isBefore_isBefore(_,L.trim().split(/\s+/)[0])),{isToday:B,isSelected:H,isDisabled:Y}}getDateRangeStatus(o){let v,_,x,w,T,L,N,B,H,Y,Z,X;let{rangeStart:et,rangeEnd:en,fullDate:er,hoverDay:ei,offsetRangeStart:ea,offsetRangeEnd:eo,rangeInputFocus:el}=o,eu=!!(et||en),ec=!!(et&&en),ed=ea||eo;if(!eu)return{};let eh=isSameDay_isSameDay(ei,er);return et&&(x=isSameDay_isSameDay(er,et),"rangeEnd"===el&&(v=isBetween(er,{start:et,end:ei}))),en&&(w=isSameDay_isSameDay(er,en),"rangeStart"===el&&(_=isBetween(er,{start:ei,end:en}))),!ec&&eu&&(T=eh),ed||(L=v||_||eh),ec&&(N=isBetween(er,{start:et,end:en}),ed||(B=x&&isAfter_isAfter(et,ei),H=w&&isBefore_isBefore(en,ei),Y=eh&&"rangeStart"===el,Z=eh&&"rangeEnd"===el,X=eh&&isBetween(ei,{start:et,end:en}))),{isHoverDay:eh,isSelectedStart:x,isSelectedEnd:w,isInRange:N,isHover:L,isSelectedStartAfterHover:B,isSelectedEndBeforeHover:H,isHoverDayInRange:X,isHoverDayInStartSelection:Y,isHoverDayInEndSelection:Z,isHoverDayAroundOneSelected:T}}getOffsetDateStatus(o){let v,_;let{offsetRangeStart:x,offsetRangeEnd:w,rangeStart:T,rangeEnd:L,fullDate:N,hoverDay:B}=o,H=!(x||w);if(H)return{};let Y=isBetween(N,{start:T,end:L}),Z=isSameDay_isSameDay(B,N),X=T&&isSameDay_isSameDay(N,T),et=L&&isSameDay_isSameDay(N,L),en=!!(T&&L),er=isSameDay_isSameDay(N,x),ei=isSameDay_isSameDay(N,w);en&&(v=Y&&Z);let ea=!!(x&&w);return ea&&(_=X||isBetween(N,{start:x,end:w})||et),{isOffsetRangeStart:er,isOffsetRangeEnd:ei,isHoverInOffsetRange:v,isHoverDayOffset:Z,isInOffsetRange:_}}getDayStatus(o,v){let{fullDate:_}=o,{hoverDay:x,rangeStart:w,rangeEnd:T,todayText:L,offsetRangeStart:N,offsetRangeEnd:B,disabledDate:H,selected:Y,rangeInputFocus:Z}=v,X=this.getSingleDayStatus({fullDate:_,todayText:L,hoverDay:x,selected:Y,disabledDate:H,rangeStart:w,rangeEnd:T}),et=this.getDateRangeStatus(Object.assign({fullDate:_,rangeStart:w,rangeEnd:T,hoverDay:x,offsetRangeStart:N,offsetRangeEnd:B,rangeInputFocus:Z},X)),en=this.getOffsetDateStatus(Object.assign(Object.assign({offsetRangeStart:N,offsetRangeEnd:B,rangeStart:w,rangeEnd:T,fullDate:_,hoverDay:x},X),et)),er=Object.assign(Object.assign(Object.assign({},X),et),en);return er}renderDayOfWeek(){let{locale:o}=this.props,v=eM()(iy.WEEKDAY),_=eM()("".concat(aq,"-weekday-item")),{weekdays:x}=this.state,w=x.map(v=>o.weeks[v]);return eC.createElement("div",{role:"row",className:v},w.map((o,v)=>eC.createElement("div",{role:"columnheader",key:o+v,className:_},o)))}renderWeeks(){let{month:o}=this.state,{weeks:v}=o,{weeksRowNum:_}=this.props,x={};if(_){let o=_*i_.WEEK_HEIGHT;x={height:o}}let w=eM()(iy.WEEKS);return eC.createElement("div",{className:w,style:x},v.map((o,v)=>this.renderWeek(o,v)))}renderWeek(o,v){let _=iy.WEEK;return eC.createElement("div",{role:"row",className:_,key:v},o.map((o,v)=>this.renderDay(o,v)))}renderDay(o,v){let{todayText:_}=this.state,{renderFullDate:x,renderDate:w}=this.props,{fullDate:T,dayNumber:L}=o;if(!T)return eC.createElement("div",{role:"gridcell",tabIndex:-1,key:L+v,className:iy.DAY},eC.createElement("span",null));let N=this.getDayStatus(o,Object.assign({todayText:_},this.props)),B=eM()(iy.DAY,{[iy.DAY_TODAY]:N.isToday,[iy.DAY_IN_RANGE]:N.isInRange,[iy.DAY_HOVER]:N.isHover,[iy.DAY_SELECTED]:N.isSelected,[iy.DAY_SELECTED_START]:N.isSelectedStart,[iy.DAY_SELECTED_END]:N.isSelectedEnd,[iy.DAY_DISABLED]:N.isDisabled,[iy.DAY_HOVER_DAY]:N.isHoverDayOffset,[iy.DAY_IN_OFFSET_RANGE]:N.isInOffsetRange,[iy.DAY_SELECTED_RANGE_HOVER]:N.isHoverInOffsetRange,[iy.DAY_OFFSET_RANGE_START]:N.isOffsetRangeStart,[iy.DAY_OFFSET_RANGE_END]:N.isOffsetRangeEnd,[iy.DAY_SELECTED_START_AFTER_HOVER]:N.isSelectedStartAfterHover,[iy.DAY_SELECTED_END_BEFORE_HOVER]:N.isSelectedEndBeforeHover,[iy.DAY_HOVER_DAY_BEFORE_RANGE]:N.isHoverDayInStartSelection,[iy.DAY_HOVER_DAY_AFTER_RANGE]:N.isHoverDayInEndSelection,[iy.DAY_HOVER_DAY_AROUND_SINGLE_SELECTED]:N.isHoverDayAroundOneSelected}),H=eM()({["".concat(iy.DAY,"-main")]:!0}),Y=[L,T,N],Z=eX()(x);return eC.createElement("div",{role:"gridcell",tabIndex:N.isDisabled?-1:0,"aria-disabled":N.isDisabled,"aria-selected":N.isSelected,"aria-label":T,className:Z?iy.DAY:B,title:T,key:L+v,onClick:v=>!N.isDisabled&&this.foundation.handleClick(o),onMouseEnter:()=>this.foundation.handleHover(o),onMouseLeave:()=>this.foundation.handleHover()},Z?x(...Y):eC.createElement("div",{className:H},eX()(w)?w(L,T):eC.createElement("span",null,L)))}render(){let{forwardRef:o,multiple:v}=this.props,_=this.renderDayOfWeek(),x=this.renderWeeks(),w=eM()(iy.MONTH),T=o||this.monthRef;return eC.createElement("div",{role:"grid","aria-multiselectable":v,ref:T,className:w},_,x)}constructor(o){super(o),this.state={weekdays:[],month:{weeks:[],monthText:""},todayText:"",weeksRowNum:o.weeksRowNum},this.monthRef=eC.createRef()}};Month.propTypes={month:eI().object,selected:eI().object,rangeStart:eI().string,rangeEnd:eI().string,offsetRangeStart:eI().string,offsetRangeEnd:eI().string,onDayClick:eI().func,onDayHover:eI().func,weekStartsOn:eI().number,disabledDate:eI().func,weeksRowNum:eI().number,onWeeksRowNumChange:eI().func,renderDate:eI().func,renderFullDate:eI().func,hoverDay:eI().string,startDateOffset:eI().func,endDateOffset:eI().func,rangeInputFocus:eI().oneOfType([eI().string,eI().bool]),focusRecordsRef:eI().object,multiple:eI().bool},Month.defaultProps={month:new Date,selected:new Set,rangeStart:"",rangeEnd:"",onDayClick:eE(),onDayHover:eE(),onWeeksRowNumChange:eE(),weekStartsOn:i_.WEEK_START_ON,disabledDate:iw(),weeksRowNum:0};let aX="time",a$="timeRange",aQ={PREFIX:`${eO.T}-timepicker`,RANGE_PICKER:`${eO.T}-timepicker-range-panel`,RANGE_PANEL_LISTS:`${eO.T}-timepicker-lists`},aJ={TYPES:[aX,a$],TYPE_TIME_PICKER:aX,TYPE_TIME_RANGE_PICKER:a$,DEFAULT_TYPE:aX,DEFAULT_RANGE_SEPARATOR:" ~ ",DEFAULT_MULTIPLE_SEPARATOR:",",SIZE:n1.SIZE,DEFAULT_FORMAT:"HH:mm:ss",DEFAULT_FORMAT_A:"a h:mm:ss",STATUS:rP,DEFAULT_POSITION:{[aX]:"bottomLeft",[a$]:"bottomLeft"}},a0={PREFIX:`${eO.T}-scrolllist`,SELECTED:`${eO.T}-scrolllist-item-selected`},a1={DEFAULT_ITEM_HEIGHT:36,DEFAULT_SCROLL_DURATION:120};var a2=_(8272),a5=_.n(a2),a3=_(5521),a4=_.n(a3),a7=_(350),a6=_.n(a7),a9=_(3618),a8=_.n(a9),ot=_(3333),on=_.n(ot),or=_(5801),oi=_.n(or);let ItemFoundation=class ItemFoundation extends eU{constructor(){super(...arguments),this._cachedSelectedNode=null}selectIndex(o,v){let{type:_,list:x}=this.getProps();if(o>-1&&Array.isArray(x)&&x.length&&isElement(v)){let w=o%x.length,T=x[w],L=v.children[o];this._adapter.setSelectedNode(L),this._adapter.notifySelectItem(Object.assign(Object.assign({},T),{value:T.value,type:_,index:w}))}}selectNode(o,v){let{type:_,list:x}=this.getProps();if(isElement(o)&&isElement(v)){let w=a4()(v.children,v=>v===o),T=w%x.length,L=a4()(v.children,o=>o===this._cachedSelectedNode),N=L%x.length,B=x[T];this._adapter.setSelectedNode(o),this._adapter.scrollToCenter(o),this._cachedSelectedNode!==o&&(this._cachedSelectedNode=o,N!==T&&this._adapter.notifySelectItem(Object.assign(Object.assign({},B),{value:B.value,type:_,index:T})))}}shouldAppend(o,v){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(isElement(o)&&isElement(v)){let x=o.querySelectorAll("li"),w=x[x.length-1],{list:T}=this.getProps();if(w){let o=v.getBoundingClientRect(),x=w.getBoundingClientRect(),L=x.height*T.length,N=x.top,B=0;for(;N<=o.top+o.height*_;)B+=1,N+=L;return B}}return!1}shouldPrepend(o,v){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(isElement(o)&&isElement(v)){let x=o.querySelectorAll("li"),w=x[0],{list:T}=this.getProps();if(w){let o=v.getBoundingClientRect(),x=w.getBoundingClientRect(),L=x.height*T.length,N=x.top,B=0;for(;N+x.height>=o.top-o.height*_;)B+=1,N-=L;return B}}return 0}initWheelList(o,v,_){let{list:x}=this.getProps();if(isElement(v)&&isElement(o)&&x&&x.length){let w=o.children;oi()(w,0,x.length);let T=this.shouldPrepend(o,v),L=this.shouldAppend(o,v);this._adapter.setState({prependCount:T,appendCount:L},_)}}adjustInfiniteList(o,v,_){let{list:x}=this.getProps();if(isElement(v)&&isElement(o)&&x&&x.length){let _=o.querySelectorAll("li"),w=_.length,T=this.shouldPrepend(o,v,1),L=this.shouldAppend(o,v,1);if(T)for(let v=0;v<T;v++){let T=oi()(_,w-x.length*(v+1),w-x.length*v);prepend(o,...T)}if(L)for(let v=0;v<L;v++){let w=oi()(_,v*x.length,(v+1)*x.length);append(o,...w)}}}getNearestNodeInfo(o,v){if(isElement(o)&&isElement(v)){let _=v.getBoundingClientRect(),x=_.top,w=o.querySelectorAll("li"),T=null,L=-1,N=1/0;return Array.from(w).map((o,v)=>{let _=o.getBoundingClientRect(),w=_.top,B=Math.abs(w-x);B<N&&!this._adapter.isDisabledIndex(v)&&(N=B,T=o,L=v)}),{nearestNode:T,nearestIndex:L}}}getTargetNode(o,v){if(o&&isElement(v)){let _=o.target,x=v.querySelectorAll("li"),w=this.getProp("list"),T=Array.isArray(w)?w.length:0,L=-1,N=-1,B=null,H=a8()(x,(o,v)=>{if(o===_||o.contains(_))return L=v,T>0&&(N=v%T),!0});return N>-1&&(B=w[N]),{targetNode:H,targetIndex:L,indexInList:N,infoInList:B}}return null}};var oa=_(2133),oo=_.n(oa);function minMax(o,v,_){return Math.min(Math.max(o,v),_)}function parseEasingParameters(o){let v=/\(([^)]+)\)/.exec(o);return v?v[1].split(",").map(o=>parseFloat(o)):[]}function elastic(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,_=minMax(o,1,10),x=minMax(v,.1,2);return o=>0===o||1===o?o:-_*Math.pow(2,10*(o-1))*Math.sin((o-1-x/(2*Math.PI)*Math.asin(1/_))*(2*Math.PI)/x)}let os=(()=>{let o=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],v={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],elastic],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(o,v)=>_=>1-elastic(o,v)(1-_)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(o,v)=>_=>_<.5?elastic(o,v)(2*_)/2:1-elastic(o,v)(-2*_+2)/2]},_={linear:[.25,.25,.75,.75]};for(let x of Object.keys(v))v[x].forEach((v,w)=>{_["ease"+x+o[w]]=v});return _})();function getEasing(o){let v;if("function"==typeof o)return o;let _=(o=o&&"string"==typeof o?o.trim():"linear").split("(")[0],x=parseEasingParameters(o);return"cubic-bezier"===_||"cubicBezier"===_?oo()(...x.length?x:os.linear):(_&&"string"==typeof _&&("string"!=typeof _||null!=os[_])||(_="linear"),"function"==typeof(v=os[_]))?v(...x):x.length?oo()(...x):oo()(...v)}let Event_Event=class Event_Event{constructor(){this._eventMap=new Map}on(o,v){return o&&"function"==typeof v&&(this._eventMap.has(o)||this._eventMap.set(o,[]),this._eventMap.get(o).push(v)),this}once(o,v){var _=this;if(o&&"function"==typeof v){let fn=function(){v(...arguments),_.off(o,fn)};this.on(o,fn)}}off(o,v){if(o){if("function"==typeof v){let _=this._eventMap.get(o);if(Array.isArray(_)&&_.length){let o=-1;for(;(o=_.findIndex(o=>o===v))>-1;)_.splice(o,1)}}else null==v&&this._eventMap.delete(o)}return this}emit(o){for(var v=arguments.length,_=Array(v>1?v-1:0),x=1;x<v;x++)_[x-1]=arguments[x];return!!this._eventMap.has(o)&&(this._eventMap.get(o).forEach(o=>o(..._)),!0)}};function shouldUseBezier(o){return!!(o&&"object"==typeof o&&(o.duration>0||"string"==typeof o.easing||"function"==typeof o.easing))}function shouldStopAnimation(o,v,_,x,w){for(let T of Object.keys(v)){let L=v[T],N="number"==typeof L?L:L.val;if("object"!=typeof L||!L.done){if(shouldUseBezier(L)&&x&&w&&L.duration){if(L.duration+x<=w||N!==o[T])return!1}else if("number"==typeof _[T]&&0!==_[T])return!1;if(o[T]!==N)return!1}}return!0}function stripStyle(o){let v={};for(let _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(v[_]="number"==typeof o[_]?o[_]:o[_].val);return v}let ol=[0,0];function stepper(o,v,_,x,w,T,L){let N=-w*(v-x),B=_+(N+-T*_)*o,H=v+B*o;return Math.abs(B)<L&&Math.abs(H-x)<L?(ol[0]=x,ol[1]=0):(ol[0]=H,ol[1]=B),ol}function mapToZero(o){let v={},_=o&&Object.keys(o)||[];for(let o of _)v[o]=0;return v}let ou=Object.assign(Object.assign({},{tension:170,friction:26}),{precision:.01});function wrapValue(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(shouldUseBezier(v)){let o=getEasing(v.easing),_="number"==typeof v.duration&&v.duration>0?v.duration:1e3;v=Object.assign(Object.assign({},v),{easing:o,duration:_})}let _=Object.assign(Object.assign(Object.assign({},ou),v),{done:!1});if(o&&"object"==typeof o&&"val"in o){if(shouldUseBezier(o)){let _=getEasing(o.easing),x="number"==typeof o.duration&&o.duration>0?o.duration:parseInt(v.duration)||1e3;o=Object.assign(Object.assign({},o),{easing:_,duration:x})}_=Object.assign(Object.assign({},_),o)}else _=Object.assign(Object.assign({},_),{val:o});return _}let Animation_now=()=>Date.now(),oc=1e3/60;let Animation=class Animation extends Event_Event{constructor(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this._props=Object.assign({},o),this._config=Object.assign({},v),this.initStates()}_wrapConfig(o,v){v=v&&"object"==typeof v?v:this._config;let _={};for(let x of Object.keys(o))_[x]=wrapValue(o[x],v);return _}initStates(o,v){o=o&&"object"==typeof o?o:this._props,v=v&&"object"==typeof v?v:this._config;let{from:_,to:x}=o;if(this._from={},_)for(let o of Object.keys(_))this._from[o]="object"==typeof _[o]&&_[o].val?_[o].val:_[o];this._to=this._wrapConfig(x,v),this._delay=parseInt(v.delay)||0;let w=this._from&&stripStyle(this._from)||stripStyle(this._to),T=mapToZero(w);this._currentStyle=Object.assign({},w),this._currentVelocity=Object.assign({},T),this._lastIdealStyle=Object.assign({},w),this._lastIdealVelocity=Object.assign({},T),this.resetPlayStates(),this._frameCount=0,this._prevTime=0}animate(){null==this._timer&&(this._timer=requestAnimationFrame(o=>{let v=Animation_now();if(shouldStopAnimation(this._currentStyle,this._to,this._currentVelocity,this._startedTime||v,v)||this._ended||this._stopped){!this._wasAnimating||this._ended||this._stopped||(this._timer=setTimeout(()=>{clearTimeout(this._timer),this._timer=null,this._ended=!0,this.emit("rest",this.getCurrentStates())},oc)),this.resetPlayStates();return}this._started||(this._started=!0,this.emit("start",this.getCurrentStates())),this._stopped=!1,this._paused=!1,this._wasAnimating=!0,0===this._startedTime&&(this._startedTime=v);let _=v-this._prevTime;this._prevTime=v,v-this._startedTime<this._delay&&(this._timer=null,this.animate());let x={},w={},T={},L={},N=this._to&&Object.keys(this._to)||[];for(let o of N){let N=this._to[o];this._accumulatedTime[o]="number"!=typeof this._accumulatedTime[o]?_:this._accumulatedTime[o]+_;let B=null!=this._from[o]&&"object"==typeof this._from[o]?this._from[o].val:this._from[o],H=N.val;if("number"==typeof N)T[o]=N,L[o]=0,x[o]=N,w[o]=0;else{let _=this._lastIdealStyle[o],Y=this._lastIdealVelocity[o];if(shouldUseBezier(this._config)||shouldUseBezier(N)){let{easing:w,duration:L}=N;_=B+w((v-this._startedTime)/L)*(H-B),v>=this._startedTime+L&&(_=H,N.done=!0),x[o]=_,T[o]=_}else if(null!=H&&H===this._currentStyle[o])T[o]=H,L[o]=0,x[o]=H,w[o]=0;else{let v=(this._accumulatedTime[o]-Math.floor(this._accumulatedTime[o]/oc)*oc)/oc,B=Math.floor(this._accumulatedTime[o]/oc);for(let o=0;o<B;o++)[_,Y]=stepper(oc/1e3,_,Y,N.val,N.tension,N.friction,N.precision);let[H,Z]=stepper(oc/1e3,_,Y,N.val,N.tension,N.friction,N.precision);T[o]=_+(H-_)*v,L[o]=Y+(Z-Y)*v,x[o]=_,w[o]=Y,this._accumulatedTime[o]-=B*oc}}}this._timer=null,this._currentStyle=Object.assign({},T),this._currentVelocity=Object.assign({},L),this._lastIdealStyle=Object.assign({},x),this._lastIdealVelocity=Object.assign({},w),this._destroyed||(this.emit("frame",this.getCurrentStates()),this.animate())}))}start(){this._prevTime=Animation_now(),this._startedTime=Animation_now(),this.animate()}end(){this._ended||(this._ended=!0,this._currentStyle=this.getFinalStates(),this.emit("frame",this.getFinalStates()),this.emit("rest",this.getFinalStates())),this.destroy()}pause(){this._paused||(this._pausedTime=Animation_now(),this._paused=!0,this.emit("pause",this.getCurrentStates()),this.destroy(),this._destroyed=!1)}resume(){if(this._started&&this._paused){let o=Animation_now(),v=o-this._pausedTime;this._paused=!1,this._startedTime+=v,this._prevTime+=v,this._pausedTime=0,this.emit("resume",this.getCurrentStates()),this.animate()}}stop(){this.destroy(),this._stopped||(this._stopped=!0,this.emit("stop",this.getInitialStates()),this.initStates())}destroy(){cancelAnimationFrame(this._timer),clearTimeout(this._timer),this._timer=null,this._destroyed=!0}resetPlayStates(){this._started=!1,this._stopped=!1,this._ended=!1,this._paused=!1,this._destroyed=!1,this._timer=null,this._wasAnimating=!1,this._accumulatedTime={},this._startedTime=0,this._pausedTime=0}reset(){this.destroy(),this.initStates()}reverse(){this.destroy();let o=Object.assign({},this._props),[v,_]=[o.to,o.from];o.from=v,o.to=_,this._props=Object.assign({},o),this.initStates()}getCurrentStates(){return Object.assign({},this._currentStyle)}getInitialStates(){return Object.assign({},stripStyle(this._props.from))}getFinalStates(){return Object.assign({},stripStyle(this._props.to))}};var scrollList_scrollTo=(o,v,_)=>{let x=new Animation({from:{scrollTop:o.scrollTop},to:{scrollTop:v}},{duration:_});return x.on("frame",v=>{let{scrollTop:_}=v;o.scrollTop=_}),x};let od=1e3/60,oh=/^\s*$/,op="wheel";let ScrollItem=class ScrollItem extends BaseComponent{get adapter(){var o=this;return Object.assign(Object.assign({},super.adapter),{setState:(o,v)=>this.setState(Object.assign({},o),v),setPrependCount:o=>this.setState({prependCount:o}),setAppendCount:o=>this.setState({appendCount:o}),isDisabledIndex:this.isDisabledIndex,setSelectedNode:o=>this._cacheWillSelectNode(o),notifySelectItem:function(){return o.props.onSelect(...arguments)},scrollToCenter:this.scrollToCenter})}componentWillUnmount(){this.props.cycled&&(this.throttledAdjustList.cancel(),this.debouncedSelect.cancel())}componentDidMount(){this.foundation.init();let{mode:o,cycled:v,selectedIndex:_,list:x}=this.props,w=this.getNodeByIndex("number"==typeof _&&_>-1?_:0);this._cacheSelectedNode(w),this._cacheWillSelectNode(w),o===op&&v?this.foundation.initWheelList(this.list,this.wrapper,()=>{this.scrollToNode(w,0)}):this.scrollToNode(w,0)}componentDidUpdate(o){let{selectedIndex:v}=this.props;if(o.selectedIndex!==v){let _=this.getIndexByNode(this.willSelectNode);if(!this.indexIsSame(_,v)){let _=this.getNodeByOffset(this.selectedNode,v-o.selectedIndex,this.list);this._cacheWillSelectNode(_)}this._cacheSelectedNode(this.willSelectNode),this.scrollToIndex(v)}}getNodeByOffset(o,v,_){let{list:x}=this.props;if(isElement(o)&&isElement(_)&&"number"==typeof v&&Array.isArray(x)&&x.length){v%=x.length;let _=this.getIndexByNode(o),w=_+v;for(;w<0;)w+=x.length;if(v)return this.getNodeByIndex(w)}return o}render(){return this.isWheelMode()?this.renderInfiniteList():this.renderNormalList()}constructor(){var o;let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(v),o=this,this._cacheNode=(o,v)=>o&&v&&Object.prototype.hasOwnProperty.call(this,o)&&(this[o]=v),this._cacheSelectedNode=o=>this._cacheNode("selectedNode",o),this._cacheWillSelectNode=o=>this._cacheNode("willSelectNode",o),this._cacheListNode=o=>this._cacheNode("list",o),this._cacheSelectorNode=o=>this._cacheNode("selector",o),this._cacheWrapperNode=o=>this._cacheNode("wrapper",o),this._isFirst=o=>{let{list:v}=this;if(isElement(o)&&isElement(v)){let _=v.children,x=a4()(_,o);return 0===x}return!1},this._isLast=o=>{let{list:v}=this;if(isElement(o)&&isElement(v)){let{children:_}=v,x=a4()(_,o);return x===_.length-1}return!1},this.indexIsSame=(o,v)=>{let{list:_}=this.props;if(_.length)return o%_.length==v%_.length},this.isDisabledIndex=o=>{let{list:v}=this.props;if(Array.isArray(v)&&v.length&&o>-1){let _=v.length;return this.isDisabledData(v[o%_])}return!1},this.isDisabledNode=o=>{let v=this.list;if(isElement(o)&&isElement(v)){let _=a4()(v.children,v=>v===o);return this.isDisabledIndex(_)}return!1},this.isDisabledData=o=>o&&"object"==typeof o&&o.disabled,this.isWheelMode=()=>this.props.mode===op,this.addClassToNode=function(v){let _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a0.SELECTED,{list:x}=o;if(isElement(v=v||o.selectedNode)&&isElement(x)){let{children:o}=x,w=RegExp("\\s*".concat(_,"\\s*"),"g");a6()(o,o=>{o.className=o.className&&o.className.replace(w," "),oh.test(o.className)&&(o.className="")}),v.className&&!oh.test(v.className)?v.className+=" ".concat(_):v.className=_}},this.getIndexByNode=o=>a4()(this.list.children,o),this.getNodeByIndex=o=>{if(o>-1)return a8()(this.list.children,(v,_)=>_===o);let v=a8()(this.list.children,o=>!this.isDisabledNode(o));return v},this.scrollToIndex=(o,v)=>{v="number"==typeof v?v:a1.DEFAULT_SCROLL_DURATION,o=null==o?this.props.selectedIndex:o,this.scrollToNode(this.selectedNode,v)},this.scrollToNode=(o,v)=>{let{wrapper:_}=this,x=_.offsetHeight,w=this.getItmHeight(o),T=(o.offsetTop||this.list.children.length*w/2)-(x-w)/2;this.scrollToPos(T,v)},this.scrollToPos=function(v){let _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a1.DEFAULT_SCROLL_DURATION,{wrapper:x}=o;if(_&&o.props.motion){if(o.scrollAnimation&&(o.scrollAnimation.destroy(),o.scrolling=!1),x.scrollTop===v){if(o.isWheelMode()){let v=o.foundation.getNearestNodeInfo(o.list,o.selector);o.addClassToNode(v.nearestNode)}}else o.scrollAnimation=scrollList_scrollTo(x,v,_),o.scrollAnimation.on("rest",()=>{if(o.isWheelMode()){let v=o.foundation.getNearestNodeInfo(o.list,o.selector);o.addClassToNode(v.nearestNode)}}),o.scrollAnimation.start()}else x.scrollTop=v},this.scrollToSelectItem=o=>{let{nearestNode:v}=this.foundation.getNearestNodeInfo(this.list,this.selector);this.props.cycled&&this.throttledAdjustList(o,v),this.debouncedSelect(o,v)},this.scrollToCenter=(o,v,_)=>{if(o=o||this.selectedNode,v=v||this.wrapper,isElement(o)&&isElement(v)){let x=v.getBoundingClientRect(),w=o.getBoundingClientRect(),T=v.scrollTop+(w.top-(x.top+x.height/2-w.height/2));this.scrollToPos(T,"number"==typeof _?_:a1.DEFAULT_SCROLL_DURATION)}},this.clickToSelectItem=o=>{o&&o.nativeEvent&&o.nativeEvent.stopImmediatePropagation();let{targetNode:v,infoInList:_}=this.foundation.getTargetNode(o,this.list);v&&_&&!_.disabled&&this.debouncedSelect(null,v)},this.getItmHeight=o=>o&&o.offsetHeight||a1.DEFAULT_ITEM_HEIGHT,this.renderItemList=function(){let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{selectedIndex:_,mode:x,transform:w,list:T}=o.props;return T.map((T,L)=>{let{transform:N}=T,B="function"==typeof N?N:w,H=_===L,Y=eM()({["".concat(a0.PREFIX,"-item-sel")]:H&&x!==op,["".concat(a0.PREFIX,"-item-disabled")]:!!T.disabled}),Z="";Z=H&&"function"==typeof B?B(T.value,T.text):null==T.text?T.value:T.text;let X={};return o.isWheelMode()||T.disabled||(X.onClick=()=>o.foundation.selectIndex(L,o.list)),eC.createElement("li",Object.assign({key:v+L},X,{className:Y,role:"option","aria-selected":H,"aria-disabled":T.disabled}),Z)})},this.renderNormalList=()=>{let{list:o,className:v,style:_}=this.props,x=this.renderItemList(),w=eM()("".concat(a0.PREFIX,"-item"),v);return eC.createElement("div",{style:_,className:w,ref:this._cacheWrapperNode},eC.createElement("ul",{role:"listbox","aria-multiselectable":!1,"aria-label":this.props["aria-label"],ref:this._cacheListNode},x))},this.renderInfiniteList=()=>{let{list:o,cycled:v,className:_,style:x}=this.props,{prependCount:w,appendCount:T}=this.state,L=a5()(w).reduce((o,v)=>{let _=this.renderItemList("pre_".concat(v,"_"));return o.unshift(..._),o},[]),N=a5()(T).reduce((o,v)=>{let _=this.renderItemList("app_".concat(v,"_"));return o.push(..._),o},[]),B=this.renderItemList(),H=eM()("".concat(a0.PREFIX,"-list-outer"),{["".concat(a0.PREFIX,"-list-outer-nocycle")]:!v}),Y=eM()("".concat(a0.PREFIX,"-item-wheel"),_),Z=eM()("".concat(a0.PREFIX,"-selector")),X=eM()("".concat(a0.PREFIX,"-shade"),"".concat(a0.PREFIX,"-shade-pre")),et=eM()("".concat(a0.PREFIX,"-shade"),"".concat(a0.PREFIX,"-shade-post"));return eC.createElement("div",{className:Y,style:x},eC.createElement("div",{className:X}),eC.createElement("div",{className:Z,ref:this._cacheSelectorNode}),eC.createElement("div",{className:et}),eC.createElement("div",{className:H,ref:this._cacheWrapperNode,onScroll:this.scrollToSelectItem},eC.createElement("ul",{role:"listbox","aria-label":this.props["aria-label"],"aria-multiselectable":!1,ref:this._cacheListNode,onClick:this.clickToSelectItem},L,B,N)))},this.state={prependCount:0,appendCount:0},this.selectedNode=null,this.willSelectNode=null,this.list=null,this.wrapper=null,this.selector=null,this.scrollAnimation=null,this.foundation=new ItemFoundation(this.adapter),this.throttledAdjustList=tn()((o,v)=>{this.foundation.adjustInfiniteList(this.list,this.wrapper,v)},od),this.debouncedSelect=on()((o,v)=>{this._cacheSelectedNode(v),this.foundation.selectNode(v,this.list)},2*od)}};ScrollItem.propTypes={mode:eI().oneOf(["normal","wheel"]),cycled:eI().bool,list:eI().array,selectedIndex:eI().number,onSelect:eI().func,transform:eI().func,className:eI().string,style:eI().object,motion:eI().oneOfType([eI().func,eI().bool]),type:eI().oneOfType([eI().string,eI().number])},ScrollItem.defaultProps={selectedIndex:0,motion:!0,list:[],onSelect:eE(),cycled:!1,mode:op};let ScrollListFoundation=class ScrollListFoundation extends eU{};_(3633);var scrollList_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let ScrollList=class ScrollList extends BaseComponent{render(){let o=this.props,{children:v,header:_,footer:x,prefixCls:w,bodyHeight:T,className:L,style:N}=o,B=scrollList_rest(o,["children","header","footer","prefixCls","bodyHeight","className","style"]),H=eM()(L,{[w||a0.PREFIX]:!0}),Y=eM()({["".concat(w||a0.PREFIX,"-header")]:!0});return eC.createElement("div",Object.assign({className:H,style:N},this.getDataAttr(B)),_?eC.createElement("div",{className:Y},eC.createElement("div",{className:"".concat(Y,"-title"),"x-semi-prop":this.props["x-semi-header-alias"]||"header"},_),eC.createElement("div",{className:"".concat(H,"-line")})):null,eC.createElement("div",{className:"".concat(H,"-body"),style:{height:T||""},"x-semi-prop":"children"},v),x?eC.createElement("div",{className:"".concat(H,"-footer"),"x-semi-prop":this.props["x-semi-footer-alias"]||"footer"},x):null)}constructor(o){super(o),this.foundation=new ScrollListFoundation(this.adapter)}};ScrollList.Item=ScrollItem,ScrollList.propTypes={className:eI().string,header:eI().node,footer:eI().node,children:eI().node,bodyHeight:eI().oneOfType([eI().number,eI().string])};let formatOption=(o,v)=>{let _=`${o}`;o<10&&(_=`0${o}`);let x=!1;return v&&v.indexOf(o)>=0&&(x=!0),{value:_,disabled:x}};function generateOptions(o,v,_){let x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,w=[];for(let T=0;T<o;T+=x)(!v||0>v.indexOf(T)||!_)&&w.push(T);return w}let ComboboxFoundation=class ComboboxFoundation extends eU{constructor(o){super(Object.assign({},o))}isAM(){return this.getProp("isAM")}initData(){let{timeStampValue:o,hourStep:v,disabledMinutes:_,disabledSeconds:x,hideDisabledOptions:w,minuteStep:T,secondStep:L}=this.getProps(),N=this.getValidFormat(),B=this.getDisplayDateFromTimeStamp(o),H=this.disabledHours(),Y=_(B?B.getHours():null),Z=x(B?B.getHours():null,B?B.getMinutes():null),X=generateOptions(24,H,w,v),et=generateOptions(60,Y,w,T),en=generateOptions(60,Z,w,L);return{showHour:!!N.match(/HH|hh|H|h/g),showMinute:!!N.match(/mm/g),showSecond:!!N.match(/ss/g),hourOptions:X,minuteOptions:et,secondOptions:en}}getPosition(){let o=this.getProp("position"),v=this.getProp("type")||aJ.DEFAULT_TYPE;return o||aJ.DEFAULT_POSITION[v]}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?aJ.DEFAULT_FORMAT_A:aJ.DEFAULT_FORMAT}disabledHours(){let{use12Hours:o,disabledHours:v}=this.getProps(),_=v&&v();return o&&Array.isArray(_)&&(_=this.isAM()?_.filter(o=>o<12).map(o=>0===o?12:o):_.map(o=>12===o?12:o-12)),_}getValidFormat(o){let v=isNullOrUndefined(o)?this.getProp("format"):o;return"string"==typeof(v=this.getDefaultFormatIfNeed())?v:aJ.DEFAULT_FORMAT}getDisplayDateFromTimeStamp(o){let v;return(o&&(v=new Date(o)),o&&isValidDate(v))?v:this.createDateDefault()}createDateDefault(){return new Date(864e5*parseInt(String(Date.now()/864e5),10)-288e5)}};let Combobox=class Combobox extends BaseComponent{componentDidUpdate(o,v){(o.timeStampValue!==this.props.timeStampValue||o.format!==this.props.format)&&this.setState(Object.assign({},this.foundation.initData()))}componentWillUnmount(){}componentDidMount(){}renderHourSelect(o,v){let _,x;let{prefixCls:w,disabledHours:T,use12Hours:L,scrollItemProps:N}=this.props,{showHour:B,hourOptions:H}=this.state;if(!B)return null;let Y=T();return L?(_=[12].concat(H.filter(o=>o<12&&o>0)),x=o%12||12):(_=H,x=o),eC.createElement(ScrollItem,Object.assign({ref:o=>this.cacheRefCurrent("hour",o),mode:"normal",transform:o=>o+v.hour,className:"".concat(w,"-list-hour"),list:_.map(o=>formatOption(o,Y)),selectedIndex:_.indexOf(x),type:"hour",onSelect:this.onItemChange},N))}renderMinuteSelect(o,v){let{prefixCls:_,disabledMinutes:x,timeStampValue:w,scrollItemProps:T}=this.props,{showMinute:L,minuteOptions:N}=this.state;if(!L)return null;let B=new Date(w),H=x&&x(B.getHours());return eC.createElement(ScrollItem,Object.assign({ref:o=>this.cacheRefCurrent("minute",o),mode:"normal",transform:o=>o+v.minute,list:N.map(o=>formatOption(o,H)),selectedIndex:N.indexOf(o),type:"minute",onSelect:this.onItemChange,className:"".concat(_,"-list-minute")},T))}renderSecondSelect(o,v){let{prefixCls:_,disabledSeconds:x,timeStampValue:w,scrollItemProps:T}=this.props,{showSecond:L,secondOptions:N}=this.state;if(!L)return null;let B=new Date(w),H=x&&x(B.getHours(),B.getMinutes());return eC.createElement(ScrollItem,Object.assign({ref:o=>this.cacheRefCurrent("second",o),mode:"normal",transform:o=>String(o)+v.second,list:N.map(o=>formatOption(o,H)),selectedIndex:N.indexOf(o),className:"".concat(_,"-list-second"),type:"second",onSelect:this.onItemChange},T))}renderAMPMSelect(o,v){let{prefixCls:_,use12Hours:x,isAM:w,scrollItemProps:T}=this.props;if(!x)return null;let L=[{value:"AM",text:o.AM||""},{value:"PM",text:o.PM||""}];return eC.createElement(ScrollItem,Object.assign({ref:o=>this.cacheRefCurrent("ampm",o),mode:"normal",className:"".concat(_,"-list-ampm"),list:L,selectedIndex:w?0:1,type:"ampm",onSelect:this.onItemChange},T))}render(){let{timeStampValue:o,panelHeader:v,panelFooter:_}=this.props,x=this.getDisplayDateFromTimeStamp(o);return eC.createElement(LocaleConsumer,{componentName:"TimePicker"},(o,w)=>eC.createElement(ScrollList,{header:v,footer:_,"x-semi-header-alias":"panelHeader","x-semi-footer-alias":"panelFooter"},this.renderAMPMSelect(o,w),this.renderHourSelect(x.getHours(),o),this.renderMinuteSelect(x.getMinutes(),o),this.renderSecondSelect(x.getSeconds(),o)))}constructor(o){super(o),this.cacheRefCurrent=(o,v)=>{o&&"string"==typeof o&&this.adapter.setCache(o,v)},this.reselect=()=>{["ampm","hour","minute","second"].forEach(o=>{let v=this.adapter.getCache(o);v&&v.scrollToIndex&&v.scrollToIndex()})},this.onItemChange=o=>{let{type:v,value:_,disabled:x}=o,{onChange:w,use12Hours:T,isAM:L,format:N,timeStampValue:B}=this.props,H=this.foundation.getDisplayDateFromTimeStamp(B);if("hour"===v)T?L?H.setHours(Number(_)%12):H.setHours(Number(_)%12+12):H.setHours(Number(_));else if("minute"===v)H.setMinutes(Number(_));else if("ampm"===v){let o=_.toUpperCase();T&&("PM"===o&&(L=!1,12>H.getHours()&&H.setHours(H.getHours()%12+12)),"AM"===o&&(L=!0,H.getHours()>=12&&H.setHours(H.getHours()-12)))}else H.setSeconds(Number(_));w&&w({isAM:L,value:format_format(H,N&&N.replace(/(\s+)A/g,"$1a")),timeStampValue:Number(H)})},this.onEnterSelectPanel=o=>{let{onCurrentSelectPanelChange:v}=this.props;v(o)},this.getDisplayDateFromTimeStamp=o=>this.foundation.getDisplayDateFromTimeStamp(o),this.foundation=new ComboboxFoundation(this.adapter),this.state=Object.assign({},this.foundation.initData())}};function setYear(o,v){requiredArgs(2,arguments);var _=toDate_toDate(o),x=toInteger(v);return isNaN(_.getTime())?new Date(NaN):(_.setFullYear(x),_)}Combobox.propTypes={format:eI().string,defaultOpenValue:eI().object,prefixCls:eI().string,onChange:eI().func,showHour:eI().bool,showMinute:eI().bool,showSecond:eI().bool,disabledHours:eI().func,disabledMinutes:eI().func,disabledSeconds:eI().func,hideDisabledOptions:eI().bool,onCurrentSelectPanelChange:eI().func,use12Hours:eI().bool,isAM:eI().bool,timeStampValue:eI().any,scrollItemProps:eI().object},Combobox.defaultProps={disabledHours:eE(),disabledMinutes:eE(),disabledSeconds:eE(),format:aJ.DEFAULT_FORMAT};let YearAndMonthFoundation=class YearAndMonthFoundation extends eU{constructor(o){super(Object.assign({},o))}init(){}destroy(){}selectYear(o,v){let{currentYear:_,currentMonth:x}=this.getStates(),{type:w}=this.getProps(),T=iv.PANEL_TYPE_LEFT,L=iv.PANEL_TYPE_RIGHT,N=nD()(_);if(N[v]=o.value,"monthRange"===w){let _=N[T]===N[L]&&x[T]>x[L];v===T&&o.value>N[L]||v===T&&_?N[L]=o.value+1:v===L&&_&&(N[T]=o.value-1)}this._adapter.setCurrentYear(N,()=>this.autoSelectMonth(o,v,N)),this._adapter.notifySelectYear(N)}selectMonth(o,v){let{currentMonth:_,currentYear:x}=this.getStates(),{type:w}=this.getProps(),T=iv.PANEL_TYPE_LEFT,L=iv.PANEL_TYPE_RIGHT,N=nD()(_);N[v]=o.month,"monthRange"===w&&v===T&&x[T]===x[L]&&o.value>N[L]&&(N[L]=o.month+1),this._adapter.setCurrentMonth(N),this._adapter.notifySelectMonth(N)}autoSelectMonth(o,v,_){let{disabledDate:x,locale:w}=this._adapter.getProps(),{months:T,currentMonth:L}=this._adapter.getStates(),N=setYear(Date.now(),o.year),B=x(setMonth(N,L[v]-1));if(B){let o;let w=T.findIndex(o=>{let{month:_}=o;return _===L[v]});if((o=T.slice(w).find(o=>{let{month:v}=o;return!x(setMonth(N,v-1))}))||(o=T.slice(0,w).find(o=>{let{month:v}=o;return!x(setMonth(N,v-1))})),o){let x=nD()(L);x[v]=o.month,this._adapter.setCurrentYearAndMonth(_,x),this._adapter.notifySelectYearAndMonth(_,x)}}}backToMain(){this._adapter.notifyBackToMain()}};var _utils_getYears=(o,v)=>{let _=new Date().getFullYear(),x="number"==typeof o?o:_-100,w="number"==typeof v?v:_+100;return w<x&&([x,w]=[w,x]),Array.from({length:w-x+1},(o,v)=>x+v)};let of="".concat(eO.T,"-datepicker");let YearAndMonth=class YearAndMonth extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{setCurrentYear:(o,v)=>this.setState({currentYear:o},v),setCurrentMonth:o=>this.setState({currentMonth:o}),setCurrentYearAndMonth:(o,v)=>this.setState({currentYear:o,currentMonth:v}),notifySelectYear:o=>this.props.onSelect({currentMonth:this.state.currentMonth,currentYear:o}),notifySelectMonth:o=>this.props.onSelect({currentYear:this.state.currentYear,currentMonth:o}),notifySelectYearAndMonth:(o,v)=>this.props.onSelect({currentYear:o,currentMonth:v}),notifyBackToMain:()=>this.props.onBackToMain()})}static getDerivedStateFromProps(o,v){let _={};return e7()(o.currentYear,v.currentYear)||0===o.currentYear.left||(_.currentYear=o.currentYear),e7()(o.currentMonth,v.currentMonth)||0===o.currentMonth.left||(_.currentMonth=o.currentMonth),_}renderColYear(o){let{years:v,currentYear:_,currentMonth:x,months:w}=this.state,{disabledDate:T,localeCode:L,yearCycled:N,yearAndMonthOpts:B}=this.props,H=setMonth(Date.now(),x[o]-1),Y=iv.PANEL_TYPE_LEFT,Z=iv.PANEL_TYPE_RIGHT,needDisabled=v=>o===Z&&!!_[Y]&&(x[Y]<=x[Z]?_[Y]>v:_[Y]>=v),X=v.map(o=>{let{value:v,year:_}=o,x=w.every(o=>{let{month:v}=o;return T(set_set(H,{year:_,month:v-1}))}),L=needDisabled(_);return{year:_,value:v,disabled:x||L}}),transform=o=>o;return("zh-CN"===L||"zh-TW"===L)&&(transform=o=>"".concat(o,"")),eC.createElement(ScrollItem,Object.assign({ref:this.yearRef,cycled:N,list:X,transform:transform,selectedIndex:v.findIndex(v=>v.value===_[o]),type:"year",onSelect:v=>this.selectYear(v,o),mode:"normal"},B))}renderColMonth(o){let{months:v,currentMonth:_,currentYear:x}=this.state,{locale:w,localeCode:T,monthCycled:L,disabledDate:N,yearAndMonthOpts:B}=this.props,transform=o=>o,H=setYear(Date.now(),x[o]),Y=iv.PANEL_TYPE_LEFT,Z=iv.PANEL_TYPE_RIGHT;("zh-CN"===T||"zh-TW"===T)&&(transform=o=>"".concat(o,""));let X=v.map(v=>{let{value:T,month:L}=v,B=o===Z&&_[Y]&&x[Y]===x[Z]&&_[Y]>L;return{month:L,disabled:N(setMonth(H,L-1))||B,value:w.fullMonths[T]}}),et=X.findIndex(v=>v.month===_[o]);return eC.createElement(ScrollItem,Object.assign({ref:this.monthRef,cycled:L,list:X,transform:transform,selectedIndex:et,type:"month",onSelect:v=>this.selectMonth(v,o),mode:"normal"},B))}renderPanel(o){return eC.createElement(eC.Fragment,null,eC.createElement(ScrollList,null,this.renderColYear(o),this.renderColMonth(o)))}render(){let{locale:o,noBackBtn:v,density:_,presetPosition:x,renderQuickControls:w,renderDateInput:T,type:L}=this.props,N=o.selectDate,B=iv.PANEL_TYPE_LEFT,H=iv.PANEL_TYPE_RIGHT,Y=null;return Y="month"===L?this.renderPanel(B):eC.createElement("div",{className:"".concat(of,"-yearmonth-body")},this.renderPanel(B),this.renderPanel(H)),eC.createElement(eC.Fragment,null,v?null:eC.createElement("div",{className:"".concat(of,"-yearmonth-header")},eC.createElement(IconButton,{noHorizontalPadding:!1,icon:eC.createElement(aW,{"aria-hidden":!0,size:"compact"===_?"default":"large"}),size:"compact"===_?"small":"default",onClick:this.backToMain},eC.createElement("span",null,N))),x?eC.createElement("div",{style:{display:"flex"}},"left"===x&&"monthRange"!==L&&w,eC.createElement("div",null,T,Y),"right"===x&&"monthRange"!==L&&w):eC.createElement(eC.Fragment,null,T,Y))}constructor(o){super(o),this.selectYear=(o,v)=>{this.foundation.selectYear(o,v)},this.selectMonth=(o,v)=>{this.foundation.selectMonth(o,v)},this.reselect=()=>{["yearRef","monthRef"].forEach(o=>{let v=this[o];v&&v.current&&v.current.scrollToIndex&&v.current.scrollToIndex()})},this.backToMain=o=>{o.nativeEvent.stopImmediatePropagation(),this.foundation.backToMain()};let v=new Date,{currentYear:_,currentMonth:x}=o,w=_.left||v.getFullYear(),T=x.left||v.getMonth()+1;_={left:w,right:w},x={left:T,right:x.right||T+1},this.state={years:_utils_getYears(o.startYear,o.endYear).map(o=>({value:o,year:o})),months:Array(12).fill(0).map((o,v)=>({value:v+1,month:v+1})),currentYear:_,currentMonth:x},this.yearRef=eC.createRef(),this.monthRef=eC.createRef(),this.foundation=new YearAndMonthFoundation(this.adapter)}};function IconClock_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM13.5 6.5V11.3787L17.0607 14.9393C17.6464 15.5251 17.6464 16.4749 17.0607 17.0607C16.4749 17.6464 15.5251 17.6464 14.9393 17.0607L10.9393 13.0607C10.658 12.7794 10.5 12.3978 10.5 12V6.5C10.5 5.67157 11.1716 5 12 5C12.8284 5 13.5 5.67157 13.5 6.5Z",fill:"currentColor"}))}YearAndMonth.propTypes={currentYear:eI().object,currentMonth:eI().object,onSelect:eI().func,locale:eI().object,localeCode:eI().string,monthCycled:eI().bool,yearCycled:eI().bool,noBackBtn:eI().bool,disabledDate:eI().func,density:eI().string,presetPosition:eI().oneOf(iv.PRESET_POSITION_SET),renderQuickControls:eI().node,renderDateInput:eI().node,type:eI().oneOf(iv.TYPE_SET),startYear:eI().number,endYear:eI().number},YearAndMonth.defaultProps={disabledDate:iw(),monthCycled:!1,yearCycled:!1,noBackBtn:!1,onSelect:eE(),type:"month"};let og=convertIcon(IconClock_SvgComponent,"clock"),om=iy.PREFIX;let MonthsGrid=class MonthsGrid extends BaseComponent{get dateAdapter(){return{updateDaySelected:o=>this.setState({selected:o})}}get rangeAdapter(){return{setRangeStart:o=>this.setState({rangeStart:o}),setRangeEnd:o=>this.setState({rangeEnd:o}),setHoverDay:o=>this.setState({hoverDay:o}),setWeeksHeight:o=>this.setState({maxWeekNum:o}),setOffsetRangeStart:o=>this.setState({offsetRangeStart:o}),setOffsetRangeEnd:o=>this.setState({offsetRangeEnd:o})}}get adapter(){return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),this.dateAdapter),this.rangeAdapter),{updateMonthOnLeft:o=>this.setState({monthLeft:o}),updateMonthOnRight:o=>this.setState({monthRight:o}),notifySelectedChange:(o,v)=>this.props.onChange(o,v),notifyMaxLimit:o=>this.props.onMaxSelect(o),notifyPanelChange:(o,v)=>this.props.onPanelChange(o,v),setRangeInputFocus:o=>this.props.setRangeInputFocus(o),isAnotherPanelHasOpened:o=>this.props.isAnotherPanelHasOpened(o)})}componentDidMount(){super.componentDidMount()}componentDidUpdate(o,v){let{defaultValue:_,defaultPickerValue:x}=this.props;o.defaultValue!==_&&this.foundation.updateSelectedFromProps(_),o.defaultPickerValue!==x&&this.foundation.initDefaultPickerValue();let w=this.foundation.isRangeType();if(w){let o=this.leftIsYearOrTime(v)&&this.rightIsYearOrTime(v),_=this.leftIsYearOrTime(v)&&!this.rightIsYearOrTime(v)||!this.leftIsYearOrTime(v)&&this.rightIsYearOrTime(v),x=this.leftIsYearOrTime()&&this.rightIsYearOrTime(),w=this.leftIsYearOrTime()&&!this.rightIsYearOrTime()||!this.leftIsYearOrTime()&&this.rightIsYearOrTime();_&&x?this.setState({currentPanelHeight:this.calcScrollListHeight()},this.reselect):o&&w&&this.reselect()}}renderPanel(o,v){let _=eM()("".concat(om,"-month-grid-").concat(v)),{monthLeft:x,monthRight:w,currentPanelHeight:T}=this.state,{insetInput:L}=this.props,N=v===iv.PANEL_TYPE_RIGHT?w:x,{isTimePickerOpen:B,isYearPickerOpen:H}=N,Y=this.renderMonth(o,v),Z=H?eC.createElement("div",{className:"".concat(om,"-yam")},this.renderYearAndMonth(v,N)):null,X=B?eC.createElement("div",{className:"".concat(om,"-tpk")},this.renderTimePicker(v,N)):null,et={},en=this.adapter.getCache("wrap-".concat(iv.PANEL_TYPE_LEFT)),er=this.adapter.getCache("wrap-".concat(iv.PANEL_TYPE_RIGHT)),ei=v===iv.PANEL_TYPE_RIGHT?er:en;this.foundation.isRangeType()?((H||B)&&(et.minWidth=ei.getBoundingClientRect().width),this.leftIsYearOrTime()&&this.rightIsYearOrTime()&&!L&&(et.minHeight=T||this.calcScrollListHeight())):"year"!==this.props.type&&"month"!==this.props.type&&(B||H)&&(_=eM()(_,"".concat(om,"-yam-showing")));let ea=!(H||B),eo=ea?"date":H?"year":"time";return eC.createElement("div",{className:_,key:v,style:et,"x-open-type":eo},Z,X,this.foundation.isRangeType()?Y:H||B?null:Y,this.renderSwitch(v))}showYearPicker(o,v){v.nativeEvent.stopImmediatePropagation(),this.foundation.showYearPicker(o)}renderMonth(o,v){let{selected:_,rangeStart:x,rangeEnd:w,hoverDay:T,maxWeekNum:L,offsetRangeStart:N,offsetRangeEnd:B}=this.state,{weekStartsOn:H,disabledDate:Y,locale:Z,localeCode:X,renderDate:et,renderFullDate:en,startDateOffset:er,endDateOffset:ei,density:ea,rangeInputFocus:eo,syncSwitchMonth:el,multiple:eu}=this.props,ec="";if(o){let v=o?format_format(o,"yyyy"):"",_=o?format_format(o,"L"):"",x=Z.months[_],w=Z.monthText;ec=w.replace("${year}",v).replace("${month}",x)}let ed={},eh=v===iv.PANEL_TYPE_RIGHT?this.state.monthRight:this.state.monthLeft,ep=this.foundation.isRangeType();return ep&&eh&&(eh.isYearPickerOpen||eh.isTimePickerOpen)&&(ed={visibility:"hidden",position:"absolute",pointerEvents:"none"}),eC.createElement("div",{ref:o=>this.cacheRefCurrent("wrap-".concat(v),o),style:ed},eC.createElement(Navigation,{forwardRef:o=>this.cacheRefCurrent("nav-".concat(v),o),monthText:ec,density:ea,onMonthClick:o=>this.showYearPicker(v,o),onPrevMonth:()=>this.foundation.prevMonth(v),onNextMonth:()=>this.foundation.nextMonth(v),onNextYear:()=>this.foundation.nextYear(v),onPrevYear:()=>this.foundation.prevYear(v),shouldBimonthSwitch:ep&&el,panelType:v}),eC.createElement(Month,{locale:Z,localeCode:X,forwardRef:o=>this.cacheRefCurrent("month-".concat(v),o),disabledDate:Y,weekStartsOn:H,month:o,selected:_,rangeStart:x,rangeEnd:w,rangeInputFocus:eo,offsetRangeStart:N,offsetRangeEnd:B,hoverDay:T,weeksRowNum:L,renderDate:et,renderFullDate:en,onDayClick:o=>this.foundation.handleDayClick(o,v),onDayHover:o=>this.foundation.handleDayHover(o,v),onWeeksRowNumChange:o=>this.handleWeeksRowNumChange(o,v),startDateOffset:er,endDateOffset:ei,focusRecordsRef:this.props.focusRecordsRef,multiple:eu}))}renderTimePicker(o,v){let _,x;let{type:w,locale:T,format:L,hideDisabledOptions:N,timePickerOpts:B,dateFnsLocale:H}=this.props,{pickerDate:Y}=v,Z=eM()("".concat(om,"-time")),X=Object.assign(Object.assign({},B),{hideDisabledOptions:N}),et=this.foundation.calcDisabledTime(o);et&&["disabledHours","disabledMinutes","disabledSeconds"].forEach(o=>{et[o]&&(X[o]=et[o])});let{rangeStart:en,rangeEnd:er}=this.state,ei=this.foundation.getValidDateFormat();"dateTimeRange"===w&&en&&er&&isSameDay(_=compatibleParse(en,ei,void 0,H),x=compatibleParse(er,ei,void 0,H))&&(o===iv.PANEL_TYPE_RIGHT?en&&(X.startDate=_):er&&(X.endDate=x));let ea=T.selectTime;return eC.createElement("div",{className:Z},eC.createElement(Combobox,Object.assign({ref:v=>this.cacheRefCurrent("timepicker-".concat(o),v),panelHeader:ea,format:L||iv.FORMAT_TIME_PICKER,timeStampValue:Y,onChange:v=>this.foundation.handleTimeChange(v,o)},X)))}renderYearAndMonth(o,v){let{pickerDate:_}=v,{locale:x,localeCode:w,density:T,yearAndMonthOpts:L,startYear:N,endYear:B}=this.props,H=_.getFullYear(),Y=_.getMonth()+1;return eC.createElement(YearAndMonth,{ref:v=>this.cacheRefCurrent("yam-".concat(o),v),locale:x,localeCode:w,currentYear:{left:H,right:0},currentMonth:{left:Y,right:0},onSelect:v=>this.foundation.toYearMonth(o,new Date(v.currentYear.left,v.currentMonth.left-1)),onBackToMain:()=>{this.foundation.showDatePanel(o);let v=this.adapter.getCache("wrap-".concat(o));v&&(v.style.height="auto")},density:T,yearAndMonthOpts:L,startYear:N,endYear:B})}renderSwitch(o){let v,_;let{rangeStart:x,rangeEnd:w,monthLeft:T,monthRight:L}=this.state,{type:N,locale:B,disabledTimePicker:H,density:Y,dateFnsLocale:Z,insetInput:X}=this.props;if(!N.includes("Time")||X)return null;let{FORMAT_SWITCH_DATE:et}=B.localeFormatToken,en=this.foundation.getValidTimeFormat(),er=this.foundation.getValidDateFormat();o===iv.PANEL_TYPE_LEFT?(v=T,_=x?format_format(compatibleParse(x,er,void 0,Z),et):""):(v=L,_=w?format_format(compatibleParse(w,er,void 0,Z),et):"");let{isTimePickerOpen:ei,showDate:ea}=v,eo=ea?format_format(ea,et):"",el=ea?format_format(ea,en):"",eu=["default"].includes(Y),ec=eM()("".concat(om,"-switch")),ed=eM()({["".concat(om,"-switch-date")]:!0,["".concat(om,"-switch-date-active")]:!ei}),eh=eM()({["".concat(om,"-switch-time")]:!0,["".concat(om,"-switch-time-disabled")]:H,["".concat(om,"-switch-date-active")]:ei}),ep=eM()("".concat(om,"-switch-text"));return eC.createElement("div",{className:ec,ref:v=>this.adapter.setCache("switch-".concat(o),v)},eC.createElement("div",{role:"button","aria-label":"Switch to date panel",className:ed,onClick:v=>this.foundation.showDatePanel(o)},eu&&eC.createElement(aN,{"aria-hidden":!0}),eC.createElement("span",{className:ep},_||eo)),eC.createElement("div",{role:"button","aria-label":"Switch to time panel",className:eh,onClick:v=>this.foundation.showTimePicker(o,!0)},eu&&eC.createElement(og,{"aria-hidden":!0}),eC.createElement("span",{className:ep},el)))}render(){let{monthLeft:o,monthRight:v}=this.state,{type:_,insetInput:x,presetPosition:w,renderQuickControls:T,renderDateInput:L}=this.props,N=eM()({["".concat(om,"-month-grid")]:!0}),B=iv.PANEL_TYPE_LEFT,H=iv.PANEL_TYPE_RIGHT,Y=null;"date"===_||"dateTime"===_?Y=this.renderPanel(o.pickerDate,B):"dateRange"===_||"dateTimeRange"===_?Y=[this.renderPanel(o.pickerDate,B),this.renderPanel(v.pickerDate,H)]:("year"===_||"month"===_)&&(Y="year month");let Z=this.getYAMOpenType();return eC.createElement("div",{style:{display:"flex"}},"left"===w&&T,eC.createElement("div",null,L,eC.createElement("div",{className:N,"x-type":_,"x-panel-yearandmonth-open-type":Z,"x-insetinput":x?"true":"false","x-preset-position":null===T?"null":w,ref:o=>this.cacheRefCurrent("monthGrid",o)},Y)),"right"===w&&T)}constructor(o){super(o),this.cacheRefCurrent=(o,v)=>{"string"==typeof o&&o.length&&this.adapter.setCache(o,v)},this.leftIsYearOrTime=o=>{let{monthLeft:v}=o||this.state;return!!v&&(!!v.isTimePickerOpen||!!v.isYearPickerOpen)},this.rightIsYearOrTime=o=>{let{monthRight:v}=o||this.state;return!!v&&(!!v.isTimePickerOpen||!!v.isYearPickerOpen)},this.calcScrollListHeight=()=>{let o=this.adapter.getCache("wrap-".concat(iv.PANEL_TYPE_LEFT)),v=this.adapter.getCache("wrap-".concat(iv.PANEL_TYPE_RIGHT)),_=this.adapter.getCache("switch-".concat(iv.PANEL_TYPE_LEFT)),x=this.adapter.getCache("switch-".concat(iv.PANEL_TYPE_RIGHT)),w=o&&o.getBoundingClientRect(),T=v&&v.getBoundingClientRect(),L=w&&w.height||0,N=T&&T.height||0;return _&&(L+=_.getBoundingClientRect().height),x&&(N+=x.getBoundingClientRect().height),Math.max(L,N)},this.handleWeeksRowNumChange=(o,v)=>{let _=v===iv.PANEL_TYPE_RIGHT,x=v===iv.PANEL_TYPE_RIGHT,w=this.leftIsYearOrTime()&&this.rightIsYearOrTime();if(this.foundation.isRangeType()&&!w){let v={weeksRowNum:o,currentPanelHeight:this.calcScrollListHeight()};this.setState(v,()=>{(this.leftIsYearOrTime()&&x||this.rightIsYearOrTime()&&_)&&this.reselect()})}},this.reselect=()=>{let o=["timepicker-".concat(iv.PANEL_TYPE_LEFT),"timepicker-".concat(iv.PANEL_TYPE_RIGHT),"yam-".concat(iv.PANEL_TYPE_LEFT),"yam-".concat(iv.PANEL_TYPE_RIGHT)];o.forEach(o=>{let v=this.adapter.getCache(o);v&&"function"==typeof v.reselect&&v.reselect()})},this.getYAMOpenType=()=>this.foundation.getYAMOpenType();let v=o.format||getDefaultFormatTokenByType(o.type),{nowDate:_,nextDate:x}=getDefaultPickerDate({defaultPickerValue:o.defaultPickerValue,format:v,dateFnsLocale:o.dateFnsLocale}),w={selected:new Set},T={monthLeft:{pickerDate:_,showDate:_,isTimePickerOpen:!1,isYearPickerOpen:!1},monthRight:{pickerDate:x,showDate:x,isTimePickerOpen:!1,isYearPickerOpen:!1},maxWeekNum:0,hoverDay:"",rangeStart:o.rangeStart,rangeEnd:"",currentPanelHeight:0,offsetRangeStart:"",offsetRangeEnd:""};this.state=Object.assign(Object.assign({},w),T),this.foundation=new MonthsGridFoundation(this.adapter)}};MonthsGrid.propTypes={type:eI().oneOf(iv.TYPE_SET),defaultValue:eI().array,defaultPickerValue:eI().oneOfType([eI().string,eI().number,eI().object,eI().array]),multiple:eI().bool,max:eI().number,weekStartsOn:eI().number,disabledDate:eI().func,disabledTime:eI().func,disabledTimePicker:eI().bool,hideDisabledOptions:eI().bool,navPrev:eI().node,navNext:eI().node,onMaxSelect:eI().func,timePickerOpts:eI().object,isControlledComponent:eI().bool,rangeStart:eI().oneOfType([eI().string]),rangeInputFocus:eI().oneOfType([eI().bool,eI().string]),locale:eI().object,localeCode:eI().string,format:eI().string,renderDate:eI().func,renderFullDate:eI().func,startDateOffset:eI().func,endDateOffset:eI().func,autoSwitchDate:eI().bool,density:eI().string,dateFnsLocale:eI().object.isRequired,timeZone:eI().oneOfType([eI().string,eI().number]),syncSwitchMonth:eI().bool,onPanelChange:eI().func,focusRecordsRef:eI().object,triggerRender:eI().func,presetPosition:eI().oneOf(iv.PRESET_POSITION_SET),renderQuickControls:eI().node,renderDateInput:eI().node},MonthsGrid.defaultProps={type:"date",rangeStart:"",multiple:!1,weekStartsOn:i_.WEEK_START_ON,disabledDate:iw(),onMaxSelect:eE(),locale:{}};let oy=iy.PREFIX,{Text:ov}=Typography;let QuickControl=class QuickControl extends eC.PureComponent{render(){let{presets:o,onPresetClick:v,type:_,presetPosition:x,insetInput:w,locale:T}=this.props,L="dateRange"===_||"dateTimeRange"===_,N="top"===x||"bottom"===x,B="month"===_,H=N&&L,Y=N&&B,Z=eM()("".concat(oy,"-quick-control"),{["".concat(oy,"-quick-control-").concat(_)]:_,["".concat(oy,"-quick-control-").concat(x)]:!0}),X=eM()({["".concat(oy,"-quick-control-header")]:!0}),et=eM()({["".concat(oy,"-quick-control-").concat(x,"-content-wrapper")]:!0}),en=eM()({["".concat(oy,"-quick-control-").concat(x,"-content")]:!H&&!Y,["".concat(oy,"-quick-control-").concat(x,"-range-content")]:H,["".concat(oy,"-quick-control-").concat(x,"-month-content")]:Y}),er=eM()({["".concat(oy,"-quick-control-").concat(x,"-content-item")]:!H&&!Y,["".concat(oy,"-quick-control-").concat(x,"-range-content-item")]:H,["".concat(oy,"-quick-control-").concat(x,"-month-content-item")]:Y}),ei=eM()({["".concat(oy,"-quick-control-").concat(x,"-content-item-ellipsis")]:!H&&!Y,["".concat(oy,"-quick-control-").concat(x,"-range-content-item-ellipsis")]:H,["".concat(oy,"-quick-control-").concat(x,"-month-content-item-ellipsis")]:Y});return o.length?eC.createElement("div",{className:Z,"x-insetinput":w?"true":"false"},!N&&eC.createElement("div",{className:X},T.presets),eC.createElement("div",{className:et},eC.createElement("div",{className:en},o.map((o,_)=>{let x="function"==typeof o?o():o;return eC.createElement(nt,{size:"small",type:"primary",onClick:o=>v(x,o),key:_},eC.createElement("div",{className:er},eC.createElement(ov,{ellipsis:{showTooltip:!0},className:ei},x.text)))})))):null}};function Footer(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{prefixCls:v,locale:_,onCancelClick:x,onConfirmClick:w}=o,T=eM()("".concat(v,"-footer"));return eC.createElement("div",{className:T},eC.createElement(nt,{theme:"borderless",onClick:x},eH()(_,"footer.cancel","")),eC.createElement(nt,{theme:"solid",onClick:w},eH()(_,"footer.confirm","")))}QuickControl.propTypes={presets:eI().array,presetPosition:eI().oneOf(iv.PRESET_POSITION_SET),onPresetClick:eI().func,type:eI().string,insetInput:eI().oneOfType([eI().bool,eI().object]),locale:eI().object},QuickControl.defaultProps={presets:[],presetPosition:"bottom",onPresetClick:function_noop},_(3968);var datePicker_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let DatePicker=class DatePicker extends BaseComponent{get adapter(){var o=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:(o,v)=>{this.setState({panelShow:o},v),o||(this.focusRecordsRef.current.rangeEnd=!1,this.focusRecordsRef.current.rangeStart=!1)},registerClickOutSide:()=>{this.clickOutSideHandler&&(this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=null),this.clickOutSideHandler=o=>{let v=this.triggerElRef&&this.triggerElRef.current,_=this.panelRef&&this.panelRef.current,x=v&&v.contains(o.target),w=_&&_.contains(o.target),T=!x&&!w&&this._mounted;if(this.adapter.needConfirm()){T&&this.props.onClickOutSide();return}T&&(this.props.onClickOutSide(),this.foundation.closePanel(o))},document.addEventListener("mousedown",this.clickOutSideHandler)},unregisterClickOutSide:()=>{document.removeEventListener("mousedown",this.clickOutSideHandler)},notifyBlur:function(){return o.props.onBlur(...arguments)},notifyFocus:function(){return o.props.onFocus(...arguments)},notifyClear:function(){return o.props.onClear(...arguments)},notifyChange:function(){return o.props.onChange(...arguments)},notifyCancel:function(){return o.props.onCancel(...arguments)},notifyConfirm:function(){return o.props.onConfirm(...arguments)},notifyOpenChange:function(){return o.props.onOpenChange(...arguments)},notifyPresetsClick:function(){return o.props.onPresetClick(...arguments)},updateValue:o=>this.setState({value:o}),updatePrevTimezone:o=>this.setState({prevTimeZone:o}),updateCachedSelectedValue:o=>{let v=o;o&&!Array.isArray(o)&&(v=[...o]),this.setState({cachedSelectedValue:v})},updateInputValue:o=>{this.setState({inputValue:o})},updateInsetInputValue:o=>{let{insetInput:v}=this.props;v&&!e7()(o,this.state.insetInputValue)&&this.setState({insetInputValue:o})},needConfirm:()=>["dateTime","dateTimeRange"].includes(this.props.type)&&!0===this.props.needConfirm,typeIsYearOrMonth:()=>["month","year","monthRange"].includes(this.props.type),setRangeInputFocus:o=>{let{preventScroll:v}=this.props;switch(o!==this.state.rangeInputFocus&&this.setState({rangeInputFocus:o}),o){case"rangeStart":let _=eH()(this,"rangeInputStartRef.current");_&&_.focus({preventScroll:v}),setTimeout(()=>{this.focusRecordsRef.current.rangeStart=!0},0);break;case"rangeEnd":let x=eH()(this,"rangeInputEndRef.current");x&&x.focus({preventScroll:v}),setTimeout(()=>{this.focusRecordsRef.current.rangeEnd=!0},0);break;default:return}},couldPanelClosed:()=>this.focusRecordsRef.current.rangeStart&&this.focusRecordsRef.current.rangeEnd,isEventTarget:o=>o&&o.target===o.currentTarget,setInsetInputFocus:()=>{let{preventScroll:o}=this.props,{rangeInputFocus:v}=this.state;if("rangeEnd"===v){if(document.activeElement!==this.rangeInputEndRef.current){let v=eH()(this,"rangeInputEndRef.current");v&&v.focus({preventScroll:o})}}else if(document.activeElement!==this.rangeInputStartRef.current){let v=eH()(this,"rangeInputStartRef.current");v&&v.focus({preventScroll:o})}},setInputFocus:()=>{let{preventScroll:o}=this.props,v=eH()(this,"inputRef.current");v&&v.focus({preventScroll:o})},setInputBlur:()=>{let o=eH()(this,"inputRef.current");o&&o.blur()},setRangeInputBlur:()=>{let{rangeInputFocus:o}=this.state;if("rangeStart"===o){let o=eH()(this,"rangeInputStartRef.current");o&&o.blur()}else if("rangeEnd"===o){let o=eH()(this,"rangeInputEndRef.current");o&&o.blur()}this.adapter.setRangeInputFocus(!1)},setTriggerDisabled:o=>{this.setState({triggerDisabled:o})}})}isRangeType(o,v){return/range/i.test(o)&&!eX()(v)}componentDidUpdate(o){o.value!==this.props.value?this.foundation.initFromProps(Object.assign({},this.props)):this.props.timeZone!==o.timeZone&&this.foundation.initFromProps({value:this.state.value,timeZone:this.props.timeZone,prevTimeZone:o.timeZone}),o.open===this.props.open||(this.foundation.initPanelOpenStatus(),this.props.open||this.foundation.clearRangeInputFocus())}componentDidMount(){this._mounted=!0,super.componentDidMount()}componentWillUnmount(){this._mounted=!1,super.componentWillUnmount()}open(){this.foundation.open()}close(){this.foundation.close()}focus(o){this.foundation.focus(o)}blur(){this.foundation.blur()}renderMonthGrid(o,v,_){let{type:x,multiple:w,max:T,weekStartsOn:L,timePickerOpts:N,defaultPickerValue:B,format:H,hideDisabledOptions:Y,disabledTimePicker:Z,renderDate:X,renderFullDate:et,startDateOffset:en,endDateOffset:er,autoSwitchDate:ei,density:ea,syncSwitchMonth:eo,onPanelChange:el,timeZone:eu,triggerRender:ec,insetInput:ed,presetPosition:eh,yearAndMonthOpts:ep,startYear:ef,endYear:eg}=this.props,{cachedSelectedValue:em,rangeInputFocus:ey}=this.state;return eC.createElement(MonthsGrid,{ref:this.monthGrid,locale:o,localeCode:v,dateFnsLocale:_,weekStartsOn:L,type:x,multiple:w,max:T,format:H,disabledDate:this.disabledDisposeDate,hideDisabledOptions:Y,disabledTimePicker:Z,disabledTime:this.disabledDisposeTime,defaultValue:em,defaultPickerValue:B,timePickerOpts:N,isControlledComponent:!this.adapter.needConfirm()&&this.isControlled("value"),onChange:this.handleSelectedChange,renderDate:X,renderFullDate:et,startDateOffset:en,endDateOffset:er,autoSwitchDate:ei,density:ea,rangeInputFocus:ey,setRangeInputFocus:this.handleSetRangeFocus,isAnotherPanelHasOpened:this.isAnotherPanelHasOpened,syncSwitchMonth:eo,onPanelChange:el,timeZone:eu,focusRecordsRef:this.focusRecordsRef,triggerRender:ec,insetInput:ed,presetPosition:eh,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),yearAndMonthOpts:ep,startYear:ef,endYear:eg})}renderQuickControls(){let{presets:o,type:v,presetPosition:_,insetInput:x,locale:w}=this.props;return eC.createElement(QuickControl,{type:v,presets:o,insetInput:x,presetPosition:_,onPresetClick:(o,v)=>this.foundation.handlePresetClick(o,v),locale:w})}renderDateInput(){let{insetInput:o,dateFnsLocale:v,density:_,type:x,format:w,rangeSeparator:T,defaultPickerValue:L}=this.props,{insetInputValue:N,value:B}=this.state,H={dateFnsLocale:v,format:w,insetInputValue:N,rangeSeparator:T,type:x,value:B,handleInsetDateFocus:this.handleInsetDateFocus,handleInsetTimeFocus:this.handleInsetTimeFocus,onInsetInputChange:this.handleInsetInputChange,rangeInputStartRef:this.rangeInputStartRef,rangeInputEndRef:this.rangeInputEndRef,density:_,defaultPickerValue:L};return o?eC.createElement(DateInput,Object.assign({},H,{insetInput:o})):null}renderInner(o){let{clearIcon:v,type:_,format:x,multiple:w,disabled:T,showClear:L,insetLabel:N,insetLabelId:B,placeholder:H,validateStatus:Y,inputStyle:Z,prefix:X,locale:et,dateFnsLocale:en,triggerRender:er,size:ei,inputReadOnly:ea,rangeSeparator:eo,insetInput:el,defaultPickerValue:eu,borderless:ec}=this.props,{value:ed,inputValue:eh,rangeInputFocus:ep,triggerDisabled:ef}=this.state,eg=this.isRangeType(_,er),em=T||el&&ef,ey=eM()("".concat(iy.PREFIX,"-input"),{["".concat(iy.PREFIX,"-range-input")]:eg,["".concat(iy.PREFIX,"-range-input-").concat(ei)]:eg&&ei,["".concat(iy.PREFIX,"-range-input-active")]:eg&&ep&&!em,["".concat(iy.PREFIX,"-range-input-disabled")]:eg&&em,["".concat(iy.PREFIX,"-range-input-").concat(Y)]:eg&&Y,["".concat(iy.PREFIX,"-borderless")]:ec}),ev=H||et.placeholder[_],e_=Object.assign(Object.assign({},o),{showClearIgnoreDisabled:!!el,placeholder:ev,clearIcon:v,disabled:em,inputValue:eh,value:ed,defaultPickerValue:eu,onChange:this.handleInputChange,onEnterPress:this.handleInputComplete,block:!0,inputStyle:Z,showClear:L,insetLabel:N,insetLabelId:B,type:_,format:x,multiple:w,validateStatus:Y,inputReadOnly:ea||!!el,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onClear:this.handleInputClear,prefix:X,size:ei,autofocus:this.state.autofocus,dateFnsLocale:en,rangeInputFocus:ep,rangeSeparator:eo,onRangeBlur:this.handleRangeInputBlur,onRangeClear:this.handleRangeInputClear,onRangeEndTabPress:this.handleRangeEndTabPress,rangeInputStartRef:el?null:this.rangeInputStartRef,rangeInputEndRef:el?null:this.rangeInputEndRef,inputRef:this.inputRef});return eC.createElement("div",{role:"combobox","aria-label":Array.isArray(ed)&&ed.length?"Change date":"Choose date","aria-disabled":T,onClick:this.handleTriggerWrapperClick,className:ey},"function"==typeof er?eC.createElement(Trigger,Object.assign({},e_,{triggerRender:er,componentName:"DatePicker",componentProps:Object.assign({},this.props)})):eC.createElement(DateInput,Object.assign({},e_)))}render(){let o=this.props,{style:v,className:_,prefixCls:x,type:w}=o,T=datePicker_rest(o,["style","className","prefixCls","type"]),L=Object.assign({style:v,className:eM()(_,{[x]:!0}),ref:this.setTriggerRef,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(T)),N=[];w.toLowerCase().includes("range")||N.push("borderless");let B=this.renderInner(rd()(this.props,N)),H=this.wrapPopover(B);return eC.createElement("div",Object.assign({},L),H)}constructor(o){var v;super(o),v=this,this.setTriggerRef=o=>this.triggerElRef.current=o,this.handleSelectedChange=(o,v)=>this.foundation.handleSelectedChange(o,v),this.handleYMSelectedChange=o=>this.foundation.handleYMSelectedChange(o),this.disabledDisposeDate=function(o){for(var _=arguments.length,x=Array(_>1?_-1:0),w=1;w<_;w++)x[w-1]=arguments[w];return v.foundation.disabledDisposeDate(o,...x)},this.disabledDisposeTime=function(o){for(var _=arguments.length,x=Array(_>1?_-1:0),w=1;w<_;w++)x[w-1]=arguments[w];return v.foundation.disabledDisposeTime(o,...x)},this.handleOpenPanel=()=>this.foundation.openPanel(),this.handleInputChange=function(){return v.foundation.handleInputChange(...arguments)},this.handleInsetInputChange=o=>this.foundation.handleInsetInputChange(o),this.handleInputComplete=o=>this.foundation.handleInputComplete(o),this.handleInputBlur=o=>this.foundation.handleInputBlur(eH()(o,"nativeEvent.target.value"),o),this.handleInputFocus=function(){return v.foundation.handleInputFocus(...arguments)},this.handleInputClear=o=>this.foundation.handleInputClear(o),this.handleTriggerWrapperClick=o=>this.foundation.handleTriggerWrapperClick(o),this.handleSetRangeFocus=o=>this.foundation.handleSetRangeFocus(o),this.handleRangeInputBlur=(o,v)=>this.foundation.handleRangeInputBlur(o,v),this.handleRangeInputClear=o=>this.foundation.handleRangeInputClear(o),this.handleRangeEndTabPress=o=>this.foundation.handleRangeEndTabPress(o),this.isAnotherPanelHasOpened=o=>"rangeStart"===o?this.focusRecordsRef.current.rangeEnd:this.focusRecordsRef.current.rangeStart,this.handleInsetDateFocus=(o,v)=>{let _=eH()(this,"monthGrid.current.foundation");_&&(_.showDatePanel(iv.PANEL_TYPE_LEFT),_.showDatePanel(iv.PANEL_TYPE_RIGHT)),this.handleInputFocus(o,v)},this.handleInsetTimeFocus=()=>{let o=eH()(this,"monthGrid.current.foundation");o&&(o.showTimePicker(iv.PANEL_TYPE_LEFT),o.showTimePicker(iv.PANEL_TYPE_RIGHT))},this.handlePanelVisibleChange=o=>{this.foundation.handlePanelVisibleChange(o)},this.handleConfirm=o=>this.foundation.handleConfirm(),this.handleCancel=o=>this.foundation.handleCancel(),this.renderFooter=(o,v)=>this.adapter.needConfirm()?eC.createElement(Footer,Object.assign({},this.props,{locale:o,localeCode:v,onConfirmClick:this.handleConfirm,onCancelClick:this.handleCancel})):null,this.renderPanel=(o,v,_)=>{let{dropdownClassName:x,dropdownStyle:w,density:T,topSlot:L,bottomSlot:N,presetPosition:B,type:H}=this.props,Y=eM()(iy.PREFIX,{[iy.PANEL_YAM]:this.adapter.typeIsYearOrMonth(),["".concat(iy.PREFIX,"-compact")]:"compact"===T},x);return eC.createElement("div",{ref:this.panelRef,className:Y,style:w,"x-type":H},L&&eC.createElement("div",{className:"".concat(iy.PREFIX,"-topSlot"),"x-semi-prop":"topSlot"},L),"top"===B&&"monthRange"!==H&&this.renderQuickControls(),this.adapter.typeIsYearOrMonth()?this.renderYearMonthPanel(o,v):this.renderMonthGrid(o,v,_),"bottom"===B&&"monthRange"!==H&&this.renderQuickControls(),N&&eC.createElement("div",{className:"".concat(iy.PREFIX,"-bottomSlot"),"x-semi-prop":"bottomSlot"},N),this.renderFooter(o,v))},this.renderYearMonthPanel=(o,v)=>{let{density:_,presetPosition:x,yearAndMonthOpts:w,type:T,startYear:L,endYear:N}=this.props,B=this.state.value[0],H={left:0,right:0},Y={left:0,right:0};if(iS()(B)&&(H.left=B.getFullYear(),Y.left=B.getMonth()+1),"monthRange"===T){let o=this.state.value[1];iS()(o)&&(H.right=o.getFullYear(),Y.right=o.getMonth()+1)}return eC.createElement(YearAndMonth,{locale:o,localeCode:v,disabledDate:this.disabledDisposeDate,noBackBtn:!0,monthCycled:!0,onSelect:this.handleYMSelectedChange,currentYear:H,currentMonth:Y,density:_,presetPosition:x,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),type:T,yearAndMonthOpts:w,startYear:L,endYear:N})},this.wrapPopover=o=>{let{panelShow:v}=this.state,{direction:_}=this.context,{motion:x,zIndex:w,position:T="rtl"===_?"bottomRight":"bottomLeft",getPopupContainer:L,locale:N,localeCode:B,dateFnsLocale:H,stopPropagation:Y,autoAdjustOverflow:Z,spacing:X,dropdownMargin:et}=this.props;return eC.createElement(Popover,{getPopupContainer:L,autoAdjustOverflow:Z,zIndex:w,motion:x,margin:et,content:this.renderPanel(N,B,H),trigger:"custom",position:T,visible:v,stopPropagation:Y,spacing:X,onVisibleChange:this.handlePanelVisibleChange},o)},this.state={panelShow:o.open||o.defaultOpen,isRange:!1,inputValue:null,value:[],cachedSelectedValue:[],prevTimeZone:null,rangeInputFocus:void 0,autofocus:o.autoFocus||this.isRangeType(o.type,o.triggerRender)&&(o.open||o.defaultOpen),insetInputValue:null,triggerDisabled:void 0},this.triggerElRef=eC.createRef(),this.panelRef=eC.createRef(),this.monthGrid=eC.createRef(),this.inputRef=eC.createRef(),this.rangeInputStartRef=eC.createRef(),this.rangeInputEndRef=eC.createRef(),this.focusRecordsRef=eC.createRef(),this.focusRecordsRef.current={rangeStart:!1,rangeEnd:!1},this.foundation=new DatePickerFoundation(this.adapter)}};DatePicker.contextType=tm,DatePicker.propTypes={"aria-describedby":eI().string,"aria-errormessage":eI().string,"aria-invalid":eI().bool,"aria-labelledby":eI().string,"aria-required":eI().bool,borderless:eI().bool,type:eI().oneOf(iv.TYPE_SET),size:eI().oneOf(iv.SIZE_SET),clearIcon:eI().node,density:eI().oneOf(iv.DENSITY_SET),defaultValue:eI().oneOfType([eI().string,eI().number,eI().object,eI().array]),value:eI().oneOfType([eI().string,eI().number,eI().object,eI().array]),defaultPickerValue:eI().oneOfType([eI().string,eI().number,eI().object,eI().array]),disabledTime:eI().func,disabledTimePicker:eI().bool,hideDisabledOptions:eI().bool,format:eI().string,disabled:eI().bool,multiple:eI().bool,max:eI().number,placeholder:eI().oneOfType([eI().string,eI().array]),presets:eI().array,presetPosition:eI().oneOf(iv.PRESET_POSITION_SET),onChange:eI().func,onChangeWithDateFirst:eI().bool,weekStartsOn:eI().number,disabledDate:eI().func,timePickerOpts:eI().object,showClear:eI().bool,onOpenChange:eI().func,open:eI().bool,defaultOpen:eI().bool,motion:eI().oneOfType([eI().bool,eI().func,eI().object]),className:eI().string,prefixCls:eI().string,prefix:eI().node,insetLabel:eI().node,insetLabelId:eI().string,zIndex:eI().number,position:eI().oneOf(tV.POSITION_SET),getPopupContainer:eI().func,onCancel:eI().func,onConfirm:eI().func,needConfirm:eI().bool,inputStyle:eI().object,timeZone:eI().oneOfType([eI().string,eI().number]),triggerRender:eI().func,stopPropagation:eI().oneOfType([eI().bool,eI().string]),autoAdjustOverflow:eI().bool,onBlur:eI().func,onFocus:eI().func,onClear:eI().func,style:eI().object,autoFocus:eI().bool,inputReadOnly:eI().bool,validateStatus:eI().oneOf(iv.STATUS),renderDate:eI().func,renderFullDate:eI().func,spacing:eI().oneOfType([eI().number,eI().object]),startDateOffset:eI().func,endDateOffset:eI().func,autoSwitchDate:eI().bool,dropdownClassName:eI().string,dropdownStyle:eI().object,dropdownMargin:eI().oneOfType([eI().number,eI().object]),topSlot:eI().node,bottomSlot:eI().node,dateFnsLocale:eI().object,syncSwitchMonth:eI().bool,onPanelChange:eI().func,rangeSeparator:eI().string,preventScroll:eI().bool,yearAndMonthOpts:eI().object,onClickOutSide:eI().func},DatePicker.defaultProps={onChangeWithDateFirst:!0,borderless:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,prefixCls:iy.PREFIX,presetPosition:"bottom",zIndex:tB.DEFAULT_Z_INDEX,type:"date",size:"default",density:"default",multiple:!1,defaultOpen:!1,disabledHours:eE(),disabledMinutes:eE(),disabledSeconds:eE(),hideDisabledOptions:!1,onBlur:eE(),onFocus:eE(),onClear:eE(),onCancel:eE(),onConfirm:eE(),onChange:eE(),onOpenChange:eE(),onPanelChange:eE(),onPresetClick:eE(),weekStartsOn:i_.WEEK_START_ON,disabledDate:iw(),disabledTime:iw(),inputReadOnly:!1,spacing:i_.SPACING,autoSwitchDate:!0,syncSwitchMonth:!1,rangeSeparator:iv.DEFAULT_SEPARATOR_RANGE,insetInput:!1,onClickOutSide:eE()};var o_=forwardStatics(eC.forwardRef((o,v)=>{let _=Object.assign({},o),{type:x,format:w,rangeSeparator:T}=_;return"string"==typeof w&&w&&!/[Hhms]+/.test(w)&&("dateTime"===x?_.type="date":"dateTimeRange"===x&&(_.type="dateRange")),T&&"string"==typeof T&&(_.rangeSeparator=" ".concat(T.trim()," ")),_.insetInput&&(_.position||(_.position=iv.POSITION_INLINE_INPUT),_.position.includes("Over")&&!_.spacing&&(_.spacing=i_.SPACING_INSET_INPUT)),eC.createElement(tm.Consumer,null,o=>{let{timeZone:x}=o;return eC.createElement(LocaleConsumer,{componentName:"DatePicker"},(o,w,T)=>eC.createElement(DatePicker,Object.assign({timeZone:x,localeCode:w,locale:o,dateFnsLocale:T},_,{ref:v})))})}),DatePicker);let SwitchFoundation=class SwitchFoundation extends eU{constructor(o){super(Object.assign({},o)),this.handleFocusVisible=o=>{let{target:v}=o;try{v.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch(o){warning(!0,"Warning: [Semi Switch] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){let{disabled:o}=this.getProps();this.setDisabled(o)}setChecked(o){this._adapter.setNativeControlChecked(o)}setDisabled(o){this._adapter.setNativeControlDisabled(o)}handleChange(o,v){let _=this.getProps().checked;void 0!==_||this._adapter.setNativeControlChecked(o),this._adapter.notifyChange(o,v)}destroy(){}};let ob={PREFIX:`${eO.T}-switch`,FOCUS:`${eO.T}-switch-focus`,LARGE:`${eO.T}-switch-large`,SMALL:`${eO.T}-switch-small`,CHECKED:`${eO.T}-switch-checked`,DISABLED:`${eO.T}-switch-disabled`,ACTIVE:`${eO.T}-switch-active`,KNOB:`${eO.T}-switch-knob`,NATIVE_CONTROL:`${eO.T}-switch-native-control`,CHECKED_TEXT:`${eO.T}-switch-checked-text`,UNCHECKED_TEXT:`${eO.T}-switch-unchecked-text`,LOADING_SPIN:`${eO.T}-switch-loading-spin`,LOADING:`${eO.T}-switch-loading`};_(7765);var switch_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let Switch=class Switch extends BaseComponent{componentDidMount(){this.foundation.init()}componentDidUpdate(o){this.props.checked!==o.checked&&this.foundation.setChecked(this.props.checked),this.props.disabled!==o.disabled&&this.foundation.setDisabled(this.props.disabled)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:o=>{this.setState({nativeControlChecked:o})},setNativeControlDisabled:o=>{this.setState({nativeControlDisabled:o})},setFocusVisible:o=>{this.setState({focusVisible:o})},notifyChange:(o,v)=>{this.props.onChange(o,v)}})}render(){let{nativeControlChecked:o,nativeControlDisabled:v,focusVisible:_}=this.state,x=this.props,{className:w,style:T,onMouseEnter:L,onMouseLeave:N,size:B,checkedText:H,uncheckedText:Y,loading:Z,id:X}=x,et=switch_rest(x,["className","style","onMouseEnter","onMouseLeave","size","checkedText","uncheckedText","loading","id"]),en=eM()(w,{[ob.PREFIX]:!0,[ob.CHECKED]:o,[ob.DISABLED]:v,[ob.LARGE]:"large"===B,[ob.SMALL]:"small"===B,[ob.LOADING]:Z,[ob.FOCUS]:_}),er={type:"checkbox",className:ob.NATIVE_CONTROL,disabled:v||Z,checked:o||!1},ei=H&&o&&"small"!==B,ea=Y&&!o&&"small"!==B;return eC.createElement("div",Object.assign({className:en,style:T,onMouseEnter:L,onMouseLeave:N},this.getDataAttr(et)),Z?eC.createElement(nh,{wrapperClassName:ob.LOADING_SPIN,size:"default"===B?"middle":B}):eC.createElement("div",{className:ob.KNOB,"aria-hidden":!0}),ei?eC.createElement("div",{className:ob.CHECKED_TEXT,"x-semi-prop":"checkedText"},H):null,ea?eC.createElement("div",{className:ob.UNCHECKED_TEXT,"x-semi-prop":"uncheckedText"},Y):null,eC.createElement("input",Object.assign({},er,{ref:this.switchRef,id:X,role:"switch","aria-checked":o,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-disabled":this.props.disabled,onChange:o=>this.foundation.handleChange(o.target.checked,o),onFocus:o=>this.handleFocusVisible(o),onBlur:o=>this.handleBlur(o)})))}constructor(o){super(o),this.handleFocusVisible=o=>{this.foundation.handleFocusVisible(o)},this.handleBlur=o=>{this.foundation.handleBlur()},this.state={nativeControlChecked:o.defaultChecked||o.checked,nativeControlDisabled:!1,focusVisible:!1},this.switchRef=eC.createRef(),this.foundation=new SwitchFoundation(this.adapter)}};Switch.propTypes={"aria-label":eI().string,"aria-labelledby":eI().string,"aria-invalid":eI().bool,"aria-errormessage":eI().string,"aria-describedby":eI().string,className:eI().string,checked:eI().bool,checkedText:eI().node,defaultChecked:eI().bool,disabled:eI().bool,loading:eI().bool,onChange:eI().func,onMouseEnter:eI().func,onMouseLeave:eI().func,style:eI().object,size:eI().oneOf(["default","small","large"]),uncheckedText:eI().node,id:eI().string},Switch.defaultProps={disabled:!1,className:"",onChange:eE(),loading:!1,onMouseEnter:eE(),onMouseLeave:eE(),size:"default"};let oS={PREFIX:`${eO.T}-slider`,DISABLED:`${eO.T}-slider-disabled`,VERTICAL:`${eO.T}-slider-vertical`,TRACK:`${eO.T}-slider-track`,DOTS:`${eO.T}-slider-dots`,MARKS:`${eO.T}-slider-marks`,HANDLE:`${eO.T}-slider-handle`};var touchPolyfill=(o,v)=>(globalThis.Touch&&o instanceof Touch&&["stopPropagation","preventDefault"].forEach(_=>{let x=v[_];x&&("function"==typeof x&&(x=function(){return v[_](...arguments)}),o[_]?warning(!0,`"The key ${_}" exist in Touch.`):o[_]=x)}),o);let SliderFoundation=class SliderFoundation extends eU{constructor(o){var v;super(Object.assign(Object.assign({},SliderFoundation.defaultAdapter),o)),v=this,this.getMinAndMaxPercent=o=>{let{range:v,min:_,max:x}=this._adapter.getProps(),w=v?(o[0]-_)/(x-_):(o-_)/(x-_),T=v?(o[1]-_)/(x-_):1;return{min:this._checkValidity(w),max:this._checkValidity(T)}},this._checkValidity=function(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return o>_?_:o<v?v:o},this.computeHandleVisibleVal=(o,v,_)=>{let x;let{focusPos:w,currentValue:T}=this._adapter.getStates(),L={min:!1,max:!1};return x=v?{min:v(_?this.outPutValue(T[0]):this.outPutValue(T)),max:_?v(this.outPutValue(T[1])):null}:{min:_?this.outPutValue(T[0]):this.outPutValue(T),max:_?this.outPutValue(T[1]):null},o?(L.min=!0,L.max=!0):void 0===o&&v&&("min"===w?L.min=!0:"max"===w&&(L.max=!0)),{tipVisible:L,tipChildren:x}},this.valueFormatIsCorrect=o=>Array.isArray(o)?"number"==typeof o[0]&&"number"==typeof o[0]:"number"==typeof o,this.handleMousePos=(o,v)=>{let _=this._adapter.getParentRect(),x=this._adapter.getScrollParentVal(),w=_?_.left:0,T=_?_.top:0;return{x:o-w+x.scrollLeft,y:v-T+x.scrollTop}},this.getScrollParent=o=>{let v=/(auto|scroll)/,style=(o,v)=>window.getComputedStyle(o,null).getPropertyValue(v),scroll=o=>v.test(style(o,"overflow")+style(o,"overflow-y")+style(o,"overflow-x")),scrollParent=o=>o&&o!==document.body&&o instanceof Element?scroll(o)?o:scrollParent(o.parentNode):document.body;return scrollParent(o)},this.checkMeetMinMax=o=>{let v,_;let{vertical:x,verticalReverse:w,range:T}=this._adapter.getProps(),L=this._adapter.getState("currentValue");this.transValueToPos(L);let{sliderX:N,sliderY:B,sliderWidth:H,sliderHeight:Y}=this._adapter.getSliderLengths(),{chooseMovePos:Z,isDrag:X}=this._adapter.getStates();return v=x&&w?B+(x?Y:H):x?B:N,_=x&&w?B:x?B+Y:N+H,x&&w?o>=v?o=v:o<=_&&(o=_):o<=v?o=v:o>=_&&(o=_),o},this.transPosToValue=(o,v)=>{let _,x;let w=this.checkMeetMinMax(o),{min:T,max:L,currentValue:N}=this._adapter.getStates(),{range:B,vertical:H,step:Y,verticalReverse:Z}=this._adapter.getProps(),{sliderX:X,sliderY:et,sliderWidth:en,sliderHeight:er}=this._adapter.getSliderLengths(),ei=H?et:X,ea=H?er:en;return(_=H&&Z?(ei+ea-w)/ea*(L-T)+T:(w-ei)/ea*(L-T)+T,x=B?v?N[0]:N[1]:N,1!==Y&&(_=Math.round(_/Y)*Y),B&&_!==x)?v?[_,N[1]]:[N[0],_]:!B&&_!==x&&_},this.transValueToPos=o=>{let{min:v,max:_}=this._adapter.getStates(),{vertical:x,range:w,verticalReverse:T}=this._adapter.getProps(),{sliderX:L,sliderY:N,sliderWidth:B,sliderHeight:H}=this._adapter.getSliderLengths(),Y=x?N:L,Z=x?H:B;return w?[(o[0]-v)*Z/(_-v)+Y,(o[1]-v)*Z/(_-v)+Y]:(o-v)*Z/(_-v)+Y},this.isMarkActive=o=>{let{min:v,max:_,range:x,included:w}=this._adapter.getProps(),T=this._adapter.getState("currentValue");return"number"==typeof(o/1)&&o>=v&&o<=_&&(x?(o>T[1]||o<T[0])&&w?"unActive":"active":o<=T&&w?"active":"unActive")},this.outPutValue=o=>{let checkHowManyDecimals=o=>{var v,_;return/^\d+(\.\d+)?$/.test(String(o))&&null!==(_=null===(v=o.toString().split(".")[1])||void 0===v?void 0:v.length)&&void 0!==_?_:0},v=this._adapter.getProp("step"),_=(()=>{let o=checkHowManyDecimals(v),_=Math.pow(10,o);return o=>Math.round(o*_)/_})();return Array.isArray(o)?[_(o[0]),_(o[1])]:_(o)},this.handleDisabledChange=o=>{this._adapter.updateDisabled(o)},this.checkAndUpdateIsInRenderTreeState=()=>this._adapter.checkAndUpdateIsInRenderTreeState(),this.calculateOutputValue=(o,v)=>{let _=this.transPosToValue(o,v);if(!1!==_)return this.outPutValue(_)},this.handleValueChange=(o,v)=>{let{min:_,max:x}=this._adapter.getStates(),w=null,T={};this.valueFormatIsCorrect(v)?(Array.isArray(o)&&Array.isArray(v)&&(w=Object.assign(T,{currentValue:v=[v[0]<_?_:v[0],v[1]>x?x:v[1]]})),"number"==typeof o&&"number"==typeof v&&(w=Object.assign(T,{currentValue:v=v>x?x:v<_?_:v}))):w=T,w&&this._adapter.transNewPropsToState(w)},this.onHandleDown=(o,v)=>{this._adapter.onHandleDown(o);let _=this._adapter.getState("disabled"),{vertical:x}=this._adapter.getProps(),{dragging:w}=this._adapter.getOverallVars();if(_)return!1;this._adapter.setStateVal("isDrag",!0),this._adapter.setStateVal("chooseMovePos",v),"min"===v?this._adapter.setDragging([!0,w[1]]):this._adapter.setDragging([w[0],!0]);let T=this.handleMousePos(o.clientX,o.clientY),L=x?T.y:T.x;if(this._adapter.isEventFromHandle(o)){let v=this._getHandleCenterPosition(x,o.target);this._dragOffset=L-v,L=v}else this._dragOffset=0;return!0},this.onHandleMove=o=>{this._adapter.setEventDefault(o);let{disabled:v,chooseMovePos:_}=this._adapter.getStates(),{vertical:x}=this._adapter.getProps(),{dragging:w}=this._adapter.getOverallVars();if(v)return!1;this.onHandleEnter(_);let T=this.handleMousePos(o.clientX,o.clientY),L=x?T.y:T.x;if(L-=this._dragOffset,"min"===_&&w[0]||"max"===_&&w[1]){let o=this.calculateOutputValue(L,"min"===_);if(void 0===o)return!1;this._adapter.notifyChange(o),this._adapter.onHandleMove(L,"min"===_,void 0,!1,o)}return!0},this.onHandleTouchStart=(o,v)=>{let _=this._adapter.getMinHandleEl(),x=this._adapter.getMaxHandleEl();if(o.target===_||o.target===x){handlePrevent(o);let _=touchPolyfill(o.touches[0],o);this.onHandleDown(_,v)}},this.onHandleTouchMove=o=>{let v=this._adapter.getMinHandleEl(),_=this._adapter.getMaxHandleEl();if(o.target===v||o.target===_){let v=touchPolyfill(o.touches[0],o);this.onHandleMove(v)}},this.onHandleEnter=o=>{let{disabled:v,focusPos:_}=this._adapter.getStates();v||_||o===_||this._adapter.onHandleEnter(o)},this.onHandleLeave=()=>{let o=this._adapter.getState("disabled");o||this._adapter.onHandleLeave()},this.onHandleUp=o=>{this._adapter.onHandleUpBefore(o);let{disabled:v,chooseMovePos:_}=this._adapter.getStates(),{dragging:x}=this._adapter.getOverallVars();return!v&&("min"===_?this._adapter.setDragging([!1,x[1]]):this._adapter.setDragging([x[0],!1]),this._adapter.setStateVal("isDrag",!1),this._adapter.onHandleLeave(),this._adapter.onHandleUpAfter(),!0)},this._handleValueDecreaseWithKeyBoard=(o,v)=>{let{min:_,currentValue:x}=this.getStates(),{range:w}=this.getProps();if("min"===v){if(w){let v=x[0]-o;return[v=v<_?_:v,x[1]]}{let v=x-o;return v<_?_:v}}{let v=x[1]-o;return v=v<x[0]?x[0]:v,[x[0],v]}},this._handleValueIncreaseWithKeyBoard=(o,v)=>{let{max:_,currentValue:x}=this.getStates(),{range:w}=this.getProps();if("min"===v){if(w){let v=x[0]+o;return[v=v>x[1]?x[1]:v,x[1]]}{let v=x+o;return v>_?_:v}}{let v=x[1]+o;return v=v>_?_:v,[x[0],v]}},this._handleHomeKey=o=>{let{min:v,currentValue:_}=this.getStates(),{range:x}=this.getProps();return"min"!==o?[_[0],_[0]]:x?[v,_[1]]:v},this._handleEndKey=o=>{let{max:v,currentValue:_}=this.getStates(),{range:x}=this.getProps();return"min"!==o?[_[0],v]:x?[_[1],_[1]]:v},this.handleKeyDown=(o,v)=>{let _;let{min:x,max:w,currentValue:T}=this.getStates(),{step:L,range:N}=this.getProps();switch(o.key){case"ArrowLeft":case"ArrowDown":_=this._handleValueDecreaseWithKeyBoard(L,v);break;case"ArrowRight":case"ArrowUp":_=this._handleValueIncreaseWithKeyBoard(L,v);break;case"PageUp":_=this._handleValueIncreaseWithKeyBoard(10*L,v);break;case"PageDown":_=this._handleValueDecreaseWithKeyBoard(10*L,v);break;case"Home":_=this._handleHomeKey(v);break;case"End":_=this._handleEndKey(v)}["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","PageUp","PageDown","Home","End"].includes(o.key)&&((Array.isArray(T)?T[0]===_[0]&&T[1]===_[1]:T===_)||(this._adapter.updateCurrentValue(_),this._adapter.notifyChange(_)),handlePrevent(o))},this.onFocus=(o,v)=>{handlePrevent(o);let{target:_}=o;try{_.matches(":focus-visible")&&("min"===v?this._adapter.setStateVal("firstDotFocusVisible",!0):this._adapter.setStateVal("secondDotFocusVisible",!0))}catch(o){warning(!0,"Warning: [Semi Slider] The current browser does not support the focus-visible")}},this.onBlur=(o,v)=>{let{firstDotFocusVisible:_,secondDotFocusVisible:x}=this.getStates();"min"===v?_&&this._adapter.setStateVal("firstDotFocusVisible",!1):x&&this._adapter.setStateVal("secondDotFocusVisible",!1)},this.handleWrapClick=o=>{let{disabled:v,isDrag:_}=this._adapter.getStates();if(_||v||this._adapter.isEventFromHandle(o))return;let{vertical:x}=this.getProps(),w=this.handleMousePos(o.clientX,o.clientY),T=x?w.y:w.x,L=this.checkWhichHandle(T),N=this.calculateOutputValue(T,L);void 0!==N&&(this._adapter.notifyChange(N),this._isControlledComponent()||this.setHandlePos(T,L,!0,N))},this.setHandlePos=function(o,_){let x=arguments.length>2&&void 0!==arguments[2]&&arguments[2],w=arguments.length>3?arguments[3]:void 0;v._adapter.onHandleMove(o,_,()=>v._adapter.onHandleUpAfter(),x,w)},this.checkWhichHandle=o=>{let{vertical:v,verticalReverse:_}=this.getProps(),{currentValue:x}=this._adapter.getStates(),w=this.transValueToPos(x),T=!0;return Array.isArray(w)&&(o>w[1]||Math.abs(o-w[0])>Math.abs(o-w[1]))&&(T=!1),v&&_&&(T=!T),T},this.handleWrapperEnter=()=>{this._adapter.setStateVal("showBoundary",!0)},this.handleWrapperLeave=()=>{this._adapter.setStateVal("showBoundary",!1)}}init(){this._checkCurrentValue(),this._dragOffset=0}_checkCurrentValue(){let o;let{currentValue:v,min:_,max:x}=this.getStates();Array.isArray(v)?((o=[])[0]=this._checkValidity(v[0],_,x),o[1]=this._checkValidity(v[1],_,x)):o=this._checkValidity(v,_,x),this._adapter.updateCurrentValue(o)}destroy(){this._adapter.unSubscribeEventListener()}_getHandleCenterPosition(o,v){let _=v.getBoundingClientRect(),{x,y:w}=this.handleMousePos(_.left+.5*_.width,_.top+.5*_.height);return o?w:x}};_(8955);var slider_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let ox=oS.PREFIX;function domIsInRenderTree(o){return!!o&&!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length)}let Slider=class Slider extends BaseComponent{get adapter(){var o=this;return Object.assign(Object.assign({},super.adapter),{getSliderLengths:()=>{if(this.sliderEl&&this.sliderEl.current){let o=this.sliderEl.current.getBoundingClientRect(),v={x:this.sliderEl.current.offsetLeft,y:this.sliderEl.current.offsetTop};return{sliderX:v.x,sliderY:v.y,sliderWidth:o.width,sliderHeight:o.height}}return{sliderX:0,sliderY:0,sliderWidth:0,sliderHeight:0}},getParentRect:()=>{let o=this.sliderEl&&this.sliderEl.current&&this.sliderEl.current.offsetParent;if(o)return o.getBoundingClientRect()},getScrollParentVal:()=>{let o=this.foundation.getScrollParent(this.sliderEl.current);return{scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}},isEventFromHandle:o=>{let v=[this.minHanleEl,this.maxHanleEl],_=!1;return v.forEach(v=>{if(!v)return;let x=v&&v.current,w=ti.findDOMNode(x);w&&w.contains(o.target)&&(_=!0)}),_},getOverallVars:()=>({dragging:this.dragging}),updateDisabled:o=>{this.setState({disabled:o})},transNewPropsToState(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eE();this.setState(o,v)},notifyChange:o=>this.props.onChange(o),setDragging:o=>{this.dragging=o},updateCurrentValue:o=>{let{currentValue:v}=this.state;o!==v&&this.setState({currentValue:o})},setOverallVars:(o,v)=>{this[o]=v},getMinHandleEl:()=>this.minHanleEl.current,getMaxHandleEl:()=>this.maxHanleEl.current,onHandleDown:o=>{this._addEventListener(document.body,"mousemove",this.foundation.onHandleMove,!1),this._addEventListener(window,"mouseup",this.foundation.onHandleUp,!1),this._addEventListener(document.body,"touchmove",this.foundation.onHandleTouchMove,!1)},onHandleMove:function(v,_){let x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eE(),w=arguments.length>3&&void 0!==arguments[3]&&arguments[3],T=arguments.length>4?arguments[4]:void 0,L=o.foundation.checkAndUpdateIsInRenderTreeState();if(!L)return;let{value:N}=o.props,B=T;if(void 0===B){let x=o.foundation.transPosToValue(v,_);if(!1===x)return;B=o.foundation.outPutValue(x)}let{currentValue:H}=o.state;if(!e7()(o.foundation.outPutValue(H),B)){if(!w&&o.foundation.valueFormatIsCorrect(N))return!1;o.setState({currentValue:B},x)}},setEventDefault:o=>{o.stopPropagation(),o.preventDefault()},setStateVal:(o,v)=>{this.setState({[o]:v})},checkAndUpdateIsInRenderTreeState:()=>{let o=domIsInRenderTree(this.sliderEl.current);return o!==this.state.isInRenderTree&&this.setState({isInRenderTree:o}),o},onHandleEnter:o=>{this.setState({focusPos:o})},onHandleLeave:()=>{this.setState({focusPos:""})},onHandleUpBefore:o=>{var v,_;null===(_=(v=this.props).onMouseUp)||void 0===_||_.call(v,o),o.stopPropagation(),o.preventDefault(),document.body.removeEventListener("mousemove",this.foundation.onHandleMove,!1),document.body.removeEventListener("mouseup",this.foundation.onHandleUp,!1)},onHandleUpAfter:()=>{let{currentValue:o}=this.state,v=this.foundation.outPutValue(o);this.props.onAfterChange(v)},unSubscribeEventListener:()=>{Array.from(this.eventListenerSet).forEach(o=>o())}})}componentDidMount(){this.foundation.init()}componentDidUpdate(o,v){let _=!e7()(this.props.value,o.value),x=this.props.disabled!==o.disabled;if(x&&this.foundation.handleDisabledChange(this.props.disabled),_){let o=this.props.value,v=this.state.currentValue;this.foundation.handleValueChange(v,o),this.props.onAfterChange(this.props.value)}}componentWillUnmount(){this.foundation.destroy()}render(){let{disabled:o,currentValue:v,min:_,max:x}=this.state,w=this.props,{vertical:T,verticalReverse:L,style:N,railStyle:B,range:H,className:Y}=w,Z=slider_rest(w,["vertical","verticalReverse","style","railStyle","range","className"]),X=eM()("".concat(ox,"-wrapper"),{["".concat(ox,"-disabled")]:o,["".concat(oS.VERTICAL,"-wrapper")]:T,["".concat(ox,"-reverse")]:T&&L},Y),et=eM()("".concat(ox,"-boundary"),{["".concat(ox,"-boundary-show")]:this.props.showBoundary&&this.state.showBoundary}),en=eM()({["".concat(ox)]:!T,[oS.VERTICAL]:T}),er=H?"Range: ".concat(this._getAriaValueText(v[0],0)," to ").concat(this._getAriaValueText(v[1],1)):void 0,ei=eC.createElement("div",Object.assign({className:X,style:N,ref:this.sliderEl,"aria-label":er,onMouseEnter:()=>this.foundation.handleWrapperEnter(),onMouseLeave:()=>this.foundation.handleWrapperLeave()},this.getDataAttr(Z)),eC.createElement("div",{className:"".concat(ox,"-rail"),onClick:this.foundation.handleWrapClick,style:B}),this.renderTrack(),this.renderStepDot(),eC.createElement("div",null,this.renderHandle()),this.renderLabel(),eC.createElement("div",{className:et},eC.createElement("span",{className:"".concat(ox,"-boundary-min")},_),eC.createElement("span",{className:"".concat(ox,"-boundary-max")},x)));return T?ei:eC.createElement("div",{className:en},ei)}_addEventListener(o,v,_){if(!o.addEventListener)return eE();{for(var x=arguments.length,w=Array(x>3?x-3:0),T=3;T<x;T++)w[T-3]=arguments[T];o.addEventListener(v,_,...w);let clearSelf=()=>{null==o||o.removeEventListener(v,_),Promise.resolve().then(()=>{this.eventListenerSet.delete(clearSelf)})};return this.eventListenerSet.add(clearSelf),clearSelf}}constructor(o){super(o),this.renderHandle=()=>{let{vertical:o,range:v,tooltipVisible:_,tipFormatter:x,"aria-label":w,"aria-labelledby":T,"aria-valuetext":L,getAriaValueText:N,disabled:B}=this.props,{chooseMovePos:H,isDrag:Y,isInRenderTree:Z,firstDotFocusVisible:X,secondDotFocusVisible:et}=this.state,en=o?"top":"left",er=this.foundation.getMinAndMaxPercent(this.state.currentValue),ei=er.min,ea=er.max,{tipVisible:eo,tipChildren:el}=this.foundation.computeHandleVisibleVal(_&&Z,x,v),eu=eM()(oS.HANDLE,{["".concat(oS.HANDLE,"-clicked")]:"min"===H&&Y}),ec=eM()(oS.HANDLE,{["".concat(oS.HANDLE,"-clicked")]:"max"===H&&Y}),{min:ed,max:eh,currentValue:ep}=this.state,ef={"aria-label":null!=w?w:B?"Disabled Slider":void 0,"aria-labelledby":T,"aria-disabled":B};o&&Object.assign(ef,{"aria-orientation":"vertical"});let eg=v?eC.createElement(eC.Fragment,null,eC.createElement(Tooltip,{content:el.min,position:"top",trigger:"custom",rePosKey:ei,visible:Z&&(eo.min||X),className:"".concat(oS.HANDLE,"-tooltip")},eC.createElement("span",Object.assign({ref:this.minHanleEl,className:eu,style:{[en]:"".concat(100*ei,"%"),zIndex:"min"===H?2:1},onMouseDown:o=>{this.foundation.onHandleDown(o,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:o=>{this.foundation.onHandleTouchStart(o,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onMouseUp:o=>{this.foundation.onHandleUp(o)},onKeyUp:o=>{this.foundation.onHandleUp(o)},onTouchEnd:o=>{this.foundation.onHandleUp(o)},onKeyDown:o=>{this.foundation.handleKeyDown(o,"min")},onFocus:o=>{this.foundation.onFocus(o,"min")},onBlur:o=>{this.foundation.onBlur(o,"min")},role:"slider",tabIndex:B?-1:0},ef,{"aria-valuetext":N?N(ep[0],0):L,"aria-valuenow":ep[0],"aria-valuemax":ep[1],"aria-valuemin":ed}))),eC.createElement(Tooltip,{content:el.max,position:"top",trigger:"custom",rePosKey:ea,visible:Z&&(eo.max||et),className:"".concat(oS.HANDLE,"-tooltip")},eC.createElement("span",Object.assign({ref:this.maxHanleEl,className:ec,style:{[en]:"".concat(100*ea,"%"),zIndex:"max"===H?2:1},onMouseDown:o=>{this.foundation.onHandleDown(o,"max")},onMouseEnter:()=>{this.foundation.onHandleEnter("max")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onMouseUp:o=>{this.foundation.onHandleUp(o)},onKeyUp:o=>{this.foundation.onHandleUp(o)},onTouchStart:o=>{this.foundation.onHandleTouchStart(o,"max")},onTouchEnd:o=>{this.foundation.onHandleUp(o)},onKeyDown:o=>{this.foundation.handleKeyDown(o,"max")},onFocus:o=>{this.foundation.onFocus(o,"max")},onBlur:o=>{this.foundation.onBlur(o,"max")},role:"slider",tabIndex:B?-1:0},ef,{"aria-valuetext":N?N(ep[1],1):L,"aria-valuenow":ep[1],"aria-valuemax":eh,"aria-valuemin":ep[0]})))):eC.createElement(Tooltip,{content:el.min,position:"top",trigger:"custom",rePosKey:ei,visible:Z&&(eo.min||X),className:"".concat(oS.HANDLE,"-tooltip")},eC.createElement("span",Object.assign({onMouseOver:this.foundation.checkAndUpdateIsInRenderTreeState,ref:this.minHanleEl,className:eu,style:{[en]:"".concat(100*ei,"%"),zIndex:"min"===H&&Y?2:1},onMouseDown:o=>{this.foundation.onHandleDown(o,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:o=>{this.foundation.onHandleTouchStart(o,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onMouseUp:o=>{this.foundation.onHandleUp(o)},onKeyUp:o=>{this.foundation.onHandleUp(o)},onTouchEnd:o=>{this.foundation.onHandleUp(o)},onKeyDown:o=>{this.foundation.handleKeyDown(o,"min")},onFocus:o=>{this.foundation.onFocus(o,"min")},onBlur:o=>{this.foundation.onBlur(o,"min")},role:"slider","aria-valuetext":N?N(ep,0):L,tabIndex:B?-1:0},ef,{"aria-valuenow":ep,"aria-valuemax":eh,"aria-valuemin":ed})));return eg},this.renderTrack=()=>{let{range:o,included:v,vertical:_}=this.props,x=this.foundation.getMinAndMaxPercent(this.state.currentValue),w=x.min,T=x.max,L=_?{height:o?"".concat((T-w)*100,"%"):"".concat(100*w,"%"),top:o?"".concat(100*w,"%"):0}:{width:o?"".concat((T-w)*100,"%"):"".concat(100*w,"%"),left:o?"".concat(100*w,"%"):0};return L=v?L:{},eC.createElement("div",{className:oS.TRACK,style:L,onClick:this.foundation.handleWrapClick})},this.renderStepDot=()=>{let{min:o,max:v,vertical:_,marks:x}=this.props,w=_?"top":"left",T=x&&Object.keys(x).length>0?eC.createElement("div",{className:oS.DOTS},Object.keys(x).map(_=>{let x=this.foundation.isMarkActive(Number(_)),T=eM()("".concat(ox,"-dot"),{["".concat(ox,"-dot-active")]:"active"===this.foundation.isMarkActive(Number(_))}),L=(Number(_)-o)/(v-o);return x?eC.createElement("span",{key:_,onClick:this.foundation.handleWrapClick,className:T,style:{[w]:"calc(".concat(100*L,"% - 2px)")}}):null})):null;return T},this.renderLabel=()=>{let{min:o,max:v,vertical:_,marks:x,verticalReverse:w}=this.props,T=_?"top":"left",L=x&&Object.keys(x).length>0?eC.createElement("div",{className:oS.MARKS+(_&&w?"-reverse":"")},Object.keys(x).map(L=>{let N=this.foundation.isMarkActive(Number(L)),B=(Number(L)-o)/(v-o);return N?eC.createElement("span",{key:L,className:eM()("".concat(ox,"-mark").concat(_&&w?"-reverse":"")),style:{[T]:"".concat(100*B,"%")},onClick:this.foundation.handleWrapClick},x[L]):null})):null;return L},this._getAriaValueText=(o,v)=>{let{getAriaValueText:_}=this.props;return _?_(o,v):o};let{value:v}=this.props;v||(v=this.props.defaultValue),this.state={currentValue:v||(this.props.range?[0,0]:0),min:this.props.min||0,max:this.props.max||0,focusPos:"",onChange:this.props.onChange,disabled:this.props.disabled||!1,chooseMovePos:"",isDrag:!1,clickValue:0,showBoundary:!1,isInRenderTree:!0,firstDotFocusVisible:!1,secondDotFocusVisible:!1},this.sliderEl=eC.createRef(),this.minHanleEl=eC.createRef(),this.maxHanleEl=eC.createRef(),this.dragging=[!1,!1],this.foundation=new SliderFoundation(this.adapter),this.eventListenerSet=new Set}};Slider.propTypes={defaultValue:eI().oneOfType([eI().number,eI().array]),disabled:eI().bool,included:eI().bool,marks:eI().object,max:eI().number,min:eI().number,range:eI().bool,step:eI().number,tipFormatter:eI().func,value:eI().oneOfType([eI().number,eI().array]),vertical:eI().bool,onAfterChange:eI().func,onChange:eI().func,onMouseUp:eI().func,tooltipVisible:eI().bool,style:eI().object,className:eI().string,showBoundary:eI().bool,railStyle:eI().object,verticalReverse:eI().bool,getAriaValueText:eI().func},Slider.defaultProps={disabled:!1,included:!0,max:100,min:0,range:!1,step:1,tipFormatter:o=>o,vertical:!1,showBoundary:!1,onAfterChange:o=>{},onChange:o=>{},verticalReverse:!1};var ow=_(7160),oC=_.n(ow);let parseToDate=function(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aJ.DEFAULT_FORMAT,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tD;return o instanceof Date?o:"number"!=typeof o&&isNaN(Number(o))?"string"==typeof o?parse_parse(o,v,new Date,{locale:_}):void 0!==o?new Date:void 0:new Date(rb()(o))},formatToString=function(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aJ.DEFAULT_FORMAT,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tD;return format_format(o,v,{locale:_})},hourIsDisabled=(o,v)=>{if("function"==typeof o){let _=o();if(Array.isArray(_)&&!isNullOrUndefined(v)&&_.some(o=>rb()(o)===rb()(v)))return!0}return!1},minuteIsDisabled=(o,v,_)=>{if("function"==typeof o){let x=o(v);if(Array.isArray(x)&&!isNullOrUndefined(v)&&!isNullOrUndefined(_)&&x.some(o=>rb()(o)===rb()(_)))return!0}return!1},secondIsDisabled=(o,v,_,x)=>{if("function"==typeof o){let w=o(v,_);if(Array.isArray(w)&&!isNullOrUndefined(v)&&!isNullOrUndefined(_)&&!isNullOrUndefined(x)&&w.some(o=>rb()(o)===rb()(x)))return!0}return!1},transformToArray=o=>Array.isArray(o)?[...o]:[],isTimeFormatLike=(o,v)=>{let _=!0,x="BDEGHKLMOPQRSTXYabcehimopqstuwxyz",w=RegExp(`[${x}]`,"g"),T=RegExp(`[^${x}]`,"g"),L=/[H|m|s]{1,2}/,N=v.split(T),B=v.replace(w,""),H=RegExp(`[${B}]`,"g"),Y=o.split(H);if(N.length!==Y.length)_=!1;else for(let o=0,v=Y.length;o<v;o++){let v=N[o],x=Y[o];if(L.test(v)&&x.length<v.length){_=!1;break}}return _};function getHours(o){return requiredArgs(1,arguments),toDate_toDate(o).getHours()}let TimePickerFoundation=class TimePickerFoundation extends eU{constructor(o){super(Object.assign({},o))}init(){this.initDataFromDefaultValue();let o=this._isControlledComponent("open")?this.getProp("open"):this.getProp("defaultOpen");o&&!this._isControlledComponent("open")&&this._adapter.registerClickOutSide()}getPosition(){let o=this.getProp("position"),v=this.getProp("type")||aJ.DEFAULT_TYPE,_=this.getContext("direction");return o||("rtl"===_?"bottomRight":"")||aJ.DEFAULT_POSITION[v]}isDisabledHMS(o){let{hours:v,minutes:_,seconds:x}=o,{disabledHours:w,disabledMinutes:T,disabledSeconds:L}=this.getProps(),N=!isNullOrUndefined(v)&&hourIsDisabled(w,v),B=!isNullOrUndefined(v)&&!isNullOrUndefined(_)&&minuteIsDisabled(T,v,_),H=!isNullOrUndefined(v)&&!isNullOrUndefined(_)&&!isNullOrUndefined(x)&&secondIsDisabled(L,v,_,x);return N||B||H}isValidTimeZone(o){return["string","number"].includes(typeof o)&&""!==o}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?aJ.DEFAULT_FORMAT_A:aJ.DEFAULT_FORMAT}initDataFromDefaultValue(){let o=this.getProp("defaultValue"),v=this.getProp("value"),_=this.getProp("timeZone"),x=this.getValidFormat(),{rangeSeparator:w,dateFnsLocale:T}=this.getProps();Array.isArray(v=v||o)||(v=v?[v]:[]);let L=[],N=!1;v.forEach(o=>{let v=parseToDate(o,x,T);isNaN(v.getTime())||L.push(this.isValidTimeZone(_)?utcToZonedTime(v,_):v)});let B=[!0,!1];L.map((o,v)=>{B[v]=12>getHours(o)}),L.length===v.length?v=L:(v=[]).length&&(N=!0);let H="";N||(H=v.map(o=>formatToString(o,x,T)).join(w)),this.setState({isAM:B,value:v,inputValue:H,invalid:N})}getValidFormat(o){let v=o;return isNullOrUndefined(v)&&(v=this.getDefaultFormatIfNeed()),"string"!=typeof v&&(v=aJ.DEFAULT_FORMAT),v}handlePanelChange(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_=this.getValidFormat(),x=this.getProp("dateFnsLocale"),w=this.getState("value"),T=this.getState("isAM"),L=transformToArray(w);if(T=transformToArray(T),o){let N=!!o.isAM,B=parseToDate(o.timeStampValue,_,x);L[v]=B,T[v]=N;let H=this.formatValue(L);if(this.getState("isAM")[v]!==o.isAM&&this.setState({isAM:T}),!this._isControlledComponent("value")){let o=this.validateDates(L);this.setState({isAM:T,value:L,inputValue:H,invalid:o})}this._hasChanged(L,w)&&this._notifyChange(L,H)}}refreshProps(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{value:v,timeZone:_,__prevTimeZone:x}=o,w=this.parseValue(v),T=this.validateDates(w);!T&&this.isValidTimeZone(_)&&(w=w.map(o=>utcToZonedTime(this.isValidTimeZone(x)?zonedTimeToUtc(o,x):o,_)));let L=this.formatValue(w);this.setState({value:w,invalid:T,inputValue:L})}handleFocus(o){this.getState("open")||this.handlePanelOpen(),this._adapter.notifyFocus(o)}setPanel(o){this._adapter.togglePanel(o)}destroy(){this._adapter.unregisterClickOutSide()}handlePanelOpen(){this._isControlledComponent("open")||(this._adapter.registerClickOutSide(),this.setPanel(!0)),this._adapter.notifyOpenChange(!0)}handlePanelClose(o,v){this._isControlledComponent("open")||(this._adapter.unregisterClickOutSide(),this.setPanel(!1)),this._adapter.notifyOpenChange(!1),this._adapter.notifyBlur(v)}handleVisibleChange(o){this._isControlledComponent("open")||this._adapter.togglePanel(o),this._adapter.notifyOpenChange(o)}handleInputChange(o){this._adapter.setInputValue(o);let v=this.getProp("rangeSeparator"),_=oC()(o,v),x=this.getValidFormat();if(""!==o&&_.some(o=>!isTimeFormatLike(o,x)))return;let w=this.parseInput(o),T=this.validateDates(w),L={invalid:T},N=this.getState("value"),B=transformToArray(N);T||(L.value=w,B=[...w]),this._isControlledComponent("value")||this.setState(L),this._hasChanged(B,N)&&this._notifyChange(B,o)}doValidate(o){return"string"==typeof o?this.validateStr(o):Array.isArray(o)?this.validateDates(o):void 0}validateStr(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",v=this.parseInput(o);return this.validateDates(v)}validateDates(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=o.some(o=>isNaN(Number(o)));return v||(v=o.some(o=>this.isDisabledHMS({hours:o.getHours(),minutes:o.getMinutes(),seconds:o.getSeconds()}))),v}handleInputBlur(o){let v=this.getState("invalid"),_=this.getState("inputValue"),x=this.getState("value");_?v?this.setState({inputValue:this.formatValue(x),invalid:!1}):this.setState({inputValue:this.formatValue(x)}):this.setState({inputValue:"",value:[],invalid:!1})}formatValue(o){let v=this.getValidFormat(),_=this.getProp("rangeSeparator"),x=this.getProp("dateFnsLocale"),w=o;if(w&&!Array.isArray(w)&&(w=w[w]),w&&Array.isArray(w)){let o=w.map(o=>e3()(o)?"":formatToString(o,v,x));return o.join(_)}}parseInput(o){let v=this.getValidFormat(),_=this.getProp("rangeSeparator"),x=this.getProp("dateFnsLocale");return o&&"string"==typeof o?oC()(o,_).map(o=>parseToDate(o,v,x)):[]}parseValue(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=this.getValidFormat(),_=this.getProp("dateFnsLocale"),x=o;return(Array.isArray(x)||(x=x?[x]:[]),Array.isArray(x))?x.map(o=>parseToDate(o,v,_)):[]}_notifyChange(o,v){let _=v,x=o,w=this.getProp("timeZone");if(this._adapter.isRangePicker()){let o=this.getProp("rangeSeparator");_=oC()(v,o)}else x=Array.isArray(x)?x[0]:x;if(this.isValidTimeZone(w)&&x){let o=this.getValidFormat();_=Array.isArray(x)?(x=x.map(o=>zonedTimeToUtc(o,w))).map(v=>format_format(v,o)):format_format(x=zonedTimeToUtc(x,w),o)}let T=this.getProp("onChangeWithDateFirst");T?this._adapter.notifyChange(x,_):this._adapter.notifyChange(_,x)}_hasChanged(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],_=this.getValidFormat(),x=this.getProp("dateFnsLocale");return o.length!==v.length||o.some((o,w)=>{let T=v[w];return!(isValid_isValid(o)&&isValid_isValid(T))||formatToString(o,_,x)!==formatToString(T,_,x)})}};let inputFoundation_TimePickerFoundation=class inputFoundation_TimePickerFoundation extends eU{constructor(o){super(Object.assign({},o))}init(){}destroy(){}handleFocus(o){this.storeCursor(),this._adapter.notifyFocus(o)}handleChange(o){this.storeCursor(),this._adapter.notifyChange(o)}handleBlur(o){this.clearCursor(),this._adapter.notifyBlur(o)}storeCursor(){let o=this.getCache("inputNode");if(o){let{selectionStart:v}=o;this.setCache("cursorIndex",v)}}restoreCursor(){let o=this.getCache("inputNode"),v=this.getCache("cursorIndex");o&&!isNullOrUndefined(v)&&(o.selectionStart=v,o.selectionEnd=v)}clearCursor(){this.setCache("cursorIndex",null),this.setCache("beforeStr",null),this.setCache("afterStr",null)}};var TimeInput_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let TimeInput=class TimeInput extends BaseComponent{componentDidMount(){super.componentDidMount();let{focusOnOpen:o,preventScroll:v}=this.props;if(o){let o=window.requestAnimationFrame||window.setTimeout;o(()=>{let o=this.adapter.getCache("inputNode");o&&(o.focus({preventScroll:v}),o.select())})}}componentDidUpdate(o){let{timeStampValue:v}=this.props;this.isControlled("timeStampValue")&&v!==this.state.timeStampValue&&this.foundation.restoreCursor(),this.props.value!==o.value&&this.foundation.restoreCursor()}get adapter(){var o=this;return Object.assign(Object.assign({},super.adapter),{notifyChange:function(){return o.props.onChange(...arguments)},notifyFocus:function(){return o.props.onFocus(...arguments)},notifyBlur:function(){return o.props.onBlur(...arguments)}})}getInput(){let o=this.props,{prefixCls:v,placeholder:_,inputReadOnly:x,onFocus:w,disabled:T,type:L,locale:N,localeCode:B,insetLabel:H,validateStatus:Y,value:Z,onChange:X,invalid:et,format:en,clearText:er,disabledHours:ei,disabledMinutes:ea,disabledSeconds:eo,onEsc:el,defaultOpenValue:eu,currentSelectPanel:ec,focusOnOpen:ed,timeStampValue:eh,timeZone:ep,defaultOpen:ef,dateFnsLocale:eg}=o,em=TimeInput_rest(o,["prefixCls","placeholder","inputReadOnly","onFocus","disabled","type","locale","localeCode","insetLabel","validateStatus","value","onChange","invalid","format","clearText","disabledHours","disabledMinutes","disabledSeconds","onEsc","defaultOpenValue","currentSelectPanel","focusOnOpen","timeStampValue","timeZone","defaultOpen","dateFnsLocale"]),ey=eM()("".concat(v,"-input"),{["".concat(v,"-input-invalid")]:et,["".concat(v,"-input-readonly")]:x});return eC.createElement(rs,Object.assign({},em,{hideSuffix:!0,className:ey,ref:this.setRef,value:Z,placeholder:_||N.placeholder[L],readonly:!!x,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,suffix:eC.createElement(og,{onClick:this.handleClick}),validateStatus:et?"error":Y,disabled:T,insetLabel:H}))}render(){let{prefixCls:o}=this.props;return eC.createElement("div",{className:"".concat(o,"-input-wrap")},this.getInput())}constructor(o){super(o),this.setRef=o=>this.adapter.setCache("inputNode",o),this.handleClick=o=>this.props.onClick(o),this.handleFocus=o=>this.foundation.handleFocus(o),this.handleBlur=o=>this.foundation.handleBlur(o),this.handleChange=o=>this.foundation.handleChange(o),this.foundation=new inputFoundation_TimePickerFoundation(this.adapter),this.state={}}};TimeInput.propTypes={borderless:eI().bool,format:eI().string,prefixCls:eI().string,placeholder:eI().string,clearText:eI().string,inputReadOnly:eI().bool,hourOptions:eI().array,minuteOptions:eI().array,secondOptions:eI().array,disabledHours:eI().func,disabledMinutes:eI().func,disabledSeconds:eI().func,onChange:eI().func,onFocus:eI().func,onBlur:eI().func,onEsc:eI().func,onClick:eI().func,defaultOpenValue:eI().object,currentSelectPanel:eI().string,focusOnOpen:eI().bool,timeStampValue:eI().any,locale:eI().object,localeCode:eI().string,insetLabel:eI().node,validateStatus:eI().string,preventScroll:eI().bool},TimeInput.defaultProps={borderless:!1,inputReadOnly:!1,onChange:eE(),onBlur:eE(),onFocus:eE(),onClick:eE(),disabledHours:eE(),disabledMinutes:eE(),disabledSeconds:eE(),format:aJ.DEFAULT_FORMAT};let oT={panelHeader:eI().oneOfType([eI().node,eI().string]),panelFooter:eI().oneOfType([eI().node,eI().string])},oM=[eI().string,eI().number,eI().instanceOf(Date)],oP=eI().oneOfType([...oM,eI().arrayOf(eI().string),eI().arrayOf(eI().number),eI().arrayOf(eI().instanceOf(Date))]);_(8669);var TimePicker_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let TimePicker=class TimePicker extends BaseComponent{get adapter(){var o=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:o=>{this.setState({open:o})},registerClickOutSide:()=>{this.clickOutSideHandler&&this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=o=>{let v=this.savePanelRef&&this.savePanelRef.current,_=o.target&&v&&v.contains(o.target),x=this.timePickerRef&&this.timePickerRef.current&&this.timePickerRef.current.contains(o.target);x||_||this.foundation.handlePanelClose(!0,o)},document.addEventListener("mousedown",this.clickOutSideHandler)},setInputValue:(o,v)=>this.setState({inputValue:o},v),unregisterClickOutSide:()=>{this.clickOutSideHandler&&(document.removeEventListener("mousedown",this.clickOutSideHandler),this.clickOutSideHandler=null)},notifyOpenChange:function(){return o.props.onOpenChange(...arguments)},notifyChange:(o,v)=>this.props.onChange&&this.props.onChange(o,v),notifyFocus:function(){return o.props.onFocus&&o.props.onFocus(...arguments)},notifyBlur:function(){return o.props.onBlur&&o.props.onBlur(...arguments)},isRangePicker:()=>this.props.type===aJ.TYPE_TIME_RANGE_PICKER})}static getDerivedStateFromProps(o,v){return"open"in o&&o.open!==v.open?{open:o.open}:null}componentDidUpdate(o){this.isControlled("value")&&this.props.value!==o.value?this.foundation.refreshProps(Object.assign({},this.props)):this.props.timeZone!==o.timeZone&&this.foundation.refreshProps({timeZone:this.props.timeZone,__prevTimeZone:o.timeZone,value:this.state.value})}getPanelElement(){let{prefixCls:o,type:v}=this.props,{isAM:_,value:x}=this.state,w=this.foundation.getDefaultFormatIfNeed(),T=[eC.createElement(Combobox,Object.assign({},this.props,{key:0,format:w,isAM:_[0],timeStampValue:x[0],prefixCls:"".concat(o,"-panel"),onChange:o=>this.handlePanelChange(o,0),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(0)))];v===aJ.TYPE_TIME_RANGE_PICKER&&T.push(eC.createElement(Combobox,Object.assign({},this.props,{key:1,format:w,isAM:_[1],timeStampValue:x[1],prefixCls:"".concat(o,"-panel"),onChange:o=>this.handlePanelChange(o,1),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(1))));let L=eM()({[aQ.RANGE_PANEL_LISTS]:this.adapter.isRangePicker()});return eC.createElement("div",{ref:this.savePanelRef,className:L},T.map(o=>o))}getPopupClassName(){let{use12Hours:o,prefixCls:v,popupClassName:_}=this.props,{showHour:x,showMinute:w,showSecond:T}=this.state,L=0;return x&&(L+=1),w&&(L+=1),T&&(L+=1),o&&(L+=1),eM()("".concat(v,"-panel"),_,{["".concat(v,"-panel-narrow")]:(!x||!w||!T)&&!o,[aQ.RANGE_PICKER]:this.adapter.isRangePicker()},"".concat(v,"-panel-column-").concat(L))}focus(){}blur(){}render(){let o=this.props,{prefixCls:v,placeholder:_,disabled:x,defaultValue:w,dropdownMargin:T,className:L,popupStyle:N,size:B,style:H,locale:Y,localeCode:Z,zIndex:X,getPopupContainer:et,insetLabel:en,insetLabelId:er,inputStyle:ei,showClear:ea,panelHeader:eo,panelFooter:el,rangeSeparator:eu,onOpenChange:ec,onChangeWithDateFirst:ed,popupClassName:eh,hideDisabledOptions:ep,use12Hours:ef,minuteStep:eg,hourStep:em,secondStep:ey,scrollItemProps:ev,triggerRender:e_,motion:eb,autoAdjustOverflow:eS}=o,ex=TimePicker_rest(o,["prefixCls","placeholder","disabled","defaultValue","dropdownMargin","className","popupStyle","size","style","locale","localeCode","zIndex","getPopupContainer","insetLabel","insetLabelId","inputStyle","showClear","panelHeader","panelFooter","rangeSeparator","onOpenChange","onChangeWithDateFirst","popupClassName","hideDisabledOptions","use12Hours","minuteStep","hourStep","secondStep","scrollItemProps","triggerRender","motion","autoAdjustOverflow"]),ew=this.foundation.getDefaultFormatIfNeed(),eT=this.foundation.getPosition(),eP="function"==typeof e_,{open:eI,inputValue:eD,invalid:eE,value:eO}=this.state,eA=this.getPopupClassName(),ek=eM()({["".concat(v,"-header")]:!0}),eL=eM()({["".concat(v,"-panel")]:!0,["".concat(v,"-panel-").concat(B)]:B}),eR=Object.assign(Object.assign({},ex),{disabled:x,prefixCls:v,size:B,showClear:!x&&ea,style:ei,value:eD,onFocus:this.handleFocus,insetLabel:en,insetLabelId:er,format:ew,locale:Y,localeCode:Z,invalid:eE,placeholder:_,onChange:this.handleInput,onBlur:this.handleBlur}),eN={};return eP&&(eN.onClick=this.openPanel),eC.createElement("div",Object.assign({ref:this.setTimePickerRef,className:eM()({[v]:!0},L),style:H},eN),eC.createElement(Popover,{getPopupContainer:et,zIndex:X,prefixCls:eL,contentClassName:eA,style:N,content:this.getPanelElement(),trigger:"custom",position:eT,visible:!x&&!!eI,motion:eb,margin:T,autoAdjustOverflow:eS},eP?eC.createElement(Trigger,{triggerRender:e_,disabled:x,value:eO,inputValue:eD,onChange:this.handleInput,placeholder:_,componentName:"TimePicker",componentProps:Object.assign({},this.props)}):eC.createElement("span",{className:ek},eC.createElement(TimeInput,Object.assign({},eR)))))}constructor(o){var v;super(o),v=this,this.onCurrentSelectPanelChange=o=>{this.setState({currentSelectPanel:o})},this.handlePanelChange=(o,v)=>this.foundation.handlePanelChange(o,v),this.handleInput=o=>this.foundation.handleInputChange(o),this.createPanelProps=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{panels:_,panelFooter:x,panelHeader:w,locale:T}=v.props,L={panelHeader:w,panelFooter:x};if(v.adapter.isRangePicker()){let v={0:T.begin,1:T.end};L.panelHeader=eH()(_,o,isNullOrUndefined(w)?eH()(v,o,null):Array.isArray(w)?w[o]:w),L.panelFooter=eH()(_,o,Array.isArray(x)?x[o]:x)}return L},this.handlePanelVisibleChange=o=>this.foundation.handleVisibleChange(o),this.openPanel=()=>{this.foundation.handlePanelOpen()},this.handleFocus=o=>{this.foundation.handleFocus(o)},this.handleBlur=o=>this.foundation.handleInputBlur(o),this.setTimePickerRef=o=>this.timePickerRef.current=o;let{format:_=aJ.DEFAULT_FORMAT}=o;this.state={open:o.open||o.defaultOpen||!1,value:[],inputValue:"",currentSelectPanel:0,isAM:[!0,!1],showHour:!!_.match(/HH|hh|H|h/g),showMinute:!!_.match(/mm/g),showSecond:!!_.match(/ss/g),invalid:void 0},this.foundation=new TimePickerFoundation(this.adapter),this.timePickerRef=eC.createRef(),this.savePanelRef=eC.createRef()}};TimePicker.contextType=tm,TimePicker.propTypes=Object.assign(Object.assign({"aria-labelledby":eI().string,"aria-invalid":eI().bool,"aria-errormessage":eI().string,"aria-describedby":eI().string,"aria-required":eI().bool,prefixCls:eI().string,borderless:eI().bool,clearText:eI().string,clearIcon:eI().node,value:oP,inputReadOnly:eI().bool,disabled:eI().bool,showClear:eI().bool,defaultValue:oP,open:eI().bool,defaultOpen:eI().bool,onOpenChange:eI().func,position:eI().any,getPopupContainer:eI().func,placeholder:eI().string,format:eI().string,style:eI().object,className:eI().string,popupClassName:eI().string,popupStyle:eI().object,disabledHours:eI().func,disabledMinutes:eI().func,disabledSeconds:eI().func,dropdownMargin:eI().oneOfType([eI().number,eI().object]),hideDisabledOptions:eI().bool,onChange:eI().func,use12Hours:eI().bool,hourStep:eI().number,minuteStep:eI().number,secondStep:eI().number,focusOnOpen:eI().bool,autoFocus:eI().bool,size:eI().oneOf(aJ.SIZE),panels:eI().arrayOf(eI().shape(oT)),onFocus:eI().func,onBlur:eI().func,locale:eI().object,localeCode:eI().string,dateFnsLocale:eI().object,zIndex:eI().oneOfType([eI().number,eI().string]),insetLabel:eI().node,insetLabelId:eI().string,validateStatus:eI().oneOf(aJ.STATUS),type:eI().oneOf(aJ.TYPES),rangeSeparator:eI().string,triggerRender:eI().func,timeZone:eI().oneOfType([eI().string,eI().number]),scrollItemProps:eI().object,motion:eI().oneOfType([eI().bool,eI().func,eI().object]),autoAdjustOverflow:eI().bool},oT),{inputStyle:eI().object,preventScroll:eI().bool}),TimePicker.defaultProps=Object.assign({autoAdjustOverflow:!0,borderless:!1,getPopupContainer:()=>document.body,showClear:!0,zIndex:tB.DEFAULT_Z_INDEX,rangeSeparator:aJ.DEFAULT_RANGE_SEPARATOR,onOpenChange:eE(),clearText:"clear",prefixCls:aQ.PREFIX,inputReadOnly:!1,style:{},className:"",popupClassName:"",popupStyle:{left:"0px",top:"0px"},disabledHours:()=>[],disabledMinutes:()=>[],disabledSeconds:()=>[],hideDisabledOptions:!1,onFocus:eE(),onBlur:eE(),onChange:eE(),onChangeWithDateFirst:!0,use12Hours:!1,focusOnOpen:!1,onKeyDown:eE(),size:"default",type:aJ.DEFAULT_TYPE,motion:!0},{});let LocaleTimePicker=class LocaleTimePicker extends eC.PureComponent{render(){let{type:o}=this.props;return eC.createElement(tm.Consumer,null,v=>{let{timeZone:_}=v;return eC.createElement(LocaleConsumer,{componentName:"TimePicker"},(v,x,w)=>eC.createElement(TimePicker,Object.assign({timeZone:_,placeholder:eH()(v,["placeholder",o])},this.props,{locale:v,localeCode:x,dateFnsLocale:w})))})}};LocaleTimePicker.propTypes=TimePicker.propTypes,LocaleTimePicker.defaultProps=TimePicker.defaultProps;var oI=_(1209),oD=_.n(oI);let oE={PREFIX:`${eO.T}-tree-select`,PREFIX_TREE:`${eO.T}-tree`,PREFIX_OPTION:`${eO.T}-tree-select-option`},oO={SIZE_SET:["small","large","default"],SEARCH_POSITION_DROPDOWN:"dropdown",SEARCH_POSITION_TRIGGER:"trigger",STATUS:rP};var oA=_(1674),ok=_.n(oA),oL=_(7757),oR=_.n(oL);function treeUtil_isValid(o){return!eQ()(o)&&!e3()(o)}function flattenTreeData(o,v){let _=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=[],w=!!_;function flatten(o){let T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o.map((o,L)=>{var N;let B=(N=T?T.pos:"0",`${N}-${L}`),H=o.key,Y=Object.assign(Object.assign({},rd()(o,["key","label","value","icon","disabled","isLeaf"])),{parent:T,pos:B,children:null,data:o,_innerDataTag:!0}),Z="boolean"==typeof _;return(!w||!Z&&_.has(H))&&x.push(Y),v.has(H)&&(!w||!Z&&_.has(H))?Y.children=flatten(o.children||[],Y):Y.children=[],Y})}return flatten(o),x}function traverseDataNodes(o,v){let processNode=(_,x,w)=>{var T;let L=_?_.children:o,N=_?(T=w.pos,`${T}-${x}`):"0";if(_){let o={data:Object.assign({},_),ind:x,pos:N,key:null!==_.key?_.key:N,parentPos:w.node?w.pos:null,level:Number(w.level)+1};v(o)}L&&L.forEach((o,v)=>{processNode(o,v,{node:_,pos:N,level:w?Number(w.level)+1:-1})})};processNode(null)}function convertDataToEntities(o){let v={},_={},x={};return traverseDataNodes(o,o=>{let{pos:w,key:T,parentPos:L}=o,N=Object.assign({},o),B=eH()(N,"data.value",null);null!==B&&(x[B]=T),v[w]=N,_[T]=N,N.parent=v[L],N.parent&&(N.parent.children=N.parent.children||[],N.parent.children.push(N))}),{posEntities:v,keyEntities:_,valueEntities:x}}function findKeysForValues(o,v){let _=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!treeUtil_isValid(o))return[];if(!_&&Array.isArray(o)?o=o.length?[o[0]]:[]:Array.isArray(o)||(o=[o]),e9()(v))return o;let x=[];return o.forEach(o=>{o in v?x.push(v[o]):o&&x.push(o)}),x}function findDescendantKeys(o,v){let _=!(arguments.length>2)||void 0===arguments[2]||arguments[2],x=[],findChild=o=>{if(!o)return;let{children:_}=o,w=treeUtil_isValid(_);w&&_.forEach(o=>{x.push(o.key),findChild(v[o.key])})};return o.forEach(o=>{_&&x.push(o),findChild(v[o])}),x}function findChildKeys(o,v){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],x=[];return o&&o.forEach(o=>{let w=v[o];w&&w.children&&w.children.forEach(o=>{_.length&&_.includes(o.key)||x.push(o.key)})}),x}function findSiblingKeys(o,v){let _=!(arguments.length>2)||void 0===arguments[2]||arguments[2],x=[];o.forEach(o=>{v[o]&&v[o].parent&&x.push(v[o].parent.key)});let w=findChildKeys(oR()(x),v,_?[]:o);return w}function findAncestorKeys(o,v){let _=!(arguments.length>2)||void 0===arguments[2]||arguments[2],x=[],findPar=o=>{o.parent&&(x.push(o.parent.key),findPar(o.parent))};return o.forEach(o=>{v[o]&&findPar(v[o]),_&&x.push(o)}),x}function getSortedKeyList(o,v){let _={};return o.forEach(o=>{if(!v[o])return;let{level:x}=v[o];_[x]?_[x].push(o):_[x]=[o]}),_}function calcCheckedKeys(o,v){let _=Array.isArray(o)?o:[o],x=findDescendantKeys(_,v,!0),w=new Set([...x]),T=new Set([]),L=[],N=getSortedKeyList(_,v),calcCurrLevel=o=>{let{key:_,parent:x,level:B}=o;if(!x||L.includes(_))return;let H=findSiblingKeys([_],v);L=[...L,...H];let Y=H.every(o=>w.has(o));if(Y)w.add(x.key),B-1 in N&&B?N[B-1].push(x.key):N[B-1]=[x.key];else{let o=findAncestorKeys([_],v,!1);T=new Set([...T,...o])}};for(;!e9()(N);){let o=ok()(Object.keys(N).map(o=>Number(o)));N[o].forEach(o=>calcCurrLevel(v[o])),delete N[o]}return{checkedKeys:w,halfCheckedKeys:T}}function calcExpandedKeys(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=arguments.length>1?arguments[1]:void 0,_=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(Array.isArray(o)||(o=[o]),_){let _=findAncestorKeys(o,v,!0);return new Set(_)}return new Set(o)}function calcExpandedKeysForValues(o,v,_,x){let w=findKeysForValues(o,x,_);return new Set(findAncestorKeys(w,v,!1))}function calcMotionKeys(o,v,_){let x="show",w=[...o],T=[...v];if(1!==Math.abs(w.length-T.length))return{motionType:x,motionKeys:[]};let L=[];return w.length>T.length?(x="hide",L=oD()(w,T)):L=oD()(T,w),{motionType:1===L.length?x:"show",motionKeys:1===L.length?findDescendantKeys(L,_,!1):[]}}function filter(o,v,_,x,w){if(!_)return!0;let T=_,L=null!=w?w:v;return"boolean"==typeof _&&(T=(o,v)=>{let _=o.toLowerCase();return v.toString().toLowerCase().includes(_)}),x&&(L=v[x]),T(o,L,v)}function normalizedArr(o){return Array.isArray(o)?o:[o]}function normalizeKeyList(o,v){let _=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=arguments.length>3?arguments[3]:void 0,w=[],T=new Set(o);return _?o.forEach(o=>{v[o]&&!treeUtil_isValid(v[o].children)&&w.push(o),!v[o]&&x&&w.push(o)}):o.forEach(o=>{if(!v[o]){x&&w.push(o);return}let{parent:_}=v[o];_&&T.has(_.key)||w.push(o)}),w}function getMotionKeys(o,v,_){let x=[],getChild=o=>{_[o].children&&_[o].children.forEach(o=>{let{key:_}=o;x.push(_),v.has(_)&&getChild(_)})};return getChild(o),x}function calcCheckedKeysForChecked(o,v,_,x){let w=findDescendantKeys([o],v,!0),T=v[o];_=new Set([..._,o]);let calcCurrLevel=o=>{if(!o.parent)return;let{key:w}=o,T=findSiblingKeys([w],v),L=T.every(o=>_.has(o));if(L){let v=o.parent;_.add(v.key),calcCurrLevel(v)}else{let o=findAncestorKeys([w],v,!1);x=new Set([...x,...o])}};return calcCurrLevel(T),{checkedKeys:new Set([..._,...w]),halfCheckedKeys:x}}function calcCheckedKeysForUnchecked(o,v,_,x){let w=findDescendantKeys([o],v,!0),T=v[o];w.forEach(o=>{_.has(o)&&_.delete(o),x.has(o)&&x.delete(o)});let calcCurrLevel=o=>{let w=o.parent;if(!w||!_.has(w.key)&&!x.has(w.key))return;let{key:T}=o,L=findSiblingKeys([T],v),N=L.some(o=>_.has(o)||x.has(o)),B=findAncestorKeys([T],v,!1);N?B.forEach(o=>{_.has(o)&&(_.delete(o),x.add(o))}):(_.has(w.key)&&_.delete(w.key),x.has(w.key)&&x.delete(w.key),calcCurrLevel(w))};return T&&calcCurrLevel(T),{checkedKeys:_,halfCheckedKeys:x}}function getValueOrKey(o){return Array.isArray(o)?o.map(o=>eH()(o,"value",o.key)):eH()(o,"value",o.key)}function normalizeValue(o,v){return v&&treeUtil_isValid(o)?getValueOrKey(o):o}function updateKeys(o,v){let _=[...o];return _.filter(o=>o in v)}function calcDisabledKeys(o){let v=Object.keys(o).filter(v=>o[v].data.disabled),{checkedKeys:_}=calcCheckedKeys(v,o);return _}let TreeSelectFoundation=class TreeSelectFoundation extends eU{constructor(o){super(Object.assign({},o)),this._registerClickOutsideHandler=o=>{this._adapter.registerClickOutsideHandler(o=>{this.handlerTriggerBlur(o),this.close(o)})}}init(){let{searchAutoFocus:o,searchPosition:v,filterTreeNode:_}=this.getProps(),x=v===oO.SEARCH_POSITION_TRIGGER&&_,w=o&&x;this._setDropdownWidth();let T=(this.getProp("defaultOpen")||w)&&!this._isDisabled();T&&this.open(),w&&this.handleTriggerFocus(null)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){let o;let{style:v,dropdownMatchSelectWidth:_}=this.getProps();_&&(o=v&&nr()(v.width)?v.width:v&&e0()(v.width)&&!v.width.includes("%")?v.width:this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(o))}_isMultiple(){return this.getProp("multiple")}_isAnimated(){return this.getProp("motionExpand")}_isDisabled(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getProp("disabled")||o.disabled}_isExpandControlled(){return this.getProp("expandedKeys")}_isSelectToClose(){return!this.getProp("expandAction")}_isLoadControlled(){return this.getProp("loadedKeys")}_showFilteredOnly(){let{inputValue:o}=this.getStates(),{showFilteredOnly:v}=this.getProps();return!!o&&v}findDataForValue(o){let{value:v,defaultValue:_}=this.getProps(),x=[];return v?x=Array.isArray(v)?v:[v]:_&&(x=Array.isArray(_)?_:[_]),x.find(v=>v.value===o||v.key===o)}constructDataForValue(o){let{treeNodeLabelProp:v}=this.getProps();return{key:o,[v]:o}}getDataForKeyNotInKeyEntities(o){let{onChangeWithObject:v}=this.getProps();return v?this.findDataForValue(o):this.constructDataForValue(o)}getCopyFromState(o){let v={};return normalizedArr(o).forEach(o=>{v[o]=nD()(this.getState(o))}),v}getTreeNodeProps(o){let{expandedKeys:v=new Set([]),selectedKeys:_=[],checkedKeys:x=new Set([]),halfCheckedKeys:w=new Set([]),realCheckedKeys:T=new Set([]),keyEntities:L={},filteredKeys:N=new Set([]),inputValue:B="",loadedKeys:H,loadingKeys:Y,filteredExpandedKeys:Z=new Set([]),disabledKeys:X=new Set([])}=this.getStates(),{treeNodeFilterProp:et,checkRelation:en}=this.getProps(),er=L[o];if(!er)return null;let ei=!1,ea=!1;"related"===en?(ei=x.has(o),ea=w.has(o)):"unRelated"===en&&(ei=T.has(o),ea=!1);let eo={eventKey:o,expanded:B&&!this._isExpandControlled()?Z.has(o):v.has(o),selected:_.includes(o),checked:ei,halfChecked:ea,pos:String(er?er.pos:""),level:er.level,filtered:N.has(o),keyword:B,treeNodeFilterProp:et,loading:Y.has(o)&&!H.has(o),loaded:H.has(o)};return this.getProp("disableStrictly")&&X.has(o)&&(eo.disabled=!0),eo}handleNodeLoad(o,v,_,x){let{loadData:w}=this.getProps(),{key:T}=_;return!w||o.has(T)||v.has(T)?{}:(w(_).then(()=>{let{loadedKeys:o,loadingKeys:v}=this.getCopyFromState(["loadedKeys","loadingKeys"]),w=o.add(T),L=new Set([...v]);L.delete(T),this._adapter.notifyLoad(w,_),this._isLoadControlled()||this._adapter.updateState({loadedKeys:w}),this._adapter.setState({loadingKeys:L}),x()}),{loadingKeys:v.add(T)})}focusInput(o){this._adapter.updateInputFocus(o)}_notifyMultipleChange(o,v){let{keyEntities:_}=this.getStates(),{leafOnly:x,checkRelation:w}=this.getProps(),T=[];"related"===w?T=normalizeKeyList(o,_,x,!0):"unRelated"===w&&(T=o);let L=T.map(o=>_[o]&&_[o].data.key===o?_[o].data:this.getDataForKeyNotInKeyEntities(o));if(this.getProp("onChangeWithObject"))this._adapter.notifyChangeWithObject(L,v);else{let o=getValueOrKey(L);this._adapter.notifyChange(o,L,v)}}_notifyChange(o,v){let{keyEntities:_}=this.getStates();if(this._isMultiple()&&Array.isArray(o))this._notifyMultipleChange(o,v);else{let x=e3()(o)?o:_[o].data,w=e3()(o)?o:getValueOrKey(x);this.getProp("onChangeWithObject")?this._adapter.notifyChangeWithObject(x,v):this._adapter.notifyChange(w,x,v)}}_notifyFocus(o){this._adapter.notifyFocus(o)}handleTriggerFocus(o){this._adapter.updateIsFocus(!0),this._notifyFocus(o),this._registerClickOutsideHandler(o)}_notifyBlur(o){this._adapter.notifyBlur(o)}handlerTriggerBlur(o){this._adapter.updateIsFocus(!1),this._notifyBlur(o),this._adapter.unregisterClickOutsideHandler()}toggleHoverState(o){this._adapter.toggleHovering(o)}open(){this._adapter.openMenu(),this._setDropdownWidth()}close(o){this._adapter.closeMenu(),this.getProp("motionExpand")&&this._adapter.updateState({motionKeys:new Set([])})}handleClick(o){let v=this._isDisabled(),{isOpen:_,inputValue:x,isFocus:w}=this.getStates(),{searchPosition:T,clickTriggerToHide:L}=this.getProps();if(!v){if(w||this.handleTriggerFocus(o),_){if("trigger"===T&&x)return;L&&this.close(o)}else this.open()}}handleSelectionEnterPress(o){utils_isEnterPress(o)&&this.handleClick(o)}handleClear(o){let{searchPosition:v,filterTreeNode:_}=this.getProps(),{inputValue:x,selectedKeys:w}=this.getStates(),T=this._isMultiple(),L=this._isControlledComponent();this._notifyChange(T?[]:void 0,o),L||(this._adapter.rePositionDropdown(),this._adapter.updateState({selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([])})),_&&v===oO.SEARCH_POSITION_TRIGGER&&""!==x&&(e9()(w)?this.handleInputChange(""):this.clearInput())}handleClearEnterPress(o){utils_isEnterPress(o)&&this.handleClear(o)}removeTag(o){let{disableStrictly:v,checkRelation:_}=this.getProps(),{keyEntities:x,disabledKeys:w,realCheckedKeys:T}=this.getStates(),L=x[o]&&x[o].data.key===o?x[o].data:this.getDataForKeyNotInKeyEntities(o);if(!(L.disabled||v&&w.has(o))){if("unRelated"===_){let v=new Set(T);v.delete(o),this._notifyChange([...v],null),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:v}),this._adapter.rePositionDropdown())}else if("related"===_){let{checkedKeys:v,halfCheckedKeys:_}=this.calcCheckedKeys(o,!1);this._notifyChange([...v],null),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:v,halfCheckedKeys:_}),this._adapter.rePositionDropdown())}this._adapter.notifySelect(o,!1,L),this._adapter.rePositionDropdown()}}clearInput(){let{flattenNodes:o,expandedKeys:v,selectedKeys:_,keyEntities:x,treeData:w}=this.getStates(),T=new Set(v),L=this._isExpandControlled(),N=findAncestorKeys(_,x);N.forEach(o=>T.add(o));let B=flattenTreeData(w,T);this._adapter.updateState({expandedKeys:L?v:T,flattenNodes:L?o:B,inputValue:"",motionKeys:new Set([]),filteredKeys:new Set([]),filteredExpandedKeys:new Set(N),filteredShownKeys:new Set([])})}handleInputChange(o){this._adapter.updateInputValue(o);let{flattenNodes:v,expandedKeys:_,selectedKeys:x,keyEntities:w,treeData:T}=this.getStates(),{showFilteredOnly:L,filterTreeNode:N,treeNodeFilterProp:B}=this.getProps(),H=new Set(_),Y=[],Z=[],X=[],et=new Set([]);if(o){Z=findAncestorKeys(Y=Object.values(w).filter(v=>{let{data:_}=v;return filter(o,_,N,B)}).map(o=>o.key),w,!1);let v=findDescendantKeys(Y,w,!0);et=new Set([...v,...Z]),X=flattenTreeData(T,new Set(Z),L&&et)}else(Z=findAncestorKeys(x,w)).forEach(o=>H.add(o)),X=flattenTreeData(T,H);let en=new Set(Z);this._adapter.notifySearch(o,Array.from(en)),this._adapter.updateState({expandedKeys:this._isExpandControlled()?_:H,flattenNodes:this._isExpandControlled()?v:X,motionKeys:new Set([]),filteredKeys:new Set(Y),filteredExpandedKeys:en,filteredShownKeys:et})}handleNodeSelect(o,v){let _=this._isDisabled(v);_||(this._isMultiple()?this.handleMultipleSelect(o,v):this.handleSingleSelect(o,v))}handleSingleSelect(o,v){let{selectedKeys:_}=this.getCopyFromState("selectedKeys"),{clickToHide:x}=this.getProps(),{selected:w,eventKey:T,data:L}=v;this._adapter.notifySelect(T,!0,L),_.includes(T)||w||(_=[T],this._notifyChange(T,o),this._isControlledComponent()||this._adapter.updateState({selectedKeys:_})),x&&(this._isSelectToClose()||!L.children)&&(this.close(o),this.handlerTriggerBlur(o))}calcCheckedKeys(o,v){let{keyEntities:_}=this.getStates(),{checkedKeys:x,halfCheckedKeys:w}=this.getCopyFromState(["checkedKeys","halfCheckedKeys"]);return v?calcCheckedKeysForChecked(o,_,x,w):calcCheckedKeysForUnchecked(o,_,x,w)}handleMultipleSelect(o,v){let{searchPosition:_,disableStrictly:x,checkRelation:w}=this.getProps(),{inputValue:T,realCheckedKeys:L}=this.getStates(),{checked:N,eventKey:B,data:H}=v;if("related"===w){let v=x?this.calcCheckedStatus(!N,B):!N,{checkedKeys:_,halfCheckedKeys:w}=x?this.calcNonDisabledCheckedKeys(B,v):this.calcCheckedKeys(B,v);this._adapter.notifySelect(B,v,H),this._notifyChange([..._],o),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:_,halfCheckedKeys:w}),this._adapter.rePositionDropdown())}else if("unRelated"===w){let v;let _=new Set(L);L.has(B)?(_.delete(B),v=!1):(_.add(B),v=!0),this._adapter.notifySelect(B,v,H),this._notifyChange([..._],o),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:_}),this._adapter.rePositionDropdown())}_===oO.SEARCH_POSITION_TRIGGER&&""!==T&&this._adapter.updateState({inputValue:""})}calcNonDisabledCheckedKeys(o,v){let{keyEntities:_,disabledKeys:x}=this.getStates(),{checkedKeys:w}=this.getCopyFromState(["checkedKeys"]),T=normalizeKeyList(findDescendantKeys([o],_,!1),_,!0),L=T.some(o=>x.has(o));if(!L)return this.calcCheckedKeys(o,v);let N=T.filter(o=>!x.has(o)),B=v?[...N,...w]:oD()(normalizeKeyList([...w],_,!0),N);return calcCheckedKeys(B,_)}calcCheckedStatus(o,v){if(!o)return o;let{checkedKeys:_,keyEntities:x,disabledKeys:w}=this.getStates(),T=normalizeKeyList(findDescendantKeys([v],x,!1),x,!0),L=T.some(o=>w.has(o));if(!L)return o;let N=T.filter(o=>!w.has(o)),B=N.every(o=>_.has(o));return!B}handleNodeExpandInSearch(o,v){let{treeData:_,filteredShownKeys:x,keyEntities:w}=this.getStates(),T=this._showFilteredOnly(),{filteredExpandedKeys:L}=this.getCopyFromState("filteredExpandedKeys"),N="show",{eventKey:B,expanded:H,data:Y}=v;if(H?L.has(B)&&(L.delete(B),N="hide"):L.add(B),this._adapter.cacheFlattenNodes("hide"===N&&this._isAnimated()),!this._isExpandControlled()){let o=flattenTreeData(_,L,T&&x),v=this._isAnimated()?getMotionKeys(B,L,w):[],H={filteredExpandedKeys:L,flattenNodes:o,motionKeys:new Set(v),motionType:N};this._adapter.updateState(H)}this._adapter.notifyExpand(L,{expanded:!H,node:Y})}handleNodeExpand(o,v){let{loadData:_}=this.getProps(),{inputValue:x,keyEntities:w}=this.getStates();if(!_&&(!v.children||!v.children.length))return;let T=this._isExpandControlled();if(x&&!T){this.handleNodeExpandInSearch(o,v);return}let{treeData:L}=this.getStates(),{expandedKeys:N}=this.getCopyFromState("expandedKeys"),B="show",{eventKey:H,expanded:Y,data:Z}=v;if(Y?N.has(H)&&(N.delete(H),B="hide"):N.add(H),this._adapter.cacheFlattenNodes("hide"===B&&this._isAnimated()),!T){let o=flattenTreeData(L,N),v=this._isAnimated()?getMotionKeys(H,N,w):[],_={expandedKeys:N,flattenNodes:o,motionKeys:new Set(v),motionType:B};this._adapter.updateState(_)}this._adapter.notifyExpand(N,{expanded:!Y,node:Z})}getRenderTextInSingle(){let o;let{renderSelectedItem:v,treeNodeLabelProp:_}=this.getProps(),{selectedKeys:x,keyEntities:w}=this.getStates(),T=eX()(v)?v:o=>eH()(o,_,null);if(x.length){let v=x[0];o=w[v]&&w[v].data.key===v?w[v].data:this.getDataForKeyNotInKeyEntities(v)}let L=o&&_ in o?T(o):null;return L}handleInputTriggerBlur(){this._adapter.updateState({inputTriggerFocus:!1})}handleInputTriggerFocus(){this.clearInput(),this._adapter.updateState({inputTriggerFocus:!0})}setLoadKeys(o,v){this._adapter.updateLoadKeys(o,v)}};_(727),_(3406);let oN={PREFIX:`${eO.T}-tree`,PREFIX_OPTION:`${eO.T}-tree-option`},oF=oN.PREFIX;let AutoSizer=class AutoSizer extends eC.PureComponent{componentDidMount(){let{height:o}=this.state;if("number"==typeof o)return}render(){let{children:o,defaultWidth:v,defaultHeight:_}=this.props,{height:x}=this.state,w=!1;return(0===x||"number"!=typeof x)&&(w=!0),eC.createElement(ReactResizeObserver,{observeParent:!0,onResize:this._onResize},eC.createElement("div",{style:{height:_,overflow:"visible"},className:"".concat(oF,"-auto-wrapper")},!w&&o({height:x,width:v})))}constructor(o){super(o),this._onResize=o=>{let v=o&&o[1]&&o[1].target;if(v){let o=eH()(v,"offsetHeight")||0,_=window.getComputedStyle(v)||{},x=parseInt(eH()(_,"paddingTop"),10)||0,w=parseInt(eH()(_,"paddingBottom"),10)||0;this.state.height!==o-x-w&&this.setState({height:o-x-w})}},this.state={height:this.props.defaultHeight||0}}};AutoSizer.propTypes={defaultHeight:eI().oneOfType([eI().number,eI().string]),defaultWidth:eI().oneOfType([eI().number,eI().string])},AutoSizer.defaultProps={defaultHeight:"100%",defaultWidth:"100%"};let oV=eC.createContext(null);function IconTreeTriangleDown_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{d:"M20.5598 9.65618L12.7546 18.6322C12.3559 19.0906 11.644 19.0906 11.2453 18.6322L3.4401 9.65618C2.8773 9.00895 3.33701 8 4.19471 8L19.8052 8C20.6629 8 21.1226 9.00895 20.5598 9.65618Z",fill:"currentColor"}))}let oB=convertIcon(IconTreeTriangleDown_SvgComponent,"tree_triangle_down");function IconFile_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C12 1.44772 11.5523 1 11 1H6C4.89543 1 4 1.89543 4 3V21C4 22.1046 4.89543 23 6 23H18C19.1046 23 20 22.1046 20 21V10C20 9.44772 19.5523 9 19 9H14C12.8954 9 12 8.10457 12 7V2ZM7 8C7 7.44772 7.44772 7 8 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H8C7.44772 9 7 8.55228 7 8ZM7 13C7 12.4477 7.44772 12 8 12H16C16.5523 12 17 12.4477 17 13C17 13.5523 16.5523 14 16 14H8C7.44772 14 7 13.5523 7 13ZM8 17C7.44772 17 7 17.4477 7 18C7 18.5523 7.44772 19 8 19H16C16.5523 19 17 18.5523 17 18C17 17.4477 16.5523 17 16 17H8ZM19.0686 7.49999H14.5C13.9477 7.49999 13.5 7.05228 13.5 6.49999V1.93136C13.5 1.21864 14.3617 0.861707 14.8657 1.36568L19.6343 6.13431C20.1383 6.63828 19.7814 7.49999 19.0686 7.49999Z",fill:"currentColor"}))}let oz=convertIcon(IconFile_SvgComponent,"file");function IconFolderOpen_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5C2 3.34315 3.34315 2 5 2H8.29844C8.75258 2 9.1932 2.15456 9.54783 2.43826L10.6783 3.34261C11.2102 3.76816 11.8711 4 12.5523 4H18C20 4 21 6 21 8H7.53361C6.62889 8 5.83683 8.60735 5.6021 9.48109L2.57151 20.7617C2.21202 20.2671 2 19.6583 2 19V5ZM22.1667 10H9.5C8.61111 10 7.82889 10.5867 7.58 11.44L4.87333 20.72C4.68667 21.36 5.16667 22 5.83333 22H18.5C19.3889 22 20.1711 21.4133 20.42 20.56L23.1267 11.28C23.3133 10.64 22.8333 10 22.1667 10Z",fill:"currentColor"}))}let oj=convertIcon(IconFolderOpen_SvgComponent,"folder_open");function IconFolder_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{d:"M5 2C3.34315 2 2 3.34315 2 5V8H22C22 6 21 4 19 4H12.5523C11.8711 4 11.2102 3.76816 10.6783 3.34261L9.54783 2.43826C9.1932 2.15456 8.75258 2 8.29844 2H5Z",fill:"currentColor"}),eC.createElement("path",{d:"M22 10H2V19C2 20.6569 3.34315 22 5 22H19C20.6569 22 22 20.6569 22 19V10Z",fill:"currentColor"}))}let oH=convertIcon(IconFolder_SvgComponent,"folder");var treeNode_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let oG=oN.PREFIX_OPTION;let TreeNode=class TreeNode extends eC.PureComponent{renderArrow(){let o=!this.isLeaf(),{loading:v,expanded:_}=this.props;return v?eC.createElement(nh,{wrapperClassName:"".concat(oG,"-spin-icon")}):o?eC.createElement(oB,{role:"button","aria-label":"".concat(_?"Expand":"Collapse"," the tree item"),className:"".concat(oG,"-expand-icon"),size:"small",onClick:this.onExpand}):eC.createElement("span",{className:"".concat(oG,"-empty-icon")})}renderCheckbox(){let{checked:o,halfChecked:v,eventKey:_}=this.props,x=this.isDisabled();return eC.createElement("div",{role:"none",onClick:this.onCheck,onKeyPress:this.handleCheckEnterPress},eC.createElement(iu,{"aria-label":"Toggle the checked state of checkbox",value:_,indeterminate:v,checked:o,disabled:!!x}))}renderIcon(){let o;let{directory:v,treeIcon:_}=this.context,{expanded:x,icon:w}=this.props,T=!this.isLeaf(),L=w||_;return(L||v)&&(o=L?w||_:T?x?eC.createElement(oj,{className:"".concat(oG,"-item-icon")}):eC.createElement(oH,{className:"".concat(oG,"-item-icon")}):eC.createElement(oz,{className:"".concat(oG,"-item-icon")})),o}renderEmptyNode(){let{emptyContent:o}=this.props,v=eM()(oG,{["".concat(oG,"-empty")]:!0});return eC.createElement("ul",{className:v},eC.createElement("li",{className:"".concat(oG,"-label ").concat(oG,"-label-empty"),"x-semi-prop":"emptyContent"},o))}render(){let o=this.props,{eventKey:v,expanded:_,selected:x,checked:w,halfChecked:T,loading:L,active:N,level:B,empty:H,filtered:Y,treeNodeFilterProp:Z,display:X,style:et}=o,en=treeNode_rest(o,["eventKey","expanded","selected","checked","halfChecked","loading","active","level","empty","filtered","treeNodeFilterProp","display","style"]);if(H)return this.renderEmptyNode();let{multiple:er,draggable:ei,renderFullLabel:ea,dragOverNodeKey:eo,dropPosition:el,labelEllipsis:eu}=this.context,ec=this.isDisabled(),ed=eo===v&&-1===el,eh=eo===v&&1===el,ep=eM()(oG,{["".concat(oG,"-level-").concat(B+1)]:!0,["".concat(oG,"-collapsed")]:!_,["".concat(oG,"-disabled")]:!!ec,["".concat(oG,"-selected")]:x,["".concat(oG,"-active")]:!er&&N,["".concat(oG,"-ellipsis")]:eu,["".concat(oG,"-drag-over")]:!ec&&eo===v&&0===el,["".concat(oG,"-draggable")]:!ec&&ei&&!ea,["".concat(oG,"-fullLabel-draggable")]:!ec&&ei&&ea,["".concat(oG,"-fullLabel-drag-over-gap-top")]:!ec&&ed&&ea,["".concat(oG,"-fullLabel-drag-over-gap-bottom")]:!ec&&eh&&ea}),ef={onClick:this.onClick,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,className:ep,onExpand:this.onExpand,data:en.data,level:B,onCheck:this.onCheck,style:et,expandIcon:this.renderArrow(),checkStatus:{checked:w,halfChecked:T},expandStatus:{expanded:_,loading:L},filtered:Y,searchWord:en.keyword},eg={onDoubleClick:this.onDoubleClick,onDragStart:ei?this.onDragStart:void 0,onDragEnter:ei?this.onDragEnter:void 0,onDragOver:ei?this.onDragOver:void 0,onDragLeave:ei?this.onDragLeave:void 0,onDrop:ei?this.onDrop:void 0,onDragEnd:ei?this.onDragEnd:void 0,draggable:!ec&&ei||void 0};if(ea){let o=ea(Object.assign({},ef));return ei?eC.cloneElement(o,Object.assign({ref:this.setRef},eg)):e9()(et)?o:eC.cloneElement(o,{style:Object.assign(Object.assign({},eH()(o,["props","style"])),et)})}let em=eM()("".concat(oG,"-label"),{["".concat(oG,"-drag-over-gap-top")]:!ec&&ed,["".concat(oG,"-drag-over-gap-bottom")]:!ec&&eh}),ey=eH()(en,["data","children","length"]),ev=e0()(en.pos)?Number(en.pos.split("-")[B+1])+1:1;return eC.createElement("li",Object.assign({className:ep,role:"treeitem","aria-disabled":ec,"aria-checked":w,"aria-selected":x,"aria-setsize":ey,"aria-posinset":ev,"aria-expanded":_,"aria-level":B+1,"data-key":v,onClick:this.onClick,onKeyPress:this.handleliEnterPress,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,ref:this.setRef,style:et},eg),this.renderArrow(),eC.createElement("span",{className:em},er?this.renderCheckbox():null,this.renderIcon(),eC.createElement("span",{className:"".concat(oG,"-label-text")},this.renderRealLabel())))}constructor(o){super(o),this.onSelect=o=>{let{onNodeSelect:v}=this.context;v(o,this.props)},this.onExpand=o=>{let{onNodeExpand:v}=this.context;o&&o.stopPropagation(),o.nativeEvent.stopImmediatePropagation(),v(o,this.props)},this.onCheck=o=>{if(this.isDisabled())return;let{onNodeCheck:v}=this.context;o.stopPropagation(),o.nativeEvent.stopImmediatePropagation(),v(o,this.props)},this.handleCheckEnterPress=o=>{utils_isEnterPress(o)&&this.onCheck(o)},this.onContextMenu=o=>{let{onNodeRightClick:v}=this.context;v(o,this.props)},this.onClick=o=>{let{expandAction:v}=this.context;if("doubleClick"===v){this.debounceSelect(o);return}this.onSelect(o),"click"===v&&this.onExpand(o)},this.handleliEnterPress=o=>{utils_isEnterPress(o)&&this.onClick(o)},this.onDoubleClick=o=>{let{expandAction:v,onNodeDoubleClick:_}=this.context;o.stopPropagation(),o.nativeEvent.stopImmediatePropagation(),eX()(_)&&_(o,this.props),"doubleClick"===v&&this.onExpand(o)},this.onDragStart=o=>{let{onNodeDragStart:v}=this.context;o.stopPropagation(),v(o,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}));try{o.dataTransfer.setData("text/plain","")}catch(o){}},this.onDragEnter=o=>{let{onNodeDragEnter:v}=this.context;o.preventDefault(),o.stopPropagation(),v(o,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragOver=o=>{let{onNodeDragOver:v}=this.context;o.preventDefault(),o.stopPropagation(),v(o,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragLeave=o=>{let{onNodeDragLeave:v}=this.context;o.stopPropagation(),v(o,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragEnd=o=>{let{onNodeDragEnd:v}=this.context;o.stopPropagation(),v(o,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDrop=o=>{let{onNodeDrop:v}=this.context;o.preventDefault(),o.stopPropagation(),v(o,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.getNodeChildren=()=>{let{children:o}=this.props;return o||[]},this.isLeaf=()=>{let{isLeaf:o,loaded:v}=this.props,{loadData:_}=this.context,x=0!==this.getNodeChildren().length;return!1!==o&&(o||!_&&!x||_&&v&&!x)},this.isDisabled=()=>{let{disabled:o}=this.props,{treeDisabled:v}=this.context;return!1!==o&&!!(v||o)},this.renderRealLabel=()=>{let{renderLabel:o}=this.context,{label:v,keyword:_,data:x,filtered:w,treeNodeFilterProp:T}=this.props;return eX()(o)?o(v,x):e0()(v)&&w&&_?getHighLightTextHTML({sourceString:v,searchWords:[_],option:{highlightTag:"span",highlightClassName:"".concat(oG,"-highlight")}}):v},this.setRef=o=>{this.refNode=o},this.state={},this.debounceSelect=on()(this.onSelect,500,{leading:!0,trailing:!1})}};TreeNode.contextType=oV,TreeNode.propTypes={expanded:eI().bool,selected:eI().bool,checked:eI().bool,halfChecked:eI().bool,active:eI().bool,disabled:eI().bool,loaded:eI().bool,loading:eI().bool,isLeaf:eI().bool,pos:eI().string,children:eI().oneOfType([eI().array,eI().object]),icon:eI().node,directory:eI().bool,keyword:eI().string,treeNodeFilterProp:eI().string,selectedKey:eI().string,motionKey:eI().oneOfType([eI().string,eI().arrayOf(eI().string)])},TreeNode.defaultProps={selectedKey:"",motionKey:""};let CollapsibleFoundation=class CollapsibleFoundation extends eU{constructor(o){super(Object.assign({},o)),this.updateDOMInRenderTree=o=>{this._adapter.setDOMInRenderTree(o)},this.updateDOMHeight=o=>{this._adapter.setDOMHeight(o)},this.updateVisible=o=>{this._adapter.setVisible(o)},this.updateIsTransitioning=o=>{this._adapter.setIsTransitioning(o)}}};let oU={PREFIX:`${eO.T}-collapsible`};_(1993);let Collapsible=class Collapsible extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:o=>{this.state.domInRenderTree!==o&&this.setState({domInRenderTree:o})},setDOMHeight:o=>{this.state.domHeight!==o&&this.setState({domHeight:o})},setVisible:o=>{this.state.visible!==o&&this.setState({visible:o})},setIsTransitioning:o=>{this.state.isTransitioning!==o&&this.setState({isTransitioning:o})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);let o=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(o),o&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentDidUpdate(o,v,_){let x=Object.keys(this.props).filter(v=>!e7()(this.props[v],o[v])),w=Object.keys(this.state).filter(o=>!e7()(this.state[o],v[o]));x.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),w.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),x.includes("isOpen")&&(this.props.isOpen||!this.props.motion)&&this.foundation.updateVisible(this.props.isOpen),this.props.motion&&o.isOpen!==this.props.isOpen&&this.foundation.updateIsTransitioning(!0)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){let o=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||0!==this.props.collapseHeight?1:0,transitionDuration:"".concat(this.props.motion&&this.state.isTransitioning?this.props.duration:0,"ms")},this.props.style),v=eM()("".concat(oU.PREFIX,"-wrapper"),{["".concat(oU.PREFIX,"-transition")]:this.props.motion&&this.state.isTransitioning},this.props.className);return eC.createElement("div",Object.assign({className:v,style:o,onTransitionEnd:()=>{var o,v;this.props.isOpen||this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),null===(v=(o=this.props).onMotionEnd)||void 0===v||v.call(o)}},this.getDataAttr(this.props)),eC.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},(this.props.keepDOM||0!==this.props.collapseHeight||this.state.visible||this.props.isOpen)&&this.props.children))}constructor(o){super(o),this.domRef=eC.createRef(),this.handleResize=o=>{let v=o[0];if(v){let o=Collapsible.getEntryInfo(v);this.foundation.updateDOMHeight(o.height),this.foundation.updateDOMInRenderTree(o.isShown)}},this.isChildrenInRenderTree=()=>!!this.domRef.current&&this.domRef.current.offsetHeight>0,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1},this.foundation=new CollapsibleFoundation(this.adapter)}};Collapsible.defaultProps={isOpen:!1,duration:250,motion:!0,keepDOM:!1,collapseHeight:0,fade:!1},Collapsible.getEntryInfo=o=>{let v;v=o.borderBoxSize?!(0===o.borderBoxSize[0].blockSize&&0===o.borderBoxSize[0].inlineSize):!(0===o.contentRect.height&&0===o.contentRect.width);let _=0;if(o.borderBoxSize)_=Math.ceil(o.borderBoxSize[0].blockSize);else{let v=o.target;_=v.clientHeight}return{isShown:v,height:_}},Collapsible.propTypes={motion:eI().bool,children:eI().node,isOpen:eI().bool,duration:eI().number,keepDOM:eI().bool,collapseHeight:eI().number,style:eI().object,className:eI().string,reCalcKey:eI().oneOfType([eI().string,eI().number])};var nodeCollapsible_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _},nodeCollapsible=function(o){let{open:v,children:_}=o,x=nodeCollapsible_rest(o,["open","children"]),[w,T]=(0,eC.useState)(o.open);return(0,eC.useEffect)(()=>{setTimeout(()=>{T(!o.open)},0)},[]),eC.createElement(Collapsible,Object.assign({},x,{isOpen:w}),_)};let getTreeNodeKey=o=>{let{data:v}=o,{key:_}=v;return _};let NodeList=class NodeList extends eC.PureComponent{static getDerivedStateFromProps(o,v){let{flattenNodes:_=[],motionKeys:x,motionType:w,flattenList:T=[]}=o,L=!e7()(v.cachedMotionKeys,x)||!e7()(v.cachedData.map(o=>o.key),_.map(o=>o.key)),N=[...x];if(!L||!N.length)return null;let B=[],H=[],Y=0;return("hide"===w&&T?T:_).forEach((o,v)=>{let _=getTreeNodeKey(o);x.has(_)?(H.push(o),_===N[0]&&(Y=v)):B.push(o)}),B.splice(Y,0,H),{transitionNodes:B,cachedData:_,cachedMotionKeys:x,cachedMotionType:w}}render(){let{flattenNodes:o,motionType:v,searchTargetIsDeep:_,renderTreeNode:x}=this.props,{transitionNodes:w}=this.state,T=w.length&&!_?w:o,L=T.map(o=>{let _=Array.isArray(o);if(_&&!o.length)return null;if(_&&o.length){let _=getTreeNodeKey(o[0]);return eC.createElement(nodeCollapsible,{open:"hide"===v,duration:200,motion:!!v,key:"motion-".concat(_),onMotionEnd:this.onMotionEnd},o.map(o=>x(o)))}return x(o)});return L}constructor(o){super(o),this.onMotionEnd=()=>{"function"==typeof this.props.onMotionEnd&&this.props.onMotionEnd(),this.setState({transitionNodes:[]})},this.state={transitionNodes:[]}}};NodeList.contextType=oV;var oW=_(501),oY=_.n(oW);function treeUtil_cloneDeep(o){return tf()(o,o=>{if(oY()(o)&&!o._innerDataTag||eC.isValidElement(o))return o})}let oK={PREFIX:`${eO.T}-tagInput`},oZ={SIZE_SET:["large","default","small"],STATUS:["success","default","error","warning"]};_(4507);var utils_getSplitedArray=(o,v)=>{let _=[];if(e0()(v)||nr()(v))_=o.split(v);else if(na()(v)){let x=v[0];_=o;for(let o=1;o<v.length;o++)_=_.split(v[o]).join(x);_=_.split(x)}else _.push(o);return _};function arrayMove(o,v,_){let x=o.slice();return x.splice(_<0?x.length+_:_,0,x.splice(v,1)[0]),x}let TagInputFoundation=class TagInputFoundation extends eU{constructor(o){super(Object.assign({},o)),this.handleInputChange=o=>{let{value:v}=o.target,{entering:_}=this.getStates();_?this._onInputChange(v,o):this._checkInputChangeValid(v)&&this._onInputChange(v,o)},this.handleInputCompositionStart=o=>{let{maxLength:v}=this.getProps();nr()(v)&&this._adapter.setEntering(!0)},this.handleInputCompositionEnd=o=>{let{value:v}=o.target,{maxLength:_,onInputExceed:x,separator:w}=this.getProps();if(!nr()(_))return;this._adapter.setEntering(!1);let T=!0,L=utils_getSplitedArray(v,w),N=0;for(;N<L.length;N++)if(L[N].length>_){T=!1,eX()(x)&&x(v);break}if(T)this._adapter.setInputValue(v);else{let o=L.slice(0,N);N<L.length&&o.push(L[N].slice(0,_)),this._adapter.setInputValue(o.join(w))}},this._checkInputChangeValid=o=>{let{maxLength:v,onInputExceed:_,separator:x}=this._adapter.getProps(),{inputValue:w}=this._adapter.getStates(),T=!0;if(nr()(v)){let L=utils_getSplitedArray(o,x),N=utils_getSplitedArray(w,x),B=Math.max(L.length,N.length);for(let x=0;x<B;x++)if(!e3()(L[x])&&(e3()(N[x])||L[x].length>N[x].length)&&L[x].length>v){T=!1,eX()(_)&&_(o);break}}return T},this.handleKeyDown=o=>{let{inputValue:v,tagsArray:_}=this._adapter.getStates(),x=o.keyCode;x===tR.ENTER&&(o.preventDefault(),""!==v&&this._handleAddTags(o));let{length:w}=_;if(x===tR.BACKSPACE&&""===v&&w>0){let o=_.slice(0,w-1),v=_[w-1];this._onRemove(o,v,w-1)}this._adapter.notifyKeyDown(o)}}_handleAddTags(o){let{separator:v,max:_,onExceed:x,allowDuplicates:w}=this._adapter.getProps(),{inputValue:T,tagsArray:L}=this._adapter.getStates(),N=utils_getSplitedArray(T,v);N=N.filter((o,v)=>!(!w&&(L.includes(o)||N.indexOf(o)!==v))&&e0()(o)&&""!==o.trim());let B=L.concat(N);nr()(_)&&B.length>_&&(eX()(x)&&x(B),B=B.slice(0,_),N=N.slice(0,_-L.length)),N.length>0&&this._onAdd(B,N),this._onInputChange("",o)}handleInputBlur(o){let{addOnBlur:v}=this._adapter.getProps();!0===v&&this._handleAddTags(o),this._adapter.setFocusing(!1),this._adapter.notifyBlur(o)}handleInputFocus(o){this._adapter.setFocusing(!0),this._adapter.notifyFocus(o)}handleClearEnterPress(o){utils_isEnterPress(o)&&this.handleClearBtn(o)}handleClearBtn(o){let{inputValue:v,tagsArray:_}=this._adapter.getStates();_.length>0&&(this._adapter.setTagsArray([]),this._adapter.notifyTagChange([])),v.length>0&&this._onInputChange("",o),o.stopPropagation()}handleTagClose(o){let{tagsArray:v}=this._adapter.getStates(),_=[...v];_.splice(o,1);let x=v[o];this._onRemove(_,x,o)}handleInputMouseEnter(){this._adapter.setHovering(!0)}handleInputMouseLeave(){this._adapter.setHovering(!1)}handleClick(o){let{disabled:v}=this.getProps();if(v)return;let _=this._adapter.getClickOutsideHandler();_||(this._adapter.setActive(!0),this._adapter.registerClickOutsideHandler(o=>this.clickOutsideCallBack()))}clickOutsideCallBack(){this._adapter.unregisterClickOutsideHandler(),this._adapter.setActive(!1)}handleClickPrefixOrSuffix(o){let{disabled:v}=this._adapter.getProps(),{isFocus:_}=this._adapter.getStates();v||_||this._adapter.toggleFocusing(!0)}handlePreventMouseDown(o){o&&eX()(o.preventDefault)&&o.preventDefault()}_onRemove(o,v,_){this._isControlledComponent()||this._adapter.setTagsArray(o),this._adapter.notifyTagChange(o),this._adapter.notifyTagRemove(v,_)}_onAdd(o,v){this._isControlledComponent()||this._adapter.setTagsArray(o),this._adapter.notifyTagChange(o),this._adapter.notifyTagAdd(v)}_onInputChange(o,v){this._adapter.setInputValue(o),this._adapter.notifyInputChange(o,v)}handleSortEnd(o){let{oldIndex:v,newIndex:_}=o,{tagsArray:x}=this.getStates(),w=arrayMove(x,v,_);this._isControlledComponent()||this._adapter.setTagsArray(w),this._adapter.notifyTagChange(w)}};function IconHandle_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{d:"M9 7C10.1046 7 11 6.10457 11 5C11 3.89543 10.1046 3 9 3C7.89543 3 7 3.89543 7 5C7 6.10457 7.89543 7 9 7Z",fill:"currentColor"}),eC.createElement("path",{d:"M9 14C10.1046 14 11 13.1046 11 12C11 10.8954 10.1046 10 9 10C7.89543 10 7 10.8954 7 12C7 13.1046 7.89543 14 9 14Z",fill:"currentColor"}),eC.createElement("path",{d:"M11 19C11 20.1046 10.1046 21 9 21C7.89543 21 7 20.1046 7 19C7 17.8954 7.89543 17 9 17C10.1046 17 11 17.8954 11 19Z",fill:"currentColor"}),eC.createElement("path",{d:"M15 7C16.1046 7 17 6.10457 17 5C17 3.89543 16.1046 3 15 3C13.8954 3 13 3.89543 13 5C13 6.10457 13.8954 7 15 7Z",fill:"currentColor"}),eC.createElement("path",{d:"M17 12C17 13.1046 16.1046 14 15 14C13.8954 14 13 13.1046 13 12C13 10.8954 13.8954 10 15 10C16.1046 10 17 10.8954 17 12Z",fill:"currentColor"}),eC.createElement("path",{d:"M15 21C16.1046 21 17 20.1046 17 19C17 17.8954 16.1046 17 15 17C13.8954 17 13 17.8954 13 19C13 20.1046 13.8954 21 15 21Z",fill:"currentColor"}))}let oq=convertIcon(IconHandle_SvgComponent,"handle");function useCombinedRefs(){for(var o=arguments.length,v=Array(o),_=0;_<o;_++)v[_]=arguments[_];return(0,eC.useMemo)(()=>o=>{v.forEach(v=>v(o))},v)}let oX="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function isWindow(o){let v=Object.prototype.toString.call(o);return"[object Window]"===v||"[object global]"===v}function isNode(o){return"nodeType"in o}function getWindow(o){var v,_;return o?isWindow(o)?o:isNode(o)&&null!=(v=null==(_=o.ownerDocument)?void 0:_.defaultView)?v:window:window}function isDocument(o){let{Document:v}=getWindow(o);return o instanceof v}function isHTMLElement(o){return!isWindow(o)&&o instanceof getWindow(o).HTMLElement}function isSVGElement(o){return o instanceof getWindow(o).SVGElement}function getOwnerDocument(o){return o?isWindow(o)?o.document:isNode(o)?isDocument(o)?o:isHTMLElement(o)?o.ownerDocument:document:document:document}let o$=oX?eC.useLayoutEffect:eC.useEffect;function useEvent(o){let v=(0,eC.useRef)(o);return o$(()=>{v.current=o}),(0,eC.useCallback)(function(){for(var o=arguments.length,_=Array(o),x=0;x<o;x++)_[x]=arguments[x];return null==v.current?void 0:v.current(..._)},[])}function useInterval(){let o=(0,eC.useRef)(null),v=(0,eC.useCallback)((v,_)=>{o.current=setInterval(v,_)},[]),_=(0,eC.useCallback)(()=>{null!==o.current&&(clearInterval(o.current),o.current=null)},[]);return[v,_]}function useLatestValue(o,v){void 0===v&&(v=[o]);let _=(0,eC.useRef)(o);return o$(()=>{_.current!==o&&(_.current=o)},v),_}function useLazyMemo(o,v){let _=(0,eC.useRef)();return(0,eC.useMemo)(()=>{let v=o(_.current);return _.current=v,v},[...v])}function useNodeRef(o){let v=useEvent(o),_=(0,eC.useRef)(null),x=(0,eC.useCallback)(o=>{o!==_.current&&(null==v||v(o,_.current)),_.current=o},[]);return[_,x]}function usePrevious(o){let v=(0,eC.useRef)();return(0,eC.useEffect)(()=>{v.current=o},[o]),v.current}let oQ={};function useUniqueId(o,v){return(0,eC.useMemo)(()=>{if(v)return v;let _=null==oQ[o]?0:oQ[o]+1;return oQ[o]=_,o+"-"+_},[o,v])}function createAdjustmentFn(o){return function(v){for(var _=arguments.length,x=Array(_>1?_-1:0),w=1;w<_;w++)x[w-1]=arguments[w];return x.reduce((v,_)=>{let x=Object.entries(_);for(let[_,w]of x){let x=v[_];null!=x&&(v[_]=x+o*w)}return v},{...v})}}let oJ=createAdjustmentFn(1),o0=createAdjustmentFn(-1);function hasViewportRelativeCoordinates(o){return"clientX"in o&&"clientY"in o}function isKeyboardEvent(o){if(!o)return!1;let{KeyboardEvent:v}=getWindow(o.target);return v&&o instanceof v}function isTouchEvent(o){if(!o)return!1;let{TouchEvent:v}=getWindow(o.target);return v&&o instanceof v}function getEventCoordinates(o){if(isTouchEvent(o)){if(o.touches&&o.touches.length){let{clientX:v,clientY:_}=o.touches[0];return{x:v,y:_}}if(o.changedTouches&&o.changedTouches.length){let{clientX:v,clientY:_}=o.changedTouches[0];return{x:v,y:_}}}return hasViewportRelativeCoordinates(o)?{x:o.clientX,y:o.clientY}:null}let o1=Object.freeze({Translate:{toString(o){if(!o)return;let{x:v,y:_}=o;return"translate3d("+(v?Math.round(v):0)+"px, "+(_?Math.round(_):0)+"px, 0)"}},Scale:{toString(o){if(!o)return;let{scaleX:v,scaleY:_}=o;return"scaleX("+v+") scaleY("+_+")"}},Transform:{toString(o){if(o)return[o1.Translate.toString(o),o1.Scale.toString(o)].join(" ")}},Transition:{toString(o){let{property:v,duration:_,easing:x}=o;return v+" "+_+"ms "+x}}}),o2="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function findFirstFocusableNode(o){return o.matches(o2)?o:o.querySelector(o2)}let o5={display:"none"};function HiddenText(o){let{id:v,value:_}=o;return eC.createElement("div",{id:v,style:o5},_)}let o3={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function LiveRegion(o){let{id:v,announcement:_}=o;return eC.createElement("div",{id:v,style:o3,role:"status","aria-live":"assertive","aria-atomic":!0},_)}function useAnnouncement(){let[o,v]=(0,eC.useState)(""),_=(0,eC.useCallback)(o=>{null!=o&&v(o)},[]);return{announce:_,announcement:o}}let o4=(0,eC.createContext)(null);function useDndMonitor(o){let v=(0,eC.useContext)(o4);(0,eC.useEffect)(()=>{if(!v)throw Error("useDndMonitor must be used within a children of <DndContext>");let _=v(o);return _},[o,v])}function useDndMonitorProvider(){let[o]=(0,eC.useState)(()=>new Set),v=(0,eC.useCallback)(v=>(o.add(v),()=>o.delete(v)),[o]),_=(0,eC.useCallback)(v=>{let{type:_,event:x}=v;o.forEach(o=>{var v;return null==(v=o[_])?void 0:v.call(o,x)})},[o]);return[_,v]}let o7={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},o6={onDragStart(o){let{active:v}=o;return"Picked up draggable item "+v.id+"."},onDragOver(o){let{active:v,over:_}=o;return _?"Draggable item "+v.id+" was moved over droppable area "+_.id+".":"Draggable item "+v.id+" is no longer over a droppable area."},onDragEnd(o){let{active:v,over:_}=o;return _?"Draggable item "+v.id+" was dropped over droppable area "+_.id:"Draggable item "+v.id+" was dropped."},onDragCancel(o){let{active:v}=o;return"Dragging was cancelled. Draggable item "+v.id+" was dropped."}};function Accessibility(o){let{announcements:v=o6,container:_,hiddenTextDescribedById:x,screenReaderInstructions:w=o7}=o,{announce:T,announcement:L}=useAnnouncement(),N=useUniqueId("DndLiveRegion"),[B,H]=(0,eC.useState)(!1);if((0,eC.useEffect)(()=>{H(!0)},[]),useDndMonitor((0,eC.useMemo)(()=>({onDragStart(o){let{active:_}=o;T(v.onDragStart({active:_}))},onDragMove(o){let{active:_,over:x}=o;v.onDragMove&&T(v.onDragMove({active:_,over:x}))},onDragOver(o){let{active:_,over:x}=o;T(v.onDragOver({active:_,over:x}))},onDragEnd(o){let{active:_,over:x}=o;T(v.onDragEnd({active:_,over:x}))},onDragCancel(o){let{active:_,over:x}=o;T(v.onDragCancel({active:_,over:x}))}}),[T,v])),!B)return null;let Y=eC.createElement(eC.Fragment,null,eC.createElement(HiddenText,{id:x,value:w.draggable}),eC.createElement(LiveRegion,{id:N,announcement:L}));return _?(0,ti.createPortal)(Y,_):Y}function core_esm_noop(){}function useSensor(o,v){return(0,eC.useMemo)(()=>({sensor:o,options:null!=v?v:{}}),[o,v])}function useSensors(){for(var o=arguments.length,v=Array(o),_=0;_<o;_++)v[_]=arguments[_];return(0,eC.useMemo)(()=>[...v].filter(o=>null!=o),[...v])}(er=ef||(ef={})).DragStart="dragStart",er.DragMove="dragMove",er.DragEnd="dragEnd",er.DragCancel="dragCancel",er.DragOver="dragOver",er.RegisterDroppable="registerDroppable",er.SetDroppableDisabled="setDroppableDisabled",er.UnregisterDroppable="unregisterDroppable";let o9=Object.freeze({x:0,y:0});function distanceBetween(o,v){return Math.sqrt(Math.pow(o.x-v.x,2)+Math.pow(o.y-v.y,2))}function getRelativeTransformOrigin(o,v){let _=getEventCoordinates(o);if(!_)return"0 0";let x={x:(_.x-v.left)/v.width*100,y:(_.y-v.top)/v.height*100};return x.x+"% "+x.y+"%"}function sortCollisionsAsc(o,v){let{data:{value:_}}=o,{data:{value:x}}=v;return _-x}function sortCollisionsDesc(o,v){let{data:{value:_}}=o,{data:{value:x}}=v;return x-_}function cornersOfRectangle(o){let{left:v,top:_,height:x,width:w}=o;return[{x:v,y:_},{x:v+w,y:_},{x:v,y:_+x},{x:v+w,y:_+x}]}function getFirstCollision(o,v){if(!o||0===o.length)return null;let[_]=o;return v?_[v]:_}function centerOfRectangle(o,v,_){return void 0===v&&(v=o.left),void 0===_&&(_=o.top),{x:v+.5*o.width,y:_+.5*o.height}}let closestCenter=o=>{let{collisionRect:v,droppableRects:_,droppableContainers:x}=o,w=centerOfRectangle(v,v.left,v.top),T=[];for(let o of x){let{id:v}=o,x=_.get(v);if(x){let _=distanceBetween(centerOfRectangle(x),w);T.push({id:v,data:{droppableContainer:o,value:_}})}}return T.sort(sortCollisionsAsc)},closestCorners=o=>{let{collisionRect:v,droppableRects:_,droppableContainers:x}=o,w=cornersOfRectangle(v),T=[];for(let o of x){let{id:v}=o,x=_.get(v);if(x){let _=cornersOfRectangle(x),L=w.reduce((o,v,x)=>o+distanceBetween(_[x],v),0),N=Number((L/4).toFixed(4));T.push({id:v,data:{droppableContainer:o,value:N}})}}return T.sort(sortCollisionsAsc)};function getIntersectionRatio(o,v){let _=Math.max(v.top,o.top),x=Math.max(v.left,o.left),w=Math.min(v.left+v.width,o.left+o.width),T=Math.min(v.top+v.height,o.top+o.height);if(x<w&&_<T){let L=v.width*v.height,N=o.width*o.height,B=(w-x)*(T-_);return Number((B/(L+N-B)).toFixed(4))}return 0}let rectIntersection=o=>{let{collisionRect:v,droppableRects:_,droppableContainers:x}=o,w=[];for(let o of x){let{id:x}=o,T=_.get(x);if(T){let _=getIntersectionRatio(T,v);_>0&&w.push({id:x,data:{droppableContainer:o,value:_}})}}return w.sort(sortCollisionsDesc)};function adjustScale(o,v,_){return{...o,scaleX:v&&_?v.width/_.width:1,scaleY:v&&_?v.height/_.height:1}}function getRectDelta(o,v){return o&&v?{x:o.left-v.left,y:o.top-v.top}:o9}function createRectAdjustmentFn(o){return function(v){for(var _=arguments.length,x=Array(_>1?_-1:0),w=1;w<_;w++)x[w-1]=arguments[w];return x.reduce((v,_)=>({...v,top:v.top+o*_.y,bottom:v.bottom+o*_.y,left:v.left+o*_.x,right:v.right+o*_.x}),{...v})}}let o8=createRectAdjustmentFn(1);function parseTransform(o){if(o.startsWith("matrix3d(")){let v=o.slice(9,-1).split(/, /);return{x:+v[12],y:+v[13],scaleX:+v[0],scaleY:+v[5]}}if(o.startsWith("matrix(")){let v=o.slice(7,-1).split(/, /);return{x:+v[4],y:+v[5],scaleX:+v[0],scaleY:+v[3]}}return null}function inverseTransform(o,v,_){let x=parseTransform(v);if(!x)return o;let{scaleX:w,scaleY:T,x:L,y:N}=x,B=o.left-L-(1-w)*parseFloat(_),H=o.top-N-(1-T)*parseFloat(_.slice(_.indexOf(" ")+1)),Y=w?o.width/w:o.width,Z=T?o.height/T:o.height;return{width:Y,height:Z,top:H,right:B+Y,bottom:H+Z,left:B}}let sn={ignoreTransform:!1};function getClientRect(o,v){void 0===v&&(v=sn);let _=o.getBoundingClientRect();if(v.ignoreTransform){let{transform:v,transformOrigin:x}=getWindow(o).getComputedStyle(o);v&&(_=inverseTransform(_,v,x))}let{top:x,left:w,width:T,height:L,bottom:N,right:B}=_;return{top:x,left:w,width:T,height:L,bottom:N,right:B}}function getTransformAgnosticClientRect(o){return getClientRect(o,{ignoreTransform:!0})}function getWindowClientRect(o){let v=o.innerWidth,_=o.innerHeight;return{top:0,left:0,right:v,bottom:_,width:v,height:_}}function isFixed(o,v){return void 0===v&&(v=getWindow(o).getComputedStyle(o)),"fixed"===v.position}function isScrollable(o,v){void 0===v&&(v=getWindow(o).getComputedStyle(o));let _=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{let x=v[o];return"string"==typeof x&&_.test(x)})}function getScrollableAncestors(o,v){let _=[];function findScrollableAncestors(x){if(null!=v&&_.length>=v||!x)return _;if(isDocument(x)&&null!=x.scrollingElement&&!_.includes(x.scrollingElement))return _.push(x.scrollingElement),_;if(!isHTMLElement(x)||isSVGElement(x)||_.includes(x))return _;let w=getWindow(o).getComputedStyle(x);return(x!==o&&isScrollable(x,w)&&_.push(x),isFixed(x,w))?_:findScrollableAncestors(x.parentNode)}return o?findScrollableAncestors(o):_}function getFirstScrollableAncestor(o){let[v]=getScrollableAncestors(o,1);return null!=v?v:null}function getScrollableElement(o){return oX&&o?isWindow(o)?o:isNode(o)?isDocument(o)||o===getOwnerDocument(o).scrollingElement?window:isHTMLElement(o)?o:null:null:null}function getScrollXCoordinate(o){return isWindow(o)?o.scrollX:o.scrollLeft}function getScrollYCoordinate(o){return isWindow(o)?o.scrollY:o.scrollTop}function getScrollCoordinates(o){return{x:getScrollXCoordinate(o),y:getScrollYCoordinate(o)}}function isDocumentScrollingElement(o){return!!oX&&!!o&&o===document.scrollingElement}function getScrollPosition(o){let v={x:0,y:0},_=isDocumentScrollingElement(o)?{height:window.innerHeight,width:window.innerWidth}:{height:o.clientHeight,width:o.clientWidth},x={x:o.scrollWidth-_.width,y:o.scrollHeight-_.height},w=o.scrollTop<=v.y,T=o.scrollLeft<=v.x,L=o.scrollTop>=x.y,N=o.scrollLeft>=x.x;return{isTop:w,isLeft:T,isBottom:L,isRight:N,maxScroll:x,minScroll:v}}(ei=eg||(eg={}))[ei.Forward=1]="Forward",ei[ei.Backward=-1]="Backward";let si={x:.2,y:.2};function getScrollDirectionAndSpeed(o,v,_,x,w){let{top:T,left:L,right:N,bottom:B}=_;void 0===x&&(x=10),void 0===w&&(w=si);let{isTop:H,isBottom:Y,isLeft:Z,isRight:X}=getScrollPosition(o),et={x:0,y:0},en={x:0,y:0},er={height:v.height*w.y,width:v.width*w.x};return!H&&T<=v.top+er.height?(et.y=eg.Backward,en.y=x*Math.abs((v.top+er.height-T)/er.height)):!Y&&B>=v.bottom-er.height&&(et.y=eg.Forward,en.y=x*Math.abs((v.bottom-er.height-B)/er.height)),!X&&N>=v.right-er.width?(et.x=eg.Forward,en.x=x*Math.abs((v.right-er.width-N)/er.width)):!Z&&L<=v.left+er.width&&(et.x=eg.Backward,en.x=x*Math.abs((v.left+er.width-L)/er.width)),{direction:et,speed:en}}function getScrollElementRect(o){if(o===document.scrollingElement){let{innerWidth:o,innerHeight:v}=window;return{top:0,left:0,right:o,bottom:v,width:o,height:v}}let{top:v,left:_,right:x,bottom:w}=o.getBoundingClientRect();return{top:v,left:_,right:x,bottom:w,width:o.clientWidth,height:o.clientHeight}}function getScrollOffsets(o){return o.reduce((o,v)=>oJ(o,getScrollCoordinates(v)),o9)}function getScrollXOffset(o){return o.reduce((o,v)=>o+getScrollXCoordinate(v),0)}function getScrollYOffset(o){return o.reduce((o,v)=>o+getScrollYCoordinate(v),0)}function scrollIntoViewIfNeeded(o,v){if(void 0===v&&(v=getClientRect),!o)return;let{top:_,left:x,bottom:w,right:T}=v(o),L=getFirstScrollableAncestor(o);L&&(w<=0||T<=0||_>=window.innerHeight||x>=window.innerWidth)&&o.scrollIntoView({block:"center",inline:"center"})}let sa=[["x",["left","right"],getScrollXOffset],["y",["top","bottom"],getScrollYOffset]];let Rect=class Rect{constructor(o,v){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let _=getScrollableAncestors(v),x=getScrollOffsets(_);for(let[v,w,T]of(this.rect={...o},this.width=o.width,this.height=o.height,sa))for(let o of w)Object.defineProperty(this,o,{get:()=>{let w=T(_),L=x[v]-w;return this.rect[o]+L},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};let Listeners=class Listeners{constructor(o){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(o=>{var v;return null==(v=this.target)?void 0:v.removeEventListener(...o)})},this.target=o}add(o,v,_){var x;null==(x=this.target)||x.addEventListener(o,v,_),this.listeners.push([o,v,_])}};function getEventListenerTarget(o){let{EventTarget:v}=getWindow(o);return o instanceof v?o:getOwnerDocument(o)}function hasExceededDistance(o,v){let _=Math.abs(o.x),x=Math.abs(o.y);return"number"==typeof v?Math.sqrt(_**2+x**2)>v:"x"in v&&"y"in v?_>v.x&&x>v.y:"x"in v?_>v.x:"y"in v&&x>v.y}function preventDefault(o){o.preventDefault()}function core_esm_stopPropagation(o){o.stopPropagation()}(ea=em||(em={})).Click="click",ea.DragStart="dragstart",ea.Keydown="keydown",ea.ContextMenu="contextmenu",ea.Resize="resize",ea.SelectionChange="selectionchange",ea.VisibilityChange="visibilitychange",(eo=ey||(ey={})).Space="Space",eo.Down="ArrowDown",eo.Right="ArrowRight",eo.Left="ArrowLeft",eo.Up="ArrowUp",eo.Esc="Escape",eo.Enter="Enter";let so={start:[ey.Space,ey.Enter],cancel:[ey.Esc],end:[ey.Space,ey.Enter]},defaultKeyboardCoordinateGetter=(o,v)=>{let{currentCoordinates:_}=v;switch(o.code){case ey.Right:return{..._,x:_.x+25};case ey.Left:return{..._,x:_.x-25};case ey.Down:return{..._,y:_.y+25};case ey.Up:return{..._,y:_.y-25}}};let KeyboardSensor=class KeyboardSensor{constructor(o){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=o;let{event:{target:v}}=o;this.props=o,this.listeners=new Listeners(getOwnerDocument(v)),this.windowListeners=new Listeners(getWindow(v)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(em.Resize,this.handleCancel),this.windowListeners.add(em.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(em.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:o,onStart:v}=this.props,_=o.node.current;_&&scrollIntoViewIfNeeded(_),v(o9)}handleKeyDown(o){if(isKeyboardEvent(o)){let{active:v,context:_,options:x}=this.props,{keyboardCodes:w=so,coordinateGetter:T=defaultKeyboardCoordinateGetter,scrollBehavior:L="smooth"}=x,{code:N}=o;if(w.end.includes(N)){this.handleEnd(o);return}if(w.cancel.includes(N)){this.handleCancel(o);return}let{collisionRect:B}=_.current,H=B?{x:B.left,y:B.top}:o9;this.referenceCoordinates||(this.referenceCoordinates=H);let Y=T(o,{active:v,context:_.current,currentCoordinates:H});if(Y){let v=o0(Y,H),x={x:0,y:0},{scrollableAncestors:w}=_.current;for(let _ of w){let w=o.code,{isTop:T,isRight:N,isLeft:B,isBottom:H,maxScroll:Z,minScroll:X}=getScrollPosition(_),et=getScrollElementRect(_),en={x:Math.min(w===ey.Right?et.right-et.width/2:et.right,Math.max(w===ey.Right?et.left:et.left+et.width/2,Y.x)),y:Math.min(w===ey.Down?et.bottom-et.height/2:et.bottom,Math.max(w===ey.Down?et.top:et.top+et.height/2,Y.y))},er=w===ey.Right&&!N||w===ey.Left&&!B,ei=w===ey.Down&&!H||w===ey.Up&&!T;if(er&&en.x!==Y.x){let o=_.scrollLeft+v.x,T=w===ey.Right&&o<=Z.x||w===ey.Left&&o>=X.x;if(T&&!v.y){_.scrollTo({left:o,behavior:L});return}T?x.x=_.scrollLeft-o:x.x=w===ey.Right?_.scrollLeft-Z.x:_.scrollLeft-X.x,x.x&&_.scrollBy({left:-x.x,behavior:L});break}if(ei&&en.y!==Y.y){let o=_.scrollTop+v.y,T=w===ey.Down&&o<=Z.y||w===ey.Up&&o>=X.y;if(T&&!v.x){_.scrollTo({top:o,behavior:L});return}T?x.y=_.scrollTop-o:x.y=w===ey.Down?_.scrollTop-Z.y:_.scrollTop-X.y,x.y&&_.scrollBy({top:-x.y,behavior:L});break}}this.handleMove(o,oJ(o0(Y,this.referenceCoordinates),x))}}}handleMove(o,v){let{onMove:_}=this.props;o.preventDefault(),_(v)}handleEnd(o){let{onEnd:v}=this.props;o.preventDefault(),this.detach(),v()}handleCancel(o){let{onCancel:v}=this.props;o.preventDefault(),this.detach(),v()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};function isDistanceConstraint(o){return!!(o&&"distance"in o)}function isDelayConstraint(o){return!!(o&&"delay"in o)}KeyboardSensor.activators=[{eventName:"onKeyDown",handler:(o,v,_)=>{let{keyboardCodes:x=so,onActivation:w}=v,{active:T}=_,{code:L}=o.nativeEvent;if(x.start.includes(L)){let v=T.activatorNode.current;return(!v||o.target===v)&&(o.preventDefault(),null==w||w({event:o.nativeEvent}),!0)}return!1}}];let AbstractPointerSensor=class AbstractPointerSensor{constructor(o,v,_){var x;void 0===_&&(_=getEventListenerTarget(o.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=o,this.events=v;let{event:w}=o,{target:T}=w;this.props=o,this.events=v,this.document=getOwnerDocument(T),this.documentListeners=new Listeners(this.document),this.listeners=new Listeners(_),this.windowListeners=new Listeners(getWindow(T)),this.initialCoordinates=null!=(x=getEventCoordinates(w))?x:o9,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:o,props:{options:{activationConstraint:v}}}=this;if(this.listeners.add(o.move.name,this.handleMove,{passive:!1}),this.listeners.add(o.end.name,this.handleEnd),this.windowListeners.add(em.Resize,this.handleCancel),this.windowListeners.add(em.DragStart,preventDefault),this.windowListeners.add(em.VisibilityChange,this.handleCancel),this.windowListeners.add(em.ContextMenu,preventDefault),this.documentListeners.add(em.Keydown,this.handleKeydown),v){if(isDistanceConstraint(v))return;if(isDelayConstraint(v)){this.timeoutId=setTimeout(this.handleStart,v.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){let{initialCoordinates:o}=this,{onStart:v}=this.props;o&&(this.activated=!0,this.documentListeners.add(em.Click,core_esm_stopPropagation,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(em.SelectionChange,this.removeTextSelection),v(o))}handleMove(o){var v;let{activated:_,initialCoordinates:x,props:w}=this,{onMove:T,options:{activationConstraint:L}}=w;if(!x)return;let N=null!=(v=getEventCoordinates(o))?v:o9,B=o0(x,N);if(!_&&L){if(isDelayConstraint(L))return hasExceededDistance(B,L.tolerance)?this.handleCancel():void 0;if(isDistanceConstraint(L))return null!=L.tolerance&&hasExceededDistance(B,L.tolerance)?this.handleCancel():hasExceededDistance(B,L.distance)?this.handleStart():void 0}o.cancelable&&o.preventDefault(),T(N)}handleEnd(){let{onEnd:o}=this.props;this.detach(),o()}handleCancel(){let{onCancel:o}=this.props;this.detach(),o()}handleKeydown(o){o.code===ey.Esc&&this.handleCancel()}removeTextSelection(){var o;null==(o=this.document.getSelection())||o.removeAllRanges()}};let ss={move:{name:"pointermove"},end:{name:"pointerup"}};let PointerSensor=class PointerSensor extends AbstractPointerSensor{constructor(o){let{event:v}=o,_=getOwnerDocument(v.target);super(o,ss,_)}};PointerSensor.activators=[{eventName:"onPointerDown",handler:(o,v)=>{let{nativeEvent:_}=o,{onActivation:x}=v;return!!_.isPrimary&&0===_.button&&(null==x||x({event:_}),!0)}}];let sl={move:{name:"mousemove"},end:{name:"mouseup"}};(el=ev||(ev={}))[el.RightClick=2]="RightClick";let MouseSensor=class MouseSensor extends AbstractPointerSensor{constructor(o){super(o,sl,getOwnerDocument(o.event.target))}};MouseSensor.activators=[{eventName:"onMouseDown",handler:(o,v)=>{let{nativeEvent:_}=o,{onActivation:x}=v;return _.button!==ev.RightClick&&(null==x||x({event:_}),!0)}}];let su={move:{name:"touchmove"},end:{name:"touchend"}};let TouchSensor=class TouchSensor extends AbstractPointerSensor{constructor(o){super(o,su)}static setup(){return window.addEventListener(su.move.name,noop,{capture:!1,passive:!1}),function(){window.removeEventListener(su.move.name,noop)};function noop(){}}};function useAutoScroller(o){let{acceleration:v,activator:_=e_.Pointer,canScroll:x,draggingRect:w,enabled:T,interval:L=5,order:N=eb.TreeOrder,pointerCoordinates:B,scrollableAncestors:H,scrollableAncestorRects:Y,delta:Z,threshold:X}=o,et=useScrollIntent({delta:Z,disabled:!T}),[en,er]=useInterval(),ei=(0,eC.useRef)({x:0,y:0}),ea=(0,eC.useRef)({x:0,y:0}),eo=(0,eC.useMemo)(()=>{switch(_){case e_.Pointer:return B?{top:B.y,bottom:B.y,left:B.x,right:B.x}:null;case e_.DraggableRect:return w}},[_,w,B]),el=(0,eC.useRef)(null),eu=(0,eC.useCallback)(()=>{let o=el.current;if(!o)return;let v=ei.current.x*ea.current.x,_=ei.current.y*ea.current.y;o.scrollBy(v,_)},[]),ec=(0,eC.useMemo)(()=>N===eb.TreeOrder?[...H].reverse():H,[N,H]);(0,eC.useEffect)(()=>{if(!T||!H.length||!eo){er();return}for(let o of ec){if((null==x?void 0:x(o))===!1)continue;let _=H.indexOf(o),w=Y[_];if(!w)continue;let{direction:T,speed:N}=getScrollDirectionAndSpeed(o,w,eo,v,X);for(let o of["x","y"])et[o][T[o]]||(N[o]=0,T[o]=0);if(N.x>0||N.y>0){er(),el.current=o,en(eu,L),ei.current=N,ea.current=T;return}}ei.current={x:0,y:0},ea.current={x:0,y:0},er()},[v,eu,x,er,T,L,JSON.stringify(eo),JSON.stringify(et),en,H,ec,Y,JSON.stringify(X)])}TouchSensor.activators=[{eventName:"onTouchStart",handler:(o,v)=>{let{nativeEvent:_}=o,{onActivation:x}=v,{touches:w}=_;return!(w.length>1)&&(null==x||x({event:_}),!0)}}],(eu=e_||(e_={}))[eu.Pointer=0]="Pointer",eu[eu.DraggableRect=1]="DraggableRect",(ec=eb||(eb={}))[ec.TreeOrder=0]="TreeOrder",ec[ec.ReversedTreeOrder=1]="ReversedTreeOrder";let sc={x:{[eg.Backward]:!1,[eg.Forward]:!1},y:{[eg.Backward]:!1,[eg.Forward]:!1}};function useScrollIntent(o){let{delta:v,disabled:_}=o,x=usePrevious(v);return useLazyMemo(o=>{if(_||!x||!o)return sc;let w={x:Math.sign(v.x-x.x),y:Math.sign(v.y-x.y)};return{x:{[eg.Backward]:o.x[eg.Backward]||-1===w.x,[eg.Forward]:o.x[eg.Forward]||1===w.x},y:{[eg.Backward]:o.y[eg.Backward]||-1===w.y,[eg.Forward]:o.y[eg.Forward]||1===w.y}}},[_,v,x])}function useCachedNode(o,v){let _=null!==v?o.get(v):void 0,x=_?_.node.current:null;return useLazyMemo(o=>{var _;return null===v?null:null!=(_=null!=x?x:o)?_:null},[x,v])}function useCombineActivators(o,v){return(0,eC.useMemo)(()=>o.reduce((o,_)=>{let{sensor:x}=_,w=x.activators.map(o=>({eventName:o.eventName,handler:v(o.handler,_)}));return[...o,...w]},[]),[o,v])}(ed=eS||(eS={}))[ed.Always=0]="Always",ed[ed.BeforeDragging=1]="BeforeDragging",ed[ed.WhileDragging=2]="WhileDragging",(ex||(ex={})).Optimized="optimized";let sd=new Map;function useDroppableMeasuring(o,v){let{dragging:_,dependencies:x,config:w}=v,[T,L]=(0,eC.useState)(null),{frequency:N,measure:B,strategy:H}=w,Y=(0,eC.useRef)(o),Z=isDisabled(),X=useLatestValue(Z),et=(0,eC.useCallback)(function(o){void 0===o&&(o=[]),X.current||L(v=>null===v?o:v.concat(o.filter(o=>!v.includes(o))))},[X]),en=(0,eC.useRef)(null),er=useLazyMemo(v=>{if(Z&&!_)return sd;if(!v||v===sd||Y.current!==o||null!=T){let v=new Map;for(let _ of o){if(!_)continue;if(T&&T.length>0&&!T.includes(_.id)&&_.rect.current){v.set(_.id,_.rect.current);continue}let o=_.node.current,x=o?new Rect(B(o),o):null;_.rect.current=x,x&&v.set(_.id,x)}return v}return v},[o,T,_,Z,B]);return(0,eC.useEffect)(()=>{Y.current=o},[o]),(0,eC.useEffect)(()=>{Z||et()},[_,Z]),(0,eC.useEffect)(()=>{T&&T.length>0&&L(null)},[JSON.stringify(T)]),(0,eC.useEffect)(()=>{Z||"number"!=typeof N||null!==en.current||(en.current=setTimeout(()=>{et(),en.current=null},N))},[N,Z,et,...x]),{droppableRects:er,measureDroppableContainers:et,measuringScheduled:null!=T};function isDisabled(){switch(H){case eS.Always:return!1;case eS.BeforeDragging:return _;default:return!_}}}function useInitialValue(o,v){return useLazyMemo(_=>o?_||("function"==typeof v?v(o):o):null,[v,o])}function useInitialRect(o,v){return useInitialValue(o,v)}function useMutationObserver(o){let{callback:v,disabled:_}=o,x=useEvent(v),w=(0,eC.useMemo)(()=>{if(_||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:o}=window;return new o(x)},[x,_]);return(0,eC.useEffect)(()=>()=>null==w?void 0:w.disconnect(),[w]),w}function useResizeObserver(o){let{callback:v,disabled:_}=o,x=useEvent(v),w=(0,eC.useMemo)(()=>{if(_||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:o}=window;return new o(x)},[_]);return(0,eC.useEffect)(()=>()=>null==w?void 0:w.disconnect(),[w]),w}function defaultMeasure(o){return new Rect(getClientRect(o),o)}function useRect(o,v,_){void 0===v&&(v=defaultMeasure);let[x,w]=(0,eC.useReducer)(reducer,null),T=useMutationObserver({callback(v){if(o)for(let _ of v){let{type:v,target:x}=_;if("childList"===v&&x instanceof HTMLElement&&x.contains(o)){w();break}}}}),L=useResizeObserver({callback:w});return o$(()=>{w(),o?(null==L||L.observe(o),null==T||T.observe(document.body,{childList:!0,subtree:!0})):(null==L||L.disconnect(),null==T||T.disconnect())},[o]),x;function reducer(x){if(!o)return null;if(!1===o.isConnected){var w;return null!=(w=null!=x?x:_)?w:null}let T=v(o);return JSON.stringify(x)===JSON.stringify(T)?x:T}}function useRectDelta(o){let v=useInitialValue(o);return getRectDelta(o,v)}let sh=[];function useScrollableAncestors(o){let v=(0,eC.useRef)(o),_=useLazyMemo(_=>o?_&&_!==sh&&o&&v.current&&o.parentNode===v.current.parentNode?_:getScrollableAncestors(o):sh,[o]);return(0,eC.useEffect)(()=>{v.current=o},[o]),_}function useScrollOffsets(o){let[v,_]=(0,eC.useState)(null),x=(0,eC.useRef)(o),w=(0,eC.useCallback)(o=>{let v=getScrollableElement(o.target);v&&_(o=>o?(o.set(v,getScrollCoordinates(v)),new Map(o)):null)},[]);return(0,eC.useEffect)(()=>{let v=x.current;if(o!==v){cleanup(v);let T=o.map(o=>{let v=getScrollableElement(o);return v?(v.addEventListener("scroll",w,{passive:!0}),[v,getScrollCoordinates(v)]):null}).filter(o=>null!=o);_(T.length?new Map(T):null),x.current=o}return()=>{cleanup(o),cleanup(v)};function cleanup(o){o.forEach(o=>{let v=getScrollableElement(o);null==v||v.removeEventListener("scroll",w)})}},[w,o]),(0,eC.useMemo)(()=>o.length?v?Array.from(v.values()).reduce((o,v)=>oJ(o,v),o9):getScrollOffsets(o):o9,[o,v])}function useScrollOffsetsDelta(o,v){void 0===v&&(v=[]);let _=(0,eC.useRef)(null);return(0,eC.useEffect)(()=>{_.current=null},v),(0,eC.useEffect)(()=>{let v=o!==o9;v&&!_.current&&(_.current=o),!v&&_.current&&(_.current=null)},[o]),_.current?o0(o,_.current):o9}function useSensorSetup(o){(0,eC.useEffect)(()=>{if(!oX)return;let v=o.map(o=>{let{sensor:v}=o;return null==v.setup?void 0:v.setup()});return()=>{for(let o of v)null==o||o()}},o.map(o=>{let{sensor:v}=o;return v}))}function useSyntheticListeners(o,v){return(0,eC.useMemo)(()=>o.reduce((o,_)=>{let{eventName:x,handler:w}=_;return o[x]=o=>{w(o,v)},o},{}),[o,v])}function useWindowRect(o){return(0,eC.useMemo)(()=>o?getWindowClientRect(o):null,[o])}let sp=[];function useRects(o,v){void 0===v&&(v=getClientRect);let[_]=o,x=useWindowRect(_?getWindow(_):null),[w,T]=(0,eC.useReducer)(reducer,sp),L=useResizeObserver({callback:T});return o.length>0&&w===sp&&T(),o$(()=>{o.length?o.forEach(o=>null==L?void 0:L.observe(o)):(null==L||L.disconnect(),T())},[o]),w;function reducer(){return o.length?o.map(o=>isDocumentScrollingElement(o)?x:new Rect(v(o),o)):sp}}function getMeasurableNode(o){if(!o)return null;if(o.children.length>1)return o;let v=o.children[0];return isHTMLElement(v)?v:o}function useDragOverlayMeasuring(o){let{measure:v}=o,[_,x]=(0,eC.useState)(null),w=(0,eC.useCallback)(o=>{for(let{target:_}of o)if(isHTMLElement(_)){x(o=>{let x=v(_);return o?{...o,width:x.width,height:x.height}:x});break}},[v]),T=useResizeObserver({callback:w}),L=(0,eC.useCallback)(o=>{let _=getMeasurableNode(o);null==T||T.disconnect(),_&&(null==T||T.observe(_)),x(_?v(_):null)},[v,T]),[N,B]=useNodeRef(L);return(0,eC.useMemo)(()=>({nodeRef:N,rect:_,setRef:B}),[_,N,B])}let sf=[{sensor:PointerSensor,options:{}},{sensor:KeyboardSensor,options:{}}],sg={current:{}},sm={draggable:{measure:getTransformAgnosticClientRect},droppable:{measure:getTransformAgnosticClientRect,strategy:eS.WhileDragging,frequency:ex.Optimized},dragOverlay:{measure:getClientRect}};let DroppableContainersMap=class DroppableContainersMap extends Map{get(o){var v;return null!=o&&null!=(v=super.get(o))?v:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(o=>{let{disabled:v}=o;return!v})}getNodeFor(o){var v,_;return null!=(v=null==(_=this.get(o))?void 0:_.node.current)?v:void 0}};let sy={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new DroppableContainersMap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:core_esm_noop},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sm,measureDroppableContainers:core_esm_noop,windowRect:null,measuringScheduled:!1},sv={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:core_esm_noop,draggableNodes:new Map,over:null,measureDroppableContainers:core_esm_noop},s_=(0,eC.createContext)(sv),sb=(0,eC.createContext)(sy);function getInitialState(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new DroppableContainersMap}}}function reducer(o,v){switch(v.type){case ef.DragStart:return{...o,draggable:{...o.draggable,initialCoordinates:v.initialCoordinates,active:v.active}};case ef.DragMove:if(!o.draggable.active)return o;return{...o,draggable:{...o.draggable,translate:{x:v.coordinates.x-o.draggable.initialCoordinates.x,y:v.coordinates.y-o.draggable.initialCoordinates.y}}};case ef.DragEnd:case ef.DragCancel:return{...o,draggable:{...o.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ef.RegisterDroppable:{let{element:_}=v,{id:x}=_,w=new DroppableContainersMap(o.droppable.containers);return w.set(x,_),{...o,droppable:{...o.droppable,containers:w}}}case ef.SetDroppableDisabled:{let{id:_,key:x,disabled:w}=v,T=o.droppable.containers.get(_);if(!T||x!==T.key)return o;let L=new DroppableContainersMap(o.droppable.containers);return L.set(_,{...T,disabled:w}),{...o,droppable:{...o.droppable,containers:L}}}case ef.UnregisterDroppable:{let{id:_,key:x}=v,w=o.droppable.containers.get(_);if(!w||x!==w.key)return o;let T=new DroppableContainersMap(o.droppable.containers);return T.delete(_),{...o,droppable:{...o.droppable,containers:T}}}default:return o}}function RestoreFocus(o){let{disabled:v}=o,{active:_,activatorEvent:x,draggableNodes:w}=(0,eC.useContext)(s_),T=usePrevious(x),L=usePrevious(null==_?void 0:_.id);return(0,eC.useEffect)(()=>{if(!v&&!x&&T&&null!=L){if(!isKeyboardEvent(T)||document.activeElement===T.target)return;let o=w.get(L);if(!o)return;let{activatorNode:v,node:_}=o;(v.current||_.current)&&requestAnimationFrame(()=>{for(let o of[v.current,_.current]){if(!o)continue;let v=findFirstFocusableNode(o);if(v){v.focus();break}}})}},[x,v,w,L,T]),null}function applyModifiers(o,v){let{transform:_,...x}=v;return null!=o&&o.length?o.reduce((o,v)=>v({transform:o,...x}),_):_}function useMeasuringConfiguration(o){return(0,eC.useMemo)(()=>({draggable:{...sm.draggable,...null==o?void 0:o.draggable},droppable:{...sm.droppable,...null==o?void 0:o.droppable},dragOverlay:{...sm.dragOverlay,...null==o?void 0:o.dragOverlay}}),[null==o?void 0:o.draggable,null==o?void 0:o.droppable,null==o?void 0:o.dragOverlay])}function useLayoutShiftScrollCompensation(o){let{activeNode:v,measure:_,initialRect:x,config:w=!0}=o,T=(0,eC.useRef)(!1),{x:L,y:N}="boolean"==typeof w?{x:w,y:w}:w;o$(()=>{let o=!L&&!N;if(o||!v){T.current=!1;return}if(T.current||!x)return;let w=null==v?void 0:v.node.current;if(!w||!1===w.isConnected)return;let B=_(w),H=getRectDelta(B,x);if(L||(H.x=0),N||(H.y=0),T.current=!0,Math.abs(H.x)>0||Math.abs(H.y)>0){let o=getFirstScrollableAncestor(w);o&&o.scrollBy({top:H.y,left:H.x})}},[v,L,N,x,_])}let sS=(0,eC.createContext)({...o9,scaleX:1,scaleY:1});(eh=ew||(ew={}))[eh.Uninitialized=0]="Uninitialized",eh[eh.Initializing=1]="Initializing",eh[eh.Initialized=2]="Initialized";let sx=(0,eC.memo)(function(o){var v,_,x,w;let{id:T,accessibility:L,autoScroll:N=!0,children:B,sensors:H=sf,collisionDetection:Y=rectIntersection,measuring:Z,modifiers:X,...et}=o,en=(0,eC.useReducer)(reducer,void 0,getInitialState),[er,ei]=en,[ea,eo]=useDndMonitorProvider(),[el,eu]=(0,eC.useState)(ew.Uninitialized),ec=el===ew.Initialized,{draggable:{active:ed,nodes:eh,translate:ep},droppable:{containers:eg}}=er,em=ed?eh.get(ed):null,ey=(0,eC.useRef)({initial:null,translated:null}),ev=(0,eC.useMemo)(()=>{var o;return null!=ed?{id:ed,data:null!=(o=null==em?void 0:em.data)?o:sg,rect:ey}:null},[ed,em]),e_=(0,eC.useRef)(null),[eb,eS]=(0,eC.useState)(null),[ex,eT]=(0,eC.useState)(null),eM=useLatestValue(et,Object.values(et)),eP=useUniqueId("DndDescribedBy",T),eI=(0,eC.useMemo)(()=>eg.getEnabled(),[eg]),eD=useMeasuringConfiguration(Z),{droppableRects:eE,measureDroppableContainers:eO,measuringScheduled:eA}=useDroppableMeasuring(eI,{dragging:ec,dependencies:[ep.x,ep.y],config:eD.droppable}),ek=useCachedNode(eh,ed),eL=(0,eC.useMemo)(()=>ex?getEventCoordinates(ex):null,[ex]),eR=getAutoScrollerOptions(),eN=useInitialRect(ek,eD.draggable.measure);useLayoutShiftScrollCompensation({activeNode:ed?eh.get(ed):null,config:eR.layoutShiftCompensation,initialRect:eN,measure:eD.draggable.measure});let eF=useRect(ek,eD.draggable.measure,eN),eV=useRect(ek?ek.parentElement:null),eB=(0,eC.useRef)({activatorEvent:null,active:null,activeNode:ek,collisionRect:null,collisions:null,droppableRects:eE,draggableNodes:eh,draggingNode:null,draggingNodeRect:null,droppableContainers:eg,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ez=eg.getNodeFor(null==(v=eB.current.over)?void 0:v.id),ej=useDragOverlayMeasuring({measure:eD.dragOverlay.measure}),eH=null!=(_=ej.nodeRef.current)?_:ek,eG=ec?null!=(x=ej.rect)?x:eF:null,eU=!!(ej.nodeRef.current&&ej.rect),eW=useRectDelta(eU?null:eF),eY=useWindowRect(eH?getWindow(eH):null),eK=useScrollableAncestors(ec?null!=ez?ez:ek:null),eZ=useRects(eK),eX=applyModifiers(X,{transform:{x:ep.x-eW.x,y:ep.y-eW.y,scaleX:1,scaleY:1},activatorEvent:ex,active:ev,activeNodeRect:eF,containerNodeRect:eV,draggingNodeRect:eG,over:eB.current.over,overlayNodeRect:ej.rect,scrollableAncestors:eK,scrollableAncestorRects:eZ,windowRect:eY}),e$=eL?oJ(eL,ep):null,eQ=useScrollOffsets(eK),eJ=useScrollOffsetsDelta(eQ),e0=useScrollOffsetsDelta(eQ,[eF]),e1=oJ(eX,eJ),e2=eG?o8(eG,eX):null,e5=ev&&e2?Y({active:ev,collisionRect:e2,droppableRects:eE,droppableContainers:eI,pointerCoordinates:e$}):null,e3=getFirstCollision(e5,"id"),[e4,e7]=(0,eC.useState)(null),e6=eU?eX:oJ(eX,e0),e9=adjustScale(e6,null!=(w=null==e4?void 0:e4.rect)?w:null,eF),e8=(0,eC.useCallback)((o,v)=>{let{sensor:_,options:x}=v;if(null==e_.current)return;let w=eh.get(e_.current);if(!w)return;let T=o.nativeEvent,L=new _({active:e_.current,activeNode:w,event:T,options:x,context:eB,onStart(o){let v=e_.current;if(null==v)return;let _=eh.get(v);if(!_)return;let{onDragStart:x}=eM.current,w={active:{id:v,data:_.data,rect:ey}};(0,ti.unstable_batchedUpdates)(()=>{null==x||x(w),eu(ew.Initializing),ei({type:ef.DragStart,initialCoordinates:o,active:v}),ea({type:"onDragStart",event:w})})},onMove(o){ei({type:ef.DragMove,coordinates:o})},onEnd:createHandler(ef.DragEnd),onCancel:createHandler(ef.DragCancel)});function createHandler(o){return async function(){let{active:v,collisions:_,over:x,scrollAdjustedTranslate:w}=eB.current,L=null;if(v&&w){let{cancelDrop:N}=eM.current;if(L={activatorEvent:T,active:v,collisions:_,delta:w,over:x},o===ef.DragEnd&&"function"==typeof N){let v=await Promise.resolve(N(L));v&&(o=ef.DragCancel)}}e_.current=null,(0,ti.unstable_batchedUpdates)(()=>{ei({type:o}),eu(ew.Uninitialized),e7(null),eS(null),eT(null);let v=o===ef.DragEnd?"onDragEnd":"onDragCancel";if(L){let o=eM.current[v];null==o||o(L),ea({type:v,event:L})}})}}(0,ti.unstable_batchedUpdates)(()=>{eS(L),eT(o.nativeEvent)})},[eh]),te=(0,eC.useCallback)((o,v)=>(_,x)=>{let w=_.nativeEvent,T=eh.get(x);if(null!==e_.current||!T||w.dndKit||w.defaultPrevented)return;let L=o(_,v.options,{active:T});!0===L&&(w.dndKit={capturedBy:v.sensor},e_.current=x,e8(_,v))},[eh,e8]),tt=useCombineActivators(H,te);useSensorSetup(H),o$(()=>{eF&&el===ew.Initializing&&eu(ew.Initialized)},[eF,el]),(0,eC.useEffect)(()=>{let{onDragMove:o}=eM.current,{active:v,activatorEvent:_,collisions:x,over:w}=eB.current;if(!v||!_)return;let T={active:v,activatorEvent:_,collisions:x,delta:{x:e1.x,y:e1.y},over:w};(0,ti.unstable_batchedUpdates)(()=>{null==o||o(T),ea({type:"onDragMove",event:T})})},[e1.x,e1.y]),(0,eC.useEffect)(()=>{let{active:o,activatorEvent:v,collisions:_,droppableContainers:x,scrollAdjustedTranslate:w}=eB.current;if(!o||null==e_.current||!v||!w)return;let{onDragOver:T}=eM.current,L=x.get(e3),N=L&&L.rect.current?{id:L.id,rect:L.rect.current,data:L.data,disabled:L.disabled}:null,B={active:o,activatorEvent:v,collisions:_,delta:{x:w.x,y:w.y},over:N};(0,ti.unstable_batchedUpdates)(()=>{e7(N),null==T||T(B),ea({type:"onDragOver",event:B})})},[e3]),o$(()=>{eB.current={activatorEvent:ex,active:ev,activeNode:ek,collisionRect:e2,collisions:e5,droppableRects:eE,draggableNodes:eh,draggingNode:eH,draggingNodeRect:eG,droppableContainers:eg,over:e4,scrollableAncestors:eK,scrollAdjustedTranslate:e1},ey.current={initial:eG,translated:e2}},[ev,ek,e5,e2,eh,eH,eG,eE,eg,e4,eK,e1]),useAutoScroller({...eR,delta:ep,draggingRect:e2,pointerCoordinates:e$,scrollableAncestors:eK,scrollableAncestorRects:eZ});let tn=(0,eC.useMemo)(()=>({active:ev,activeNode:ek,activeNodeRect:eF,activatorEvent:ex,collisions:e5,containerNodeRect:eV,dragOverlay:ej,draggableNodes:eh,droppableContainers:eg,droppableRects:eE,over:e4,measureDroppableContainers:eO,scrollableAncestors:eK,scrollableAncestorRects:eZ,measuringConfiguration:eD,measuringScheduled:eA,windowRect:eY}),[ev,ek,eF,ex,e5,eV,ej,eh,eg,eE,e4,eO,eK,eZ,eD,eA,eY]),ta=(0,eC.useMemo)(()=>({activatorEvent:ex,activators:tt,active:ev,activeNodeRect:eF,ariaDescribedById:{draggable:eP},dispatch:ei,draggableNodes:eh,over:e4,measureDroppableContainers:eO}),[ex,tt,ev,eF,ei,eP,eh,e4,eO]);return eC.createElement(o4.Provider,{value:eo},eC.createElement(s_.Provider,{value:ta},eC.createElement(sb.Provider,{value:tn},eC.createElement(sS.Provider,{value:e9},B)),eC.createElement(RestoreFocus,{disabled:(null==L?void 0:L.restoreFocus)===!1})),eC.createElement(Accessibility,{...L,hiddenTextDescribedById:eP}));function getAutoScrollerOptions(){let o=(null==eb?void 0:eb.autoScrollEnabled)===!1,v="object"==typeof N?!1===N.enabled:!1===N,_=ec&&!o&&!v;return"object"==typeof N?{...N,enabled:_}:{enabled:_}}}),sw=(0,eC.createContext)(null),sC="button";function useDraggable(o){let{id:v,data:_,disabled:x=!1,attributes:w}=o,T=useUniqueId("Droppable"),{activators:L,activatorEvent:N,active:B,activeNodeRect:H,ariaDescribedById:Y,draggableNodes:Z,over:X}=(0,eC.useContext)(s_),{role:et=sC,roleDescription:en="draggable",tabIndex:er=0}=null!=w?w:{},ei=(null==B?void 0:B.id)===v,ea=(0,eC.useContext)(ei?sS:sw),[eo,el]=useNodeRef(),[eu,ec]=useNodeRef(),ed=useSyntheticListeners(L,v),eh=useLatestValue(_);o$(()=>(Z.set(v,{id:v,key:T,node:eo,activatorNode:eu,data:eh}),()=>{let o=Z.get(v);o&&o.key===T&&Z.delete(v)}),[Z,v]);let ep=(0,eC.useMemo)(()=>({role:et,tabIndex:er,"aria-disabled":x,"aria-pressed":!!ei&&et===sC||void 0,"aria-roledescription":en,"aria-describedby":Y.draggable}),[x,et,er,ei,en,Y.draggable]);return{active:B,activatorEvent:N,activeNodeRect:H,attributes:ep,isDragging:ei,listeners:x?void 0:ed,node:eo,over:X,setNodeRef:el,setActivatorNodeRef:ec,transform:ea}}function useDndContext(){return(0,eC.useContext)(sb)}let sT={timeout:25};function useDroppable(o){let{data:v,disabled:_=!1,id:x,resizeObserverConfig:w}=o,T=useUniqueId("Droppable"),{active:L,dispatch:N,over:B,measureDroppableContainers:H}=(0,eC.useContext)(s_),Y=(0,eC.useRef)({disabled:_}),Z=(0,eC.useRef)(!1),X=(0,eC.useRef)(null),et=(0,eC.useRef)(null),{disabled:en,updateMeasurementsFor:er,timeout:ei}={...sT,...w},ea=useLatestValue(null!=er?er:x),eo=(0,eC.useCallback)(()=>{if(!Z.current){Z.current=!0;return}null!=et.current&&clearTimeout(et.current),et.current=setTimeout(()=>{H(Array.isArray(ea.current)?ea.current:[ea.current]),et.current=null},ei)},[ei]),el=useResizeObserver({callback:eo,disabled:en||!L}),eu=(0,eC.useCallback)((o,v)=>{el&&(v&&(el.unobserve(v),Z.current=!1),o&&el.observe(o))},[el]),[ec,ed]=useNodeRef(eu),eh=useLatestValue(v);return(0,eC.useEffect)(()=>{el&&ec.current&&(el.disconnect(),Z.current=!1,el.observe(ec.current))},[ec,el]),o$(()=>(N({type:ef.RegisterDroppable,element:{id:x,key:T,disabled:_,node:ec,rect:X,data:eh}}),()=>N({type:ef.UnregisterDroppable,key:T,id:x})),[x]),(0,eC.useEffect)(()=>{_!==Y.current.disabled&&(N({type:ef.SetDroppableDisabled,id:x,key:T,disabled:_}),Y.current.disabled=_)},[x,T,_,N]),{active:L,rect:X,isOver:(null==B?void 0:B.id)===x,node:ec,over:B,setNodeRef:ed}}function AnimationManager(o){let{animation:v,children:_}=o,[x,w]=(0,eC.useState)(null),[T,L]=(0,eC.useState)(null),N=usePrevious(_);return _||x||!N||w(N),o$(()=>{if(!T)return;let o=null==x?void 0:x.key,_=null==x?void 0:x.props.id;if(null==o||null==_){w(null);return}Promise.resolve(v(_,T)).then(()=>{w(null)})},[v,x,T]),eC.createElement(eC.Fragment,null,_,x?(0,eC.cloneElement)(x,{ref:L}):null)}let sM={x:0,y:0,scaleX:1,scaleY:1};function NullifiedContextProvider(o){let{children:v}=o;return eC.createElement(s_.Provider,{value:sv},eC.createElement(sS.Provider,{value:sM},v))}let sP={position:"fixed",touchAction:"none"},defaultTransition=o=>{let v=isKeyboardEvent(o);return v?"transform 250ms ease":void 0},sI=(0,eC.forwardRef)((o,v)=>{let{as:_,activatorEvent:x,adjustScale:w,children:T,className:L,rect:N,style:B,transform:H,transition:Y=defaultTransition}=o;if(!N)return null;let Z=w?H:{...H,scaleX:1,scaleY:1},X={...sP,width:N.width,height:N.height,top:N.top,left:N.left,transform:o1.Transform.toString(Z),transformOrigin:w&&x?getRelativeTransformOrigin(x,N):void 0,transition:"function"==typeof Y?Y(x):Y,...B};return eC.createElement(_,{className:L,style:X,ref:v},T)}),sD={duration:250,easing:"ease",keyframes:o=>{let{transform:{initial:v,final:_}}=o;return[{transform:o1.Transform.toString(v)},{transform:o1.Transform.toString(_)}]},sideEffects:(ep={styles:{active:{opacity:"0"}}},o=>{let{active:v,dragOverlay:_}=o,x={},{styles:w,className:T}=ep;if(null!=w&&w.active)for(let[o,_]of Object.entries(w.active))void 0!==_&&(x[o]=v.node.style.getPropertyValue(o),v.node.style.setProperty(o,_));if(null!=w&&w.dragOverlay)for(let[o,v]of Object.entries(w.dragOverlay))void 0!==v&&_.node.style.setProperty(o,v);return null!=T&&T.active&&v.node.classList.add(T.active),null!=T&&T.dragOverlay&&_.node.classList.add(T.dragOverlay),function(){for(let[o,_]of Object.entries(x))v.node.style.setProperty(o,_);null!=T&&T.active&&v.node.classList.remove(T.active)}})};function useDropAnimation(o){let{config:v,draggableNodes:_,droppableContainers:x,measuringConfiguration:w}=o;return useEvent((o,T)=>{if(null===v)return;let L=_.get(o);if(!L)return;let N=L.node.current;if(!N)return;let B=getMeasurableNode(T);if(!B)return;let{transform:H}=getWindow(T).getComputedStyle(T),Y=parseTransform(H);if(!Y)return;let Z="function"==typeof v?v:createDefaultDropAnimation(v);return scrollIntoViewIfNeeded(N,w.draggable.measure),Z({active:{id:o,data:L.data,node:N,rect:w.draggable.measure(N)},draggableNodes:_,dragOverlay:{node:T,rect:w.dragOverlay.measure(B)},droppableContainers:x,measuringConfiguration:w,transform:Y})})}function createDefaultDropAnimation(o){let{duration:v,easing:_,sideEffects:x,keyframes:w}={...sD,...o};return o=>{let{active:T,dragOverlay:L,transform:N,...B}=o;if(!v)return;let H={x:L.rect.left-T.rect.left,y:L.rect.top-T.rect.top},Y={scaleX:1!==N.scaleX?T.rect.width*N.scaleX/L.rect.width:1,scaleY:1!==N.scaleY?T.rect.height*N.scaleY/L.rect.height:1},Z={x:N.x-H.x,y:N.y-H.y,...Y},X=w({...B,active:T,dragOverlay:L,transform:{initial:N,final:Z}}),[et]=X,en=X[X.length-1];if(JSON.stringify(et)===JSON.stringify(en))return;let er=null==x?void 0:x({active:T,dragOverlay:L,...B}),ei=L.node.animate(X,{duration:v,easing:_,fill:"forwards"});return new Promise(o=>{ei.onfinish=()=>{null==er||er(),o()}})}}let sE=0;function useKey(o){return(0,eC.useMemo)(()=>{if(null!=o)return++sE},[o])}let sO=eC.memo(o=>{let{adjustScale:v=!1,children:_,dropAnimation:x,style:w,transition:T,modifiers:L,wrapperElement:N="div",className:B,zIndex:H=999}=o,{activatorEvent:Y,active:Z,activeNodeRect:X,containerNodeRect:et,draggableNodes:en,droppableContainers:er,dragOverlay:ei,over:ea,measuringConfiguration:eo,scrollableAncestors:el,scrollableAncestorRects:eu,windowRect:ec}=useDndContext(),ed=(0,eC.useContext)(sS),eh=useKey(null==Z?void 0:Z.id),ep=applyModifiers(L,{activatorEvent:Y,active:Z,activeNodeRect:X,containerNodeRect:et,draggingNodeRect:ei.rect,over:ea,overlayNodeRect:ei.rect,scrollableAncestors:el,scrollableAncestorRects:eu,transform:ed,windowRect:ec}),ef=useInitialValue(X),eg=useDropAnimation({config:x,draggableNodes:en,droppableContainers:er,measuringConfiguration:eo}),em=ef?ei.setRef:void 0;return eC.createElement(NullifiedContextProvider,null,eC.createElement(AnimationManager,{animation:eg},Z&&eh?eC.createElement(sI,{key:eh,id:Z.id,ref:em,as:N,activatorEvent:Y,adjustScale:v,className:B,transition:T,rect:ef,style:{zIndex:H,...w},transform:ep},_):null))});function sortable_esm_arrayMove(o,v,_){let x=o.slice();return x.splice(_<0?x.length+_:_,0,x.splice(v,1)[0]),x}function getSortedRects(o,v){return o.reduce((o,_,x)=>{let w=v.get(_);return w&&(o[x]=w),o},Array(o.length))}function isValidIndex(o){return null!==o&&o>=0}function itemsEqual(o,v){if(o===v)return!0;if(o.length!==v.length)return!1;for(let _=0;_<o.length;_++)if(o[_]!==v[_])return!1;return!0}function normalizeDisabled(o){return"boolean"==typeof o?{draggable:o,droppable:o}:o}let rectSortingStrategy=o=>{let{rects:v,activeIndex:_,overIndex:x,index:w}=o,T=sortable_esm_arrayMove(v,x,_),L=v[w],N=T[w];return N&&L?{x:N.left-L.left,y:N.top-L.top,scaleX:N.width/L.width,scaleY:N.height/L.height}:null},sA="Sortable",sk=eC.createContext({activeIndex:-1,containerId:sA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rectSortingStrategy,disabled:{draggable:!1,droppable:!1}});function SortableContext(o){let{children:v,id:_,items:x,strategy:w=rectSortingStrategy,disabled:T=!1}=o,{active:L,dragOverlay:N,droppableRects:B,over:H,measureDroppableContainers:Y}=useDndContext(),Z=useUniqueId(sA,_),X=null!==N.rect,et=(0,eC.useMemo)(()=>x.map(o=>"object"==typeof o&&"id"in o?o.id:o),[x]),en=null!=L,er=L?et.indexOf(L.id):-1,ei=H?et.indexOf(H.id):-1,ea=(0,eC.useRef)(et),eo=!itemsEqual(et,ea.current),el=-1!==ei&&-1===er||eo,eu=normalizeDisabled(T);o$(()=>{eo&&en&&Y(et)},[eo,et,en,Y]),(0,eC.useEffect)(()=>{ea.current=et},[et]);let ec=(0,eC.useMemo)(()=>({activeIndex:er,containerId:Z,disabled:eu,disableTransforms:el,items:et,overIndex:ei,useDragOverlay:X,sortedRects:getSortedRects(et,B),strategy:w}),[er,Z,eu.draggable,eu.droppable,el,et,ei,B,X,w]);return eC.createElement(sk.Provider,{value:ec},v)}let defaultNewIndexGetter=o=>{let{id:v,items:_,activeIndex:x,overIndex:w}=o;return sortable_esm_arrayMove(_,x,w).indexOf(v)},defaultAnimateLayoutChanges=o=>{let{containerId:v,isSorting:_,wasDragging:x,index:w,items:T,newIndex:L,previousItems:N,previousContainerId:B,transition:H}=o;return!!H&&!!x&&(N===T||w!==L)&&(!!_||L!==w&&v===B)},sL={duration:200,easing:"ease"},sR="transform",sN=o1.Transition.toString({property:sR,duration:0,easing:"linear"}),sF={roleDescription:"sortable"};function useDerivedTransform(o){let{disabled:v,index:_,node:x,rect:w}=o,[T,L]=(0,eC.useState)(null),N=(0,eC.useRef)(_);return o$(()=>{if(!v&&_!==N.current&&x.current){let o=w.current;if(o){let v=getClientRect(x.current,{ignoreTransform:!0}),_={x:o.left-v.left,y:o.top-v.top,scaleX:o.width/v.width,scaleY:o.height/v.height};(_.x||_.y)&&L(_)}}_!==N.current&&(N.current=_)},[v,_,x,w]),(0,eC.useEffect)(()=>{T&&L(null)},[T]),T}function useSortable(o){let{animateLayoutChanges:v=defaultAnimateLayoutChanges,attributes:_,disabled:x,data:w,getNewIndex:T=defaultNewIndexGetter,id:L,strategy:N,resizeObserverConfig:B,transition:H=sL}=o,{items:Y,containerId:Z,activeIndex:X,disabled:et,disableTransforms:en,sortedRects:er,overIndex:ei,useDragOverlay:ea,strategy:eo}=(0,eC.useContext)(sk),el=normalizeLocalDisabled(x,et),eu=Y.indexOf(L),ec=(0,eC.useMemo)(()=>({sortable:{containerId:Z,index:eu,items:Y},...w}),[Z,w,eu,Y]),ed=(0,eC.useMemo)(()=>Y.slice(Y.indexOf(L)),[Y,L]),{rect:eh,node:ep,isOver:ef,setNodeRef:eg}=useDroppable({id:L,data:ec,disabled:el.droppable,resizeObserverConfig:{updateMeasurementsFor:ed,...B}}),{active:em,activatorEvent:ey,activeNodeRect:ev,attributes:e_,setNodeRef:eb,listeners:eS,isDragging:ex,over:ew,setActivatorNodeRef:eT,transform:eM}=useDraggable({id:L,data:ec,attributes:{...sF,..._},disabled:el.draggable}),eP=useCombinedRefs(eg,eb),eI=!!em,eD=eI&&!en&&isValidIndex(X)&&isValidIndex(ei),eE=!ea&&ex,eO=eE&&eD?eM:null,eA=eD?null!=eO?eO:(null!=N?N:eo)({rects:er,activeNodeRect:ev,activeIndex:X,overIndex:ei,index:eu}):null,ek=isValidIndex(X)&&isValidIndex(ei)?T({id:L,items:Y,activeIndex:X,overIndex:ei}):eu,eL=null==em?void 0:em.id,eR=(0,eC.useRef)({activeId:eL,items:Y,newIndex:ek,containerId:Z}),eN=Y!==eR.current.items,eF=v({active:em,containerId:Z,isDragging:ex,isSorting:eI,id:L,index:eu,items:Y,newIndex:eR.current.newIndex,previousItems:eR.current.items,previousContainerId:eR.current.containerId,transition:H,wasDragging:null!=eR.current.activeId}),eV=useDerivedTransform({disabled:!eF,index:eu,node:ep,rect:eh});return(0,eC.useEffect)(()=>{eI&&eR.current.newIndex!==ek&&(eR.current.newIndex=ek),Z!==eR.current.containerId&&(eR.current.containerId=Z),Y!==eR.current.items&&(eR.current.items=Y)},[eI,ek,Z,Y]),(0,eC.useEffect)(()=>{if(eL===eR.current.activeId)return;if(eL&&!eR.current.activeId){eR.current.activeId=eL;return}let o=setTimeout(()=>{eR.current.activeId=eL},50);return()=>clearTimeout(o)},[eL]),{active:em,activeIndex:X,attributes:e_,data:ec,rect:eh,index:eu,newIndex:ek,items:Y,isOver:ef,isSorting:eI,isDragging:ex,listeners:eS,node:ep,overIndex:ei,over:ew,setNodeRef:eP,setActivatorNodeRef:eT,setDroppableNodeRef:eg,setDraggableNodeRef:eb,transform:null!=eV?eV:eA,transition:getTransition()};function getTransition(){return eV||eN&&eR.current.newIndex===eu?sN:(!eE||isKeyboardEvent(ey))&&H&&(eI||eF)?o1.Transition.toString({...H,property:sR}):void 0}}function normalizeLocalDisabled(o,v){var _,x;return"boolean"==typeof o?{draggable:o,droppable:!1}:{draggable:null!=(_=null==o?void 0:o.draggable)?_:v.draggable,droppable:null!=(x=null==o?void 0:o.droppable)?x:v.droppable}}function hasSortableData(o){if(!o)return!1;let v=o.data.current;return!!v&&"sortable"in v&&"object"==typeof v.sortable&&"containerId"in v.sortable&&"items"in v.sortable&&"index"in v.sortable}let sV=[ey.Down,ey.Right,ey.Up,ey.Left],sortableKeyboardCoordinates=(o,v)=>{let{context:{active:_,collisionRect:x,droppableRects:w,droppableContainers:T,over:L,scrollableAncestors:N}}=v;if(sV.includes(o.code)){if(o.preventDefault(),!_||!x)return;let v=[];T.getEnabled().forEach(_=>{if(!_||null!=_&&_.disabled)return;let T=w.get(_.id);if(T)switch(o.code){case ey.Down:x.top<T.top&&v.push(_);break;case ey.Up:x.top>T.top&&v.push(_);break;case ey.Left:x.left>T.left&&v.push(_);break;case ey.Right:x.left<T.left&&v.push(_)}});let B=closestCorners({active:_,collisionRect:x,droppableRects:w,droppableContainers:v,pointerCoordinates:null}),H=getFirstCollision(B,"id");if(H===(null==L?void 0:L.id)&&B.length>1&&(H=B[1].id),null!=H){let o=T.get(_.id),v=T.get(H),L=v?w.get(v.id):null,B=null==v?void 0:v.node.current;if(B&&L&&o&&v){let _=getScrollableAncestors(B),w=_.some((o,v)=>N[v]!==o),T=isSameContainer(o,v),H=sortable_esm_isAfter(o,v),Y=w||!T?{x:0,y:0}:{x:H?x.width-L.width:0,y:H?x.height-L.height:0},Z={x:L.left,y:L.top},X=Y.x&&Y.y?Z:o0(Z,Y);return X}}}};function isSameContainer(o,v){return!!(hasSortableData(o)&&hasSortableData(v))&&o.data.current.sortable.containerId===v.data.current.sortable.containerId}function sortable_esm_isAfter(o,v){return!!(hasSortableData(o)&&hasSortableData(v)&&isSameContainer(o,v))&&o.data.current.sortable.index<v.data.current.sortable.index}let sB={delay:150,tolerance:5};function DefaultContainer(o){return eC.createElement("div",Object.assign({style:{overflow:"auto"}},o))}function Sortable(o){let{items:v,onSortEnd:_,adjustScale:x,renderItem:w,transition:T,activationConstraint:L=sB,collisionDetection:N=closestCenter,strategy:B=rectSortingStrategy,useDragOverlay:H=!0,dragOverlayCls:Y,container:Z=DefaultContainer,prefix:X="semi-sortable"}=o,[et,en]=(0,eC.useState)(null),er=useSensors(useSensor(MouseSensor,{activationConstraint:L}),useSensor(TouchSensor,{activationConstraint:L}),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates})),ei=(0,eC.useCallback)(o=>v.indexOf(o),[v]),ea=(0,eC.useMemo)(()=>et?ei(et):-1,[ei,et]),eo=(0,eC.useCallback)(o=>{let{active:v}=o;v&&en(v.id)},[]),el=(0,eC.useCallback)(o=>{let{over:v}=o;if(en(null),v){let o=ei(v.id);ea!==o&&_({oldIndex:ea,newIndex:o})}},[ea,ei,_]),eu=(0,eC.useCallback)(()=>{en(null)},[]);return eC.createElement(sx,{sensors:er,collisionDetection:N,onDragStart:eo,onDragEnd:el,onDragCancel:eu,autoScroll:{order:eb.ReversedTreeOrder}},eC.createElement(SortableContext,{items:v,strategy:B},eC.createElement(Z,null,v.map((o,v)=>eC.createElement(SortableItem,{key:o,id:o,index:v,renderItem:w,useDragOverlay:H,prefix:X,transition:T})))),H?(0,ti.createPortal)(eC.createElement(sO,{adjustScale:x,style:{zIndex:void 0},className:Y},et?w({id:et,sortableHandle:o=>o}):null),document.body):null)}function SortableItem(o){let{animateLayoutChanges:v,id:_,renderItem:x,prefix:w,transition:T}=o,{listeners:L,setNodeRef:N,transform:B,transition:H,active:Y,isOver:Z,attributes:X}=useSortable({id:_,animateLayoutChanges:v,transition:T}),et=(0,eC.useCallback)(o=>()=>eC.createElement("span",Object.assign({},L,{style:{lineHeight:0},onMouseDown:o=>{L.onMouseDown(o),o.preventDefault(),o.stopPropagation()}}),eC.createElement(o,null)),[L]),en=eM()("".concat(w,"-sortable-item"),{["".concat(w,"-sortable-item-over")]:Z,["".concat(w,"-sortable-item-active")]:(null==Y?void 0:Y.id)===_}),er=eQ()(T)?void 0:{transform:o1.Transform.toString(Object.assign(Object.assign({},B),{scaleX:1,scaleY:1})),transition:H};return eC.createElement("div",Object.assign({ref:N,style:er,className:en},X),x({id:_,sortableHandle:et}))}var tagInput_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let sz=oK.PREFIX;function SortContainer(o){return eC.createElement("div",Object.assign({className:"".concat(sz,"-sortable-list")},o))}let TagInput=class TagInput extends BaseComponent{static getDerivedStateFromProps(o,v){let{value:_,inputValue:x}=o,{tagsArray:w}=v;return{tagsArray:na()(_)?_:"value"in o&&!_?[]:w,inputValue:e0()(x)?x:v.inputValue}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setInputValue:o=>{this.setState({inputValue:o})},setTagsArray:o=>{this.setState({tagsArray:o})},setFocusing:o=>{this.setState({focusing:o})},toggleFocusing:o=>{let{preventScroll:v}=this.props,_=this.inputRef&&this.inputRef.current;o?_&&_.focus({preventScroll:v}):_&&_.blur(),this.setState({focusing:o})},setHovering:o=>{this.setState({hovering:o})},setActive:o=>{this.setState({active:o})},setEntering:o=>{this.setState({entering:o})},getClickOutsideHandler:()=>this.clickOutsideHandler,notifyBlur:o=>{this.props.onBlur(o)},notifyFocus:o=>{this.props.onFocus(o)},notifyInputChange:(o,v)=>{this.props.onInputChange(o,v)},notifyTagChange:o=>{this.props.onChange(o)},notifyTagAdd:o=>{this.props.onAdd(o)},notifyTagRemove:(o,v)=>{this.props.onRemove(o,v)},notifyKeyDown:o=>{this.props.onKeyDown(o)},registerClickOutsideHandler:o=>{let clickOutsideHandler=v=>{let _=this.tagInputRef&&this.tagInputRef.current,x=v.target;_&&!_.contains(x)&&o(v)};this.clickOutsideHandler=clickOutsideHandler,document.addEventListener("click",clickOutsideHandler,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("click",this.clickOutsideHandler,!1),this.clickOutsideHandler=null}})}componentDidMount(){let{disabled:o,autoFocus:v,preventScroll:_}=this.props;!o&&v&&(this.inputRef.current.focus({preventScroll:_}),this.foundation.handleClick()),this.foundation.init()}renderClearBtn(){let{hovering:o,tagsArray:v,inputValue:_}=this.state,{showClear:x,disabled:w,clearIcon:T}=this.props,L=eM()("".concat(sz,"-clearBtn"),{["".concat(sz,"-clearBtn-invisible")]:!o||""===_&&0===v.length||w});return x?eC.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TagInput value",className:L,onClick:o=>this.handleClearBtn(o),onKeyPress:o=>this.handleClearEnterPress(o)},T||eC.createElement(n6,null)):null}renderPrefix(){let{prefix:o,insetLabel:v,insetLabelId:_}=this.props,x=o||v;if(eQ()(x)||e3()(x))return null;let w=eM()("".concat(sz,"-prefix"),{["".concat(sz,"-inset-label")]:v,["".concat(sz,"-prefix-text")]:x&&e0()(x),["".concat(sz,"-prefix-icon")]:isSemiIcon(x)});return eC.createElement("div",{className:w,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:_,"x-semi-prop":"prefix"},x)}renderSuffix(){let{suffix:o}=this.props;if(eQ()(o)||e3()(o))return null;let v=eM()("".concat(sz,"-suffix"),{["".concat(sz,"-suffix-text")]:o&&e0()(o),["".concat(sz,"-suffix-icon")]:isSemiIcon(o)});return eC.createElement("div",{className:v,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},o)}renderTags(){let{disabled:o,maxTagCount:v,showRestTagsPopover:_,restTagsPopoverProps:x={},draggable:w,expandRestTagsOnClick:T}=this.props,{tagsArray:L,active:N}=this.state,B=eM()("".concat(sz,"-wrapper-n"),{["".concat(sz,"-wrapper-n-disabled")]:o}),H=this.getAllTags(),Y=[],Z=[...H];(!N||!T)&&v&&v<H.length&&(Z=H.slice(0,v),Y=H.slice(v));let X=eC.createElement("span",{className:B},"+",L.length-v),et=H.map((o,v)=>({item:o,key:L[v]}));return N&&w&&et.length>0?eC.createElement(Sortable,{items:L,onSortEnd:this.onSortEnd,renderItem:this.renderSortTag,container:SortContainer,prefix:sz,transition:null,dragOverlayCls:"".concat(sz,"-right-item-drag-item-move")}):eC.createElement(eC.Fragment,null,Z,Y.length>0&&(_?eC.createElement(Popover,Object.assign({content:Y,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},x),X):X))}blur(){this.inputRef.current.blur(),this.foundation.clickOutsideCallBack()}focus(){let{preventScroll:o,disabled:v}=this.props;this.inputRef.current.focus({preventScroll:o}),v||this.foundation.handleClick()}render(){let o=this.props,{size:v,style:_,className:x,disabled:w,placeholder:T,validateStatus:L}=o,N=tagInput_rest(o,["size","style","className","disabled","placeholder","validateStatus"]),{focusing:B,hovering:H,tagsArray:Y,inputValue:Z,active:X}=this.state,et=eM()(sz,x,{["".concat(sz,"-focus")]:B||X,["".concat(sz,"-disabled")]:w,["".concat(sz,"-hover")]:H&&!w,["".concat(sz,"-error")]:"error"===L,["".concat(sz,"-warning")]:"warning"===L,["".concat(sz,"-small")]:"small"===v,["".concat(sz,"-large")]:"large"===v}),en=eM()("".concat(sz,"-wrapper-input"),"".concat(sz,"-wrapper-input-").concat(v)),er=eM()("".concat(sz,"-wrapper"));return eC.createElement("div",Object.assign({ref:this.tagInputRef,style:_,className:et,"aria-disabled":w,"aria-label":this.props["aria-label"],"aria-invalid":"error"===L,onMouseEnter:o=>{this.handleInputMouseEnter(o)},onMouseLeave:o=>{this.handleInputMouseLeave(o)},onClick:o=>{this.handleClick(o)}},this.getDataAttr(N)),this.renderPrefix(),eC.createElement("div",{className:er},this.renderTags(),eC.createElement(rs,{"aria-label":"input value",ref:this.inputRef,className:en,disabled:w,value:Z,size:v,placeholder:0===Y.length?T:"",onKeyDown:o=>{this.handleKeyDown(o)},onChange:(o,v)=>{this.handleInputChange(v)},onBlur:o=>{this.handleInputBlur(o)},onFocus:o=>{this.handleInputFocus(o)},onCompositionStart:this.handleInputCompositionStart,onCompositionEnd:this.handleInputCompositionEnd})),this.renderClearBtn(),this.renderSuffix())}constructor(o){super(o),this.handleInputChange=o=>{this.foundation.handleInputChange(o)},this.handleKeyDown=o=>{this.foundation.handleKeyDown(o)},this.handleInputFocus=o=>{this.foundation.handleInputFocus(o)},this.handleInputBlur=o=>{this.foundation.handleInputBlur(o)},this.handleClearBtn=o=>{this.foundation.handleClearBtn(o)},this.handleClearEnterPress=o=>{this.foundation.handleClearEnterPress(o)},this.handleTagClose=o=>{this.foundation.handleTagClose(o)},this.handleInputMouseLeave=o=>{this.foundation.handleInputMouseLeave()},this.handleClick=o=>{this.foundation.handleClick(o)},this.handleInputMouseEnter=o=>{this.foundation.handleInputMouseEnter()},this.handleClickPrefixOrSuffix=o=>{this.foundation.handleClickPrefixOrSuffix(o)},this.handlePreventMouseDown=o=>{this.foundation.handlePreventMouseDown(o)},this.getAllTags=()=>{let{tagsArray:o}=this.state;return o.map((o,v)=>this.renderTag(o,v))},this.renderTag=(o,v,_)=>{let{size:x,disabled:w,renderTagItem:T,showContentTooltip:L,draggable:N}=this.props,{active:B}=this.state,H=B&&N,Y=eM()("".concat(sz,"-wrapper-tag"),{["".concat(sz,"-wrapper-tag-size-").concat(x)]:x,["".concat(sz,"-wrapper-tag-icon")]:H}),Z=eM()("".concat(sz,"-wrapper-typo"),{["".concat(sz,"-wrapper-typo-disabled")]:w}),X=eM()({["".concat(sz,"-drag-item")]:H,["".concat(sz,"-wrapper-tag-icon")]:H}),et=_&&_(()=>eC.createElement(oq,{className:"".concat(sz,"-drag-handler")})),en=H?o:"".concat(v).concat(o),onClose=()=>{w||this.handleTagClose(v)};return eX()(T)?eC.createElement("div",{className:X,key:en},H&&_?eC.createElement(et,null):null,T(o,v,onClose)):eC.createElement(Tag,{className:Y,color:"white",size:"small"===x?"small":"large",type:"light",onClose:onClose,closable:!w,key:en,visible:!0,"aria-label":"".concat(w?"":"Closable ","Tag: ").concat(o)},H&&_?eC.createElement(et,null):null,eC.createElement(Paragraph,{className:Z,ellipsis:{showTooltip:L,rows:1}},o))},this.renderSortTag=o=>{let{id:v,sortableHandle:_}=o,{tagsArray:x}=this.state,w=x.indexOf(v);return this.renderTag(v,w,_)},this.onSortEnd=o=>{this.foundation.handleSortEnd(o)},this.handleInputCompositionStart=o=>{this.foundation.handleInputCompositionStart(o)},this.handleInputCompositionEnd=o=>{this.foundation.handleInputCompositionEnd(o)},this.foundation=new TagInputFoundation(this.adapter),this.state={tagsArray:o.defaultValue||[],inputValue:"",focusing:!1,hovering:!1,active:!1,entering:!1},this.inputRef=eC.createRef(),this.tagInputRef=eC.createRef(),this.clickOutsideHandler=null}};function IconSearch_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2C5.80558 2 2 5.80558 2 10.5C2 15.1944 5.80558 19 10.5 19C12.3054 19 13.9794 18.4371 15.356 17.4773L19.4393 21.5606C20.0251 22.1464 20.9749 22.1464 21.5606 21.5606C22.1464 20.9749 22.1464 20.0251 21.5606 19.4393L17.4773 15.356C18.4371 13.9794 19 12.3054 19 10.5C19 5.80558 15.1944 2 10.5 2ZM5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5Z",fill:"currentColor"}))}TagInput.propTypes={children:eI().node,clearIcon:eI().node,style:eI().object,className:eI().string,disabled:eI().bool,allowDuplicates:eI().bool,max:eI().number,maxTagCount:eI().number,maxLength:eI().number,showRestTagsPopover:eI().bool,restTagsPopoverProps:eI().object,showContentTooltip:eI().oneOfType([eI().shape({type:eI().string,opts:eI().object}),eI().bool]),defaultValue:eI().array,value:eI().array,inputValue:eI().string,placeholder:eI().string,separator:eI().oneOfType([eI().string,eI().array]),showClear:eI().bool,addOnBlur:eI().bool,draggable:eI().bool,expandRestTagsOnClick:eI().bool,autoFocus:eI().bool,renderTagItem:eI().func,onBlur:eI().func,onFocus:eI().func,onChange:eI().func,onInputChange:eI().func,onExceed:eI().func,onInputExceed:eI().func,onAdd:eI().func,onRemove:eI().func,onKeyDown:eI().func,size:eI().oneOf(oZ.SIZE_SET),validateStatus:eI().oneOf(oZ.STATUS),prefix:eI().oneOfType([eI().string,eI().node]),suffix:eI().oneOfType([eI().string,eI().node]),"aria-label":eI().string,preventScroll:eI().bool},TagInput.defaultProps={showClear:!1,addOnBlur:!1,allowDuplicates:!0,showRestTagsPopover:!0,autoFocus:!1,draggable:!1,expandRestTagsOnClick:!0,showContentTooltip:!0,separator:",",size:"default",validateStatus:"default",onBlur:eE(),onFocus:eE(),onChange:eE(),onInputChange:eE(),onExceed:eE(),onInputExceed:eE(),onAdd:eE(),onRemove:eE(),onKeyDown:eE()};let sj=convertIcon(IconSearch_SvgComponent,"search");var treeSelect_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let sH=oE.PREFIX,sG=oE.PREFIX_TREE;let TreeSelect=class TreeSelect extends BaseComponent{static getDerivedStateFromProps(o,v){let _;let{prevProps:x,rePosKey:w}=v,needUpdate=v=>!x&&v in o||x&&!e7()(x[v],o[v]),T=o.onChangeWithObject,L=v.keyEntities||{},N=v.cachedKeyValuePairs||{},B={prevProps:o},H=needUpdate("treeData"),Y=needUpdate("expandedKeys");if(H){_=o.treeData,B.treeData=_;let v=convertDataToEntities(_);B.keyEntities=Object.assign({},v.keyEntities),L=B.keyEntities,B.cachedKeyValuePairs=Object.assign({},v.valueEntities),N=B.cachedKeyValuePairs}_&&o.motion&&!e7()(Object.keys(B.keyEntities),Object.keys(v.keyEntities))&&x&&o.motion&&(B.motionKeys=new Set([]),B.motionType=null);let Z=H&&o.expandAll;if(Y||x&&needUpdate("autoExpandParent")){if(B.expandedKeys=calcExpandedKeys(o.expandedKeys,L,o.autoExpandParent||!x),x&&o.motion&&!_){let{motionKeys:o,motionType:_}=calcMotionKeys(v.expandedKeys,B.expandedKeys,L);B.motionKeys=new Set(o),B.motionType=_}}else!x&&(o.defaultExpandAll||o.expandAll)||Z?B.expandedKeys=new Set(Object.keys(L)):!x&&o.defaultExpandedKeys?B.expandedKeys=calcExpandedKeys(o.defaultExpandedKeys,L):!x&&o.defaultValue?B.expandedKeys=calcExpandedKeysForValues(normalizeValue(o.defaultValue,T),L,o.multiple,N):!x&&o.value&&(B.expandedKeys=calcExpandedKeysForValues(normalizeValue(o.value,T),L,o.multiple,N));if(_||Y){let o=flattenTreeData(_||v.treeData,B.expandedKeys||v.expandedKeys);B.flattenNodes=o}let X=o.multiple;if(X){let w;if(needUpdate("value")?w=findKeysForValues(normalizeValue(o.value,T),N,X):!x&&o.defaultValue?w=findKeysForValues(normalizeValue(o.defaultValue,T),N,X):_&&(w=o.value?findKeysForValues(normalizeValue(o.value,T)||[],N,X):updateKeys("related"===o.checkRelation?v.checkedKeys:v.realCheckedKeys,L)),w){if("unRelated"===o.checkRelation)B.realCheckedKeys=new Set(w);else if("related"===o.checkRelation){let{checkedKeys:o,halfCheckedKeys:v}=calcCheckedKeys(w,L);B.checkedKeys=o,B.halfCheckedKeys=v}}}else needUpdate("value")?B.selectedKeys=findKeysForValues(normalizeValue(o.value,T),N,X):!x&&o.defaultValue?B.selectedKeys=findKeysForValues(normalizeValue(o.defaultValue,T),N,X):_&&(o.value?B.selectedKeys=findKeysForValues(normalizeValue(o.value,T)||"",N,X):B.selectedKeys=updateKeys(v.selectedKeys,L));return needUpdate("loadedKeys")&&(B.loadedKeys=new Set(o.loadedKeys)),(H||needUpdate("value"))&&(B.rePosKey=w+1),_&&o.disableStrictly&&"related"===o.checkRelation&&(B.disabledKeys=calcDisabledKeys(L)),B}get adapter(){var o=this;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),{updateInputValue:o=>{this.setState({inputValue:o})}}),{registerClickOutsideHandler:o=>{let clickOutsideHandler=v=>{let _=this.optionsRef&&this.optionsRef.current,x=this.triggerRef&&this.triggerRef.current,w=ti.findDOMNode(_),T=v.target;!w||w.contains(T)&&w.contains(T.parentNode)||!x||x.contains(T)||o(v)};this.clickOutsideHandler=clickOutsideHandler,document.addEventListener("mousedown",clickOutsideHandler,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null},rePositionDropdown:()=>{let{rePosKey:o}=this.state;o+=1,this.setState({rePosKey:o})}}),{updateState:o=>{this.setState(Object.assign({},o))},notifySelect:(o,v,_)=>{this.props.onSelect&&this.props.onSelect(o,v,_)},notifySearch:(o,v)=>{this.props.onSearch&&this.props.onSearch(o,v)},cacheFlattenNodes:o=>{this._flattenNodes=o?treeUtil_cloneDeep(this.state.flattenNodes):null},notifyLoad:(o,v)=>{let{onLoad:_}=this.props;eX()(_)&&_(o,v)}}),{updateLoadKeys:(o,v)=>{this.setState(_=>{let{loadedKeys:x,loadingKeys:w}=_;return this.foundation.handleNodeLoad(x,w,o,v)})},updateState:o=>{this.setState(Object.assign({},o))},openMenu:()=>{this.setState({isOpen:!0},()=>{this.props.onVisibleChange(!0)})},closeMenu:o=>{this.setState({isOpen:!1},()=>{o&&o(),this.props.onVisibleChange(!1)})},getTriggerWidth:()=>{let o=this.triggerRef.current;return o&&o.getBoundingClientRect().width},setOptionWrapperWidth:o=>{this.setState({dropdownMinWidth:o})},notifyChange:(o,v,_)=>{this.props.onChange&&this.props.onChange(o,v,_)},notifyChangeWithObject:(o,v)=>{this.props.onChange&&this.props.onChange(o,v)},notifyExpand:(o,v)=>{let{expanded:_,node:x}=v;this.props.onExpand&&this.props.onExpand([...o],{expanded:_,node:x}),_&&this.props.loadData&&this.onNodeLoad(x)},notifyFocus:function(){o.props.onFocus&&o.props.onFocus(...arguments)},notifyBlur:function(){o.props.onBlur&&o.props.onBlur(...arguments)},toggleHovering:o=>{this.setState({isHovering:o})},updateInputFocus:o=>{if(o){if(this.inputRef&&this.inputRef.current){let{preventScroll:o}=this.props;this.inputRef.current.focus({preventScroll:o})}this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.focus()}else this.inputRef&&this.inputRef.current&&this.inputRef.current.blur(),this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.blur()},updateIsFocus:o=>{this.setState({isFocus:o})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){let o=this.renderContent(),{motion:v,zIndex:_,mouseLeaveDelay:x,mouseEnterDelay:w,autoAdjustOverflow:T,stopPropagation:L,getPopupContainer:N,dropdownMargin:B,position:H}=this.props,{isOpen:Y,rePosKey:Z}=this.state,X=this.renderSelection();return eC.createElement(Popover,{stopPropagation:L,getPopupContainer:N,zIndex:_,motion:v,margin:B,ref:this.optionsRef,content:o,visible:Y,trigger:"custom",rePosKey:Z,position:H||"bottomLeft",autoAdjustOverflow:T,mouseLeaveDelay:x,mouseEnterDelay:w,onVisibleChange:this.handlePopoverClose},X)}constructor(o){super(o),this.renderSuffix=()=>{let{suffix:o}=this.props,v=eM()({["".concat(sH,"-suffix")]:!0,["".concat(sH,"-suffix-text")]:o&&e0()(o),["".concat(sH,"-suffix-icon")]:isSemiIcon(o)});return eC.createElement("div",{className:v,"x-semi-prop":"suffix"},o)},this.renderPrefix=()=>{let{prefix:o,insetLabel:v,insetLabelId:_}=this.props,x=o||v,w=eM()({["".concat(sH,"-prefix")]:!0,["".concat(sH,"-inset-label")]:v,["".concat(sH,"-prefix-text")]:x&&e0()(x),["".concat(sH,"-prefix-icon")]:isSemiIcon(x)});return eC.createElement("div",{className:w,id:_,"x-semi-prop":"prefix,insetLabel"},x)},this.renderContent=()=>{let{dropdownMinWidth:o}=this.state,{dropdownStyle:v,dropdownClassName:_}=this.props,x=Object.assign({minWidth:o},v),w=eM()(_,"".concat(sH,"-popover"));return eC.createElement("div",{className:w,style:x},this.renderTree())},this.removeTag=o=>{this.foundation.removeTag(o)},this.handleClick=o=>{this.foundation.handleClick(o)},this.getDataForKeyNotInKeyEntities=o=>this.foundation.getDataForKeyNotInKeyEntities(o),this.handleSelectionEnterPress=o=>{this.foundation.handleSelectionEnterPress(o)},this.hasValue=()=>{let{multiple:o,checkRelation:v}=this.props,{realCheckedKeys:_,checkedKeys:x,selectedKeys:w}=this.state,T=!1;return o?"related"===v?T=!!x.size:"unRelated"===v&&(T=!!_.size):T=!!w.length,T},this.showClearBtn=()=>{let{showClear:o,disabled:v,searchPosition:_}=this.props,{inputValue:x,isOpen:w,isHovering:T}=this.state,L=_===oO.SEARCH_POSITION_TRIGGER&&x;return o&&(this.hasValue()||L)&&!v&&(w||T)},this.renderTagList=()=>{let{checkedKeys:o,keyEntities:v,disabledKeys:_,realCheckedKeys:x}=this.state,{treeNodeLabelProp:w,leafOnly:T,disabled:L,disableStrictly:N,size:B,checkRelation:H,renderSelectedItem:Y}=this.props,Z=eX()(Y)?Y:o=>({isRenderInTag:!0,content:eH()(o,w,null)}),X=[];"related"===H?X=normalizeKeyList([...o],v,T,!0):"unRelated"===H&&Object.keys(v).length>0&&(X=[...x]);let et=[];return X.forEach((o,x)=>{let T=v[o]&&v[o].data.key===o?v[o].data:this.getDataForKeyNotInKeyEntities(o),onClose=(v,_)=>{_&&"function"==typeof _.preventDefault&&_.preventDefault(),this.removeTag(o)},{content:H,isRenderInTag:Y}=T&&w in T?Z(T,{index:x,onClose}):{};if(eQ()(H)||e3()(H))return;let X=L||T.disabled||N&&_.has(T.key),en={closable:!X,color:"white",visible:!0,onClose,key:"tag-".concat(o,"-").concat(x),size:"small"===B?"small":"large"};Y?et.push(eC.createElement(Tag,Object.assign({},en),H)):et.push(H)}),et},this.renderSingleTriggerSearchItem=()=>{let{placeholder:o,disabled:v}=this.props,{inputTriggerFocus:_}=this.state,x=this.foundation.getRenderTextInSingle(),w=eM()("".concat(sH,"-selection-TriggerSearchItem"),{["".concat(sH,"-selection-TriggerSearchItem-placeholder")]:(_||!x)&&!v,["".concat(sH,"-selection-TriggerSearchItem-disabled")]:v});return eC.createElement("span",{className:w},x||o)},this.renderSingleTriggerSearch=()=>{let{inputValue:o}=this.state;return eC.createElement(eC.Fragment,null,!o&&this.renderSingleTriggerSearchItem(),this.renderInput())},this.renderSelectContent=()=>{let{multiple:o,placeholder:v,maxTagCount:_,searchPosition:x,filterTreeNode:w,showRestTagsPopover:T,restTagsPopoverProps:L}=this.props,N=w&&x===oO.SEARCH_POSITION_TRIGGER;if(N)return o?this.renderTagInput():this.renderSingleTriggerSearch();if(!o||!this.hasValue()){let o=this.foundation.getRenderTextInSingle(),_=eM()("".concat(sH,"-selection-content"),{["".concat(sH,"-selection-placeholder")]:!o});return eC.createElement("span",{className:_},o||v)}let B=this.renderTagList();return eC.createElement(TagGroup,{maxTagCount:_,tagList:B,size:"large",mode:"custom",showPopover:T,popoverProps:L})},this.handleClear=o=>{o&&o.stopPropagation(),this.foundation.handleClear(o)},this.handleClearEnterPress=o=>{o&&o.stopPropagation(),this.foundation.handleClearEnterPress(o)},this.handleMouseOver=o=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=o=>{this.foundation.toggleHoverState(!1)},this.search=o=>{let{isOpen:v}=this.state;v||this.foundation.open(),this.foundation.handleInputChange(o)},this.close=()=>{this.foundation.close(null)},this.renderArrow=()=>{let o=this.showClearBtn(),{arrowIcon:v}=this.props;return o?null:v?eC.createElement("div",{className:eM()("".concat(sH,"-arrow")),"x-semi-prop":"arrowIcon"},v):null},this.renderClearBtn=()=>{let o=this.showClearBtn(),{clearIcon:v}=this.props,_=eM()("".concat(sH,"-clearbtn"));return o?eC.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TreeSelect value",className:_,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress},v||eC.createElement(n6,null)):null},this.renderSelection=()=>{let o=this.props,{disabled:v,multiple:_,filterTreeNode:x,validateStatus:w,prefix:T,suffix:L,style:N,size:B,insetLabel:H,className:Y,placeholder:Z,showClear:X,leafOnly:et,searchPosition:en,triggerRender:er,borderless:ei}=o,ea=treeSelect_rest(o,["disabled","multiple","filterTreeNode","validateStatus","prefix","suffix","style","size","insetLabel","className","placeholder","showClear","leafOnly","searchPosition","triggerRender","borderless"]),{inputValue:eo,selectedKeys:el,checkedKeys:eu,keyEntities:ec,isFocus:ed}=this.state,eh=!!x,ep="function"==typeof er,ef=X?{onMouseEnter:o=>this.handleMouseOver(o),onMouseLeave:o=>this.handleMouseLeave(o)}:{},eg=en===oO.SEARCH_POSITION_TRIGGER&&eh,em=eg&&e9()(eu),ey=eg&&!e9()(eu),ev=ep?eM()(Y):eM()(sH,{["".concat(sH,"-borderless")]:ei,["".concat(sH,"-focus")]:ed,["".concat(sH,"-disabled")]:v,["".concat(sH,"-single")]:!_,["".concat(sH,"-multiple")]:_,["".concat(sH,"-multiple-tagInput-empty")]:_&&em,["".concat(sH,"-multiple-tagInput-notEmpty")]:_&&ey,["".concat(sH,"-filterable")]:eh,["".concat(sH,"-error")]:"error"===w,["".concat(sH,"-warning")]:"warning"===w,["".concat(sH,"-small")]:"small"===B,["".concat(sH,"-large")]:"large"===B,["".concat(sH,"-with-prefix")]:T||H,["".concat(sH,"-with-suffix")]:L,["".concat(sH,"-with-suffix")]:L},Y),e_=_?normalizeKeyList([...eu],ec,et,!0):el,eb=ep?eC.createElement(Trigger,{inputValue:eo,value:e_.map(o=>eH()(ec,[o,"data"])),disabled:v,placeholder:Z,onClear:this.handleClear,componentName:"TreeSelect",triggerRender:er,componentProps:Object.assign({},this.props),onSearch:this.search,onRemove:this.removeTag}):[eC.createElement(eC.Fragment,{key:"prefix"},T||H?this.renderPrefix():null),eC.createElement(eC.Fragment,{key:"selection"},eC.createElement("div",{className:"".concat(sH,"-selection")},this.renderSelectContent())),eC.createElement(eC.Fragment,{key:"suffix"},L?this.renderSuffix():null),eC.createElement(eC.Fragment,{key:"clearBtn"},X||eg&&eo?this.renderClearBtn():null),eC.createElement(eC.Fragment,{key:"arrow"},this.renderArrow())],eS=v?null:0;return eC.createElement("div",Object.assign({role:"combobox","aria-disabled":v,"aria-haspopup":"tree",tabIndex:eS,className:ev,style:N,ref:this.triggerRef,onClick:this.handleClick,onKeyPress:this.handleSelectionEnterPress,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},ef,this.getDataAttr(ea)),eb)},this.renderTagItem=(o,v)=>{let{keyEntities:_,disabledKeys:x}=this.state,{size:w,leafOnly:T,disabled:L,disableStrictly:N,renderSelectedItem:B,treeNodeLabelProp:H}=this.props,Y=normalizeKeyList([o],_,T,!0),Z=Y.map(v=>_[o]&&_[o].data.key===o?_[o].data:this.getDataForKeyNotInKeyEntities(o)),X=getValueOrKey(Z),et=eM()("".concat(sH,"-selection-tag"),{["".concat(sH,"-selection-tag-disabled")]:L}),en=!e9()(Z)&&!e9()(Z[0]),er=N&&en&&x.has(Z[0].key),ei=en&&!Z[0].disabled&&!L&&!er,onClose=(v,_)=>{_.preventDefault(),this.removeTag(o)},ea={size:"small"===w?"small":"large",key:"tag-".concat(X,"-").concat(v),color:"white",className:et,closable:ei,onClose},eo=Z[0],el=eX()(B)?B:o=>({isRenderInTag:!0,content:eH()(o,H,null)});if(eX()(el)){let{content:o,isRenderInTag:_}=eo&&H in eo?el(eo,{index:v,onClose}):{};return _?eC.createElement(Tag,Object.assign({},ea),o):o}return eC.createElement(Tag,Object.assign({},ea),X)},this.renderTagInput=()=>{let{leafOnly:o,disabled:v,size:_,searchAutoFocus:x,placeholder:w,maxTagCount:T,checkRelation:L,showRestTagsPopover:N,restTagsPopoverProps:B,searchPosition:H,filterTreeNode:Y,preventScroll:Z}=this.props,{keyEntities:X,checkedKeys:et,inputValue:en,realCheckedKeys:er}=this.state,ei=[];"related"===L?ei=normalizeKeyList(et,X,o,!0):"unRelated"===L&&(ei=[...er]);let ea=Y&&H===oO.SEARCH_POSITION_TRIGGER?x:void 0;return eC.createElement(TagInput,{maxTagCount:T,disabled:v,onInputChange:o=>this.search(o),ref:this.tagInputRef,placeholder:w,value:ei,inputValue:en,size:_,showRestTagsPopover:N,restTagsPopoverProps:B,autoFocus:ea,renderTagItem:(o,v)=>this.renderTagItem(o,v),onRemove:o=>this.removeTag(o),expandRestTagsOnClick:!1,preventScroll:Z})},this.renderInput=()=>{let{searchPlaceholder:o,searchRender:v,showSearchClear:_,searchPosition:x,searchAutoFocus:w,multiple:T,disabled:L,preventScroll:N}=this.props,B=x===oO.SEARCH_POSITION_DROPDOWN,H=eM()({["".concat(sG,"-input")]:B,["".concat(sH,"-inputTrigger")]:!B}),{inputValue:Y}=this.state,Z={value:Y,className:H,preventScroll:N,onChange:o=>this.search(o)},X={showClear:_,prefix:eC.createElement(sj,null)},et=B?X:{autofocus:w,onFocus:o=>this.foundation.handleInputTriggerFocus(),onBlur:o=>this.foundation.handleInputTriggerBlur(),disabled:L},en=eM()({["".concat(sG,"-search-wrapper")]:B,["".concat(sH,"-triggerSingleSearch-wrapper")]:!B&&!T}),er="function"==typeof v||"boolean"==typeof v;return er&&!v?null:eC.createElement("div",{className:en},eC.createElement(LocaleConsumer,{componentName:"TreeSelect"},_=>{let x=B?o||_.searchPlaceholder:"";return er?v(Object.assign(Object.assign(Object.assign({},et),Z),{placeholder:x})):eC.createElement(rs,Object.assign({"aria-label":"Filter TreeSelect item",ref:this.inputRef,placeholder:x},Z,et))}))},this.renderEmpty=()=>{let{emptyContent:o}=this.props;return o?eC.createElement(TreeNode,{empty:!0,emptyContent:this.props.emptyContent}):eC.createElement(LocaleConsumer,{componentName:"Tree"},o=>eC.createElement(TreeNode,{empty:!0,emptyContent:o.emptyText}))},this.onNodeLoad=o=>new Promise(v=>this.foundation.setLoadKeys(o,v)),this.onNodeSelect=(o,v)=>{this.foundation.handleNodeSelect(o,v)},this.onNodeCheck=(o,v)=>{this.foundation.handleNodeSelect(o,v)},this.onNodeExpand=(o,v)=>{this.foundation.handleNodeExpand(o,v)},this.getTreeNodeRequiredProps=()=>{let{expandedKeys:o,selectedKeys:v,checkedKeys:_,halfCheckedKeys:x,keyEntities:w,filteredKeys:T}=this.state;return{expandedKeys:o||new Set,selectedKeys:v||[],checkedKeys:_||new Set,halfCheckedKeys:x||new Set,filteredKeys:T||new Set,keyEntities:w}},this.getTreeNodeKey=o=>{let{data:v}=o,{key:_}=v;return _},this.handlePopoverClose=o=>{let{filterTreeNode:v,searchAutoFocus:_,searchPosition:x}=this.props;!1===o&&v&&this.foundation.clearInput(),v&&x===oO.SEARCH_POSITION_DROPDOWN&&o&&_&&this.foundation.focusInput(!0)},this.renderTreeNode=(o,v,_)=>{let{data:x}=o,{key:w}=x,T=this.foundation.getTreeNodeProps(w);return T?eC.createElement(TreeNode,Object.assign({},T,x,{key:w,data:x,style:_})):null},this.itemKey=(o,v)=>{let{visibleOptions:_}=v,x=_[o];return x.key},this.renderNodeList=()=>{let{flattenNodes:o,motionKeys:v,motionType:_,filteredKeys:x}=this.state,{direction:w}=this.context,{virtualize:T,motionExpand:L}=this.props,N="expandedKeys"in this.props;if(!T||e9()(T))return eC.createElement(NodeList,{flattenNodes:o,flattenList:this._flattenNodes,motionKeys:L?v:new Set([]),motionType:_,searchTargetIsDeep:N&&L&&e9()(v)&&!e9()(x),onMotionEnd:this.onMotionEnd,renderTreeNode:this.renderTreeNode});let B={visibleOptions:o,renderOption:this.renderTreeNode};return eC.createElement(AutoSizer,{defaultHeight:T.height,defaultWidth:T.width},v=>{let{height:_,width:x}=v;return eC.createElement(r6,{itemCount:o.length,itemSize:T.itemSize,height:_,width:x,itemKey:this.itemKey,itemData:B,className:"".concat(sG,"-virtual-list"),style:{direction:w}},virtualRow)})},this.renderTree=()=>{let{keyEntities:o,motionKeys:v,motionType:_,inputValue:x,filteredKeys:w,flattenNodes:T,checkedKeys:L,realCheckedKeys:N}=this.state,{loadData:B,filterTreeNode:H,disabled:Y,multiple:Z,showFilteredOnly:X,motionExpand:et,outerBottomSlot:en,outerTopSlot:er,expandAction:ei,labelEllipsis:ea,virtualize:eo,optionListStyle:el,searchPosition:eu,renderLabel:ec,renderFullLabel:ed,checkRelation:eh}=this.props,ep=eM()("".concat(sG,"-wrapper")),ef=eM()("".concat(sG,"-option-list"),{["".concat(sG,"-option-list-block")]:!0}),eg=!!x&&!w.size,em=e9()(T)||X&&eg,ey=eu===oO.SEARCH_POSITION_DROPDOWN;return eC.createElement(oV.Provider,{value:{loadData:B,treeDisabled:Y,motion:et,motionKeys:v,motionType:_,expandAction:ei,filterTreeNode:H,keyEntities:o,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeRightClick:eE(),onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,renderTreeNode:this.renderTreeNode,multiple:Z,showFilteredOnly:X,isSearching:!!x,renderLabel:ec,renderFullLabel:ed,labelEllipsis:void 0===ea?eo:ea}},eC.createElement("div",{className:ep},er,!er&&H&&ey&&this.renderInput(),eC.createElement("div",{className:ef,role:"tree","aria-multiselectable":!!Z,style:el},em?this.renderEmpty():Z?eC.createElement(CheckboxGroup,{value:Array.from("related"===eh?L:N)},this.renderNodeList()):this.renderNodeList()),en))},this.state={inputTriggerFocus:!1,isOpen:!1,isFocus:!1,rePosKey:0,dropdownMinWidth:null,inputValue:"",keyEntities:{},treeData:[],flattenNodes:[],selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([]),disabledKeys:new Set,motionKeys:new Set([]),motionType:"hide",expandedKeys:new Set(o.expandedKeys),filteredKeys:new Set,filteredExpandedKeys:new Set,filteredShownKeys:new Set,prevProps:null,isHovering:!1,cachedKeyValuePairs:{},loadedKeys:new Set,loadingKeys:new Set},this.inputRef=eC.createRef(),this.tagInputRef=eC.createRef(),this.triggerRef=eC.createRef(),this.optionsRef=eC.createRef(),this.clickOutsideHandler=null,this.foundation=new TreeSelectFoundation(this.adapter),this.treeSelectID=Math.random().toString(36).slice(2),this.onMotionEnd=()=>{this.adapter.rePositionDropdown()}}};TreeSelect.contextType=tm,TreeSelect.propTypes={"aria-describedby":eI().string,"aria-errormessage":eI().string,"aria-invalid":eI().bool,"aria-labelledby":eI().string,"aria-required":eI().bool,borderless:eI().bool,loadedKeys:eI().arrayOf(eI().string),loadData:eI().func,onLoad:eI().func,arrowIcon:eI().node,clearIcon:eI().node,defaultOpen:eI().bool,defaultValue:eI().oneOfType([eI().string,eI().array,eI().object]),defaultExpandAll:eI().bool,defaultExpandedKeys:eI().array,expandAll:eI().bool,disabled:eI().bool,disableStrictly:eI().bool,filterTreeNode:eI().oneOfType([eI().func,eI().bool]),multiple:eI().bool,searchPlaceholder:eI().string,searchAutoFocus:eI().bool,virtualize:eI().object,treeNodeFilterProp:eI().string,onChange:eI().func,onSearch:eI().func,onSelect:eI().func,onExpand:eI().func,onChangeWithObject:eI().bool,onBlur:eI().func,onFocus:eI().func,value:eI().oneOfType([eI().string,eI().number,eI().array,eI().object]),expandedKeys:eI().array,autoExpandParent:eI().bool,showClear:eI().bool,showSearchClear:eI().bool,autoAdjustOverflow:eI().bool,showFilteredOnly:eI().bool,motionExpand:eI().bool,emptyContent:eI().node,leafOnly:eI().bool,treeData:eI().arrayOf(eI().shape({key:eI().string.isRequired,value:eI().oneOfType([eI().string,eI().number]),label:eI().any})),dropdownClassName:eI().string,dropdownStyle:eI().object,dropdownMargin:eI().oneOfType([eI().number,eI().object]),motion:eI().bool,placeholder:eI().string,maxTagCount:eI().number,size:eI().oneOf(oO.SIZE_SET),className:eI().string,style:eI().object,treeNodeLabelProp:eI().string,suffix:eI().node,prefix:eI().node,insetLabel:eI().node,insetLabelId:eI().string,zIndex:eI().number,getPopupContainer:eI().func,dropdownMatchSelectWidth:eI().bool,validateStatus:eI().oneOf(oO.STATUS),mouseEnterDelay:eI().number,mouseLeaveDelay:eI().number,triggerRender:eI().func,stopPropagation:eI().oneOfType([eI().bool,eI().string]),outerBottomSlot:eI().node,outerTopSlot:eI().node,onVisibleChange:eI().func,expandAction:eI().oneOf(["click","doubleClick",!1]),searchPosition:eI().oneOf([oO.SEARCH_POSITION_DROPDOWN,oO.SEARCH_POSITION_TRIGGER]),clickToHide:eI().bool,renderLabel:eI().func,renderFullLabel:eI().func,labelEllipsis:eI().bool,optionListStyle:eI().object,searchRender:eI().oneOfType([eI().func,eI().bool]),renderSelectedItem:eI().func,checkRelation:eI().string,"aria-label":eI().string,showRestTagsPopover:eI().bool,restTagsPopoverProps:eI().object,preventScroll:eI().bool,clickTriggerToHide:eI().bool},TreeSelect.defaultProps={borderless:!1,searchPosition:oO.SEARCH_POSITION_DROPDOWN,arrowIcon:eC.createElement(rT,null),autoExpandParent:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,motionExpand:!0,expandAll:!1,zIndex:tB.DEFAULT_Z_INDEX,disableStrictly:!1,multiple:!1,filterTreeNode:!1,size:"default",treeNodeFilterProp:"label",onChangeWithObject:!1,treeNodeLabelProp:"label",dropdownMatchSelectWidth:!0,defaultOpen:!1,showSearchClear:!0,showClear:!1,onVisibleChange:eE(),expandAction:!1,clickToHide:!0,searchAutoFocus:!1,checkRelation:"related","aria-label":"TreeSelect",showRestTagsPopover:!1,restTagsPopoverProps:{},clickTriggerToHide:!0};var sU=_(9775),sW=_.n(sU),sY=_(2909),sK=_.n(sY);let sZ={PREFIX:`${eO.T}-cascader`,PREFIX_OPTION:`${eO.T}-cascader-option`},sq={SIZE_SET:["small","large","default"],VALIDATE_STATUS:["success","default","error","warning"],IS_KEY:"isKey",IS_VALUE:"isValue",SHOW_NEXT_BY_CLICK:"click",SHOW_NEXT_BY_HOVER:"hover",LEAF_ONLY_MERGE_TYPE:"leafOnly",AUTO_MERGE_VALUE_MERGE_TYPE:"autoMergeValue",NONE_MERGE_TYPE:"none"};function util_getPosition(o,v){return`${o}-${v}`}function util_isValid(o){return!eQ()(o)&&!e3()(o)}function util_normalizedArr(o){return Array.isArray(o)?o:[o]}function util_traverseDataNodes(o,v){let processNode=(_,x,w)=>{let T=_?_.children:o,L=null;if(_){let o=w?util_getPosition(w.key,x):`${x}`;v(L={data:Object.assign({},_),ind:x,key:o,level:w?w.level+1:0,parentKey:w?w.key:null,path:w?[...w.path,o]:[o],valuePath:w?[...w.valuePath,_.value]:[_.value]})}T&&T.forEach((o,v)=>{processNode(o,v,L)})};processNode(null)}function util_convertDataToEntities(o){let v={};return util_traverseDataNodes(o,o=>{let{key:_,parentKey:x}=o,w=Object.assign({},o);v[_]=w,w.parent=v[x],w.parent&&(w.parent.children=w.parent.children||[],w.parent.children.push(w))}),v}function util_findKeysForValues(o,v){let _=util_normalizedArr(o),x=Object.values(v).filter(o=>e7()(o.valuePath,_)).map(o=>o.key);return x}function calcMergeType(o,v){return v?sq.LEAF_ONLY_MERGE_TYPE:o?sq.AUTO_MERGE_VALUE_MERGE_TYPE:sq.NONE_MERGE_TYPE}let CascaderFoundation=class CascaderFoundation extends eU{constructor(o){super(Object.assign({},o)),this.updateSearching=o=>{this._adapter.updateStates({isSearching:!1})}}init(){let o=this.getProp("open")||this.getProp("defaultOpen");this.collectOptions(!0),this._adapter.updateLoadingKeyRefValue(new Set),this._adapter.updateLoadedKeyRefValue(new Set),o&&!this._isDisabled()&&this.open()}destroy(){this._adapter.unregisterClickOutsideHandler()}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filterTreeNode")}_notifyChange(o){let{onChangeWithObject:v,multiple:_}=this.getProps(),x=v?[]:"value";if(_){let v=[];o.forEach(o=>{let _=this.getItemPropPath(o,x);v.push(_)}),this._adapter.notifyChange(v)}else{let v=!e3()(o)&&"key"in o?this.getItemPropPath(o.key,x):[];this._adapter.notifyChange(v)}}_isLeaf(o){return this.getProp("loadData")?!!o.isLeaf:!o.children||!o.children.length}_clearInput(){this._adapter.updateInputValue("")}_notifyBlur(o){this._adapter.notifyBlur(o)}_notifyFocus(o){this._adapter.notifyFocus(o)}_isOptionDisabled(o,v){let _=findAncestorKeys([o],v,!0).some(o=>v[o].data.disabled);return _}getCopyFromState(o){let v={};return util_normalizedArr(o).forEach(o=>{v[o]=nD()(this.getState(o))}),v}getItemPropPath(o,v,_){let x=_||this.getState("keyEntities"),w=x[o],T=[];if(w){if(w._notExist)T=w.path;else{let o=w.path;T=Array.isArray(v)?o.map(o=>x[o].data):o.map(o=>x[o].data[v])}}return T}_getCacheValue(o){let v;let{selectedKeys:_}=this.getStates(),x=Array.from(_)[0];if(e9()(o[x])){if(aj()(x,"not-exist-")){let _=x.match(/not-exist-(\S*)/)[1];v=e9()(o[_])?_:o[_].valuePath}else v=x}else v=o[x].valuePath;return v}collectOptions(){let o,v=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{treeData:_,value:x,defaultValue:w}=this.getProps(),T=util_convertDataToEntities(_);this._adapter.rePositionDropdown(),v?o=w:e9()(T)||(o=this._getCacheValue(T));let L=this._isControlledComponent()?x:o;util_isValid(L)?this.updateSelectedKey(L,T):this._adapter.updateStates({keyEntities:T})}handleValueChange(o){let{keyEntities:v}=this.getStates(),{multiple:_}=this.getProps();_||this.updateSelectedKey(o,v)}_getClearSelectedKey(o){let v={},{searchPlaceholder:_,placeholder:x,multiple:w}=this.getProps();return v.selectedKeys=new Set([]),v.activeKeys=new Set([]),v.filteredKeys=new Set([]),o&&!w&&(v.inputPlaceHolder=_||x||"",v.inputValue=""),v}updateSelectedKey(o,v){let{changeOnSelect:_,onChangeWithObject:x,multiple:w}=this.getProps(),{activeKeys:T,loading:L,keyEntities:N,selectedKeys:B}=this.getStates(),H=this._adapter.getLoadingKeyRefValue(),Y=this._isFilterable(),Z=[...T].filter(o=>H.has(o)),X=x?util_normalizedArr(o).map(o=>o.value):util_normalizedArr(o),et=util_findKeysForValues(X,v),en={};if(et.length){let o=et[0],x=v[o];if(_||this._isLeaf(x.data)){if(en.selectedKeys=new Set([o]),Z.length||(en.activeKeys=new Set(x.path)),Y&&!w){let _=this.renderDisplayText(o,v);en.inputPlaceHolder=_}}else e7()(et,Array.from(B))&&(en=this._getClearSelectedKey(Y))}else if(o&&o.length){let o=X[X.length-1],_=`not-exist-${o}`;if(en.selectedKeys=new Set([_]),Y&&!w){let o=this._defaultRenderText(X);en.inputPlaceHolder=o}v[_]={data:{label:o,value:o},key:_,path:X,_notExist:!0}}else if(L){en.keyEntities=sK()(N,v),this._adapter.updateStates(en);return}else en=this._getClearSelectedKey(Y);en.keyEntities=v,this._adapter.updateStates(en)}open(){let o=this._isFilterable(),{multiple:v}=this.getProps();this._adapter.openMenu(),o&&(this._clearInput(),v||this.toggle2SearchInput(!0)),this._isControlledComponent()&&this.reCalcActiveKeys(),this._adapter.notifyDropdownVisibleChange(!0),this._adapter.registerClickOutsideHandler(o=>this.close(o))}reCalcActiveKeys(){let{selectedKeys:o,activeKeys:v,keyEntities:_}=this.getStates(),x=[...o][0],w=_[x];if(!w)return;let T=new Set(w.path);e7()(T,v)||this._adapter.updateStates({activeKeys:T})}close(o,v){let{multiple:_}=this.getProps();if(this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.unregisterClickOutsideHandler(),this._isFilterable()){let{selectedKeys:o,isSearching:x}=this.getStates(),w="";v&&!_?w=this.renderDisplayText(v):o.size&&!_&&(w=this.renderDisplayText([...o][0])),this._adapter.updateStates({inputValue:w}),_||this.toggle2SearchInput(!1),_||this._adapter.updateFocusState(!1)}this._notifyBlur(o)}focus(){let{filterTreeNode:o}=this.getProps();o&&this._adapter.focusInput(),this._adapter.updateFocusState(!0)}blur(){let{filterTreeNode:o}=this.getProps();o&&this._adapter.blurInput(),this._adapter.updateFocusState(!1)}toggle2SearchInput(o){o?this._adapter.toggleInputShow(o,()=>this.focus()):this._adapter.toggleInputShow(o,()=>void 0)}handleItemClick(o,v){let _=this._isDisabled();_||(this.handleSingleSelect(o,v),this._adapter.rePositionDropdown())}handleItemHover(o,v){let _=this._isDisabled();_||this.handleShowNextByHover(v)}handleShowNextByHover(o){let{keyEntities:v}=this.getStates(),{data:_,key:x}=o,w=this._isLeaf(_),T=v[x].path;this._adapter.updateStates({activeKeys:new Set(T)}),w||this.notifyIfLoadData(o)}onItemCheckboxClick(o){let v=this._isDisabled();v||(this._handleMultipleSelect(o),this._adapter.rePositionDropdown())}handleClick(o){let v=this._isDisabled(),_=this._isFilterable(),{isOpen:x}=this.getStates();v||(x?x&&!_&&this.close(o):(this.open(),this._notifyFocus(o)))}handleSelectionEnterPress(o){utils_isEnterPress(o)&&this.handleClick(o)}toggleHoverState(o){this._adapter.toggleHovering(o)}_defaultRenderText(o,v){let _=this.getProp("separator");return v&&"function"==typeof v?v(o):o.join(_)}renderDisplayText(o,v){let _=this.getProp("displayRender"),x=this.getProp("displayProp"),w=this.getItemPropPath(o,x,v);return this._defaultRenderText(w,_)}handleNodeLoad(o){let{data:v,key:_}=o,x=nD()(this._adapter.getLoadingKeyRefValue()),w=nD()(this._adapter.getLoadedKeyRefValue()),T=w.add(_),L=new Set([...x]);L.delete(_),this._adapter.notifyOnLoad(T,v),this._adapter.updateLoadingKeyRefValue(L),this._adapter.updateLoadedKeyRefValue(T),this._adapter.updateStates({loadingKeys:L,loadedKeys:T})}notifyIfLoadData(o){let{data:v,key:_}=o;if(this._adapter.updateStates({loading:!1}),!v.isLeaf&&!v.children&&this.getProp("loadData")){let v=this._adapter.getLoadedKeyRefValue(),x=nD()(this._adapter.getLoadingKeyRefValue());if(v.has(_)||x.has(_))return;this._adapter.updateStates({loading:!0});let{keyEntities:w}=this.getStates(),T=this.getItemPropPath(_,[],w),L=x.add(_);this._adapter.updateLoadingKeyRefValue(L),this._adapter.updateStates({loadingKeys:L}),this._adapter.notifyLoadData(T,this.handleNodeLoad.bind(this,o))}}handleSingleSelect(o,v){let{changeOnSelect:_,filterLeafOnly:x,multiple:w,enableLeafClick:T}=this.getProps(),{keyEntities:L,selectedKeys:N,isSearching:B}=this.getStates(),H=this._isFilterable(),{data:Y,key:Z}=v,X=this._isLeaf(Y),et=L[Z].path,en=[Z],er=Z!==[...N][0];if(!X&&!_&&!B){this._adapter.updateStates({activeKeys:new Set(et)}),this.notifyIfLoadData(v);return}if(w)this._adapter.updateStates({activeKeys:new Set(et)}),X&&T&&this.onItemCheckboxClick(v);else if(this._adapter.notifySelect(Y.value),er){if(this._notifyChange(v),this.notifyIfLoadData(v),this._isControlledComponent()){this._adapter.updateStates({activeKeys:new Set(et)}),X&&this.close(o);return}this._adapter.updateStates({activeKeys:new Set(et),selectedKeys:new Set(en)});let _=this.renderDisplayText(Z);H&&this._adapter.updateInputPlaceHolder(_),X?this.close(o,Z):!x&&B&&this.close(o,Z)}else this.close(o)}_handleMultipleSelect(o){let{key:v}=o,{checkedKeys:_,keyEntities:x,resolvedCheckedKeys:w}=this.getStates(),{autoMergeValue:T,max:L,disableStrictly:N,leafOnly:B}=this.getProps(),H=_.has(v),Y=N?this.calcCheckedStatus(!H,v):!H,{checkedKeys:Z,halfCheckedKeys:X}=N?this.calcNonDisabledCheckedKeys(v,Y):this.calcCheckedKeys(v,Y),et=calcMergeType(T,B),en=et===sq.LEAF_ONLY_MERGE_TYPE,er=et===sq.NONE_MERGE_TYPE,ei=new Set(normalizeKeyList(Z,x,en)),ea=er?Z:ei;if(nr()(L)){if(er){if(_.size<Z.size&&Z.size>L){let o=[];Z.forEach(v=>{o.push(x[v])}),this._adapter.notifyOnExceed(o);return}}else if(w.size<ei.size&&ei.size>L){let o=[];ei.forEach(v=>{o.push(x[v])}),this._adapter.notifyOnExceed(o);return}}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:Z,halfCheckedKeys:X,resolvedCheckedKeys:ei}),this._notifyChange(ea),Y&&this._notifySelect(ea),this._adapter.updateStates({inputValue:""})}calcNonDisabledCheckedKeys(o,v){let{keyEntities:_,disabledKeys:x}=this.getStates(),{checkedKeys:w}=this.getCopyFromState(["checkedKeys"]),T=normalizeKeyList(findDescendantKeys([o],_,!1),_,!0),L=T.some(o=>x.has(o));if(!L)return this.calcCheckedKeys(o,v);let N=T.filter(o=>!x.has(o)),B=v?[...N,...w]:oD()(normalizeKeyList([...w],_,!0),N);return calcCheckedKeys(B,_)}calcCheckedStatus(o,v){if(!o)return o;let{checkedKeys:_,keyEntities:x,disabledKeys:w}=this.getStates(),T=normalizeKeyList(findDescendantKeys([v],x,!1),x,!0),L=T.some(o=>w.has(o));if(!L)return o;let N=T.filter(o=>!w.has(o)),B=N.every(o=>_.has(o));return!B}_notifySelect(o){let{keyEntities:v}=this.getStates(),_=[];o.forEach(o=>{if(!e9()(v)&&!e9()(v[o])){let x=v[o].data.value;_.push(x)}});let x=1===_.length?_[0]:_;this._adapter.notifySelect(x)}calcCheckedKeys(o,v){let{keyEntities:_}=this.getStates(),{checkedKeys:x,halfCheckedKeys:w}=this.getCopyFromState(["checkedKeys","halfCheckedKeys"]);return v?calcCheckedKeysForChecked(o,_,x,w):calcCheckedKeysForUnchecked(o,_,x,w)}handleInputChange(o){this._adapter.updateInputValue(o);let{keyEntities:v}=this.getStates(),{treeNodeFilterProp:_,filterTreeNode:x,filterLeafOnly:w}=this.getProps(),T=[];o&&(T=Object.values(v).filter(v=>{let{key:w,_notExist:T,data:L}=v;if(T)return!1;let N=this.getItemPropPath(w,_).join();return filter(o,L,x,!1,N)}).filter(o=>x&&!w||this._isLeaf(o)).map(o=>o.key)),this._adapter.updateStates({isSearching:!!o,filteredKeys:new Set(T)}),this._adapter.notifyOnSearch(o)}handleClear(){let{isSearching:o}=this.getStates(),{searchPlaceholder:v,placeholder:_,multiple:x}=this.getProps(),w=this._isFilterable(),T=this._isControlledComponent(),L={};x?(this._adapter.updateInputValue(""),this._adapter.notifyOnSearch(""),L.checkedKeys=new Set([]),L.halfCheckedKeys=new Set([]),L.selectedKeys=new Set([]),L.activeKeys=new Set([]),L.resolvedCheckedKeys=new Set([]),this._adapter.notifyChange([])):w&&o?(L.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")):(w&&(L.inputValue="",L.inputPlaceHolder=v||_||"",this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")),T||(L.selectedKeys=new Set([])),L.activeKeys=new Set([]),L.filteredKeys=new Set([]),this._adapter.notifyChange([])),this._adapter.updateStates(L),this._adapter.notifyClear(),this._adapter.rePositionDropdown()}handleClearEnterPress(o){utils_isEnterPress(o)&&this.handleClear()}getRenderData(){let{keyEntities:o,isSearching:v}=this.getStates(),_=this._isFilterable();return v&&_?this.getFilteredData():Object.values(o).filter(o=>null===o.parentKey&&!o._notExist).sort((o,v)=>parseInt(o.ind,10)-parseInt(v.ind,10))}getFilteredData(){let{treeNodeFilterProp:o,filterSorter:v}=this.getProps(),{filteredKeys:_,keyEntities:x,inputValue:w}=this.getStates(),T=[],L=[..._];return L.forEach(v=>{let _=x[v];if(!_)return;let w=this.getItemPropPath(v,[]),L=w.map(v=>v[o]),N=this._isOptionDisabled(v,x);T.push({data:_.data,pathData:w,key:v,disabled:N,searchText:L})}),eX()(v)&&T.sort((o,_)=>v(o.pathData,_.pathData,w)),T}handleListScroll(o,v){let{activeKeys:_,keyEntities:x}=this.getStates(),w=[..._][_.size-1],T=w?eH()(x,[w,"data"],null):null;this._adapter.notifyListScroll(o,{panelIndex:v,activeNode:T})}handleTagRemove(o,v){let{keyEntities:_}=this.getStates(),{disabled:x}=this.getProps();if(x)return;let w=Object.values(_).filter(o=>e7()(o.valuePath,v))[0];e9()(w)||w.data.disabled||this._handleMultipleSelect(w)}};_(1723);let CheckboxWithGroup=class CheckboxWithGroup extends iu{};CheckboxWithGroup.Group=CheckboxGroup;var cascader_virtualRow=o=>{let{index:v,data:_,style:x}=o,{visibleOptions:w,renderOption:T}=_,L=w[v];return T(L,v,x)};let sX=sZ.PREFIX_OPTION;let Item=class Item extends eC.PureComponent{renderItem(o){let v,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{multiple:x,checkedKeys:w,halfCheckedKeys:T}=this.props,L=_.length;return _.push(eC.createElement("ul",{role:"menu",className:"".concat(sX,"-list"),key:o[0].key,onScroll:o=>this.props.onListScroll(o,L)},o.map(o=>{let{data:_,key:L,parentKey:N}=o,{children:B,label:H,disabled:Y,isLeaf:Z}=_,{active:X,selected:et,loading:en}=this.getItemStatus(L),er=!!B&&B.length,ei=er||this.props.loadData&&!Z;X&&er&&(v=o);let ea=eM()(sX,{["".concat(sX,"-active")]:X&&!et,["".concat(sX,"-select")]:et&&!x,["".concat(sX,"-disabled")]:Y}),eo=N?{"aria-owns":"cascaderItem-".concat(N)}:{};return eC.createElement("li",Object.assign({role:"menuitem",id:"cascaderItem-".concat(L),"aria-expanded":X,"aria-haspopup":!!ei,"aria-disabled":Y},eo,{className:ea,key:L,onClick:v=>{this.onClick(v,o)},onKeyPress:v=>this.handleItemEnterPress(v,o),onMouseEnter:v=>{this.onHover(v,o)}}),eC.createElement("span",{className:"".concat(sX,"-label")},et&&!x&&this.renderIcon("tick"),!et&&!x&&this.renderIcon("empty"),x&&eC.createElement(CheckboxWithGroup,{onChange:v=>this.onCheckboxChange(v,o),disabled:Y,indeterminate:T.has(o.key),checked:w.has(o.key),className:"".concat(sX,"-label-checkbox")}),eC.createElement("span",null,H)),ei?this.renderIcon(en?"loading":"child",!0):null)}))),v&&_.concat(this.renderItem(v.children,_)),_}renderEmpty(){let{emptyContent:o}=this.props;return eC.createElement(LocaleConsumer,{componentName:"Cascader"},v=>eC.createElement("ul",{className:"".concat(sX," ").concat(sX,"-empty"),key:"empty-list"},eC.createElement("span",{className:"".concat(sX,"-label"),"x-semi-prop":"emptyContent"},o||v.emptyText)))}render(){let o;let{data:v,searchable:_}=this.props,{direction:x}=this.context,w=!v||!v.length,T=eM()({["".concat(sX,"-lists")]:!0,["".concat(sX,"-lists-rtl")]:"rtl"===x,["".concat(sX,"-lists-empty")]:w});return o=w?this.renderEmpty():_?this.renderFlattenOption(v):this.renderItem(v),eC.createElement("div",{className:T},o)}constructor(){super(...arguments),this.onClick=(o,v)=>{let{onItemClick:_}=this.props;v.data.disabled||"disabled"in v&&v.disabled||_(o,v)},this.handleItemEnterPress=(o,v)=>{utils_isEnterPress(o)&&this.onClick(o,v)},this.onHover=(o,v)=>{let{showNext:_,onItemHover:x}=this.props;v.data.disabled||_!==sq.SHOW_NEXT_BY_HOVER||x(o,v)},this.onCheckboxChange=(o,v)=>{let{onItemCheckboxClick:_}=this.props;o.stopPropagation(),o.nativeEvent&&"function"==typeof o.nativeEvent.stopImmediatePropagation&&o.nativeEvent.stopImmediatePropagation(),_(v)},this.getItemStatus=o=>{let{activeKeys:v,selectedKeys:_,loadedKeys:x,loadingKeys:w}=this.props,T={active:!1,selected:!1,loading:!1};return v.has(o)&&(T.active=!0),_.has(o)&&(T.selected=!0),w.has(o)&&!x.has(o)&&(T.loading=!0),T},this.renderIcon=function(o){let v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],finalCls=o=>o+(v?" ".concat(sX,"-icon-left"):"");switch(o){case"child":return eC.createElement(aY,{className:finalCls("".concat(sX,"-icon ").concat(sX,"-icon-expand"))});case"tick":return eC.createElement(tA,{className:finalCls("".concat(sX,"-icon ").concat(sX,"-icon-active"))});case"loading":return eC.createElement(nh,{wrapperClassName:finalCls("".concat(sX,"-spin-icon"))});case"empty":return eC.createElement("span",{"aria-hidden":!0,className:finalCls("".concat(sX,"-icon ").concat(sX,"-icon-empty"))});default:return null}},this.highlight=o=>{let v=[],{keyword:_,separator:x}=this.props;return o.forEach((w,T)=>{"string"==typeof w&&aj()(w,_)?w.split(_).forEach((o,x)=>{x>0&&v.push(eC.createElement("span",{className:"".concat(sX,"-label-highlight"),key:"".concat(x,"-").concat(T)},_)),v.push(o)}):v.push(w),T!==o.length-1&&v.push(x)}),v},this.renderFlattenOptionItem=(o,v,_)=>{var x;let{multiple:w,selectedKeys:T,checkedKeys:L,halfCheckedKeys:N,keyword:B,filterRender:H,virtualize:Y}=this.props,{searchText:Z,key:X,disabled:et,pathData:en}=o,er=T.has(X),ei=eM()(sX,{["".concat(sX,"-flatten")]:!H,["".concat(sX,"-disabled")]:et,["".concat(sX,"-select")]:er&&!w}),onClick=v=>{this.onClick(v,o)},onCheck=v=>this.onCheckboxChange(v,o);if(H){let v={className:ei,inputValue:B,disabled:et,data:en,checkStatus:{checked:L.has(o.key),halfChecked:N.has(o.key)},selected:er,onClick,onCheck},w=H(v),T=Y?{key:X,style:Object.assign(Object.assign({},null!==(x=w.props.style)&&void 0!==x?x:{}),_)}:{key:X};return eC.cloneElement(w,T)}return eC.createElement("li",{role:"menuitem",className:ei,style:_,key:X,onClick:onClick,onKeyPress:v=>this.handleItemEnterPress(v,o)},eC.createElement("span",{className:"".concat(sX,"-label")},!w&&this.renderIcon("empty"),w&&eC.createElement(CheckboxWithGroup,{onChange:onCheck,disabled:et,indeterminate:N.has(o.key),checked:L.has(o.key),className:"".concat(sX,"-label-checkbox")}),this.highlight(Z)))},this.renderFlattenOption=o=>{let{virtualize:v}=this.props,_=eC.createElement("ul",{className:"".concat(sX,"-list"),key:"flatten-list"},v?this.renderVirtualizeList(o):o.map(o=>this.renderFlattenOptionItem(o)));return _},this.renderVirtualizeList=o=>{var v;let{direction:_}=this.context,{virtualize:x}=this.props;return eC.createElement(r6,{height:x.height,itemCount:o.length,itemSize:x.itemSize,itemData:{visibleOptions:o,renderOption:this.renderFlattenOptionItem},width:null!==(v=x.width)&&void 0!==v?v:"100%",style:{direction:_}},cascader_virtualRow)}}};Item.contextType=tm,Item.propTypes={data:eI().array,emptyContent:eI().node,searchable:eI().bool,onItemClick:eI().func,onItemHover:eI().func,multiple:eI().bool,showNext:eI().oneOf([sq.SHOW_NEXT_BY_CLICK,sq.SHOW_NEXT_BY_HOVER]),checkedKeys:eI().object,halfCheckedKeys:eI().object,onItemCheckboxClick:eI().func,separator:eI().string,keyword:eI().string,virtualize:eI().object},Item.defaultProps={empty:!1};let s$=sZ.PREFIX;let Cascader=class Cascader extends BaseComponent{get adapter(){var o=this;return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),{updateInputValue:o=>{this.setState({inputValue:o})},updateInputPlaceHolder:o=>{this.setState({inputPlaceHolder:o})},focusInput:()=>{let{preventScroll:o}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:o})},blurInput:()=>{this.inputRef&&this.inputRef.current&&this.inputRef.current.blur()}}),{registerClickOutsideHandler:o=>{let clickOutsideHandler=v=>{let _=this.optionsRef&&this.optionsRef.current,x=this.triggerRef&&this.triggerRef.current,w=ti.findDOMNode(_),T=v.target;!w||w.contains(T)&&w.contains(T.parentNode)||!x||x.contains(T)||o(v)};this.clickOutsideHandler=clickOutsideHandler,document.addEventListener("mousedown",clickOutsideHandler,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1)},rePositionDropdown:()=>{let{rePosKey:o}=this.state;o+=1,this.setState({rePosKey:o})}}),{updateStates:o=>{this.setState(Object.assign({},o))},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:o=>{this.setState({isOpen:!1},()=>{o&&o()})},updateSelection:o=>this.setState({selectedKeys:o}),notifyChange:o=>{this.props.onChange&&this.props.onChange(o)},notifySelect:o=>{this.props.onSelect&&this.props.onSelect(o)},notifyOnSearch:o=>{this.props.onSearch&&this.props.onSearch(o)},notifyFocus:function(){o.props.onFocus&&o.props.onFocus(...arguments)},notifyBlur:function(){o.props.onBlur&&o.props.onBlur(...arguments)},notifyDropdownVisibleChange:o=>{this.props.onDropdownVisibleChange(o)},toggleHovering:o=>{this.setState({isHovering:o})},notifyLoadData:(o,v)=>{let{loadData:_}=this.props;_&&new Promise(x=>{_(o).then(()=>{v(),this.setState({loading:!1}),x()})})},notifyOnLoad:(o,v)=>{let{onLoad:_}=this.props;_&&_(o,v)},notifyListScroll:(o,v)=>{let{panelIndex:_,activeNode:x}=v;this.props.onListScroll(o,{panelIndex:_,activeNode:x})},notifyOnExceed:o=>this.props.onExceed(o),notifyClear:()=>this.props.onClear(),toggleInputShow:(o,v)=>{this.setState({showInput:o},()=>{v()})},updateFocusState:o=>{this.setState({isFocus:o})},updateLoadingKeyRefValue:o=>{this.loadingKeysRef.current=o},getLoadingKeyRefValue:()=>this.loadingKeysRef.current,updateLoadedKeyRefValue:o=>{this.loadedKeysRef.current=o},getLoadedKeyRefValue:()=>this.loadedKeysRef.current})}static getDerivedStateFromProps(o,v){let{multiple:_,value:x,defaultValue:w,onChangeWithObject:T,leafOnly:L,autoMergeValue:N}=o,{prevProps:B}=v,H=v.keyEntities||{},Y={},needUpdate=v=>{let _=e9()(B)&&v in o,x=B&&!e7()(B[v],o[v]);return _||x},getRealKeys=(o,v)=>{let _=[];Array.isArray(o)?_=Array.isArray(o[0])?o:[o]:void 0!==o&&(_=[[o]]);let x=[];_.forEach(o=>{let v=T?o.map(o=>null==o?void 0:o.value):o;x.push(v)});let w=[];return x.forEach(o=>{let _=util_findKeysForValues(o,v);e9()(_)||w.push(_)}),w},Z=needUpdate("treeData")||(()=>{let v=!B&&"treeData"in o,_=B&&B.treeData!==o.treeData;return v||_})(),X=needUpdate("value")||e9()(B)&&w;if(_&&(Z||X)){Z&&(Y.treeData=o.treeData,H=util_convertDataToEntities(o.treeData),Y.keyEntities=H);let _=v.checkedKeys;if(X){let o=needUpdate("value")?x:w;_=getRealKeys(o,H)}else Z&&"value"in o&&(_=getRealKeys(x,H));aB()(_)&&(_=[..._]);let T=calcCheckedKeys(sW()(_),H),B=new Set(T.checkedKeys),et=new Set(T.halfCheckedKeys);o.disableStrictly&&(Y.disabledKeys=calcDisabledKeys(H));let en=calcMergeType(N,L)===sq.LEAF_ONLY_MERGE_TYPE;Y.prevProps=o,Y.checkedKeys=B,Y.halfCheckedKeys=et,Y.resolvedCheckedKeys=new Set(normalizeKeyList(B,H,en))}return Y}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(o){let v=!1;e7()(o.treeData,this.props.treeData)||(v=!0,this.foundation.collectOptions()),o.value===this.props.value||v||this.foundation.handleValueChange(this.props.value)}renderTagInput(){let{size:o,disabled:v,placeholder:_,maxTagCount:x,showRestTagsPopover:w,restTagsPopoverProps:T}=this.props,{inputValue:L,checkedKeys:N,keyEntities:B,resolvedCheckedKeys:H}=this.state,Y=eM()("".concat(s$,"-tagInput-wrapper")),Z=[],X=this.mergeType===sq.NONE_MERGE_TYPE?N:H;return[...X].forEach(o=>{e9()(B[o])||Z.push(B[o].valuePath)}),eC.createElement(TagInput,{className:Y,ref:this.inputRef,disabled:v,size:o,value:Z,showRestTagsPopover:w,restTagsPopoverProps:T,maxTagCount:x,renderTagItem:(o,v)=>this.renderTagItem(o,v,sq.IS_VALUE),inputValue:L,onInputChange:this.handleInputChange,onRemove:o=>this.handleTagRemove(null,o),placeholder:_,expandRestTagsOnClick:!1})}renderInput(){let{size:o,disabled:v}=this.props,_=eM()("".concat(s$,"-input")),{inputValue:x,inputPlaceHolder:w,showInput:T}=this.state,L={disabled:v,value:x,className:_,onChange:this.handleInputChange},N=eM()({["".concat(s$,"-search-wrapper")]:!0,["".concat(s$,"-search-wrapper-").concat(o)]:"default"!==o}),B=this.renderDisplayText(),H=eM()({["".concat(s$,"-selection-placeholder")]:!B,["".concat(s$,"-selection-text-hide")]:T&&x,["".concat(s$,"-selection-text-inactive")]:T&&!x});return eC.createElement("div",{className:N},eC.createElement("span",{className:H},B||w),T&&eC.createElement(rs,Object.assign({ref:this.inputRef,size:o},L)))}close(){this.foundation.close()}open(){this.foundation.open()}focus(){this.foundation.focus()}blur(){this.foundation.blur()}render(){let{zIndex:o,getPopupContainer:v,autoAdjustOverflow:_,stopPropagation:x,mouseLeaveDelay:w,mouseEnterDelay:T,position:L,motion:N,dropdownMargin:B}=this.props,{isOpen:H,rePosKey:Y}=this.state,{direction:Z}=this.context,X=this.renderContent(),et=this.renderSelection();return eC.createElement(Popover,{getPopupContainer:v,zIndex:o,motion:N,margin:B,ref:this.optionsRef,content:X,visible:H,trigger:"custom",rePosKey:Y,position:null!=L?L:"rtl"===Z?"bottomRight":"bottomLeft",autoAdjustOverflow:_,stopPropagation:x,mouseLeaveDelay:w,mouseEnterDelay:T,afterClose:()=>this.foundation.updateSearching(!1)},et)}constructor(o){super(o),this.handleInputChange=o=>{this.foundation.handleInputChange(o)},this.handleTagRemove=(o,v)=>{this.foundation.handleTagRemove(o,v)},this.handleRemoveByKey=o=>{let{keyEntities:v}=this.state;this.handleTagRemove(null,v[o].valuePath)},this.renderTagItem=(o,v,_)=>{let{keyEntities:x,disabledKeys:w}=this.state,{size:T,disabled:L,displayProp:N,displayRender:B,disableStrictly:H}=this.props,Y=_===sq.IS_VALUE?util_findKeysForValues(o,x)[0]:o,Z=L||x[Y].data.disabled||H&&w.has(Y);if(!e9()(x)&&!e9()(x[Y])){let o=eM()("".concat(s$,"-selection-tag"),{["".concat(s$,"-selection-tag-disabled")]:Z});return eX()(B)?B(x[Y],v):eC.createElement(Tag,{size:"default"===T?"large":T,key:"tag-".concat(Y,"-").concat(v),color:"white",className:o,closable:!0,onClose:(o,v)=>{v.preventDefault(),this.handleTagRemove(v,x[Y].valuePath)}},x[Y].data[N])}return null},this.handleItemClick=(o,v)=>{this.foundation.handleItemClick(o,v)},this.handleItemHover=(o,v)=>{this.foundation.handleItemHover(o,v)},this.onItemCheckboxClick=o=>{this.foundation.onItemCheckboxClick(o)},this.handleListScroll=(o,v)=>{this.foundation.handleListScroll(o,v)},this.renderContent=()=>{let{inputValue:o,isSearching:v,activeKeys:_,selectedKeys:x,checkedKeys:w,halfCheckedKeys:T,loadedKeys:L,loadingKeys:N}=this.state,{filterTreeNode:B,dropdownClassName:H,dropdownStyle:Y,loadData:Z,emptyContent:X,separator:et,topSlot:en,bottomSlot:er,showNext:ei,multiple:ea,filterRender:eo,virtualizeInSearch:el}=this.props,eu=eM()(H,"".concat(s$,"-popover")),ec=this.foundation.getRenderData(),ed=eC.createElement("div",{className:eu,role:"listbox",style:Y},en,eC.createElement(Item,{activeKeys:_,selectedKeys:x,separator:et,loadedKeys:L,loadingKeys:N,onItemClick:this.handleItemClick,onItemHover:this.handleItemHover,showNext:ei,onItemCheckboxClick:this.onItemCheckboxClick,onListScroll:this.handleListScroll,searchable:!!B&&v,keyword:o,emptyContent:X,loadData:Z,data:ec,multiple:ea,checkedKeys:w,halfCheckedKeys:T,filterRender:eo,virtualize:el}),er);return ed},this.renderPlusN=o=>{let{disabled:v,showRestTagsPopover:_,restTagsPopoverProps:x}=this.props,w=eM()("".concat(s$,"-selection-n"),{["".concat(s$,"-selection-n-disabled")]:v}),T=eC.createElement("span",{className:w},"+",o.length);return _?eC.createElement(Popover,Object.assign({content:o,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},x),T):T},this.renderMultipleTags=()=>{let{autoMergeValue:o,maxTagCount:v}=this.props,{checkedKeys:_,resolvedCheckedKeys:x}=this.state,w=this.mergeType===sq.NONE_MERGE_TYPE?_:x,T=[],L=[];return[...w].forEach((o,_)=>{let x=!nr()(v)||v>=_+1,w=this.renderTagItem(o,_,sq.IS_KEY);x?T.push(w):L.push(w)}),eC.createElement(eC.Fragment,null,T,!e9()(L)&&this.renderPlusN(L))},this.renderDisplayText=()=>{let{displayProp:o,separator:v,displayRender:_}=this.props,{selectedKeys:x}=this.state,w="";if(x.size){let T=this.foundation.getItemPropPath([...x][0],o);w=_&&"function"==typeof _?_(T):T.map((o,_)=>eC.createElement(eC.Fragment,{key:"".concat(o,"-").concat(_)},_<T.length-1?eC.createElement(eC.Fragment,null,o,v):o))}return w},this.renderSelectContent=()=>{let{placeholder:o,filterTreeNode:v,multiple:_}=this.props,{checkedKeys:x}=this.state;if(!v){if(_)return e9()(x)?eC.createElement("span",{className:"".concat(s$,"-selection-placeholder")},o):this.renderMultipleTags();{let v=this.renderDisplayText(),_=eM()({["".concat(s$,"-selection-placeholder")]:!v});return eC.createElement("span",{className:_},v||o)}}let w=_?this.renderTagInput():this.renderInput();return w},this.renderSuffix=()=>{let{suffix:o}=this.props,v=eM()({["".concat(s$,"-suffix")]:!0,["".concat(s$,"-suffix-text")]:o&&e0()(o),["".concat(s$,"-suffix-icon")]:isSemiIcon(o)});return eC.createElement("div",{className:v,"x-semi-prop":"suffix"},o)},this.renderPrefix=()=>{let{prefix:o,insetLabel:v,insetLabelId:_}=this.props,x=o||v,w=eM()({["".concat(s$,"-prefix")]:!0,["".concat(s$,"-inset-label")]:v,["".concat(s$,"-prefix-text")]:x&&e0()(x),["".concat(s$,"-prefix-icon")]:isSemiIcon(x)});return eC.createElement("div",{className:w,id:_,"x-semi-prop":"prefix,insetLabel"},x)},this.renderCustomTrigger=()=>{let o;let{disabled:v,triggerRender:_,multiple:x}=this.props,{selectedKeys:w,inputValue:T,inputPlaceHolder:L,resolvedCheckedKeys:N,checkedKeys:B}=this.state;return o=x?this.mergeType===sq.NONE_MERGE_TYPE?B:N:[...w][0],eC.createElement(Trigger,{value:o,inputValue:T,onChange:this.handleInputChange,onClear:this.handleClear,placeholder:L,disabled:v,triggerRender:_,componentName:"Cascader",componentProps:Object.assign({},this.props),onSearch:this.handleInputChange,onRemove:this.handleRemoveByKey})},this.handleMouseOver=()=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=()=>{this.foundation.toggleHoverState(!1)},this.handleClear=o=>{o&&o.stopPropagation(),this.foundation.handleClear()},this.handleClearEnterPress=o=>{o&&o.stopPropagation(),this.foundation.handleClearEnterPress(o)},this.showClearBtn=()=>{let{showClear:o,disabled:v,multiple:_}=this.props,{selectedKeys:x,isOpen:w,isHovering:T,checkedKeys:L}=this.state,N=x.size,B=_&&L.size;return o&&(N||B)&&!v&&(w||T)},this.renderClearBtn=()=>{let o=eM()("".concat(s$,"-clearbtn")),{clearIcon:v}=this.props,_=this.showClearBtn();return _?eC.createElement("div",{className:o,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress,role:"button",tabIndex:0},v||eC.createElement(n6,null)):null},this.renderArrow=()=>{let{arrowIcon:o}=this.props,v=this.showClearBtn();return v?null:o?eC.createElement("div",{className:eM()("".concat(s$,"-arrow")),"x-semi-prop":"arrowIcon"},o):null},this.renderSelection=()=>{let{disabled:o,multiple:v,filterTreeNode:_,style:x,size:w,className:T,validateStatus:L,prefix:N,suffix:B,insetLabel:H,triggerRender:Y,showClear:Z,id:X,borderless:et}=this.props,{isOpen:en,isFocus:er,isInput:ei,checkedKeys:ea}=this.state,eo="function"==typeof Y,el=eo?eM()(T):eM()(s$,T,{["".concat(s$,"-borderless")]:et,["".concat(s$,"-focus")]:er||en&&!ei,["".concat(s$,"-disabled")]:o,["".concat(s$,"-single")]:!0,["".concat(s$,"-filterable")]:!!_,["".concat(s$,"-error")]:"error"===L,["".concat(s$,"-warning")]:"warning"===L,["".concat(s$,"-small")]:"small"===w,["".concat(s$,"-large")]:"large"===w,["".concat(s$,"-with-prefix")]:N||H,["".concat(s$,"-with-suffix")]:B}),eu=eM()("".concat(s$,"-selection"),{["".concat(s$,"-selection-multiple")]:v&&!e9()(ea)}),ec=eo?this.renderCustomTrigger():[eC.createElement(eC.Fragment,{key:"prefix"},N||H?this.renderPrefix():null),eC.createElement(eC.Fragment,{key:"selection"},eC.createElement("div",{className:eu},this.renderSelectContent())),eC.createElement(eC.Fragment,{key:"clearbtn"},this.renderClearBtn()),eC.createElement(eC.Fragment,{key:"suffix"},B?this.renderSuffix():null),eC.createElement(eC.Fragment,{key:"arrow"},this.renderArrow())];return eC.createElement("div",Object.assign({className:el,style:x,ref:this.triggerRef,onClick:o=>this.foundation.handleClick(o),onKeyPress:o=>this.foundation.handleSelectionEnterPress(o),"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],id:X},Z?{onMouseEnter:()=>this.handleMouseOver(),onMouseLeave:()=>this.handleMouseLeave()}:{},{role:"combobox",tabIndex:0},this.getDataAttr(this.props)),ec)},this.state={disabledKeys:new Set,isOpen:o.defaultOpen,rePosKey:0,keyEntities:{},selectedKeys:new Set([]),activeKeys:new Set([]),filteredKeys:new Set([]),inputValue:"",isSearching:!1,inputPlaceHolder:o.searchPlaceholder||o.placeholder,prevProps:{},isHovering:!1,checkedKeys:new Set([]),halfCheckedKeys:new Set([]),resolvedCheckedKeys:new Set([]),loadedKeys:new Set,loadingKeys:new Set,loading:!1,showInput:!1},this.options={},this.isEmpty=!1,this.mergeType=calcMergeType(o.autoMergeValue,o.leafOnly),this.inputRef=eC.createRef(),this.triggerRef=eC.createRef(),this.optionsRef=eC.createRef(),this.clickOutsideHandler=null,this.foundation=new CascaderFoundation(this.adapter),this.loadingKeysRef=eC.createRef(),this.loadedKeysRef=eC.createRef()}};Cascader.contextType=tm,Cascader.propTypes={"aria-labelledby":eI().string,"aria-invalid":eI().bool,"aria-errormessage":eI().string,"aria-describedby":eI().string,"aria-required":eI().bool,"aria-label":eI().string,arrowIcon:eI().node,borderless:eI().bool,clearIcon:eI().node,changeOnSelect:eI().bool,defaultValue:eI().oneOfType([eI().string,eI().array]),disabled:eI().bool,dropdownClassName:eI().string,dropdownStyle:eI().object,dropdownMargin:eI().oneOfType([eI().number,eI().object]),emptyContent:eI().node,motion:eI().bool,filterTreeNode:eI().oneOfType([eI().func,eI().bool]),filterLeafOnly:eI().bool,placeholder:eI().string,searchPlaceholder:eI().string,size:eI().oneOf(sq.SIZE_SET),style:eI().object,className:eI().string,treeData:eI().arrayOf(eI().shape({value:eI().oneOfType([eI().string,eI().number]),label:eI().any})),treeNodeFilterProp:eI().string,suffix:eI().node,prefix:eI().node,insetLabel:eI().node,insetLabelId:eI().string,id:eI().string,displayProp:eI().string,displayRender:eI().func,onChange:eI().func,onSearch:eI().func,onSelect:eI().func,onBlur:eI().func,onFocus:eI().func,children:eI().node,getPopupContainer:eI().func,zIndex:eI().number,value:eI().oneOfType([eI().string,eI().number,eI().array]),validateStatus:eI().oneOf(sq.VALIDATE_STATUS),showNext:eI().oneOf([sq.SHOW_NEXT_BY_CLICK,sq.SHOW_NEXT_BY_HOVER]),stopPropagation:eI().oneOfType([eI().bool,eI().string]),showClear:eI().bool,defaultOpen:eI().bool,autoAdjustOverflow:eI().bool,onDropdownVisibleChange:eI().func,triggerRender:eI().func,onListScroll:eI().func,onChangeWithObject:eI().bool,bottomSlot:eI().node,topSlot:eI().node,multiple:eI().bool,autoMergeValue:eI().bool,maxTagCount:eI().number,showRestTagsPopover:eI().bool,restTagsPopoverProps:eI().object,max:eI().number,separator:eI().string,onExceed:eI().func,onClear:eI().func,loadData:eI().func,onLoad:eI().func,loadedKeys:eI().array,disableStrictly:eI().bool,leafOnly:eI().bool,enableLeafClick:eI().bool,preventScroll:eI().bool,position:eI().string},Cascader.defaultProps={borderless:!1,leafOnly:!1,arrowIcon:eC.createElement(rT,null),stopPropagation:!0,motion:!0,defaultOpen:!1,zIndex:tB.DEFAULT_Z_INDEX,showClear:!1,autoClearSearchValue:!0,changeOnSelect:!1,disableStrictly:!1,autoMergeValue:!0,multiple:!1,filterTreeNode:!1,filterLeafOnly:!0,showRestTagsPopover:!1,restTagsPopoverProps:{},separator:" / ",size:"default",treeNodeFilterProp:"label",displayProp:"label",treeData:[],showNext:sq.SHOW_NEXT_BY_CLICK,onExceed:eE(),onClear:eE(),onDropdownVisibleChange:eE(),onListScroll:eE(),enableLeafClick:!1,"aria-label":"Cascader"};let sQ={PREFIX:`${eO.T}-rating`},sJ={SIZE_SET:["default","small"]};function IconStar_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{d:"M10.7525 1.90411C11.1451 0.698628 12.8549 0.698631 13.2475 1.90411L15.2395 8.01946H21.6858C22.9565 8.01946 23.4848 9.64143 22.4568 10.3865L17.2417 14.1659L19.2337 20.2813C19.6263 21.4868 18.2431 22.4892 17.2151 21.7442L12 17.9647L6.78489 21.7442C5.75687 22.4892 4.37368 21.4868 4.76635 20.2813L6.75834 14.1659L1.54323 10.3865C0.515206 9.64142 1.04354 8.01946 2.31425 8.01946H8.76048L10.7525 1.90411Z",fill:"currentColor"}))}_(5194);let s0=convertIcon(IconStar_SvgComponent,"star");let RatingFoundation=class RatingFoundation extends eU{constructor(o){super(Object.assign(Object.assign({},RatingFoundation.defaultAdapter),o)),this.handleStarFocusVisible=o=>{let{target:v}=o,{count:_}=this.getProps();try{v.matches(":focus-visible")&&this._adapter.setEmptyStarFocusVisible(!0)}catch(o){warning(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleStarBlur=o=>{let{emptyStarFocusVisible:v}=this.getStates();v&&this._adapter.setEmptyStarFocusVisible(!1)}}init(){let{autoFocus:o,disabled:v}=this.getProps();o&&!v&&this._adapter.focus()}_getScroll(o,v){let _=v?o.pageYOffset:o.pageXOffset,x=v?"scrollTop":"scrollLeft";if("number"!=typeof _){let v=o.document;"number"!=typeof(_=v.documentElement[x])&&(_=v.body[x])}return _}_getClientPosition(o){let v,_;let x=o.ownerDocument,{body:w}=x,T=x&&x.documentElement,L=o.getBoundingClientRect();return v=L.left,_=L.top,{left:v-=T.clientLeft||w.clientLeft||0,top:_-=T.clientTop||w.clientTop||0}}_getOffsetLeft(o){let v=this._getClientPosition(o),_=o.ownerDocument,x=_.defaultView||_.parentWindow;return v.left+=this._getScroll(x),v.left}getStarValue(o,v){let{allowHalf:_}=this.getProps(),x=this._adapter.getContext("direction"),w="rtl"===x,T=o+1;if(_){let _=this._adapter.getStarDOM(o),x=this._getOffsetLeft(_),L=_.clientWidth;w&&v-x>L/2?T-=.5:!w&&v-x<L/2&&(T-=.5)}return T}handleHover(o,v){let _=this.getStarValue(v,o.pageX),{clearedValue:x,hoverValue:w}=this.getStates();_!==w&&_!==x&&this._adapter.notifyHoverChange(_,null)}handleMouseLeave(){this._adapter.notifyHoverChange(void 0,null)}handleClick(o,v){let{allowClear:_}=this.getProps(),{value:x}=this.getStates(),w=this.getStarValue(v,o.pageX),T=!!_&&w===x;this._adapter.updateValue(T?0:w),T?this._adapter.notifyHoverChange(void 0,w):this._adapter.clearValue(null)}handleFocus(o){this._adapter.notifyFocus(o)}handleBlur(o){this._adapter.notifyBlur(o)}handleKeyDown(o,v){let _,x;let{key:w}=o,{count:T,allowHalf:L}=this.getProps(),N=this._adapter.getContext("direction"),B="rtl"===N,H=L?.5:1;"ArrowRight"===w||"ArrowUp"===w?_=v+(B?-H:H):("ArrowLeft"===w||"ArrowDown"===w)&&(_=v+(B?H:-H)),x=_>T?0:_<0?T:_,["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(w)&&(this._adapter.notifyKeyDown(o),this._adapter.updateValue(x),this.changeFocusStar(x,o),o.preventDefault(),this._adapter.notifyHoverChange(void 0,null))}changeFocusStar(o,v){let{count:_,allowHalf:x,preventScroll:w}=this.getProps(),T=Math.ceil(o)-1,L=[...v.currentTarget.childNodes].map(o=>o.childNodes[0].childNodes);T<0?L[_][0].focus({preventScroll:w}):L[T][x?10*o%10==5?0:1:0].focus({preventScroll:w})}};let RatingItemFoundation=class RatingItemFoundation extends eU{constructor(o){super(Object.assign(Object.assign({},RatingItemFoundation.defaultAdapter),o)),this.handleFocusVisible=(o,v)=>{let{target:_}=o;try{_.matches(":focus-visible")&&("first"===v?this._adapter.setFirstStarFocus(!0):this._adapter.setSecondStarFocus(!0))}catch(o){warning(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleBlur=(o,v)=>{let{firstStarFocus:_,secondStarFocus:x}=this.getStates();"first"===v?_&&this._adapter.setFirstStarFocus(!1):x&&this._adapter.setSecondStarFocus(!1)}}};let item_Item=class item_Item extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{setFirstStarFocus:o=>{this.setState({firstStarFocus:o})},setSecondStarFocus:o=>{this.setState({secondStarFocus:o})}})}render(){let{index:o,prefixCls:v,character:_,count:x,value:w,disabled:T,allowHalf:L,focused:N,size:B,ariaLabelPrefix:H}=this.props,{firstStarFocus:Y,secondStarFocus:Z}=this.state,X=o+1,et=X-w,en=L&&et<1&&et>0,er="number"==typeof B,ei=eM()(v,{["".concat(v,"-half")]:en,["".concat(v,"-full")]:X<=w,["".concat(v,"-").concat(B)]:!er}),ea=er?{width:B,height:B,fontSize:B}:{},eo=er?"inherit":"small"===B?"default":"extra-large",el=_||eC.createElement(s0,{size:eo,style:{display:"block"}}),eu=o===x,ec=eM()("".concat(v,"-wrapper"),{["".concat(v,"-disabled")]:T,["".concat(sQ.PREFIX,"-focus")]:(Y||Z)&&0!==w}),ed={onClick:T?null:this.onClick,onKeyDown:T?null:this.onKeyDown,onMouseMove:T?null:this.onHover,className:ec},eh=L?2*x+1:x+1,ep={ref:this.saveFirstStar,role:"radio","aria-checked":w===o+.5,"aria-posinset":2*o+1,"aria-setsize":eh,"aria-disabled":T,"aria-label":"".concat(o+.5," ").concat(H,"s"),"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:eM()("".concat(v,"-first"),"".concat(sQ.PREFIX,"-no-focus")),tabIndex:T||w!==o+.5?-1:0,onFocus:o=>{this.onFocus(o,"first")},onBlur:o=>{this.onBlur(o,"first")}},ef=!T&&(w===o+1||eu&&0===w)?0:-1,eg={ref:this.saveSecondStar,role:"radio","aria-checked":eu?0===w:w===o+1,"aria-posinset":L?2*(o+1):o+1,"aria-setsize":eh,"aria-disabled":T,"aria-label":"".concat(eu?0:o+1," ").concat(H).concat(0===o?"":"s"),"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:eM()("".concat(v,"-second"),"".concat(sQ.PREFIX,"-no-focus")),tabIndex:ef,onFocus:o=>{this.onFocus(o,"second")},onBlur:o=>{this.onBlur(o,"second")}};return eC.createElement("li",{className:ei,style:Object.assign({},ea),key:o},eC.createElement("div",Object.assign({},ed),L&&!eu&&eC.createElement("div",Object.assign({},ep,{style:{width:"".concat(100*(1-et),"%")}}),el),eC.createElement("div",Object.assign({},eg,{"x-semi-prop":"character"}),el)))}constructor(o){super(o),this.firstStar=null,this.secondStar=null,this.onHover=o=>{let{onHover:v,index:_}=this.props;v(o,_)},this.onClick=o=>{let{onClick:v,index:_}=this.props;v(o,_)},this.onFocus=(o,v)=>{let{onFocus:_}=this.props;_&&_(o),this.foundation.handleFocusVisible(o,v)},this.onBlur=(o,v)=>{let{onBlur:_}=this.props;_&&_(o),this.foundation.handleBlur(o,v)},this.onKeyDown=o=>{let{onClick:v,index:_}=this.props;13===o.keyCode&&v(o,_)},this.starFocus=()=>{let{value:o,index:v,preventScroll:_}=this.props;o-v==.5?this.firstStar.focus({preventScroll:_}):this.secondStar.focus({preventScroll:_})},this.saveFirstStar=o=>{this.firstStar=o},this.saveSecondStar=o=>{this.secondStar=o},this.state={firstStarFocus:!1,secondStarFocus:!1},this.foundation=new RatingItemFoundation(this.adapter)}};item_Item.propTypes={value:eI().number,index:eI().number,prefixCls:eI().string,allowHalf:eI().bool,onHover:eI().func,onClick:eI().func,character:eI().node,focused:eI().bool,disabled:eI().bool,count:eI().number,ariaLabelPrefix:eI().string,size:eI().oneOfType([eI().oneOf(sJ.SIZE_SET),eI().number]),"aria-describedby":eI().string,onFocus:eI().func,onBlur:eI().func,preventScroll:eI().bool};var rating_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let Rating=class Rating extends BaseComponent{static getDerivedStateFromProps(o,v){return"value"in o&&void 0!==o.value?Object.assign(Object.assign({},v),{value:o.value}):v}get adapter(){return Object.assign(Object.assign({},super.adapter),{focus:()=>{let{disabled:o,count:v}=this.props,{value:_}=this.state;if(!o){let o=Math.ceil(_)-1;this.stars[o<0?v:o].starFocus()}},getStarDOM:o=>{let v=this.stars&&this.stars[o];return ti.findDOMNode(v)},notifyHoverChange:(o,v)=>{let{onHoverChange:_}=this.props;this.setState({hoverValue:o,clearedValue:v}),_(o)},updateValue:o=>{let{onChange:v}=this.props;"value"in this.props||this.setState({value:o}),v(o)},clearValue:o=>{this.setState({clearedValue:o})},notifyFocus:o=>{let{onFocus:v}=this.props;this.setState({focused:!0}),v&&v(o)},notifyBlur:o=>{let{onBlur:v}=this.props;this.setState({focused:!1}),v&&v(o)},notifyKeyDown:o=>{let{onKeyDown:v}=this.props;this.setState({focused:!1}),v&&v(o)},setEmptyStarFocusVisible:o=>{this.setState({emptyStarFocusVisible:o})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){let o=this.props,{style:v,prefixCls:_,disabled:x,className:w,id:T,count:L,tabIndex:N}=o,B=rating_rest(o,["style","prefixCls","disabled","className","id","count","tabIndex"]),{value:H,emptyStarFocusVisible:Y}=this.state,Z=this.getAriaLabelPrefix(),X="Rating: ".concat(H," of ").concat(L," ").concat(Z).concat(1===H?"":"s",","),et=this.getItemList(Z),en=eM()(_,{["".concat(_,"-disabled")]:x,["".concat(_,"-focus")]:Y},w);return eC.createElement("ul",Object.assign({"aria-label":X,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],className:en,style:v,onMouseLeave:x?function_noop:this.onMouseLeave,tabIndex:x?-1:N,onFocus:x?function_noop:this.onFocus,onBlur:x?function_noop:this.onBlur,onKeyDown:x?function_noop:this.onKeyDown,ref:this.saveRate,id:T},this.getDataAttr(B)),et)}constructor(o){super(o),this.rate=null,this.onHover=(o,v)=>{this.foundation.handleHover(o,v)},this.onMouseLeave=()=>{this.foundation.handleMouseLeave()},this.onClick=(o,v)=>{this.foundation.handleClick(o,v)},this.onFocus=o=>{this.foundation.handleFocus(o)},this.onBlur=o=>{this.foundation.handleBlur(o)},this.onKeyDown=o=>{let{value:v}=this.state;this.foundation.handleKeyDown(o,v)},this.focus=()=>{let{disabled:o,preventScroll:v}=this.props;o||this.rate.focus({preventScroll:v})},this.blur=()=>{let{disabled:o}=this.props;o||this.rate.blur()},this.saveRef=o=>v=>{this.stars[o]=v},this.saveRate=o=>{this.rate=o},this.handleStarFocusVisible=o=>{this.foundation.handleStarFocusVisible(o)},this.handleStarBlur=o=>{this.foundation.handleStarBlur(o)},this.getAriaLabelPrefix=()=>{if(this.props["aria-label"])return this.props["aria-label"];let o="star",{character:v}=this.props;return"string"==typeof v&&(o=v),o},this.getItemList=o=>{let{count:v,allowHalf:_,prefixCls:x,disabled:w,character:T,size:L,tooltips:N}=this.props,{value:B,hoverValue:H,focused:Y}=this.state,Z=[...Array(v+1).keys()].map(Z=>{let X=eC.createElement(item_Item,{ref:this.saveRef(Z),index:Z,count:v,prefixCls:"".concat(x,"-star"),allowHalf:_,value:void 0===H?B:H,onClick:w?function_noop:this.onClick,onHover:w?function_noop:this.onHover,key:Z,disabled:w,character:T,focused:Y,size:Z===v?0:L,ariaLabelPrefix:o,onFocus:w||v!==Z?function_noop:this.handleStarFocusVisible,onBlur:w||v!==Z?function_noop:this.handleStarBlur});if(N){let o=N[Z]?N[Z]:"",v=H-1===Z;return eC.createElement(Tooltip,{visible:v,trigger:"custom",content:o,key:"".concat(Z,"-").concat(v)},X)}return X});return Z};let v=void 0===o.value?o.defaultValue:o.value;this.stars={},this.state={value:v,focused:!1,hoverValue:void 0,clearedValue:null,emptyStarFocusVisible:!1},this.foundation=new RatingFoundation(this.adapter)}};Rating.contextType=tm,Rating.propTypes={"aria-describedby":eI().string,"aria-errormessage":eI().string,"aria-invalid":eI().bool,"aria-label":eI().string,"aria-labelledby":eI().string,"aria-required":eI().bool,disabled:eI().bool,value:eI().number,defaultValue:eI().number,count:eI().number,allowHalf:eI().bool,allowClear:eI().bool,style:eI().object,prefixCls:eI().string,onChange:eI().func,onHoverChange:eI().func,className:eI().string,character:eI().node,tabIndex:eI().number,onFocus:eI().func,onBlur:eI().func,onKeyDown:eI().func,autoFocus:eI().bool,size:eI().oneOfType([eI().oneOf(sJ.SIZE_SET),eI().number]),tooltips:eI().arrayOf(eI().string),id:eI().string,preventScroll:eI().bool},Rating.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:sQ.PREFIX,onChange:function_noop,onHoverChange:function_noop,tabIndex:-1,size:"default"};let s1={PREFIX:`${eO.T}-autocomplete`,PREFIX_OPTION:`${eO.T}-autoComplete-option`,PREFIX_GROUP:`${eO.T}-autoComplete-group`},s2={SIZE:["small","large","default"],POSITION:tl.POSITION_SET,OPTIONS:["children","value"],STATUS:rP};let AutoCompleteFoundation=class AutoCompleteFoundation extends eU{constructor(o){super(Object.assign({},o)),this.isPanelOpen=!1}init(){let o;this._setDropdownWidth();let{defaultOpen:v,data:_,defaultValue:x,value:w}=this.getProps();if(_&&_.length){let o=this._generateList(_);this._adapter.updateOptionList(o)}v&&this.openDropdown(),void 0!==x&&(o=x),void 0!==w&&(o=w),void 0!==o&&this.handleValueChange(o)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){let o;let{style:v,dropdownMatchSelectWidth:_}=this.getProps();_&&(o=v&&nr()(v.width)?v.width:v&&e0()(v.width)&&!v.width.includes("%")?v.width:this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(o))}handleInputClick(o){let{options:v}=this.getStates(),{disabled:_}=this.getProps();_||(this.isPanelOpen?this.closeDropdown():this.openDropdown())}openDropdown(){this.isPanelOpen=!0,this._adapter.toggleListVisible(!0),this._setDropdownWidth(),this._adapter.registerClickOutsideHandler(o=>this.closeDropdown(o)),this._adapter.notifyDropdownVisibleChange(!0),this._modifyFocusIndexOnPanelOpen()}closeDropdown(o){this.isPanelOpen=!1,this._adapter.toggleListVisible(!1),this._adapter.unregisterClickOutsideHandler(),this._adapter.notifyDropdownVisibleChange(!1)}_generateList(o){let{renderItem:v}=this.getProps(),_=[];return o&&o.length&&o.forEach((o,x)=>{let w=String(new Date().getTime())+x,T={};e0()(o)||nr()(o)?T={value:o,key:w,label:o,show:!0}:nw()(o)&&!e3()(o.value)&&(T=Object.assign({show:!0},o)),v&&"function"==typeof v&&(T.label=v(o)),_.push(T)}),_}handleSearch(o){this._adapter.updateInputValue(o),this._adapter.notifySearch(o),this._adapter.notifyChange(o),this._modifyFocusIndex(o),this.isPanelOpen||this.openDropdown()}handleSelect(o,v){let{renderSelectedItem:_}=this.getProps(),x="";_&&"function"==typeof _?warning("string"!=typeof(x=_(o)),"Warning: [Semi AutoComplete] renderSelectedItem must return string, please check your function return"):x=o.value,this._isControlledComponent()?(this.closeDropdown(),this.notifySelect(o)):(this._adapter.updateInputValue(x),this.updateSelection(o),this.notifySelect(o),this.closeDropdown()),this._adapter.notifyChange(x),this._adapter.updateFocusIndex(v)}updateSelection(o){let v=new Map;o&&v.set(o.label,o),this._adapter.updateSelection(v)}notifySelect(o){this._backwardLabelInValue()?this._adapter.notifySelect(o):this._adapter.notifySelect(o.value)}_backwardLabelInValue(){let o=this.getProps(),{onSelectWithObject:v}=o;return v}handleDataChange(o){let v=this._generateList(o);this._adapter.updateOptionList(v),this._adapter.rePositionDropdown()}handleValueChange(o){let{data:v,defaultActiveFirstOption:_}=this.getProps(),x="";x=this._backwardLabelInValue()&&"[object Object]"===Object.prototype.toString.call(o)?o.value:o;let w=this._getRenderSelectedItem(),T=this._generateList(v),L=T.filter(o=>w(o)===x),N=L.length,B=T.findIndex(o=>w(o)===x),H="";if(N)H=w(L=L[0]);else{let v=this._backwardLabelInValue()?o:{label:x,value:x};H=w(v)}this._adapter.updateInputValue(H),this.updateSelection(N?L:null),-1===B&&_?this._adapter.updateFocusIndex(0):this._adapter.updateFocusIndex(B)}_modifyFocusIndex(o){let{focusIndex:v}=this.getStates(),{data:_,defaultActiveFirstOption:x}=this.getProps(),w=this._getRenderSelectedItem(),T=this._generateList(_),L=T.findIndex(v=>w(v)===o);-1===L&&x?0!==v&&this._adapter.updateFocusIndex(0):L!==v&&this._adapter.updateFocusIndex(L)}_modifyFocusIndexOnPanelOpen(){let{inputValue:o}=this.getStates();this._modifyFocusIndex(o)}_getRenderSelectedItem(){let{renderSelectedItem:o}=this.getProps();return void 0===o&&(o=o=>o.value),o}handleClear(){this._adapter.notifyClear()}bindKeyBoardEvent(){this._keydownHandler=o=>{this._handleKeyDown(o)},this._adapter.registerKeyDown(this._keydownHandler)}_handleKeyDown(o){let v=o.keyCode,{visible:_}=this.getStates();switch(v){case tR.UP:o.preventDefault(),this._handleArrowKeyDown(-1);break;case tR.DOWN:o.preventDefault(),this._handleArrowKeyDown(1);break;case tR.ENTER:o.preventDefault(),this._handleEnterKeyDown();break;case tR.ESC:case tR.TAB:this.closeDropdown()}this._adapter.notifyKeyDown(o)}_getEnableFocusIndex(o){let{focusIndex:v,options:_}=this.getStates(),x=_.filter(o=>o.show),w=x.length,T=v+o;if(T<0&&(T=w-1),T>=w&&(T=0),o>0){let o=-1;for(let v=0;v<x.length;v++){let _=!x[v].disabled;if(_&&(o=v),o>=T)break}T=o}else{let o=x.length;for(let v=w-1;v>=0;v--){let _=!x[v].disabled;if(_&&(o=v),o<=T)break}T=o}this._adapter.updateFocusIndex(T)}_handleArrowKeyDown(o){let{visible:v}=this.getStates();v?this._getEnableFocusIndex(o):this.openDropdown()}_handleEnterKeyDown(){let{visible:o,options:v,focusIndex:_}=this.getStates();if(o){if(void 0!==_&&-1!==_&&0!==v.length){let o=v.filter(o=>o.show),x=o[_];this.handleSelect(x,_)}else this.closeDropdown()}else this.openDropdown()}handleOptionMouseEnter(o){this._adapter.updateFocusIndex(o)}handleFocus(o){this.bindKeyBoardEvent(),this._adapter.notifyFocus(o)}handleBlur(o){this._persistEvent(o),this._adapter.notifyBlur(o)}};var autoComplete_option_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let option_Option=class option_Option extends eC.PureComponent{onClick(o,v){var{value:_,label:x,children:w}=o,T=autoComplete_option_rest(o,["value","label","children"]);let{props:L}=this,N=L.disabled;N||L.onSelect(Object.assign(Object.assign({},T),{value:_,label:x||w}),v)}renderOptionContent(o){let{config:v,children:_,inputValue:x,prefixCls:w}=o;return e0()(_)&&x?getHighLightTextHTML(v):_}render(){let o=this.props,{children:v,disabled:_,value:x,selected:w,label:T,empty:L,emptyContent:N,onSelect:B,focused:H,showTick:Y,className:Z,style:X,onMouseEnter:et,prefixCls:en,renderOptionItem:er,inputValue:ei}=o,ea=autoComplete_option_rest(o,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue"]),eo=eM()(en,{["".concat(en,"-disabled")]:_,["".concat(en,"-selected")]:w,["".concat(en,"-focused")]:H,["".concat(en,"-empty")]:L,[Z]:Z}),el=eM()(["".concat(en,"-icon")]);return L?null===N?null:eC.createElement(LocaleConsumer,{componentName:"Select"},o=>eC.createElement("div",{className:eo,"x-semi-prop":"emptyContent"},N||o.emptyText)):"function"==typeof er?er(Object.assign({disabled:_,focused:H,selected:w,style:X,label:T,value:x,inputValue:ei,onMouseEnter:o=>et(o),onClick:o=>this.onClick(Object.assign({value:x,label:T,children:v},ea),o)},ea)):eC.createElement("div",{className:eo,onClick:o=>{this.onClick(Object.assign({value:x,label:T,children:v},ea),o)},onMouseEnter:o=>et&&et(o),role:"option","aria-selected":w?"true":"false","aria-disabled":_?"true":"false",style:X},Y?eC.createElement("div",{className:el},eC.createElement(tA,null)):null,e0()(v)?eC.createElement("div",{className:"".concat(en,"-text")},this.renderOptionContent({children:v,config:{searchWords:ei,sourceString:v,option:{highlightClassName:"".concat(en,"-keyword")}},inputValue:ei,prefixCls:en})):v)}};option_Option.isSelectOption=!0,option_Option.propTypes={children:eI().node,disabled:eI().bool,value:eI().oneOfType([eI().string,eI().number]),selected:eI().bool,label:eI().node,empty:eI().bool,emptyContent:eI().node,onSelect:eI().func,focused:eI().bool,showTick:eI().bool,className:eI().string,style:eI().object,onMouseEnter:eI().func,prefixCls:eI().string,renderOptionItem:eI().func,inputValue:eI().string},option_Option.defaultProps={prefixCls:s1.PREFIX_OPTION},_(8907);let s5=s1.PREFIX,s3=s2.SIZE,s4=s2.POSITION,s7=s2.STATUS;let AutoComplete=class AutoComplete extends BaseComponent{get adapter(){return Object.assign(Object.assign(Object.assign({},super.adapter),{registerKeyDown:o=>{this.setState({keyboardEventSet:{onKeyDown:o}})},unregisterKeyDown:o=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:o=>{this.setState({focusIndex:o})}}),{getTriggerWidth:()=>{let o=this.triggerRef.current;return o&&o.getBoundingClientRect().width},setOptionWrapperWidth:o=>{this.setState({dropdownMinWidth:o})},updateInputValue:o=>{this.setState({inputValue:o})},toggleListVisible:o=>{this.setState({visible:o})},updateOptionList:o=>{this.setState({options:o})},updateSelection:o=>{this.setState({selection:o})},notifySearch:o=>{this.props.onSearch(o)},notifyChange:o=>{this.props.onChange(o)},notifySelect:o=>{this.props.onSelect(o)},notifyDropdownVisibleChange:o=>{this.props.onDropdownVisibleChange(o)},notifyClear:()=>{this.props.onClear()},notifyFocus:o=>{this.props.onFocus(o)},notifyBlur:o=>{this.props.onBlur(o)},notifyKeyDown:o=>{this.props.onKeyDown(o)},rePositionDropdown:()=>{let{rePosKey:o}=this.state;o+=1,this.setState({rePosKey:o})},registerClickOutsideHandler:o=>{let clickOutsideHandler=v=>{let _=this.optionsRef&&this.optionsRef.current,x=this.triggerRef&&this.triggerRef.current,w=ti.findDOMNode(_),T=v.target;!w||w.contains(T)&&w.contains(T.parentNode)||!x||x.contains(T)||o(v)};this.clickOutsideHandler=clickOutsideHandler,document.addEventListener("mousedown",clickOutsideHandler,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&document.removeEventListener("mousedown",this.clickOutsideHandler,!1)}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(o,v){e7()(this.props.data,o.data)||this.foundation.handleDataChange(this.props.data),this.props.value!==o.value&&this.foundation.handleValueChange(this.props.value)}renderInput(){let{size:o,prefix:v,insetLabel:_,insetLabelId:x,suffix:w,placeholder:T,style:L,className:N,showClear:B,disabled:H,triggerRender:Y,validateStatus:Z,autoFocus:X,value:et,id:en,clearIcon:er}=this.props,{inputValue:ei,keyboardEventSet:ea,selection:eo}=this.state,el="function"==typeof Y,eu=Object.assign(Object.assign(Object.assign({style:L,className:el?eM()(N):eM()({[s5]:!0,["".concat(s5,"-disabled")]:H},N),onClick:this.handleInputClick,ref:this.triggerRef,id:en},ea),{tabIndex:-1}),this.getDataAttr(this.props)),ec={disabled:H,placeholder:T,autofocus:X,onChange:this.onSearch,onClear:this.onInputClear,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],suffix:w,prefix:v||_,insetLabelId:x,showClear:B,validateStatus:Z,size:o,onBlur:this.onBlur,onFocus:this.onFocus,clearIcon:er};return eC.createElement("div",Object.assign({},eu),"function"==typeof Y?eC.createElement(Trigger,Object.assign({},ec,{inputValue:void 0!==et?et:ei,value:Array.from(eo.values()),triggerRender:Y,componentName:"AutoComplete",componentProps:Object.assign({},this.props)})):eC.createElement(rs,Object.assign({},ec,{value:void 0!==et?et:ei})))}renderLoading(){let o="".concat(s5,"-loading-wrapper");return eC.createElement("div",{className:o},eC.createElement(nh,null))}renderOption(o,v){let{focusIndex:_}=this.state,x=v===_;return eC.createElement(option_Option,Object.assign({showTick:!1,onSelect:(o,_)=>this.onSelect(o,v,_),focused:x,onMouseEnter:()=>this.foundation.handleOptionMouseEnter(v),key:o.key||o.label+o.value+v},o),o.label)}renderOptionList(){let o;let{maxHeight:v,dropdownStyle:_,dropdownClassName:x,loading:w,emptyContent:T}=this.props,{options:L,dropdownMinWidth:N}=this.state,B=eM()({["".concat(s5,"-option-list")]:!0},x);o=0===L.length?T:L.filter(o=>o.show).map((o,v)=>this.renderOption(o,v));let H=Object.assign({maxHeight:v,minWidth:N},_);return eC.createElement("div",{className:B,role:"listbox",style:H},w?this.renderLoading():o)}render(){let{position:o,motion:v,zIndex:_,mouseEnterDelay:x,mouseLeaveDelay:w,autoAdjustOverflow:T,stopPropagation:L,getPopupContainer:N}=this.props,{visible:B,rePosKey:H}=this.state,Y=this.renderInput(),Z=this.renderOptionList();return eC.createElement(Popover,{mouseEnterDelay:x,mouseLeaveDelay:w,autoAdjustOverflow:T,trigger:"custom",motion:v,visible:B,content:Z,position:o,ref:this.optionsRef,zIndex:_,stopPropagation:L,getPopupContainer:N,rePosKey:H},Y)}constructor(o){super(o),this.onSelect=(o,v,_)=>{this.foundation.handleSelect(o,v)},this.onSearch=o=>{this.foundation.handleSearch(o)},this.onBlur=o=>this.foundation.handleBlur(o),this.onFocus=o=>this.foundation.handleFocus(o),this.onInputClear=()=>this.foundation.handleClear(),this.handleInputClick=o=>this.foundation.handleInputClick(o),this.foundation=new AutoCompleteFoundation(this.adapter),this.state={dropdownMinWidth:null,inputValue:"",options:[],visible:!1,focusIndex:o.defaultActiveFirstOption?0:-1,selection:new Map,rePosKey:1},this.triggerRef=eC.createRef(),this.optionsRef=eC.createRef(),this.clickOutsideHandler=null,warning("triggerRender"in this.props&&"function"==typeof this.props.triggerRender,"[Semi AutoComplete]\n            - If you are using the following props: 'suffix', 'prefix', 'showClear', 'validateStatus', and 'size',\n            please notice that they will be removed in the next major version.\n            Please use 'componentProps' to retrieve these props instead.\n            - If you are using 'onBlur', 'onFocus', please try to avoid using them and look for changes in the future.")}};AutoComplete.propTypes={"aria-label":eI().string,"aria-labelledby":eI().string,"aria-invalid":eI().bool,"aria-errormessage":eI().string,"aria-describedby":eI().string,"aria-required":eI().bool,autoFocus:eI().bool,autoAdjustOverflow:eI().bool,className:eI().string,clearIcon:eI().node,children:eI().node,data:eI().array,defaultOpen:eI().bool,defaultValue:eI().oneOfType([eI().string,eI().number]),defaultActiveFirstOption:eI().bool,disabled:eI().bool,dropdownMatchSelectWidth:eI().bool,dropdownClassName:eI().string,dropdownStyle:eI().object,emptyContent:eI().node,id:eI().string,insetLabel:eI().node,insetLabelId:eI().string,onSearch:eI().func,onSelect:eI().func,onClear:eI().func,onBlur:eI().func,onFocus:eI().func,onChange:eI().func,onKeyDown:eI().func,position:eI().oneOf(s4),placeholder:eI().string,prefix:eI().node,onChangeWithObject:eI().bool,onSelectWithObject:eI().bool,renderItem:eI().func,renderSelectedItem:eI().func,suffix:eI().node,showClear:eI().bool,size:eI().oneOf(s3),style:eI().object,stopPropagation:eI().oneOfType([eI().bool,eI().string]),maxHeight:eI().oneOfType([eI().string,eI().number]),mouseEnterDelay:eI().number,mouseLeaveDelay:eI().number,motion:eI().oneOfType([eI().bool,eI().func,eI().object]),getPopupContainer:eI().func,triggerRender:eI().func,value:eI().oneOfType([eI().string,eI().number]),validateStatus:eI().oneOf(s7),zIndex:eI().number},AutoComplete.Option=option_Option,AutoComplete.defaultProps={stopPropagation:!0,motion:!0,zIndex:tB.DEFAULT_Z_INDEX,position:"bottomLeft",data:[],showClear:!1,size:"default",onFocus:eE(),onSearch:eE(),onClear:eE(),onBlur:eE(),onSelect:eE(),onChange:eE(),onSelectWithObject:!1,onDropdownVisibleChange:eE(),defaultActiveFirstOption:!1,dropdownMatchSelectWidth:!0,loading:!1,maxHeight:300,validateStatus:"default",autoFocus:!1,emptyContent:null,onKeyDown:eE()};let s6=`${eO.T}-upload`,s9="picture",s8="list",ln={PREFIX:s6,LIST:`${s6}-list`},lr="auto",li="custom",la={FILE_STATUS_UPLOADING:"uploading",FILE_STATUS_SUCCESS:"success",FILE_STATUS_UPLOAD_FAIL:"uploadFail",FILE_STATUS_VALIDATING:"validating",FILE_STATUS_VALID_FAIL:"validateFail",FILE_STATUS_WAIT_UPLOAD:"wait",FILE_LIST_PIC:s9,FILE_LIST_DEFAULT:s8,LIST_TYPE:[s9,s8],imageTypes:["image","webp","png","svg","gif","jpg","jpeg","bmp","dpg"],DRAG_AREA_DEFAULT:"default",DRAG_AREA_LEGAL:"legal",DRAG_AREA_ILLEGAL:"illegal",TRIGGER_AUTO:lr,TRIGGER_CUSTOM:li,UPLOAD_TRIGGER:[lr,li],VALIDATE_STATUS:rP,PROMPT_POSITION:["left","right","bottom"]},lo={PROGRESS_COEFFICIENT:.95};var __awaiter=function(o,v,_,x){function adopt(o){return o instanceof _?o:new _(function(v){v(o)})}return new(_||(_=Promise))(function(_,w){function fulfilled(o){try{step(x.next(o))}catch(o){w(o)}}function rejected(o){try{step(x.throw(o))}catch(o){w(o)}}function step(o){o.done?_(o.value):adopt(o.value).then(fulfilled,rejected)}step((x=x.apply(o,v||[])).next())})};function getFileSize(o){return o<1024?`${(o/1024).toFixed(2)}KB`:o>=1024&&o<1048576?`${(o/1024).toFixed(1)}KB`:o>=1048576?`${(o/1048576).toFixed(1)}MB`:void 0}function endsWith(o,v){return -1!==o.indexOf(v,o.length-v.length)}function loopFiles(o){return __awaiter(this,void 0,void 0,function*(){return new Promise((v,_)=>{let x=o.createReader(),w=[];function sequence(){x.readEntries(o=>{let _=Array.prototype.slice.apply(o);w=w.concat(_);let x=!_.length;x?v(w):sequence()},_)}sequence()})})}function mapFileTree(o){return __awaiter(this,void 0,void 0,function*(){let v=[],_traverseFileTree=(o,_)=>__awaiter(this,void 0,void 0,function*(){if(_=_||"",o.path=_,o.isFile)v.push(new Promise((v,_)=>{o.file(_=>{o.fullPath&&!_.webkitRelativePath&&(Object.defineProperties(_,{webkitRelativePath:{writable:!0}}),_.webkitRelativePath=o.fullPath.replace(/^\//,""),Object.defineProperties(_,{webkitRelativePath:{writable:!1}})),v(_)},_)}));else if(o.isDirectory){let v=yield loopFiles(o);for(let x=0;x<v.length;x++){let w=v[x];yield _traverseFileTree(w,`${_}${o.name}/`)}}});try{let _=o.map(o=>_traverseFileTree(o.webkitGetAsEntry()));yield Promise.all(_);let x=yield Promise.all(v);return x}catch(o){return console.warn("Captured error while loop directory."),console.error(o),[]}})}var foundation_awaiter=function(o,v,_,x){function adopt(o){return o instanceof _?o:new _(function(v){v(o)})}return new(_||(_=Promise))(function(_,w){function fulfilled(o){try{step(x.next(o))}catch(o){w(o)}}function rejected(o){try{step(x.throw(o))}catch(o){w(o)}}function step(o){o.done?_(o.value):adopt(o.value).then(fulfilled,rejected)}step((x=x.apply(o,v||[])).next())})};let{FILE_STATUS_UPLOADING:ls,FILE_STATUS_SUCCESS:ll,FILE_STATUS_UPLOAD_FAIL:lu,FILE_STATUS_VALID_FAIL:lc,FILE_STATUS_WAIT_UPLOAD:ld,DRAG_AREA_DEFAULT:lh,DRAG_AREA_LEGAL:lp,TRIGGER_AUTO:lf}=la;let UploadFoundation=class UploadFoundation extends eU{constructor(o){super(Object.assign({},o))}init(){let{disabled:o,addOnPasting:v}=this.getProps();v&&!o&&this.bindPastingHandler()}destroy(){let{disabled:o,addOnPasting:v}=this.getProps();this.releaseMemory(),v&&!o&&this.unbindPastingHandler()}getError(o){let{action:v,xhr:_,message:x,fileName:w}=o,T=_?_.status:0,L=x||`cannot post ${w} to ${v}, xhr status: ${T}'`,N=Error(L);return N.status=T,N.method="post",N.url=v,N}getBody(o){if(!o)return;let v=o.responseText||o.response;if(!v)return v;try{return JSON.parse(v)}catch(o){return v}}checkFileSize(o){let{size:v}=o,{maxSize:_,minSize:x}=this.getProps(),w=!1;return(v>1024*_||v<1024*x)&&(w=!0),w}handleChange(o){let v=[],{limit:_,transformFile:x,accept:w}=this.getProps(),{fileList:T}=this.getStates(),L=Array.from(o);if(void 0!==w&&(L=L.filter(o=>{let _=this.checkFileFormat(w,o);return _||v.push(o),_}),0!==v.length&&this._adapter.notifyAcceptInvalid(v),0===L.length))return;L=L.map(o=>(x&&(o=x(o)),o.uid||(o.uid=getUuidv4()),this.checkFileSize(o)&&(o._sizeInvalid=!0,o.status=lc,this._adapter.notifySizeError(o,T)),o));let N=T.length+L.length;if(void 0!==_&&N>_){if(this._adapter.notifyExceed(L),1===_){L=L.slice(-1),this._adapter.notifyFileSelect(L),this._adapter.resetInput(),this.replaceFileList(L);return}let o=_-T.length;L=L.slice(0,o)}this._adapter.notifyFileSelect(L),this._adapter.resetInput(),this.addFilesToList(L)}handleReplaceChange(o){if(0===o.length)return;let{transformFile:v,uploadTrigger:_,accept:x}=this.getProps(),{replaceIdx:w,fileList:T}=this.getStates(),L=Array.from(o).pop();if(void 0!==x&&!this.checkFileFormat(x,L)){this._adapter.notifyAcceptInvalid([L]);return}v&&(L=v(L)),L.uid||(L.uid=getUuidv4()),this.checkFileSize(L)&&(L._sizeInvalid=!0,L.status=lc,this._adapter.notifySizeError(L,T)),this._adapter.notifyFileSelect([L]);let N=this.buildFileItem(L,_),B=[...T];B.splice(w,1,N),this._adapter.notifyChange({currentFile:N,fileList:B}),this._adapter.updateFileList(B,()=>{this._adapter.resetReplaceInput(),N._sizeInvalid||this.upload(N)})}buildFileItem(o,v){let{_sizeInvalid:_,status:x}=o;try{delete o._sizeInvalid,delete o.status}catch(o){}let w={status:x||(v===lf?ls:ld),name:o.name,size:getFileSize(o.size),uid:o.uid,percent:0,fileInstance:o,url:this._createURL(o)};return _&&(w._sizeInvalid=!0),this.isImage(o)&&(w.preview=!0),w}replaceFileList(o){let{uploadTrigger:v}=this.getProps(),_=o.map(o=>this.buildFileItem(o,v));this._adapter.notifyChange({fileList:_,currentFile:_[0]}),this._adapter.updateFileList(_,()=>{v===lf&&this.startUpload(_)})}addFilesToList(o){let v=this.getState("fileList").slice(),{uploadTrigger:_}=this.getProps(),x=o.map(o=>this.buildFileItem(o,_));x.forEach(o=>{let _=v.findIndex(v=>v.uid===o.uid);-1!==_?v[_]=o:(v.push(o),this._adapter.notifyChange({fileList:v,currentFile:o}))}),this._adapter.updateFileList(v,()=>{_===lf&&this.startUpload(x)})}insertFileToList(o,v){let{limit:_,transformFile:x,accept:w,uploadTrigger:T}=this.getProps(),{fileList:L}=this.getStates(),N=[],B=Array.from(o);if(void 0!==w&&(B=B.filter(o=>{let v=this.checkFileFormat(w,o);return v||N.push(o),v}),0!==N.length&&this._adapter.notifyAcceptInvalid(N),0===B.length))return;B=B.map(o=>(o.uid||(o.uid=getUuidv4()),this.checkFileSize(o)&&(o._sizeInvalid=!0,o.status=lc,this._adapter.notifySizeError(o,L)),x&&(o=x(o)),o));let H=L.length+B.length;if(void 0!==_&&H>_){if(1===_){B=B.slice(-1),this._adapter.notifyFileSelect(B),this._adapter.resetInput(),this.replaceFileList(B);return}let o=_-L.length;B=B.slice(0,o),this._adapter.notifyExceed(B)}let Y=B.map(o=>this.buildFileItem(o,T)),Z=L.slice();void 0!==v?Z.splice(v,0,...Y):Z.push(...Y),this._adapter.notifyFileSelect(B),this._adapter.notifyChange({fileList:Z,currentFile:null}),this._adapter.updateFileList(Z,()=>{T===lf&&this.startUpload(Y)})}manualUpload(){let o=this.getState("fileList").filter(o=>o.status===ld);this.startUpload(o)}startUpload(o){o.forEach(o=>{o._sizeInvalid||this.upload(o)})}upload(o){let{beforeUpload:v}=this.getProps();if(void 0===v){this.post(o);return}if("function"==typeof v){let{fileList:v}=this.getStates(),_=this._adapter.notifyBeforeUpload({file:o,fileList:v});switch(!0){case!0===_:this.post(o);break;case!1===_:{let v={shouldUpload:!1,status:la.FILE_STATUS_VALID_FAIL};this.handleBeforeUploadResultInObject(v,o);break}case _&&isPromise(_):Promise.resolve(_).then(v=>{let _={shouldUpload:!0},x=Object.prototype.toString.call(v).slice(8,-1);"Object"===x&&(_=Object.assign(Object.assign({},_),v)),this.handleBeforeUploadResultInObject(_,o)},v=>{let _={shouldUpload:!1,status:la.FILE_STATUS_VALID_FAIL},x=Object.prototype.toString.call(v).slice(8,-1);"Object"===x&&(_=Object.assign(Object.assign({},_),v)),this.handleBeforeUploadResultInObject(_,o)});break;case"object"==typeof _:this.handleBeforeUploadResultInObject(_,o)}}}handleBeforeUploadResultInObject(o,v){let{shouldUpload:_,status:x,autoRemove:w,validateMessage:T,fileInstance:L}=o,N=this.getState("fileList").slice();if(w)N=N.filter(o=>o.uid!==v.uid);else{let o=this._getFileIndex(v,N);if(o<0)return;x&&(N[o].status=x),T&&(N[o].validateMessage=T),L&&(L.uid=v.uid,N[o].fileInstance=L,N[o].size=getFileSize(L.size),N[o].name=L.name,N[o].url=this._createURL(L)),N[o].shouldUpload=_}this._adapter.updateFileList(N),this._adapter.notifyChange({fileList:N,currentFile:v}),_&&this.post(v)}post(o){let{fileInstance:v}=o,_=this.getProps();if("undefined"==typeof XMLHttpRequest)return;let x=new XMLHttpRequest,w=new FormData,{action:T}=_,{data:L}=_;L&&("function"==typeof L&&(L=L(v)),Object.keys(L).forEach(o=>{w.append(o,L[o])}));let N=_.name||_.fileName||v.name;if(_.customRequest)return _.customRequest({fileName:N,data:L,file:o,fileInstance:v,onProgress:o=>this.handleProgress({e:o,fileInstance:v}),onError:(o,_)=>this.handleError({e:_,xhr:o,fileInstance:v}),onSuccess:(o,_)=>this.handleSuccess({response:o,fileInstance:v,e:_,isCustomRequest:!0}),withCredentials:_.withCredentials,action:_.action});w.append(N,v),x.open("post",T,!0),_.withCredentials&&"withCredentials"in x&&(x.withCredentials=!0),x.upload&&(x.upload.onprogress=o=>this.handleProgress({e:o,fileInstance:v})),x.onload=o=>this.handleOnLoad({e:o,xhr:x,fileInstance:v}),x.onerror=o=>this.handleError({e:o,xhr:x,fileInstance:v});let B=_.headers||{};for(let o in"function"==typeof B&&(B=B(v)),B)Object.prototype.hasOwnProperty.call(B,o)&&null!==B[o]&&x.setRequestHeader(o,B[o]);x.send(w)}handleProgress(o){let{e:v,fileInstance:_}=o,{fileList:x}=this.getStates(),w=x.slice(),T=0;v.total>0&&(T=Number((v.loaded/v.total*100*lo.PROGRESS_COEFFICIENT).toFixed(0))||0);let L=this._getFileIndex(_,w);L<0||(w[L].percent=T,w[L].status=ls,this._adapter.notifyProgress(T,_,w),this._adapter.updateFileList(w),this._adapter.notifyChange({fileList:w,currentFile:w[L]}))}handleOnLoad(o){let{e:v,xhr:_,fileInstance:x}=o,{fileList:w}=this.getStates(),T=this._getFileIndex(x,w);T<0||(_.status<200||_.status>=300?this.handleError({e:v,xhr:_,fileInstance:x}):this.handleSuccess({e:v,xhr:_,fileInstance:x,index:T}))}handleSuccess(o){let{e:v,fileInstance:_,isCustomRequest:x=!1,xhr:w,response:T}=o,{fileList:L}=this.getStates(),N=null,B=this._getFileIndex(_,L);if(B<0)return;N=x?T:this.getBody(w);let H=L.slice(),{afterUpload:Y}=this.getProps();if(H[B].status=ll,H[B].percent=100,this._adapter.notifyProgress(100,_,H),H[B].response=N,v&&(H[B].event=v),Y&&"function"==typeof Y){let{autoRemove:o,status:v,validateMessage:_,name:x}=this._adapter.notifyAfterUpload({response:N,file:H[B],fileList:H})||{};v&&(H[B].status=v),_&&(H[B].validateMessage=_),x&&(H[B].name=x),o&&H.splice(B,1)}this._adapter.notifySuccess(N,_,H),this._adapter.notifyChange({fileList:H,currentFile:H[B]}),this._adapter.updateFileList(H)}_getFileIndex(o,v){return v.findIndex(v=>v.uid===o.uid)}handleRemove(o){let{disabled:v}=this.getProps();if(v)return;let{fileList:_}=this.getStates();Promise.resolve(this._adapter.notifyBeforeRemove(o,_)).then(v=>{if(!1===v)return;let x=_.slice(),w=this._getFileIndex(o,_);w<0||(x.splice(w,1),this._adapter.notifyRemove(o.fileInstance,x,o),this._adapter.updateFileList(x),this._adapter.notifyChange({fileList:x,currentFile:o}))})}handleError(o){let{e:v,xhr:_,fileInstance:x}=o,{fileList:w}=this.getStates(),T=this._getFileIndex(x,w);if(T<0)return;let{action:L}=this.getProps(),N=w.slice(),B=this.getError({action:L,xhr:_,fileName:x.name});N[T].status=lu,N[T].response=B,N[T].event=v,this._adapter.notifyError(B,x,N,_),this._adapter.updateFileList(N),this._adapter.notifyChange({currentFile:N[T],fileList:N})}handleClear(){let{disabled:o}=this.getProps(),{fileList:v}=this.getStates();o||Promise.resolve(this._adapter.notifyBeforeClear(v)).then(o=>{!1!==o&&(this._adapter.updateFileList([]),this._adapter.notifyClear(),this._adapter.notifyChange({fileList:[]}))}).catch(o=>{})}_createURL(o){let v=URL.createObjectURL(o),{localUrls:_}=this.getStates(),x=_.slice();return x.push(v),this._adapter.updateLocalUrls(x),v}releaseMemory(){let{localUrls:o}=this.getStates();o.forEach(o=>{this._releaseBlob(o)})}_releaseBlob(o){try{URL.revokeObjectURL(o)}catch(o){console.log(o)}}isImage(o){return/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(o.type)}isMultiple(){return!!this.getProp("multiple")}handleDragEnter(o){o.preventDefault(),o.stopPropagation(),this._dragEnterTarget=o.currentTarget;let{disabled:v}=this.getProps();v||this._adapter.updateDragAreaStatus(lp)}handleDirectoryDrop(o){return foundation_awaiter(this,void 0,void 0,function*(){let v=this.getState("fileList").slice(),_=[].slice.call(o.dataTransfer.items),x=yield mapFileTree(_);this.handleChange(x),this._adapter.updateDragAreaStatus(lh),this._adapter.notifyDrop(o,x,v)})}handleDrop(o){o.preventDefault(),o.stopPropagation();let{disabled:v,directory:_}=this.getProps(),x=this.getState("fileList").slice();if(!v){if(_){this.handleDirectoryDrop(o);return}let v=Array.from(o.dataTransfer.files);this.handleChange(v),this._adapter.updateDragAreaStatus(lh),this._adapter.notifyDrop(o,v,x)}}handleDragOver(o){o.preventDefault(),o.stopPropagation()}handleDragLeave(o){o.preventDefault(),o.stopPropagation(),this._dragEnterTarget===o.target&&this._adapter.updateDragAreaStatus(lh)}checkFileFormat(o,v){let _=o.split(",").map(o=>o.trim()).filter(o=>o),x=v.type||"",w=x.replace(/\/.*$/,"");return _.some(o=>{if("."===o.charAt(0)){let _=v.name||"",x=o.split(".").pop().toLowerCase();return endsWith(_.toLowerCase(),x)}if(/\/\*$/.test(o)){let v=o.replace(/\/.*$/,"");return w===v}return!!/^[^\/]+\/[^\/]+$/.test(o)&&x===o})}retry(o){let{onRetry:v}=this.getProps();v&&"function"==typeof v&&v(o),this.post(o)}handlePreviewClick(o){this._adapter.notifyPreviewClick(o)}readFileFromClipboard(o){for(let v of o)for(let o of v.types)o.startsWith("image")&&v.getType(o).then(o=>o.arrayBuffer()).then(v=>{let _=o.split("/")[1],x=new File([v],`upload.${_}`,{type:o});this.handleChange([x])})}handlePasting(o){let v=this._adapter.isMac(),_=v?o.metaKey:o.ctrlKey;_&&"KeyV"===o.code&&o.target===document.body&&navigator.permissions.query({name:"clipboard-read"}).then(o=>{console.log(o),"granted"===o.state||"prompt"===o.state?navigator.clipboard.read().then(o=>{this.readFileFromClipboard(o)}):this._adapter.notifyPastingError(o)}).catch(o=>{this._adapter.notifyPastingError(o)})}bindPastingHandler(){this._adapter.registerPastingHandler(o=>this.handlePasting(o))}unbindPastingHandler(){this._adapter.unRegisterPastingHandler()}};let FileCardFoundation=class FileCardFoundation extends eU{constructor(o){super(Object.assign({},o))}handleImageError(o){this._adapter.updateFallbackPreview(!0)}};function IconRefresh_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.49993 11.9998C4.49993 7.85775 7.85775 4.49993 11.9998 4.49993C14.6403 4.49993 16.9645 5.86506 18.3012 7.9305L16.2939 7.52902C15.4815 7.36656 14.6913 7.89337 14.5288 8.7057C14.3664 9.51803 14.8932 10.3083 15.7055 10.4707L20.7055 11.4707C21.4643 11.6225 22.214 11.1721 22.4363 10.4309L23.9363 5.43095C24.1744 4.63747 23.7241 3.80126 22.9307 3.56321C22.1372 3.32517 21.301 3.77543 21.0629 4.56891L20.6287 6.01635C18.7332 3.28781 15.5765 1.49998 11.9998 1.49998C6.20092 1.49998 1.49998 6.20092 1.49998 11.9998C1.49998 17.7987 6.20092 22.4997 11.9998 22.4997C16.5739 22.4997 20.4611 19.5757 21.9018 15.4996C22.1779 14.7186 21.7685 13.8616 20.9874 13.5855C20.2064 13.3095 19.3494 13.7189 19.0733 14.4999C18.0431 17.4149 15.263 19.4997 11.9998 19.4997C7.85775 19.4997 4.49993 16.1419 4.49993 11.9998Z",fill:"currentColor"}))}let lg=convertIcon(IconRefresh_SvgComponent,"refresh"),lm={PREFIX:`${eO.T}-progress`},ly={types:["line","circle"],DEFAULT_TYPE:"line",STROKE_DEFAULT:"var(--semi-color-success)",strokeLineCap:["square","round"],DEFAULT_LINECAP:"round",sizes:["default","small","large"],DEFAULT_SIZE:"default",directions:["vertical","horizontal"],DEFAULT_DIRECTION:"horizontal"};function generateColor(o,v,_){try{let x=generate(o,v,_);if(0!==x.length)return x}catch(o){}}function generate(o,v,_){if(o.sort((o,v)=>o.percent-v.percent),o[0].percent>v)return ly.STROKE_DEFAULT;let x=o[o.length-1];if(x.percent<v)return formatToHex(x.color);for(let[x,w]of o.entries()){if(w.percent===v)return formatToHex(w.color);if(v>w.percent)continue;let T=o[x-1];if(!_)return formatToHex(T.color);return generateGradients({startColor:formatToHex(T.color),endColor:formatToHex(w.color),size:w.percent-T.percent-1},v-T.percent-1)}}function generateGradients(o,v){let{startColor:_,endColor:x,size:w}=o,T=_.split(""),L=x.split(""),N=[parseInt(`${T[1]}${T[2]}`,16),parseInt(`${L[1]}${L[2]}`,16)],B=[parseInt(`${T[3]}${T[4]}`,16),parseInt(`${L[3]}${L[4]}`,16)],H=[parseInt(`${T[5]}${T[6]}`,16),parseInt(`${L[5]}${L[6]}`,16)],Y=[parseInt(`${T[7]}${T[8]}`,16),parseInt(`${L[7]}${L[8]}`,16)],Z=(N[0]-N[1])/(w+1),X=(B[0]-B[1])/(w+1),et=(H[0]-H[1])/(w+1),en=(Y[0]-Y[1])/(w+1);function tHex(o){let v=Math.round(N[0]-Z*(o+1)).toString(16),_=Math.round(B[0]-X*(o+1)).toString(16),x=Math.round(H[0]-et*(o+1)).toString(16),w=`${padTwo(v)}${padTwo(_)}${padTwo(x)}`,T=Math.floor(en*(o+1)+Y[1]).toString(16);return lv.Hex(`#${w}`,T)}function padTwo(o){return 1===o.length?`0${o}`:0===o.length?"00":o}if(void 0===v){let o=[_];for(let v=0;v<w;v+=1)o.push(tHex(v));return o}return tHex(v)}function formatToHex(o){return(o=o.trim().toLowerCase(),l_.hex.test(o))?lv.Hex(o,void 0):l_.hslA.test(o)?lv.Hex(lv.HslA(o),void 0):l_.rgbA.test(o)?lv.Hex(lv.RgbA(o),void 0):l_.semiDesignTokens.test(o)?-1!==lb.ALONG.indexOf(o)?lv.SemiDesignToken(o):-1!==lb.SEQUENCE.indexOf(o)?lv.SemiDesignToken(`${o}-5`):lv.SemiDesignToken(`${o}`):void 0}_(4531);let lv={Hex:(o,v)=>8===(o=o.replace("#","")).length?`#${o}`:(6===o.length||3===o.length&&(o=o.split("").map(o=>o+o).join("")),`#${o}${v||"ff"}`),SemiDesignToken(o){if("undefined"==typeof window)return;let v=getComputedStyle(document.body).getPropertyValue(`--semi-${o}`);if(""===v)return;let _=`rgba(${v}, 1)`;return lv.RgbA(_)},HslA(o){let v=l_.hslA.exec(o),_=parseInt(v[2]),x=parseInt(v[3])/100,w=parseInt(v[4])/100,T=v[5],L=(1-Math.abs(2*w-1))*x,N=L*(1-Math.abs(_/60%2-1)),B=w-L/2,H=0,Y=0,Z=0;return 0<=_&&_<60?(H=L,Y=N,Z=0):60<=_&&_<120?(H=N,Y=L,Z=0):120<=_&&_<180?(H=0,Y=L,Z=N):180<=_&&_<240?(H=0,Y=N,Z=L):240<=_&&_<300?(H=N,Y=0,Z=L):300<=_&&_<360&&(H=L,Y=0,Z=N),H=Math.round((H+B)*255).toString(16),Y=Math.round((Y+B)*255).toString(16),Z=Math.round((Z+B)*255).toString(16),lv.utils.pAL(H,Y,Z,T)},RgbA(o){let v=l_.rgbA.exec(o),_=parseInt(v[2],10).toString(16),x=parseInt(v[3],10).toString(16),w=parseInt(v[4],10).toString(16),T=v[5];return lv.utils.pAL(_,x,w,T)},utils:{pAL:(o,v,_,x)=>(1==o.length&&(o="0"+o),1==v.length&&(v="0"+v),1==_.length&&(_="0"+_),void 0!==x)?(1==(x=Math.round(255*parseInt(x)).toString(16)).length&&(x="0"+x),"#"+o+v+_+x):"#"+o+v+_}},l_={hex:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hslA:/(hsl)a?\(\s*?(\d+),?\s*?(\d+)%,?\s*?(\d+)%,?\s*?\/?(\s*?[\d.]+)?\s*?\)/,rgbA:/(rgb)a?\(\s*?(\d+),?\s*?(\d+),?\s*?(\d+),?\s*?\/?(\s*?[\d.]+)?\s*?\)/,semiDesignTokens:/(\w+)?-?(\w+)-?(\d)?/},lb={ALONG:["black","white"],SEQUENCE:["amber","blue","cyan","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","violet","yellow"]};var progress_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let lS=lm.PREFIX;let Progress=class Progress extends eC.Component{componentDidUpdate(o){if(isNaN(this.props.percent)||isNaN(o.percent))throw Error("[Semi Progress]:percent can not be NaN");if(o.percent!==this.props.percent){if(!this.props.motion){this.setState({percentNumber:this.props.percent});return}this.animation&&this.animation.destroy&&this.animation.destroy(),this.animation=new Animation({from:{value:o.percent},to:{value:this.props.percent}},{easing:"linear",duration:300}),this.animation.on("frame",o=>{if(!1===this._mounted)return;let v=parseInt(o.value);this.setState({percentNumber:v})}),this.animation.on("rest",()=>{!1!==this._mounted&&this.setState({percentNumber:this.props.percent})}),this.animation.start()}}componentWillUnmount(){this.animation&&this.animation.destroy(),this._mounted=!1}renderCircleProgress(){let o;let v=this.props,{strokeLinecap:_,style:x,className:w,strokeWidth:T,format:L,size:N,stroke:B,strokeGradient:H,showInfo:Y,percent:Z,orbitStroke:X,id:et}=v,en=progress_rest(v,["strokeLinecap","style","className","strokeWidth","format","size","stroke","strokeGradient","showInfo","percent","orbitStroke","id"]),er=this.props["aria-label"],ei=this.props["aria-labelledby"],ea=this.props["aria-valuetext"],{percentNumber:eo}=this.state,el={wrapper:eM()("".concat(lS,"-circle"),w),svg:eM()("".concat(lS,"-circle-ring")),circle:eM()("".concat(lS,"-circle-ring-inner"))},eu=this.calcPercent(Z),ec=this.calcPercent(eo);o=this.props.width?this.props.width:N===ly.DEFAULT_SIZE?72:24;let ed=this.selectStroke(B,Z,H),eh=o/2,ep=o/2,ef=(o-T)/2,eg=2*ef*Math.PI,em=(1-eu/100)*eg,ey="".concat(eg," ").concat(eg),ev=L(ec);return eC.createElement("div",Object.assign({id:et,className:el.wrapper,style:x,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":ec,"aria-labelledby":ei,"aria-label":er,"aria-valuetext":ea},getDataAttr(en)),eC.createElement("svg",{key:N,className:el.svg,height:o,width:o,"aria-hidden":!0},eC.createElement("circle",{strokeDashoffset:0,strokeWidth:T,strokeDasharray:ey,strokeLinecap:_,fill:"transparent",stroke:X,r:ef,cx:ep,cy:eh,"aria-hidden":!0}),eC.createElement("circle",{className:el.circle,strokeDashoffset:em,strokeWidth:T,strokeDasharray:ey,strokeLinecap:_,fill:"transparent",stroke:ed,r:ef,cx:ep,cy:eh,"aria-hidden":!0})),Y&&"small"!==N?eC.createElement("span",{className:"".concat(lS,"-circle-text")},ev):null)}calcPercent(o){return o>100?100:o<0?0:o}selectStroke(o,v,_){if("string"==typeof o)return o;let x=generateColor(o,v,_);return void 0!==x?x:ly.STROKE_DEFAULT}renderLineProgress(){let o=this.props,{className:v,style:_,stroke:x,strokeGradient:w,direction:T,format:L,showInfo:N,size:B,percent:H,orbitStroke:Y,id:Z}=o,X=progress_rest(o,["className","style","stroke","strokeGradient","direction","format","showInfo","size","percent","orbitStroke","id"]),et=this.props["aria-label"],en=this.props["aria-labelledby"],er=this.props["aria-valuetext"],{percentNumber:ei}=this.state,ea=eM()(lS,v,{["".concat(lS,"-horizontal")]:T===ly.DEFAULT_DIRECTION,["".concat(lS,"-vertical")]:T!==ly.DEFAULT_DIRECTION,["".concat(lS,"-large")]:"large"===B}),eo=eM()({["".concat(lS,"-track")]:!0}),el=eM()("".concat(lS,"-track-inner")),eu=this.calcPercent(H),ec=this.calcPercent(ei),ed=this.selectStroke(x,H,w),eh={background:ed};T===ly.DEFAULT_DIRECTION?eh.width="".concat(eu,"%"):eh.height="".concat(eu,"%");let ep=L(ec);return eC.createElement("div",Object.assign({id:Z,className:ea,style:_,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":eu,"aria-labelledby":en,"aria-label":et,"aria-valuetext":er},getDataAttr(X)),eC.createElement("div",{className:eo,style:Y?{backgroundColor:Y}:{},"aria-hidden":!0},eC.createElement("div",{className:el,style:eh,"aria-hidden":!0})),N?eC.createElement("div",{className:"".concat(lS,"-line-text")},ep):null)}render(){let{type:o}=this.props;return"line"===o?this.renderLineProgress():this.renderCircleProgress()}constructor(o){super(o),this._mounted=!0,this._mounted=!0,this.state={percentNumber:this.props.percent}}};Progress.propTypes={"aria-label":eI().string,"aria-labelledby":eI().string,"aria-valuetext":eI().string,className:eI().string,direction:eI().oneOf(ly.directions),format:eI().oneOfType([eI().func,eI().node]),id:eI().string,motion:eI().oneOfType([eI().bool,eI().func,eI().object]),orbitStroke:eI().string,percent:eI().number,scale:eI().number,showInfo:eI().bool,size:eI().oneOf(ly.sizes),stroke:eI().oneOfType([eI().string,eI().arrayOf(eI().shape({percent:eI().number,color:eI().string}))]),strokeGradient:eI().bool,strokeLinecap:eI().oneOf(ly.strokeLineCap),strokeWidth:eI().number,style:eI().object,type:eI().oneOf(ly.types),width:eI().number},Progress.defaultProps={className:"",direction:ly.DEFAULT_DIRECTION,format:o=>"".concat(o,"%"),motion:!0,orbitStroke:"var(--semi-color-fill-0)",percent:0,showInfo:!1,size:ly.DEFAULT_SIZE,stroke:ly.STROKE_DEFAULT,strokeGradient:!1,strokeLinecap:ly.DEFAULT_LINECAP,strokeWidth:4,style:{},type:ly.DEFAULT_TYPE};let lx=ln.PREFIX,ErrorSvg=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return eC.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),eC.createElement("circle",{cx:"7.99992",cy:"7.99992",r:"6.66667",fill:"white"}),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.00008C15.3332 12.0502 12.0499 15.3334 7.99984 15.3334C3.94975 15.3334 0.666504 12.0502 0.666504 8.00008C0.666504 3.94999 3.94975 0.666748 7.99984 0.666748C12.0499 0.666748 15.3332 3.94999 15.3332 8.00008ZM8.99984 11.6667C8.99984 11.1145 8.55212 10.6667 7.99984 10.6667C7.44755 10.6667 6.99984 11.1145 6.99984 11.6667C6.99984 12.219 7.44755 12.6667 7.99984 12.6667C8.55212 12.6667 8.99984 12.219 8.99984 11.6667ZM7.99984 3.33341C7.27573 3.33341 6.7003 3.94171 6.74046 4.66469L6.94437 8.33495C6.97549 8.89513 7.4388 9.33341 7.99984 9.33341C8.56087 9.33341 9.02419 8.89513 9.05531 8.33495L9.25921 4.66469C9.29938 3.94171 8.72394 3.33341 7.99984 3.33341Z",fill:"#F93920"}))},ReplaceSvg=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return eC.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),eC.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#16161A",fillOpacity:"0.6"}),eC.createElement("path",{d:"M9 10.25V18.25L10.25 13.25H17.875V11.75C17.875 11.4739 17.6511 11.25 17.375 11.25H14L12.75 9.75H9.5C9.22386 9.75 9 9.97386 9 10.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),eC.createElement("path",{d:"M18 18.25L19 13.25H10.2031L9 18.25H18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},DirectorySvg=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return eC.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),eC.createElement("path",{d:"M6 17V7.58824C6 7.26336 6.26863 7 6.6 7H10.5L12 8.76471H16.05C16.3814 8.76471 16.65 9.02806 16.65 9.35294V11.1176H7.5L6 17ZM6 17L7.44375 11.1176H18L16.8 17L6 17Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};let FileCard=class FileCard extends BaseComponent{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateFallbackPreview:o=>this.setState({fallbackPreview:o})})}transSize(o){return"number"==typeof o?getFileSize(o):o}renderValidateMessage(){let{status:o,validateMessage:v}=this.props,_=null;switch(!0){case"string"==typeof v&&o===la.FILE_STATUS_VALIDATING:_=eC.createElement(eC.Fragment,null,eC.createElement(nh,{size:"small",wrapperClassName:"".concat(lx,"-file-card-icon-loading")}),v);break;case"string"==typeof v:_=eC.createElement(eC.Fragment,null,eC.createElement(t9,{className:"".concat(lx,"-file-card-icon-error")}),v);break;case reactUtils_isElement(v):_=v}return _}renderPicValidateMsg(){let{status:o,validateMessage:v}=this.props,_=null;switch(!0){case v&&o===la.FILE_STATUS_VALIDATING:_=eC.createElement(nh,{size:"small",wrapperClassName:"".concat(lx,"-picture-file-card-icon-loading")});break;case v&&(o===la.FILE_STATUS_VALID_FAIL||o===la.FILE_STATUS_UPLOAD_FAIL):_=eC.createElement("div",{className:"".concat(lx,"-picture-file-card-icon-error")},eC.createElement(ErrorSvg,null))}return _?eC.createElement(Tooltip,{content:v,trigger:"hover",position:"bottom"},_):null}renderPic(o){let{fallbackPreview:v}=this.state,{url:_,percent:x,status:w,disabled:T,style:L,onPreviewClick:N,showPicInfo:B,renderPicInfo:H,renderPicPreviewIcon:Y,renderThumbnail:Z,name:X,index:et,picHeight:en,picWidth:er}=this.props,ei=w===la.FILE_STATUS_UPLOADING&&100!==x,ea=w===la.FILE_STATUS_UPLOAD_FAIL&&this.props.showRetry,eo=w===la.FILE_STATUS_SUCCESS&&this.props.showReplace,el=w===la.FILE_STATUS_SUCCESS&&!this.props.showReplace,eu=eM()({["".concat(lx,"-picture-file-card")]:!0,["".concat(lx,"-picture-file-card-preview-fallback")]:v,["".concat(lx,"-picture-file-card-disabled")]:T,["".concat(lx,"-picture-file-card-show-pointer")]:void 0!==N,["".concat(lx,"-picture-file-card-error")]:w===la.FILE_STATUS_UPLOAD_FAIL,["".concat(lx,"-picture-file-card-uploading")]:ei}),ec=eC.createElement("div",{role:"button",tabIndex:0,className:"".concat(lx,"-picture-file-card-retry"),onClick:o=>this.onRetry(o)},eC.createElement(lg,{className:"".concat(lx,"-picture-file-card-icon-retry")})),ed=eC.createElement(Tooltip,{trigger:"hover",position:"top",content:o.replace,showArrow:!1,spacing:4},eC.createElement("div",{role:"button",tabIndex:0,className:"".concat(lx,"-picture-file-card-replace"),onClick:o=>this.onReplace(o)},eC.createElement(ReplaceSvg,{className:"".concat(lx,"-picture-file-card-icon-replace")}))),eh=eC.createElement("div",{className:"".concat(lx,"-picture-file-card-preview")},"function"==typeof Y?Y(this.props):null),ep=eC.createElement("div",{role:"button",tabIndex:0,className:"".concat(lx,"-picture-file-card-close"),onClick:o=>this.onRemove(o)},eC.createElement(n6,{className:"".concat(lx,"-picture-file-card-icon-close")})),ef="function"==typeof H?H(this.props):eC.createElement("div",{className:"".concat(lx,"-picture-file-card-pic-info")},et+1),eg={},em=L?Object.assign({},L):{};en&&(em.height=en,eg.height=en),er&&(em.width=er,eg.width=er);let ey=v?eC.createElement(oz,{size:"large"}):eC.createElement("img",{src:_,alt:X,onError:o=>this.foundation.handleImageError(o),style:eg}),ev="function"==typeof Z?Z(this.props):ey;return eC.createElement("div",{role:"listitem",className:eu,style:em,onClick:N},ev,ei?eC.createElement(Progress,{percent:x,type:"circle",size:"small",orbitStroke:"#FFF","aria-label":"uploading file progress"}):null,ea?ec:null,eo&&ed,el&&eh,B&&ef,!T&&ep,this.renderPicValidateMsg())}renderFile(o){let{name:v,size:_,percent:x,url:w,showRetry:T,showReplace:L,preview:N,previewFile:B,status:H,style:Y,onPreviewClick:Z,renderFileOperation:X}=this.props,{fallbackPreview:et}=this.state,en=eM()({["".concat(lx,"-file-card")]:!0,["".concat(lx,"-file-card-fail")]:H===la.FILE_STATUS_VALID_FAIL||H===la.FILE_STATUS_UPLOAD_FAIL,["".concat(lx,"-file-card-show-pointer")]:void 0!==Z}),er=eM()({["".concat(lx,"-file-card-preview")]:!0,["".concat(lx,"-file-card-preview-placeholder")]:!N||B||et}),ei="".concat(lx,"-file-card-info"),ea="".concat(lx,"-file-card-close"),eo="".concat(lx,"-file-card-replace"),el=!(100===x||void 0===x)&&H===la.FILE_STATUS_UPLOADING,eu=H===la.FILE_STATUS_UPLOAD_FAIL&&T,ec=H===la.FILE_STATUS_SUCCESS&&L,ed=this.transSize(_),eh=N&&!et?eC.createElement("img",{src:w,alt:v,onError:o=>this.foundation.handleImageError(o)}):eC.createElement(oz,{size:"large"});B&&(eh=B(this.props));let ep="function"==typeof X?X(this.props):eC.createElement(nt,{onClick:o=>this.onRemove(o),type:"tertiary",icon:eC.createElement(t3,null),theme:"borderless",size:"small",className:ea});return eC.createElement("div",{role:"listitem",className:en,style:Y,onClick:Z},eC.createElement("div",{className:er},eh),eC.createElement("div",{className:"".concat(ei,"-main")},eC.createElement("div",{className:"".concat(ei,"-main-text")},eC.createElement("span",{className:"".concat(ei,"-name")},v),eC.createElement("span",null,eC.createElement("span",{className:"".concat(ei,"-size")},ed),ec&&eC.createElement(Tooltip,{trigger:"hover",position:"top",showArrow:!1,content:o.replace},eC.createElement(nt,{onClick:o=>this.onReplace(o),type:"tertiary",theme:"borderless",size:"small",icon:eC.createElement(DirectorySvg,null),className:eo})))),el?eC.createElement(Progress,{percent:x,style:{width:"100%"},"aria-label":"uploading file progress"}):null,eC.createElement("div",{className:"".concat(ei,"-main-control")},eC.createElement("span",{className:"".concat(ei,"-validate-message")},this.renderValidateMessage()),eu?eC.createElement("span",{role:"button",tabIndex:0,className:"".concat(ei,"-retry"),onClick:o=>this.onRetry(o)},o.retry):null)),ep)}onRemove(o){o.stopPropagation(),this.props.onRemove()}onReplace(o){o.stopPropagation(),this.props.onReplace()}onRetry(o){o.stopPropagation(),this.props.onRetry()}render(){let{listType:o}=this.props;return o===la.FILE_LIST_PIC?eC.createElement(LocaleConsumer,{componentName:"Upload"},o=>this.renderPic(o)):o===la.FILE_LIST_DEFAULT?eC.createElement(LocaleConsumer,{componentName:"Upload"},o=>this.renderFile(o)):null}constructor(o){super(o),this.state={fallbackPreview:!1},this.foundation=new FileCardFoundation(this.adapter)}};function IconUpload_SvgComponent(o){return eC.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},o),eC.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8395 8.05827C17.1837 5.16226 14.5944 3 11.5 3C7.91015 3 5 5.91015 5 9.5C5 10.0204 5.06115 10.5264 5.17665 11.0114C2.84229 11.1772 1 13.1234 1 15.5C1 17.9853 3.01469 20 5.49995 20H17C20.3137 20 23 17.3137 23 14C23 10.9712 20.7558 8.46659 17.8395 8.05827ZM12.3201 8.26674C12.1347 8.11222 11.8653 8.11222 11.6799 8.26674L6.53047 12.5579C6.35084 12.7076 6.45669 13 6.69051 13H10V17.5C10 17.7761 10.2239 18 10.5 18H13.5C13.7761 18 14 17.7761 14 17.5V13H17.3095C17.5433 13 17.6492 12.7076 17.4695 12.5579L12.3201 8.26674Z",fill:"currentColor"}))}FileCard.propTypes={className:eI().string,disabled:eI().bool,listType:eI().string,name:eI().string,onPreviewClick:eI().func,onRemove:eI().func,onReplace:eI().func,onRetry:eI().func,percent:eI().number,preview:eI().bool,previewFile:eI().func,picWidth:eI().oneOfType([eI().number,eI().string]),picHeight:eI().oneOfType([eI().number,eI().string]),showReplace:eI().bool,showRetry:eI().bool,size:eI().oneOfType([eI().number,eI().string]),status:eI().string,style:eI().object,url:eI().string,validateMessage:eI().node,index:eI().number},FileCard.defaultProps={listType:la.FILE_LIST_DEFAULT,name:"",onRemove:()=>void 0,onRetry:()=>void 0,preview:!1,size:""};let lw=convertIcon(IconUpload_SvgComponent,"upload");_(8584);var upload_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let lC=ln.PREFIX;let Upload=class Upload extends BaseComponent{static getDerivedStateFromProps(o){let{fileList:v}=o;return"fileList"in o?{fileList:v||[]}:null}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyFileSelect:o=>this.props.onFileChange(o),notifyError:(o,v,_,x)=>this.props.onError(o,v,_,x),notifySuccess:(o,v,_)=>this.props.onSuccess(o,v,_),notifyProgress:(o,v,_)=>this.props.onProgress(o,v,_),notifyRemove:(o,v,_)=>this.props.onRemove(o,v,_),notifySizeError:(o,v)=>this.props.onSizeError(o,v),notifyExceed:o=>this.props.onExceed(o),updateFileList:(o,v)=>{"function"==typeof v?this.setState({fileList:o},v):this.setState({fileList:o})},notifyBeforeUpload:o=>{let{file:v,fileList:_}=o;return this.props.beforeUpload({file:v,fileList:_})},notifyAfterUpload:o=>{let{response:v,file:_,fileList:x}=o;return this.props.afterUpload({response:v,file:_,fileList:x})},resetInput:()=>{this.setState(o=>({inputKey:Math.random()}))},resetReplaceInput:()=>{this.setState(o=>({replaceInputKey:Math.random()}))},isMac:()=>navigator.platform.toUpperCase().indexOf("MAC")>=0,registerPastingHandler:o=>{document.body.addEventListener("keydown",o),this.pastingCb=o},unRegisterPastingHandler:()=>{this.pastingCb&&document.body.removeEventListener("keydown",this.pastingCb)},notifyPastingError:o=>this.props.onPastingError(o),updateDragAreaStatus:o=>this.setState({dragAreaStatus:o}),notifyChange:o=>{let{currentFile:v,fileList:_}=o;return this.props.onChange({currentFile:v,fileList:_})},updateLocalUrls:o=>this.setState({localUrls:o}),notifyClear:()=>this.props.onClear(),notifyPreviewClick:o=>this.props.onPreviewClick(o),notifyDrop:(o,v,_)=>this.props.onDrop(o,v,_),notifyAcceptInvalid:o=>this.props.onAcceptInvalid(o),notifyBeforeRemove:(o,v)=>this.props.beforeRemove(o,v),notifyBeforeClear:o=>this.props.beforeClear(o)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){let o=this.props,{style:v,className:_,multiple:x,accept:w,disabled:T,children:L,capture:N,listType:B,prompt:H,promptPosition:Y,draggable:Z,validateMessage:X,validateStatus:et,directory:en}=o,er=upload_rest(o,["style","className","multiple","accept","disabled","children","capture","listType","prompt","promptPosition","draggable","validateMessage","validateStatus","directory"]),ei=eM()(lC,{["".concat(lC,"-picture")]:B===la.FILE_LIST_PIC,["".concat(lC,"-disabled")]:T,["".concat(lC,"-default")]:"default"===et,["".concat(lC,"-error")]:"error"===et,["".concat(lC,"-warning")]:"warning"===et,["".concat(lC,"-success")]:"success"===et},_),ea=eM()("".concat(lC,"-hidden-input")),eo=eM()("".concat(lC,"-hidden-input-replace")),el=eM()("".concat(lC,"-prompt")),eu=eM()("".concat(lC,"-validate-message"));return eC.createElement("div",Object.assign({className:ei,style:v,"x-prompt-pos":Y},this.getDataAttr(er)),eC.createElement("input",Object.assign({key:this.state.inputKey,capture:N,multiple:x,accept:w,onChange:this.onChange,type:"file",autoComplete:"off",tabIndex:-1,className:ea,ref:this.inputRef},en?{directory:"directory",webkitdirectory:"webkitdirectory"}:{})),eC.createElement("input",{key:this.state.replaceInputKey,multiple:!1,accept:w,onChange:this.onReplaceChange,type:"file",autoComplete:"off",tabIndex:-1,className:eo,ref:this.replaceInputRef}),this.renderAddContent(),H?eC.createElement("div",{className:el,"x-semi-prop":"prompt"},H):null,X?eC.createElement("div",{className:eu,"x-semi-prop":"validateMessage"},X):null,this.renderFileList())}constructor(o){super(o),this.inputRef=null,this.replaceInputRef=null,this.onClick=()=>{let{inputRef:o,props:v}=this,{onOpenFileDialog:_}=v,x=!!this.props.disabled;!x&&o&&o.current&&(o.current.click(),_&&_())},this.onChange=o=>{let{files:v}=o.target;this.foundation.handleChange(v)},this.replace=o=>{this.setState({replaceIdx:o},()=>{this.replaceInputRef.current.click()})},this.onReplaceChange=o=>{let{files:v}=o.target;this.foundation.handleReplaceChange(v)},this.clear=()=>{this.foundation.handleClear()},this.remove=o=>{this.foundation.handleRemove(o)},this.insert=(o,v)=>this.foundation.insertFileToList(o,v),this.upload=()=>{this.foundation.manualUpload()},this.openFileDialog=()=>{this.onClick()},this.renderFile=(o,v,_)=>{let{name:x,status:w,validateMessage:T,_sizeInvalid:L,uid:N}=o,{previewFile:B,listType:H,itemStyle:Y,showPicInfo:Z,renderPicInfo:X,renderPicPreviewIcon:et,renderFileOperation:en,renderFileItem:er,renderThumbnail:ei,disabled:ea,onPreviewClick:eo,picWidth:el,picHeight:eu}=this.props,ec=Object.assign(Object.assign(Object.assign({},rd()(this.props,["showRetry","showReplace",""])),o),{previewFile:B,listType:H,onRemove:()=>this.remove(o),onRetry:()=>{this.foundation.retry(o)},index:v,key:N||"".concat(x).concat(v),style:Y,disabled:ea,showPicInfo:Z,renderPicInfo:X,renderPicPreviewIcon:et,renderFileOperation:en,renderThumbnail:ei,onReplace:()=>{this.replace(v)},onPreviewClick:void 0!==eo?()=>this.foundation.handlePreviewClick(o):void 0,picWidth:el,picHeight:eu});return(w!==la.FILE_STATUS_UPLOAD_FAIL||T||(ec.validateMessage=_.fail),L&&!T&&(ec.validateMessage=_.illegalSize),void 0===er)?eC.createElement(FileCard,Object.assign({},ec)):er(ec)},this.renderFileList=()=>{let{listType:o}=this.props;return o===la.FILE_LIST_PIC?this.renderFileListPic():o===la.FILE_LIST_DEFAULT?this.renderFileListDefault():null},this.renderFileListPic=()=>{let{showUploadList:o,limit:v,disabled:_,children:x,draggable:w,hotSpotLocation:T,picHeight:L,picWidth:N}=this.props,{fileList:B,dragAreaStatus:H}=this.state,Y=this.props.fileList||B,Z=!v||v>Y.length,X="".concat(lC,"-drag-area"),et=eM()("".concat(lC,"-add"),{["".concat(lC,"-picture-add")]:!0,["".concat(lC,"-picture-add-disabled")]:_}),en=eM()("".concat(lC,"-file-list"),{["".concat(lC,"-picture-file-list")]:!0}),er=eM()({["".concat(X,"-legal")]:H===la.DRAG_AREA_LEGAL,["".concat(X,"-illegal")]:H===la.DRAG_AREA_ILLEGAL}),ei="".concat(lC,"-file-list-main"),ea={role:"button",className:et,onClick:this.onClick,style:{height:L,width:N}},eo={className:en},el={onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter};w&&Object.assign(ea,el,{className:eM()(et,er)});let eu=eC.createElement("div",Object.assign({},ea,{"x-semi-prop":"children"}),x);return o&&Y.length?eC.createElement(LocaleConsumer,{componentName:"Upload"},o=>eC.createElement("div",Object.assign({},eo),eC.createElement("div",{className:ei,role:"list","aria-label":"picture list"},Z&&"start"===T?eu:null,Y.map((v,_)=>this.renderFile(v,_,o)),Z&&"end"===T?eu:null))):Z?eu:null},this.renderFileListDefault=()=>{let{showUploadList:o,limit:v,disabled:_}=this.props,{fileList:x}=this.state,w=this.props.fileList||x,T=eM()("".concat(lC,"-file-list")),L="".concat(lC,"-file-list-title"),N="".concat(lC,"-file-list-main"),B=1!==v&&w.length,H=this.props.showClear&&!_,Y={className:T};return o&&w.length?eC.createElement(LocaleConsumer,{componentName:"Upload"},o=>eC.createElement("div",Object.assign({},Y),B?eC.createElement("div",{className:L},eC.createElement("span",{className:"".concat(L,"-choosen")},o.selectedFiles),H?eC.createElement("span",{role:"button",tabIndex:0,onClick:this.clear,className:"".concat(L,"-clear")},o.clear):null):null,eC.createElement("div",{className:N,role:"list","aria-label":"file list"},w.map((v,_)=>this.renderFile(v,_,o))))):null},this.onDrop=o=>{this.foundation.handleDrop(o)},this.onDragOver=o=>{this.foundation.handleDragOver(o)},this.onDragLeave=o=>{this.foundation.handleDragLeave(o)},this.onDragEnter=o=>{this.foundation.handleDragEnter(o)},this.renderAddContent=()=>{let{draggable:o,children:v,listType:_,disabled:x}=this.props,w=eM()("".concat(lC,"-add"));return _===la.FILE_LIST_PIC?null:o?this.renderDragArea():eC.createElement("div",{role:"button",tabIndex:0,"aria-disabled":x,className:w,onClick:this.onClick},v)},this.renderDragArea=()=>{let{dragAreaStatus:o}=this.state,{children:v,dragIcon:_,dragMainText:x,dragSubText:w,disabled:T}=this.props,L="".concat(lC,"-drag-area"),N=eM()(L,{["".concat(L,"-legal")]:o===la.DRAG_AREA_LEGAL,["".concat(L,"-illegal")]:o===la.DRAG_AREA_ILLEGAL,["".concat(L,"-custom")]:v});return eC.createElement(LocaleConsumer,{componentName:"Upload"},B=>eC.createElement("div",{role:"button",tabIndex:0,"aria-disabled":T,className:N,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onClick:this.onClick},v||eC.createElement(eC.Fragment,null,eC.createElement("div",{className:"".concat(L,"-icon"),"x-semi-prop":"dragIcon"},_||eC.createElement(lw,{size:"extra-large"})),eC.createElement("div",{className:"".concat(L,"-text")},eC.createElement("div",{className:"".concat(L,"-main-text"),"x-semi-prop":"dragMainText"},x||B.mainText),eC.createElement("div",{className:"".concat(L,"-sub-text"),"x-semi-prop":"dragSubText"},w),eC.createElement("div",{className:"".concat(L,"-tips")},o===la.DRAG_AREA_LEGAL&&eC.createElement("span",{className:"".concat(L,"-tips-legal")},B.legalTips),o===la.DRAG_AREA_ILLEGAL&&eC.createElement("span",{className:"".concat(L,"-tips-illegal")},B.illegalTips))))))},this.state={fileList:o.defaultFileList||[],replaceIdx:-1,inputKey:Math.random(),replaceInputKey:Math.random(),dragAreaStatus:"default",localUrls:[]},this.foundation=new UploadFoundation(this.adapter),this.inputRef=eC.createRef(),this.replaceInputRef=eC.createRef()}};Upload.propTypes={accept:eI().string,action:eI().string.isRequired,addOnPasting:eI().bool,afterUpload:eI().func,beforeClear:eI().func,beforeRemove:eI().func,beforeUpload:eI().func,children:eI().node,className:eI().string,customRequest:eI().func,data:eI().oneOfType([eI().object,eI().func]),defaultFileList:eI().array,directory:eI().bool,disabled:eI().bool,dragIcon:eI().node,dragMainText:eI().node,dragSubText:eI().node,draggable:eI().bool,fileList:eI().array,fileName:eI().string,headers:eI().oneOfType([eI().object,eI().func]),hotSpotLocation:eI().oneOf(["start","end"]),itemStyle:eI().object,limit:eI().number,listType:eI().oneOf(la.LIST_TYPE),maxSize:eI().number,minSize:eI().number,multiple:eI().bool,name:eI().string,onAcceptInvalid:eI().func,onChange:eI().func,onClear:eI().func,onDrop:eI().func,onError:eI().func,onExceed:eI().func,onFileChange:eI().func,onOpenFileDialog:eI().func,onPreviewClick:eI().func,onProgress:eI().func,onRemove:eI().func,onRetry:eI().func,onSizeError:eI().func,onSuccess:eI().func,onPastingError:eI().func,previewFile:eI().func,prompt:eI().node,promptPosition:eI().oneOf(la.PROMPT_POSITION),picWidth:eI().oneOfType([eI().number,eI().string]),picHeight:eI().oneOfType([eI().number,eI().string]),renderFileItem:eI().func,renderPicPreviewIcon:eI().func,renderFileOperation:eI().func,renderPicInfo:eI().func,renderThumbnail:eI().func,showClear:eI().bool,showPicInfo:eI().bool,showReplace:eI().bool,showRetry:eI().bool,showUploadList:eI().bool,style:eI().object,timeout:eI().number,transformFile:eI().func,uploadTrigger:eI().oneOf(la.UPLOAD_TRIGGER),validateMessage:eI().node,validateStatus:eI().oneOf(la.VALIDATE_STATUS),withCredentials:eI().bool},Upload.defaultProps={defaultFileList:[],disabled:!1,listType:"list",hotSpotLocation:"end",multiple:!1,onAcceptInvalid:eE(),onChange:eE(),beforeRemove:()=>!0,beforeClear:()=>!0,onClear:eE(),onDrop:eE(),onError:eE(),onExceed:eE(),onFileChange:eE(),onOpenFileDialog:eE(),onProgress:eE(),onRemove:eE(),onRetry:eE(),onSizeError:eE(),onSuccess:eE(),onPastingError:eE(),promptPosition:"right",showClear:!0,showPicInfo:!1,showReplace:!1,showRetry:!0,showUploadList:!0,uploadTrigger:"auto",withCredentials:!1},Upload.FileCard=FileCard;let lT=hoc_withField(rs,{maintainCursor:!0}),lM=hoc_withField(rM,{maintainCursor:!0}),lP=hoc_withField(rf,{maintainCursor:!0}),lI=hoc_withField(Select);lI.Option=Select.Option,lI.OptGroup=Select.OptGroup;let lD=hoc_withField(CheckboxGroup),lE=hoc_withField(iu,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),lO=hoc_withField(RadioGroup,{valuePath:"target.value"}),lA=hoc_withField(Radio,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),lk=hoc_withField(o_),lL=hoc_withField(Switch,{valueKey:"checked"}),lR=hoc_withField(Slider),lN=hoc_withField(LocaleTimePicker),lF=hoc_withField(TreeSelect),lV=hoc_withField(Cascader),lB=hoc_withField(Rating),lz=hoc_withField(AutoComplete,{valueKey:"value",onKeyChangeFnName:"onChange"}),lj=hoc_withField(Upload,{valueKey:"fileList",valuePath:"fileList",onKeyChangeFnName:"onChange"}),lH=hoc_withField(TagInput);var baseForm_rest=function(o,v){var _={};for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols)for(var w=0,x=Object.getOwnPropertySymbols(o);w<x.length;w++)0>v.indexOf(x[w])&&Object.prototype.propertyIsEnumerable.call(o,x[w])&&(_[x[w]]=o[x[w]]);return _};let lG=nz.UX.PREFIX;let Form=class Form extends BaseComponent{componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{cloneDeep:cloneDeep,notifySubmit:(o,v)=>{this.props.onSubmit(o,v)},notifySubmitFail:(o,v,_)=>{this.props.onSubmitFail(o,v,_)},forceUpdate:o=>{this.forceUpdate(o)},notifyChange:o=>{this.props.onChange(o)},notifyValueChange:(o,v)=>{this.props.onValueChange(o,v)},notifyReset:()=>{this.props.onReset()},initFormId:()=>{this.setState({formId:getUuidv4()})},getInitValues:()=>this.props.initValues,getFormProps:o=>{if(void 0===o)return this.props;if("string"==typeof o)return this.props[o];{let v={};return o.forEach(o=>{v[o]=this.props[o]}),v}},getAllErrorDOM:()=>{let{formId:o}=this.state,{id:v}=this.props;return document.querySelectorAll('form[x-form-id="'.concat(v||o,'"] .').concat(nz.UX.PREFIX,"-field-error-message"))},getFieldDOM:o=>document.querySelector(".".concat(nz.UX.PREFIX,'-field[x-field-id="').concat(o,'"]'))})}get content(){let{children:o,component:v,render:_}=this.props,x=this.foundation.getFormState(),w={formState:x,formApi:this.foundation.getFormApi(),values:x.values};return v?eC.createElement(v,w):_?_(w):"function"==typeof o?o(w):o}submit(o){o.preventDefault(),this.foundation.submit(o)}reset(o){o.preventDefault(),this.foundation.reset()}render(){let o=this.foundation.getFormState(!1),v=this.foundation.getModifyFormStateApi(),{formId:_}=this.state,x=this.props,{children:w,getFormApi:T,onChange:L,onSubmit:N,onSubmitFail:B,onValueChange:H,component:Y,render:Z,validateFields:X,initValues:et,layout:en,style:er,className:ei,labelPosition:ea,labelWidth:eo,labelAlign:el,labelCol:eu,wrapperCol:ec,allowEmpty:ed,autoScrollToError:eh,showValidateIcon:ep,stopValidateWithError:ef,extraTextPosition:eg,id:em,trigger:ey}=x,ev=baseForm_rest(x,["children","getFormApi","onChange","onSubmit","onSubmitFail","onValueChange","component","render","validateFields","initValues","layout","style","className","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","allowEmpty","autoScrollToError","showValidateIcon","stopValidateWithError","extraTextPosition","id","trigger"]),e_=eM()(lG,ei,{[lG+"-vertical"]:"vertical"===en,[lG+"-horizontal"]:"horizontal"===en}),eb=ec&&eu,eS=eC.createElement("form",Object.assign({style:er},ev,{onReset:this.reset,onSubmit:this.submit,className:e_,"x-form-id":em||_}),this.content),ex=eC.createElement(Row,null,eS);return eC.createElement(nG.Provider,{value:v},eC.createElement(nH.Provider,{value:this.formApi},eC.createElement(nj.Provider,{value:o},eb?ex:eS)))}constructor(o){super(o),this.state={formId:""},warning(!!(o.component&&o.render),"[Semi Form] You should not use <Form component> and <Form render> in ths same time; <Form render> will be ignored"),warning(o.component&&o.children&&!isEmptyChildren(o.children),"[Semi Form] You should not use <Form component> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),warning(o.render&&o.children&&!isEmptyChildren(o.children),"[Semi Form] You should not use <Form render> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),this.submit=this.submit.bind(this),this.reset=this.reset.bind(this),this.foundation=new FormFoundation(this.adapter),this.formApi=this.foundation.getFormApi(),this.props.getFormApi&&this.props.getFormApi(this.formApi)}};Form.propTypes={"aria-label":eI().string,onSubmit:eI().func,onSubmitFail:eI().func,onChange:eI().func,onReset:eI().func,onValueChange:eI().func,autoScrollToError:eI().oneOfType([eI().bool,eI().object]),allowEmpty:eI().bool,className:eI().string,component:eI().oneOfType([eI().node,eI().func]),disabled:eI().bool,extraTextPosition:eI().oneOf(nz.j2.EXTRA_POS),getFormApi:eI().func,initValues:eI().object,validateFields:eI().func,layout:eI().oneOf(nz.j2.LAYOUT),labelPosition:eI().oneOf(nz.j2.LABEL_POS),labelWidth:eI().oneOfType([eI().number,eI().string]),labelAlign:eI().oneOf(nz.j2.LABEL_ALIGN),labelCol:eI().object,render:eI().func,style:eI().object,showValidateIcon:eI().bool,stopValidateWithError:eI().bool,id:eI().string,wrapperCol:eI().object,trigger:eI().oneOfType([eI().oneOf(["blur","change","custom","mount"]),eI().arrayOf(eI().oneOf(["blur","change","custom","mount"]))])},Form.defaultProps={onChange:eE(),onSubmitFail:eE(),onSubmit:eE(),onReset:eE(),onValueChange:eE(),layout:"vertical",labelPosition:"top",allowEmpty:!1,autoScrollToError:!1,showValidateIcon:!0},Form.Input=lT,Form.TextArea=lP,Form.InputNumber=lM,Form.Select=lI,Form.Checkbox=lE,Form.CheckboxGroup=lD,Form.Radio=lA,Form.RadioGroup=lO,Form.DatePicker=lk,Form.TimePicker=lN,Form.Switch=lL,Form.Slider=lR,Form.TreeSelect=lF,Form.Cascader=lV,Form.Rating=lB,Form.AutoComplete=lz,Form.Upload=lj,Form.TagInput=lH,Form.Slot=o=>{let v,_,x,w,T;let L="top";try{let o=(0,eC.useContext)(nG),T=o.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol"]);v=T.labelCol,_=T.wrapperCol,x=T.labelWidth,w=T.labelAlign,L=T.labelPosition?T.labelPosition:L}catch(o){}o.labelPosition&&(L=o.labelPosition);let{children:N,label:B,className:H,style:Y,error:Z,noLabel:X}=o;slot_rest(o,["children","label","className","style","error","noLabel"]);let et=v&&_,en=eM()({["".concat(nQ,"-field")]:!0,["".concat(nQ,"-slot")]:!0},H),er=eM()({["".concat(nQ,"-col-").concat(w)]:!0});switch(!0){case nw()(B)&&!eC.isValidElement(B):break;case e0()(B)||nr()(B):case eC.isValidElement(B):B={text:B}}let ei=null;{let o={};switch(!0){case nw()(Z)&&!eC.isValidElement(Z):o=Z;break;case e0()(Z)||nr()(Z):case eC.isValidElement(Z):o={error:Z}}ei=eC.createElement(ErrorMessage,Object.assign({},o))}let ea=Object.assign({align:w,width:x},B),eo=eM()({["".concat(nQ,"-field-main")]:!0,["".concat(nQ,"-slot-main")]:!0});switch(!0){case!et&&!X:T=eC.createElement(eC.Fragment,null,eC.createElement(Label,Object.assign({},ea)),eC.createElement("div",{className:eo},N,ei));break;case!et&&X:T=eC.createElement(eC.Fragment,null,eC.createElement("div",{className:eo},N,ei));break;case et&&"top"===L:T=eC.createElement(eC.Fragment,null,eC.createElement("div",{style:{overflow:"hidden"}},eC.createElement(Col,Object.assign({},v,{className:er}),eC.createElement(Label,Object.assign({},ea)))),eC.createElement(Col,null,N,ei));break;case et&&"top"!==L:T=eC.createElement(eC.Fragment,null,eC.createElement(Col,Object.assign({},v,{className:er}),eC.createElement(Label,Object.assign({},ea))),eC.createElement(Col,null,N,ei))}return eC.createElement("div",{className:en,"x-label-pos":L,style:Y},T)},Form.ErrorMessage=ErrorMessage,Form.InputGroup=FormInputGroup,Form.Label=Label,Form.Section=nJ.Z;var lU=Form},9522:function(o){!function(){var v={675:function(o,v){"use strict";v.byteLength=byteLength,v.toByteArray=toByteArray,v.fromByteArray=fromByteArray;for(var _=[],x=[],w="undefined"!=typeof Uint8Array?Uint8Array:Array,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,N=T.length;L<N;++L)_[L]=T[L],x[T.charCodeAt(L)]=L;function getLens(o){var v=o.length;if(v%4>0)throw Error("Invalid string. Length must be a multiple of 4");var _=o.indexOf("=");-1===_&&(_=v);var x=_===v?0:4-_%4;return[_,x]}function byteLength(o){var v=getLens(o),_=v[0],x=v[1];return(_+x)*3/4-x}function _byteLength(o,v,_){return(v+_)*3/4-_}function toByteArray(o){var v,_,T=getLens(o),L=T[0],N=T[1],B=new w(_byteLength(o,L,N)),H=0,Y=N>0?L-4:L;for(_=0;_<Y;_+=4)v=x[o.charCodeAt(_)]<<18|x[o.charCodeAt(_+1)]<<12|x[o.charCodeAt(_+2)]<<6|x[o.charCodeAt(_+3)],B[H++]=v>>16&255,B[H++]=v>>8&255,B[H++]=255&v;return 2===N&&(v=x[o.charCodeAt(_)]<<2|x[o.charCodeAt(_+1)]>>4,B[H++]=255&v),1===N&&(v=x[o.charCodeAt(_)]<<10|x[o.charCodeAt(_+1)]<<4|x[o.charCodeAt(_+2)]>>2,B[H++]=v>>8&255,B[H++]=255&v),B}function tripletToBase64(o){return _[o>>18&63]+_[o>>12&63]+_[o>>6&63]+_[63&o]}function encodeChunk(o,v,_){for(var x=[],w=v;w<_;w+=3)x.push(tripletToBase64((o[w]<<16&16711680)+(o[w+1]<<8&65280)+(255&o[w+2])));return x.join("")}function fromByteArray(o){for(var v,x=o.length,w=x%3,T=[],L=0,N=x-w;L<N;L+=16383)T.push(encodeChunk(o,L,L+16383>N?N:L+16383));return 1===w?T.push(_[(v=o[x-1])>>2]+_[v<<4&63]+"=="):2===w&&T.push(_[(v=(o[x-2]<<8)+o[x-1])>>10]+_[v>>4&63]+_[v<<2&63]+"="),T.join("")}x["-".charCodeAt(0)]=62,x["_".charCodeAt(0)]=63},72:function(o,v,_){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var x=_(675),w=_(783),T="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function typedArraySupport(){try{var o=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(o,v),42===o.foo()}catch(o){return!1}}function createBuffer(o){if(o>2147483647)throw RangeError('The value "'+o+'" is invalid for option "size"');var v=new Uint8Array(o);return Object.setPrototypeOf(v,Buffer.prototype),v}function Buffer(o,v,_){if("number"==typeof o){if("string"==typeof v)throw TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(o)}return from(o,v,_)}function from(o,v,_){if("string"==typeof o)return fromString(o,v);if(ArrayBuffer.isView(o))return fromArrayLike(o);if(null==o)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(isInstance(o,ArrayBuffer)||o&&isInstance(o.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(isInstance(o,SharedArrayBuffer)||o&&isInstance(o.buffer,SharedArrayBuffer)))return fromArrayBuffer(o,v,_);if("number"==typeof o)throw TypeError('The "value" argument must not be of type number. Received type number');var x=o.valueOf&&o.valueOf();if(null!=x&&x!==o)return Buffer.from(x,v,_);var w=fromObject(o);if(w)return w;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof o[Symbol.toPrimitive])return Buffer.from(o[Symbol.toPrimitive]("string"),v,_);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}function assertSize(o){if("number"!=typeof o)throw TypeError('"size" argument must be of type number');if(o<0)throw RangeError('The value "'+o+'" is invalid for option "size"')}function alloc(o,v,_){return(assertSize(o),o<=0)?createBuffer(o):void 0!==v?"string"==typeof _?createBuffer(o).fill(v,_):createBuffer(o).fill(v):createBuffer(o)}function allocUnsafe(o){return assertSize(o),createBuffer(o<0?0:0|checked(o))}function fromString(o,v){if(("string"!=typeof v||""===v)&&(v="utf8"),!Buffer.isEncoding(v))throw TypeError("Unknown encoding: "+v);var _=0|byteLength(o,v),x=createBuffer(_),w=x.write(o,v);return w!==_&&(x=x.slice(0,w)),x}function fromArrayLike(o){for(var v=o.length<0?0:0|checked(o.length),_=createBuffer(v),x=0;x<v;x+=1)_[x]=255&o[x];return _}function fromArrayBuffer(o,v,_){var x;if(v<0||o.byteLength<v)throw RangeError('"offset" is outside of buffer bounds');if(o.byteLength<v+(_||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(x=void 0===v&&void 0===_?new Uint8Array(o):void 0===_?new Uint8Array(o,v):new Uint8Array(o,v,_),Buffer.prototype),x}function fromObject(o){if(Buffer.isBuffer(o)){var v,_=0|checked(o.length),x=createBuffer(_);return 0===x.length||o.copy(x,0,0,_),x}return void 0!==o.length?"number"!=typeof o.length||(v=o.length)!=v?createBuffer(0):fromArrayLike(o):"Buffer"===o.type&&Array.isArray(o.data)?fromArrayLike(o.data):void 0}function checked(o){if(o>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|o}function SlowBuffer(o){return+o!=o&&(o=0),Buffer.alloc(+o)}function byteLength(o,v){if(Buffer.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||isInstance(o,ArrayBuffer))return o.byteLength;if("string"!=typeof o)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);var _=o.length,x=arguments.length>2&&!0===arguments[2];if(!x&&0===_)return 0;for(var w=!1;;)switch(v){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return utf8ToBytes(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*_;case"hex":return _>>>1;case"base64":return base64ToBytes(o).length;default:if(w)return x?-1:utf8ToBytes(o).length;v=(""+v).toLowerCase(),w=!0}}function slowToString(o,v,_){var x=!1;if((void 0===v||v<0)&&(v=0),v>this.length||((void 0===_||_>this.length)&&(_=this.length),_<=0||(_>>>=0)<=(v>>>=0)))return"";for(o||(o="utf8");;)switch(o){case"hex":return hexSlice(this,v,_);case"utf8":case"utf-8":return utf8Slice(this,v,_);case"ascii":return asciiSlice(this,v,_);case"latin1":case"binary":return latin1Slice(this,v,_);case"base64":return base64Slice(this,v,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,v,_);default:if(x)throw TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),x=!0}}function swap(o,v,_){var x=o[v];o[v]=o[_],o[_]=x}function bidirectionalIndexOf(o,v,_,x,w){var T;if(0===o.length)return -1;if("string"==typeof _?(x=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),(T=_=+_)!=T&&(_=w?0:o.length-1),_<0&&(_=o.length+_),_>=o.length){if(w)return -1;_=o.length-1}else if(_<0){if(!w)return -1;_=0}if("string"==typeof v&&(v=Buffer.from(v,x)),Buffer.isBuffer(v))return 0===v.length?-1:arrayIndexOf(o,v,_,x,w);if("number"==typeof v)return(v&=255,"function"==typeof Uint8Array.prototype.indexOf)?w?Uint8Array.prototype.indexOf.call(o,v,_):Uint8Array.prototype.lastIndexOf.call(o,v,_):arrayIndexOf(o,[v],_,x,w);throw TypeError("val must be string, number or Buffer")}function arrayIndexOf(o,v,_,x,w){var T,L=1,N=o.length,B=v.length;if(void 0!==x&&("ucs2"===(x=String(x).toLowerCase())||"ucs-2"===x||"utf16le"===x||"utf-16le"===x)){if(o.length<2||v.length<2)return -1;L=2,N/=2,B/=2,_/=2}function read(o,v){return 1===L?o[v]:o.readUInt16BE(v*L)}if(w){var H=-1;for(T=_;T<N;T++)if(read(o,T)===read(v,-1===H?0:T-H)){if(-1===H&&(H=T),T-H+1===B)return H*L}else -1!==H&&(T-=T-H),H=-1}else for(_+B>N&&(_=N-B),T=_;T>=0;T--){for(var Y=!0,Z=0;Z<B;Z++)if(read(o,T+Z)!==read(v,Z)){Y=!1;break}if(Y)return T}return -1}function hexWrite(o,v,_,x){_=Number(_)||0;var w=o.length-_;x?(x=Number(x))>w&&(x=w):x=w;var T=v.length;x>T/2&&(x=T/2);for(var L=0;L<x;++L){var N=parseInt(v.substr(2*L,2),16);if(N!=N)break;o[_+L]=N}return L}function utf8Write(o,v,_,x){return blitBuffer(utf8ToBytes(v,o.length-_),o,_,x)}function latin1Write(o,v,_,x){return blitBuffer(asciiToBytes(v),o,_,x)}function base64Write(o,v,_,x){return blitBuffer(base64ToBytes(v),o,_,x)}function ucs2Write(o,v,_,x){return blitBuffer(utf16leToBytes(v,o.length-_),o,_,x)}function base64Slice(o,v,_){return 0===v&&_===o.length?x.fromByteArray(o):x.fromByteArray(o.slice(v,_))}function utf8Slice(o,v,_){_=Math.min(o.length,_);for(var x=[],w=v;w<_;){var T,L,N,B,H=o[w],Y=null,Z=H>239?4:H>223?3:H>191?2:1;if(w+Z<=_)switch(Z){case 1:H<128&&(Y=H);break;case 2:(192&(T=o[w+1]))==128&&(B=(31&H)<<6|63&T)>127&&(Y=B);break;case 3:T=o[w+1],L=o[w+2],(192&T)==128&&(192&L)==128&&(B=(15&H)<<12|(63&T)<<6|63&L)>2047&&(B<55296||B>57343)&&(Y=B);break;case 4:T=o[w+1],L=o[w+2],N=o[w+3],(192&T)==128&&(192&L)==128&&(192&N)==128&&(B=(15&H)<<18|(63&T)<<12|(63&L)<<6|63&N)>65535&&B<1114112&&(Y=B)}null===Y?(Y=65533,Z=1):Y>65535&&(Y-=65536,x.push(Y>>>10&1023|55296),Y=56320|1023&Y),x.push(Y),w+=Z}return decodeCodePointsArray(x)}function decodeCodePointsArray(o){var v=o.length;if(v<=4096)return String.fromCharCode.apply(String,o);for(var _="",x=0;x<v;)_+=String.fromCharCode.apply(String,o.slice(x,x+=4096));return _}function asciiSlice(o,v,_){var x="";_=Math.min(o.length,_);for(var w=v;w<_;++w)x+=String.fromCharCode(127&o[w]);return x}function latin1Slice(o,v,_){var x="";_=Math.min(o.length,_);for(var w=v;w<_;++w)x+=String.fromCharCode(o[w]);return x}function hexSlice(o,v,_){var x=o.length;(!v||v<0)&&(v=0),(!_||_<0||_>x)&&(_=x);for(var w="",T=v;T<_;++T)w+=N[o[T]];return w}function utf16leSlice(o,v,_){for(var x=o.slice(v,_),w="",T=0;T<x.length;T+=2)w+=String.fromCharCode(x[T]+256*x[T+1]);return w}function checkOffset(o,v,_){if(o%1!=0||o<0)throw RangeError("offset is not uint");if(o+v>_)throw RangeError("Trying to access beyond buffer length")}function checkInt(o,v,_,x,w,T){if(!Buffer.isBuffer(o))throw TypeError('"buffer" argument must be a Buffer instance');if(v>w||v<T)throw RangeError('"value" argument is out of bounds');if(_+x>o.length)throw RangeError("Index out of range")}function checkIEEE754(o,v,_,x,w,T){if(_+x>o.length||_<0)throw RangeError("Index out of range")}function writeFloat(o,v,_,x,T){return v=+v,_>>>=0,T||checkIEEE754(o,v,_,4,34028234663852886e22,-34028234663852886e22),w.write(o,v,_,x,23,4),_+4}function writeDouble(o,v,_,x,T){return v=+v,_>>>=0,T||checkIEEE754(o,v,_,8,17976931348623157e292,-17976931348623157e292),w.write(o,v,_,x,52,8),_+8}v.Buffer=Buffer,v.SlowBuffer=SlowBuffer,v.INSPECT_MAX_BYTES=50,v.kMaxLength=2147483647,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(o,v,_){return from(o,v,_)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(o,v,_){return alloc(o,v,_)},Buffer.allocUnsafe=function(o){return allocUnsafe(o)},Buffer.allocUnsafeSlow=function(o){return allocUnsafe(o)},Buffer.isBuffer=function(o){return null!=o&&!0===o._isBuffer&&o!==Buffer.prototype},Buffer.compare=function(o,v){if(isInstance(o,Uint8Array)&&(o=Buffer.from(o,o.offset,o.byteLength)),isInstance(v,Uint8Array)&&(v=Buffer.from(v,v.offset,v.byteLength)),!Buffer.isBuffer(o)||!Buffer.isBuffer(v))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===v)return 0;for(var _=o.length,x=v.length,w=0,T=Math.min(_,x);w<T;++w)if(o[w]!==v[w]){_=o[w],x=v[w];break}return _<x?-1:x<_?1:0},Buffer.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(o,v){if(!Array.isArray(o))throw TypeError('"list" argument must be an Array of Buffers');if(0===o.length)return Buffer.alloc(0);if(void 0===v)for(_=0,v=0;_<o.length;++_)v+=o[_].length;var _,x=Buffer.allocUnsafe(v),w=0;for(_=0;_<o.length;++_){var T=o[_];if(isInstance(T,Uint8Array)&&(T=Buffer.from(T)),!Buffer.isBuffer(T))throw TypeError('"list" argument must be an Array of Buffers');T.copy(x,w),w+=T.length}return x},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var o=this.length;if(o%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<o;v+=2)swap(this,v,v+1);return this},Buffer.prototype.swap32=function(){var o=this.length;if(o%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<o;v+=4)swap(this,v,v+3),swap(this,v+1,v+2);return this},Buffer.prototype.swap64=function(){var o=this.length;if(o%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<o;v+=8)swap(this,v,v+7),swap(this,v+1,v+6),swap(this,v+2,v+5),swap(this,v+3,v+4);return this},Buffer.prototype.toString=function(){var o=this.length;return 0===o?"":0==arguments.length?utf8Slice(this,0,o):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(o){if(!Buffer.isBuffer(o))throw TypeError("Argument must be a Buffer");return this===o||0===Buffer.compare(this,o)},Buffer.prototype.inspect=function(){var o="",_=v.INSPECT_MAX_BYTES;return o=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(o+=" ... "),"<Buffer "+o+">"},T&&(Buffer.prototype[T]=Buffer.prototype.inspect),Buffer.prototype.compare=function(o,v,_,x,w){if(isInstance(o,Uint8Array)&&(o=Buffer.from(o,o.offset,o.byteLength)),!Buffer.isBuffer(o))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(void 0===v&&(v=0),void 0===_&&(_=o?o.length:0),void 0===x&&(x=0),void 0===w&&(w=this.length),v<0||_>o.length||x<0||w>this.length)throw RangeError("out of range index");if(x>=w&&v>=_)return 0;if(x>=w)return -1;if(v>=_)return 1;if(v>>>=0,_>>>=0,x>>>=0,w>>>=0,this===o)return 0;for(var T=w-x,L=_-v,N=Math.min(T,L),B=this.slice(x,w),H=o.slice(v,_),Y=0;Y<N;++Y)if(B[Y]!==H[Y]){T=B[Y],L=H[Y];break}return T<L?-1:L<T?1:0},Buffer.prototype.includes=function(o,v,_){return -1!==this.indexOf(o,v,_)},Buffer.prototype.indexOf=function(o,v,_){return bidirectionalIndexOf(this,o,v,_,!0)},Buffer.prototype.lastIndexOf=function(o,v,_){return bidirectionalIndexOf(this,o,v,_,!1)},Buffer.prototype.write=function(o,v,_,x){if(void 0===v)x="utf8",_=this.length,v=0;else if(void 0===_&&"string"==typeof v)x=v,_=this.length,v=0;else if(isFinite(v))v>>>=0,isFinite(_)?(_>>>=0,void 0===x&&(x="utf8")):(x=_,_=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var w,T,L=this.length-v;if((void 0===_||_>L)&&(_=L),o.length>0&&(_<0||v<0)||v>this.length)throw RangeError("Attempt to write outside buffer bounds");x||(x="utf8");for(var N=!1;;)switch(x){case"hex":return hexWrite(this,o,v,_);case"utf8":case"utf-8":return utf8Write(this,o,v,_);case"ascii":return w=v,T=_,blitBuffer(asciiToBytes(o),this,w,T);case"latin1":case"binary":return latin1Write(this,o,v,_);case"base64":return base64Write(this,o,v,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,o,v,_);default:if(N)throw TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),N=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(o,v){var _=this.length;o=~~o,v=void 0===v?_:~~v,o<0?(o+=_)<0&&(o=0):o>_&&(o=_),v<0?(v+=_)<0&&(v=0):v>_&&(v=_),v<o&&(v=o);var x=this.subarray(o,v);return Object.setPrototypeOf(x,Buffer.prototype),x},Buffer.prototype.readUIntLE=function(o,v,_){o>>>=0,v>>>=0,_||checkOffset(o,v,this.length);for(var x=this[o],w=1,T=0;++T<v&&(w*=256);)x+=this[o+T]*w;return x},Buffer.prototype.readUIntBE=function(o,v,_){o>>>=0,v>>>=0,_||checkOffset(o,v,this.length);for(var x=this[o+--v],w=1;v>0&&(w*=256);)x+=this[o+--v]*w;return x},Buffer.prototype.readUInt8=function(o,v){return o>>>=0,v||checkOffset(o,1,this.length),this[o]},Buffer.prototype.readUInt16LE=function(o,v){return o>>>=0,v||checkOffset(o,2,this.length),this[o]|this[o+1]<<8},Buffer.prototype.readUInt16BE=function(o,v){return o>>>=0,v||checkOffset(o,2,this.length),this[o]<<8|this[o+1]},Buffer.prototype.readUInt32LE=function(o,v){return o>>>=0,v||checkOffset(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+16777216*this[o+3]},Buffer.prototype.readUInt32BE=function(o,v){return o>>>=0,v||checkOffset(o,4,this.length),16777216*this[o]+(this[o+1]<<16|this[o+2]<<8|this[o+3])},Buffer.prototype.readIntLE=function(o,v,_){o>>>=0,v>>>=0,_||checkOffset(o,v,this.length);for(var x=this[o],w=1,T=0;++T<v&&(w*=256);)x+=this[o+T]*w;return x>=(w*=128)&&(x-=Math.pow(2,8*v)),x},Buffer.prototype.readIntBE=function(o,v,_){o>>>=0,v>>>=0,_||checkOffset(o,v,this.length);for(var x=v,w=1,T=this[o+--x];x>0&&(w*=256);)T+=this[o+--x]*w;return T>=(w*=128)&&(T-=Math.pow(2,8*v)),T},Buffer.prototype.readInt8=function(o,v){return(o>>>=0,v||checkOffset(o,1,this.length),128&this[o])?-((255-this[o]+1)*1):this[o]},Buffer.prototype.readInt16LE=function(o,v){o>>>=0,v||checkOffset(o,2,this.length);var _=this[o]|this[o+1]<<8;return 32768&_?4294901760|_:_},Buffer.prototype.readInt16BE=function(o,v){o>>>=0,v||checkOffset(o,2,this.length);var _=this[o+1]|this[o]<<8;return 32768&_?4294901760|_:_},Buffer.prototype.readInt32LE=function(o,v){return o>>>=0,v||checkOffset(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},Buffer.prototype.readInt32BE=function(o,v){return o>>>=0,v||checkOffset(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},Buffer.prototype.readFloatLE=function(o,v){return o>>>=0,v||checkOffset(o,4,this.length),w.read(this,o,!0,23,4)},Buffer.prototype.readFloatBE=function(o,v){return o>>>=0,v||checkOffset(o,4,this.length),w.read(this,o,!1,23,4)},Buffer.prototype.readDoubleLE=function(o,v){return o>>>=0,v||checkOffset(o,8,this.length),w.read(this,o,!0,52,8)},Buffer.prototype.readDoubleBE=function(o,v){return o>>>=0,v||checkOffset(o,8,this.length),w.read(this,o,!1,52,8)},Buffer.prototype.writeUIntLE=function(o,v,_,x){if(o=+o,v>>>=0,_>>>=0,!x){var w=Math.pow(2,8*_)-1;checkInt(this,o,v,_,w,0)}var T=1,L=0;for(this[v]=255&o;++L<_&&(T*=256);)this[v+L]=o/T&255;return v+_},Buffer.prototype.writeUIntBE=function(o,v,_,x){if(o=+o,v>>>=0,_>>>=0,!x){var w=Math.pow(2,8*_)-1;checkInt(this,o,v,_,w,0)}var T=_-1,L=1;for(this[v+T]=255&o;--T>=0&&(L*=256);)this[v+T]=o/L&255;return v+_},Buffer.prototype.writeUInt8=function(o,v,_){return o=+o,v>>>=0,_||checkInt(this,o,v,1,255,0),this[v]=255&o,v+1},Buffer.prototype.writeUInt16LE=function(o,v,_){return o=+o,v>>>=0,_||checkInt(this,o,v,2,65535,0),this[v]=255&o,this[v+1]=o>>>8,v+2},Buffer.prototype.writeUInt16BE=function(o,v,_){return o=+o,v>>>=0,_||checkInt(this,o,v,2,65535,0),this[v]=o>>>8,this[v+1]=255&o,v+2},Buffer.prototype.writeUInt32LE=function(o,v,_){return o=+o,v>>>=0,_||checkInt(this,o,v,4,4294967295,0),this[v+3]=o>>>24,this[v+2]=o>>>16,this[v+1]=o>>>8,this[v]=255&o,v+4},Buffer.prototype.writeUInt32BE=function(o,v,_){return o=+o,v>>>=0,_||checkInt(this,o,v,4,4294967295,0),this[v]=o>>>24,this[v+1]=o>>>16,this[v+2]=o>>>8,this[v+3]=255&o,v+4},Buffer.prototype.writeIntLE=function(o,v,_,x){if(o=+o,v>>>=0,!x){var w=Math.pow(2,8*_-1);checkInt(this,o,v,_,w-1,-w)}var T=0,L=1,N=0;for(this[v]=255&o;++T<_&&(L*=256);)o<0&&0===N&&0!==this[v+T-1]&&(N=1),this[v+T]=(o/L>>0)-N&255;return v+_},Buffer.prototype.writeIntBE=function(o,v,_,x){if(o=+o,v>>>=0,!x){var w=Math.pow(2,8*_-1);checkInt(this,o,v,_,w-1,-w)}var T=_-1,L=1,N=0;for(this[v+T]=255&o;--T>=0&&(L*=256);)o<0&&0===N&&0!==this[v+T+1]&&(N=1),this[v+T]=(o/L>>0)-N&255;return v+_},Buffer.prototype.writeInt8=function(o,v,_){return o=+o,v>>>=0,_||checkInt(this,o,v,1,127,-128),o<0&&(o=255+o+1),this[v]=255&o,v+1},Buffer.prototype.writeInt16LE=function(o,v,_){return o=+o,v>>>=0,_||checkInt(this,o,v,2,32767,-32768),this[v]=255&o,this[v+1]=o>>>8,v+2},Buffer.prototype.writeInt16BE=function(o,v,_){return o=+o,v>>>=0,_||checkInt(this,o,v,2,32767,-32768),this[v]=o>>>8,this[v+1]=255&o,v+2},Buffer.prototype.writeInt32LE=function(o,v,_){return o=+o,v>>>=0,_||checkInt(this,o,v,4,2147483647,-2147483648),this[v]=255&o,this[v+1]=o>>>8,this[v+2]=o>>>16,this[v+3]=o>>>24,v+4},Buffer.prototype.writeInt32BE=function(o,v,_){return o=+o,v>>>=0,_||checkInt(this,o,v,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[v]=o>>>24,this[v+1]=o>>>16,this[v+2]=o>>>8,this[v+3]=255&o,v+4},Buffer.prototype.writeFloatLE=function(o,v,_){return writeFloat(this,o,v,!0,_)},Buffer.prototype.writeFloatBE=function(o,v,_){return writeFloat(this,o,v,!1,_)},Buffer.prototype.writeDoubleLE=function(o,v,_){return writeDouble(this,o,v,!0,_)},Buffer.prototype.writeDoubleBE=function(o,v,_){return writeDouble(this,o,v,!1,_)},Buffer.prototype.copy=function(o,v,_,x){if(!Buffer.isBuffer(o))throw TypeError("argument should be a Buffer");if(_||(_=0),x||0===x||(x=this.length),v>=o.length&&(v=o.length),v||(v=0),x>0&&x<_&&(x=_),x===_||0===o.length||0===this.length)return 0;if(v<0)throw RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw RangeError("Index out of range");if(x<0)throw RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),o.length-v<x-_&&(x=o.length-v+_);var w=x-_;if(this===o&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(v,_,x);else if(this===o&&_<v&&v<x)for(var T=w-1;T>=0;--T)o[T+v]=this[T+_];else Uint8Array.prototype.set.call(o,this.subarray(_,x),v);return w},Buffer.prototype.fill=function(o,v,_,x){if("string"==typeof o){if("string"==typeof v?(x=v,v=0,_=this.length):"string"==typeof _&&(x=_,_=this.length),void 0!==x&&"string"!=typeof x)throw TypeError("encoding must be a string");if("string"==typeof x&&!Buffer.isEncoding(x))throw TypeError("Unknown encoding: "+x);if(1===o.length){var w,T=o.charCodeAt(0);("utf8"===x&&T<128||"latin1"===x)&&(o=T)}}else"number"==typeof o?o&=255:"boolean"==typeof o&&(o=Number(o));if(v<0||this.length<v||this.length<_)throw RangeError("Out of range index");if(_<=v)return this;if(v>>>=0,_=void 0===_?this.length:_>>>0,o||(o=0),"number"==typeof o)for(w=v;w<_;++w)this[w]=o;else{var L=Buffer.isBuffer(o)?o:Buffer.from(o,x),N=L.length;if(0===N)throw TypeError('The value "'+o+'" is invalid for argument "value"');for(w=0;w<_-v;++w)this[w+v]=L[w%N]}return this};var L=/[^+/0-9A-Za-z-_]/g;function base64clean(o){if((o=(o=o.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}function utf8ToBytes(o,v){v=v||1/0;for(var _,x=o.length,w=null,T=[],L=0;L<x;++L){if((_=o.charCodeAt(L))>55295&&_<57344){if(!w){if(_>56319||L+1===x){(v-=3)>-1&&T.push(239,191,189);continue}w=_;continue}if(_<56320){(v-=3)>-1&&T.push(239,191,189),w=_;continue}_=(w-55296<<10|_-56320)+65536}else w&&(v-=3)>-1&&T.push(239,191,189);if(w=null,_<128){if((v-=1)<0)break;T.push(_)}else if(_<2048){if((v-=2)<0)break;T.push(_>>6|192,63&_|128)}else if(_<65536){if((v-=3)<0)break;T.push(_>>12|224,_>>6&63|128,63&_|128)}else if(_<1114112){if((v-=4)<0)break;T.push(_>>18|240,_>>12&63|128,_>>6&63|128,63&_|128)}else throw Error("Invalid code point")}return T}function asciiToBytes(o){for(var v=[],_=0;_<o.length;++_)v.push(255&o.charCodeAt(_));return v}function utf16leToBytes(o,v){for(var _,x,w=[],T=0;T<o.length&&!((v-=2)<0);++T)x=(_=o.charCodeAt(T))>>8,w.push(_%256),w.push(x);return w}function base64ToBytes(o){return x.toByteArray(base64clean(o))}function blitBuffer(o,v,_,x){for(var w=0;w<x&&!(w+_>=v.length)&&!(w>=o.length);++w)v[w+_]=o[w];return w}function isInstance(o,v){return o instanceof v||null!=o&&null!=o.constructor&&null!=o.constructor.name&&o.constructor.name===v.name}var N=function(){for(var o="0123456789abcdef",v=Array(256),_=0;_<16;++_)for(var x=16*_,w=0;w<16;++w)v[x+w]=o[_]+o[w];return v}()},783:function(o,v){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */v.read=function(o,v,_,x,w){var T,L,N=8*w-x-1,B=(1<<N)-1,H=B>>1,Y=-7,Z=_?w-1:0,X=_?-1:1,et=o[v+Z];for(Z+=X,T=et&(1<<-Y)-1,et>>=-Y,Y+=N;Y>0;T=256*T+o[v+Z],Z+=X,Y-=8);for(L=T&(1<<-Y)-1,T>>=-Y,Y+=x;Y>0;L=256*L+o[v+Z],Z+=X,Y-=8);if(0===T)T=1-H;else{if(T===B)return L?NaN:(et?-1:1)*(1/0);L+=Math.pow(2,x),T-=H}return(et?-1:1)*L*Math.pow(2,T-x)},v.write=function(o,v,_,x,w,T){var L,N,B,H=8*T-w-1,Y=(1<<H)-1,Z=Y>>1,X=23===w?5960464477539062e-23:0,et=x?0:T-1,en=x?1:-1,er=v<0||0===v&&1/v<0?1:0;for(isNaN(v=Math.abs(v))||v===1/0?(N=isNaN(v)?1:0,L=Y):(L=Math.floor(Math.log(v)/Math.LN2),v*(B=Math.pow(2,-L))<1&&(L--,B*=2),L+Z>=1?v+=X/B:v+=X*Math.pow(2,1-Z),v*B>=2&&(L++,B/=2),L+Z>=Y?(N=0,L=Y):L+Z>=1?(N=(v*B-1)*Math.pow(2,w),L+=Z):(N=v*Math.pow(2,Z-1)*Math.pow(2,w),L=0));w>=8;o[_+et]=255&N,et+=en,N/=256,w-=8);for(L=L<<w|N,H+=w;H>0;o[_+et]=255&L,et+=en,L/=256,H-=8);o[_+et-en]|=128*er}}},_={};function __nccwpck_require__(o){var x=_[o];if(void 0!==x)return x.exports;var w=_[o]={exports:{}},T=!0;try{v[o](w,w.exports,__nccwpck_require__),T=!1}finally{T&&delete _[o]}return w.exports}__nccwpck_require__.ab="//";var x=__nccwpck_require__(72);o.exports=x}()},8572:function(){},8907:function(){},6710:function(){},8293:function(){},5742:function(){},9844:function(){},1723:function(){},93:function(){},1993:function(){},3968:function(){},171:function(){},3954:function(){},6433:function(){},7395:function(){},4303:function(){},8543:function(){},7374:function(){},4531:function(){},5962:function(){},5194:function(){},3633:function(){},908:function(){},8955:function(){},4705:function(){},4288:function(){},7765:function(){},5141:function(){},4507:function(){},8669:function(){},4586:function(){},76:function(){},727:function(){},3406:function(){},9377:function(){},8584:function(){},9332:function(){},1106:function(){},543:function(o){!function(){var v={229:function(o){var v,_,x,w=o.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(o){if(v===setTimeout)return setTimeout(o,0);if((v===defaultSetTimout||!v)&&setTimeout)return v=setTimeout,setTimeout(o,0);try{return v(o,0)}catch(_){try{return v.call(null,o,0)}catch(_){return v.call(this,o,0)}}}function runClearTimeout(o){if(_===clearTimeout)return clearTimeout(o);if((_===defaultClearTimeout||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(o);try{return _(o)}catch(v){try{return _.call(null,o)}catch(v){return _.call(this,o)}}}!function(){try{v="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(o){v=defaultSetTimout}try{_="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(o){_=defaultClearTimeout}}();var T=[],L=!1,N=-1;function cleanUpNextTick(){L&&x&&(L=!1,x.length?T=x.concat(T):N=-1,T.length&&drainQueue())}function drainQueue(){if(!L){var o=runTimeout(cleanUpNextTick);L=!0;for(var v=T.length;v;){for(x=T,T=[];++N<v;)x&&x[N].run();N=-1,v=T.length}x=null,L=!1,runClearTimeout(o)}}function Item(o,v){this.fun=o,this.array=v}function noop(){}w.nextTick=function(o){var v=Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)v[_-1]=arguments[_];T.push(new Item(o,v)),1!==T.length||L||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=noop,w.addListener=noop,w.once=noop,w.off=noop,w.removeListener=noop,w.removeAllListeners=noop,w.emit=noop,w.prependListener=noop,w.prependOnceListener=noop,w.listeners=function(o){return[]},w.binding=function(o){throw Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(o){throw Error("process.chdir is not supported")},w.umask=function(){return 0}}},_={};function __nccwpck_require__(o){var x=_[o];if(void 0!==x)return x.exports;var w=_[o]={exports:{}},T=!0;try{v[o](w,w.exports,__nccwpck_require__),T=!1}finally{T&&delete _[o]}return w.exports}__nccwpck_require__.ab="//";var x=__nccwpck_require__(229);o.exports=x}()},575:function(o,v,_){"use strict";var x=_(9386);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,o.exports=function(){function shim(o,v,_,w,T,L){if(L!==x){var N=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}function getShim(){return shim}shim.isRequired=shim;var o={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return o.PropTypes=o,o}},4217:function(o,v,_){o.exports=_(575)()},9386:function(o){"use strict";o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6643:function(o,v){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _="function"==typeof Symbol&&Symbol.for,x=_?Symbol.for("react.element"):60103,w=_?Symbol.for("react.portal"):60106,T=_?Symbol.for("react.fragment"):60107,L=_?Symbol.for("react.strict_mode"):60108,N=_?Symbol.for("react.profiler"):60114,B=_?Symbol.for("react.provider"):60109,H=_?Symbol.for("react.context"):60110,Y=_?Symbol.for("react.async_mode"):60111,Z=_?Symbol.for("react.concurrent_mode"):60111,X=_?Symbol.for("react.forward_ref"):60112,et=_?Symbol.for("react.suspense"):60113,en=_?Symbol.for("react.suspense_list"):60120,er=_?Symbol.for("react.memo"):60115,ei=_?Symbol.for("react.lazy"):60116,ea=_?Symbol.for("react.block"):60121,eo=_?Symbol.for("react.fundamental"):60117,el=_?Symbol.for("react.responder"):60118,eu=_?Symbol.for("react.scope"):60119;function z(o){if("object"==typeof o&&null!==o){var v=o.$$typeof;switch(v){case x:switch(o=o.type){case Y:case Z:case T:case N:case L:case et:return o;default:switch(o=o&&o.$$typeof){case H:case X:case ei:case er:case B:return o;default:return v}}case w:return v}}}function A(o){return z(o)===Z}v.AsyncMode=Y,v.ConcurrentMode=Z,v.ContextConsumer=H,v.ContextProvider=B,v.Element=x,v.ForwardRef=X,v.Fragment=T,v.Lazy=ei,v.Memo=er,v.Portal=w,v.Profiler=N,v.StrictMode=L,v.Suspense=et,v.isAsyncMode=function(o){return A(o)||z(o)===Y},v.isConcurrentMode=A,v.isContextConsumer=function(o){return z(o)===H},v.isContextProvider=function(o){return z(o)===B},v.isElement=function(o){return"object"==typeof o&&null!==o&&o.$$typeof===x},v.isForwardRef=function(o){return z(o)===X},v.isFragment=function(o){return z(o)===T},v.isLazy=function(o){return z(o)===ei},v.isMemo=function(o){return z(o)===er},v.isPortal=function(o){return z(o)===w},v.isProfiler=function(o){return z(o)===N},v.isStrictMode=function(o){return z(o)===L},v.isSuspense=function(o){return z(o)===et},v.isValidElementType=function(o){return"string"==typeof o||"function"==typeof o||o===T||o===Z||o===N||o===L||o===et||o===en||"object"==typeof o&&null!==o&&(o.$$typeof===ei||o.$$typeof===er||o.$$typeof===B||o.$$typeof===H||o.$$typeof===X||o.$$typeof===eo||o.$$typeof===el||o.$$typeof===eu||o.$$typeof===ea)},v.typeOf=z},5832:function(o,v,_){"use strict";o.exports=_(6643)},7172:function(o){function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}o.exports=_interopRequireDefault,o.exports.__esModule=!0,o.exports.default=o.exports},7453:function(o){function _typeof(v){return o.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},o.exports.__esModule=!0,o.exports.default=o.exports,_typeof(v)}o.exports=_typeof,o.exports.__esModule=!0,o.exports.default=o.exports},1349:function(o,v){"use strict";function newDateUTC(o,v,_,x,w,T,L){var N=new Date(0);return N.setUTCFullYear(o,v,_),N.setUTCHours(x,w,T,L),N}Object.defineProperty(v,"__esModule",{value:!0}),v.default=newDateUTC,o.exports=v.default},3687:function(o,v){"use strict";function tzIntlTimeZoneName(o,v,_){var x=getDTF(o,_.timeZone,_.locale);return x.formatToParts?partsTimeZone(x,v):hackyTimeZone(x,v)}function partsTimeZone(o,v){for(var _=o.formatToParts(v),x=_.length-1;x>=0;--x)if("timeZoneName"===_[x].type)return _[x].value}function hackyTimeZone(o,v){var _=o.format(v).replace(/\u200E/g,""),x=/ [\w-+ ]+$/.exec(_);return x?x[0].substr(1):""}function getDTF(o,v,_){if(_&&!_.code)throw Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(_?[_.code,"en-US"]:void 0,{timeZone:v,timeZoneName:o})}Object.defineProperty(v,"__esModule",{value:!0}),v.default=tzIntlTimeZoneName,o.exports=v.default},227:function(o,v,_){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=tzParseTimezone;var x=_interopRequireDefault(_(5890)),w=_interopRequireDefault(_(1349));function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function tzParseTimezone(o,v,_){if(!o||(x=/^(Z)$/.exec(o)))return 0;if(x=/^([+-]\d{2})$/.exec(o))return validateTimezone(T=parseInt(x[1],10))?-(36e5*T):NaN;if(x=/^([+-]\d{2}):?(\d{2})$/.exec(o)){T=parseInt(x[1],10);var x,w,T,L=parseInt(x[2],10);return validateTimezone(T,L)?(w=36e5*Math.abs(T)+6e4*L,T>0?-w:w):NaN}if(isValidTimezoneIANAString(o)){v=new Date(v||Date.now());var N=calcOffset(_?v:toUtcDate(v),o);return-(_?N:fixOffset(v,N,o))}return NaN}function toUtcDate(o){return(0,w.default)(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds())}function calcOffset(o,v){var _=(0,x.default)(o,v),T=(0,w.default)(_[0],_[1]-1,_[2],_[3]%24,_[4],_[5],0).getTime(),L=o.getTime(),N=L%1e3;return T-(L-=N>=0?N:1e3+N)}function fixOffset(o,v,_){var x=o.getTime()-v,w=calcOffset(new Date(x),_);if(v===w)return v;var T=calcOffset(new Date(x-=w-v),_);return w===T?w:Math.max(w,T)}function validateTimezone(o,v){return -23<=o&&o<=23&&(null==v||0<=v&&v<=59)}var T={};function isValidTimezoneIANAString(o){if(T[o])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:o}),T[o]=!0,!0}catch(o){return!1}}o.exports=v.default},3310:function(o,v){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0,v.default=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,o.exports=v.default},5890:function(o,v){"use strict";function tzTokenizeDate(o,v){var _=getDateTimeFormat(v);return _.formatToParts?partsOffset(_,o):hackyOffset(_,o)}Object.defineProperty(v,"__esModule",{value:!0}),v.default=tzTokenizeDate;var _={year:0,month:1,day:2,hour:3,minute:4,second:5};function partsOffset(o,v){try{for(var x=o.formatToParts(v),w=[],T=0;T<x.length;T++){var L=_[x[T].type];L>=0&&(w[L]=parseInt(x[T].value,10))}return w}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function hackyOffset(o,v){var _=o.format(v).replace(/\u200E/g,""),x=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(_);return[x[3],x[1],x[2],x[4],x[5],x[6]]}var x={};function getDateTimeFormat(o){if(!x[o]){var v=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));x[o]="06/25/2014, 00:00:00"===v||"06/25/2014 00:00:00"===v?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:o,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:o,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return x[o]}o.exports=v.default},8094:function(o,v,_){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var x=_interopRequireDefault(_(3687)),w=_interopRequireDefault(_(227));function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function getTimeZoneOffset(o,v){var _=o?(0,w.default)(o,v,!0)/6e4:v.getTimezoneOffset();if(Number.isNaN(_))throw RangeError("Invalid time zone specified: "+o);return _}function addLeadingZeros(o,v){for(var _=Math.abs(o).toString();_.length<v;)_="0"+_;return(o<0?"-":"")+_}function formatTimezone(o,v){var _=Math.abs(o);return(o>0?"-":"+")+addLeadingZeros(Math.floor(_/60),2)+(v||"")+addLeadingZeros(Math.floor(_%60),2)}function formatTimezoneWithOptionalMinutes(o,v){return o%60==0?(o>0?"-":"+")+addLeadingZeros(Math.abs(o)/60,2):formatTimezone(o,v)}function formatTimezoneShort(o,v){var _=o>0?"-":"+",x=Math.abs(o),w=Math.floor(x/60),T=x%60;return 0===T?_+String(w):_+String(w)+(v||"")+addLeadingZeros(T,2)}v.default={X:function(o,v,_,x){var w=getTimeZoneOffset(x.timeZone,x._originalDate||o);if(0===w)return"Z";switch(v){case"X":return formatTimezoneWithOptionalMinutes(w);case"XXXX":case"XX":return formatTimezone(w);default:return formatTimezone(w,":")}},x:function(o,v,_,x){var w=getTimeZoneOffset(x.timeZone,x._originalDate||o);switch(v){case"x":return formatTimezoneWithOptionalMinutes(w);case"xxxx":case"xx":return formatTimezone(w);default:return formatTimezone(w,":")}},O:function(o,v,_,x){var w=getTimeZoneOffset(x.timeZone,x._originalDate||o);switch(v){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(w,":");default:return"GMT"+formatTimezone(w,":")}},z:function(o,v,_,w){var T=w._originalDate||o;switch(v){case"z":case"zz":case"zzz":return(0,x.default)("short",T,w);default:return(0,x.default)("long",T,w)}}},o.exports=v.default},9398:function(o,v,_){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=format;var x=_interopRequireDefault(_(9389)),w=_interopRequireDefault(_(8094)),T=_interopRequireDefault(_(8803));function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}var L=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function format(o,v,_){var N=String(v),B=_||{},H=N.match(L);if(H){var Y=(0,T.default)(o,B);N=H.reduce(function(o,v){if("'"===v[0])return o;var _=o.indexOf(v),x="'"===o[_-1],T=o.replace(v,"'"+w.default[v[0]](Y,v,null,B)+"'");return x?T.substring(0,_-1)+T.substring(_+1):T},N)}return(0,x.default)(o,N,B)}o.exports=v.default},257:function(o,v,_){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=formatInTimeZone;var x=_interopRequireDefault(_(8930)),w=_interopRequireDefault(_(9398)),T=_interopRequireDefault(_(8905));function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function formatInTimeZone(o,v,_,L){var N=(0,x.default)(L);return N.timeZone=v,(0,w.default)((0,T.default)(o,v),_,N)}o.exports=v.default},3519:function(o,v,_){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=getTimezoneOffset;var x=_interopRequireDefault(_(227));function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function getTimezoneOffset(o,v){return-(0,x.default)(o,v)}o.exports=v.default},3560:function(o,v,_){"use strict";o.exports={format:_(9398),formatInTimeZone:_(257),getTimezoneOffset:_(3519),toDate:_(8803),utcToZonedTime:_(8905),zonedTimeToUtc:_(4494)}},8803:function(o,v,_){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=toDate;var x=_interopRequireDefault(_(7479)),w=_interopRequireDefault(_(6636)),T=_interopRequireDefault(_(227));function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}var L={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:_interopRequireDefault(_(3310)).default};function toDate(o,v){if(arguments.length<1)throw TypeError("1 argument required, but only "+arguments.length+" present");if(null===o)return new Date(NaN);var _=v||{},L=null==_.additionalDigits?2:(0,x.default)(_.additionalDigits);if(2!==L&&1!==L&&0!==L)throw RangeError("additionalDigits must be 0, 1 or 2");if(o instanceof Date||"object"==typeof o&&"[object Date]"===Object.prototype.toString.call(o))return new Date(o.getTime());if("number"==typeof o||"[object Number]"===Object.prototype.toString.call(o))return new Date(o);if(!("string"==typeof o||"[object String]"===Object.prototype.toString.call(o)))return new Date(NaN);var N=splitDateString(o),B=parseYear(N.date,L),H=B.year,Y=parseDate(B.restDateString,H);if(isNaN(Y)||!Y)return new Date(NaN);var Z,X=Y.getTime(),et=0;if(N.time&&isNaN(et=parseTime(N.time)))return new Date(NaN);if(N.timeZone||_.timeZone){if(isNaN(Z=(0,T.default)(N.timeZone||_.timeZone,new Date(X+et))))return new Date(NaN)}else Z=(0,w.default)(new Date(X+et)),Z=(0,w.default)(new Date(X+et+Z));return new Date(X+et+Z)}function splitDateString(o){var v,_={},x=L.dateTimePattern.exec(o);if(x?(_.date=x[1],v=x[3]):(x=L.datePattern.exec(o))?(_.date=x[1],v=x[2]):(_.date=null,v=o),v){var w=L.timeZone.exec(v);w?(_.time=v.replace(w[1],""),_.timeZone=w[1].trim()):_.time=v}return _}function parseYear(o,v){var _,x=L.YYY[v],w=L.YYYYY[v];if(_=L.YYYY.exec(o)||w.exec(o)){var T=_[1];return{year:parseInt(T,10),restDateString:o.slice(T.length)}}if(_=L.YY.exec(o)||x.exec(o)){var N=_[1];return{year:100*parseInt(N,10),restDateString:o.slice(N.length)}}return{year:null}}function parseDate(o,v){if(null===v)return null;if(0===o.length)return(x=new Date(0)).setUTCFullYear(v),x;if(_=L.MM.exec(o))return(x=new Date(0),validateDate(v,w=parseInt(_[1],10)-1))?(x.setUTCFullYear(v,w),x):new Date(NaN);if(_=L.DDD.exec(o)){x=new Date(0);var _,x,w,T,N=parseInt(_[1],10);return validateDayOfYearDate(v,N)?(x.setUTCFullYear(v,0,N),x):new Date(NaN)}if(_=L.MMDD.exec(o)){x=new Date(0),w=parseInt(_[1],10)-1;var B=parseInt(_[2],10);return validateDate(v,w,B)?(x.setUTCFullYear(v,w,B),x):new Date(NaN)}if(_=L.Www.exec(o))return validateWeekDate(v,T=parseInt(_[1],10)-1)?dayOfISOWeekYear(v,T):new Date(NaN);if(_=L.WwwD.exec(o)){T=parseInt(_[1],10)-1;var H=parseInt(_[2],10)-1;return validateWeekDate(v,T,H)?dayOfISOWeekYear(v,T,H):new Date(NaN)}return null}function parseTime(o){if(v=L.HH.exec(o))return validateTime(_=parseFloat(v[1].replace(",",".")))?_%24*36e5:NaN;if(v=L.HHMM.exec(o))return validateTime(_=parseInt(v[1],10),x=parseFloat(v[2].replace(",",".")))?_%24*36e5+6e4*x:NaN;if(v=L.HHMMSS.exec(o)){_=parseInt(v[1],10),x=parseInt(v[2],10);var v,_,x,w=parseFloat(v[3].replace(",","."));return validateTime(_,x,w)?_%24*36e5+6e4*x+1e3*w:NaN}return null}function dayOfISOWeekYear(o,v,_){v=v||0,_=_||0;var x=new Date(0);x.setUTCFullYear(o,0,4);var w=7*v+_+1-(x.getUTCDay()||7);return x.setUTCDate(x.getUTCDate()+w),x}var N=[31,28,31,30,31,30,31,31,30,31,30,31],B=[31,29,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(o){return o%400==0||o%4==0&&o%100!=0}function validateDate(o,v,_){if(v<0||v>11)return!1;if(null!=_){if(_<1)return!1;var x=isLeapYearIndex(o);if(x&&_>B[v]||!x&&_>N[v])return!1}return!0}function validateDayOfYearDate(o,v){if(v<1)return!1;var _=isLeapYearIndex(o);return(!_||!(v>366))&&(!!_||!(v>365))}function validateWeekDate(o,v,_){return!(v<0)&&!(v>52)&&(null==_||!(_<0)&&!(_>6))}function validateTime(o,v,_){return(null==o||!(o<0)&&!(o>=25))&&(null==v||!(v<0)&&!(v>=60))&&(null==_||!(_<0)&&!(_>=60))}o.exports=v.default},8905:function(o,v,_){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=utcToZonedTime;var x=_interopRequireDefault(_(227)),w=_interopRequireDefault(_(8803));function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function utcToZonedTime(o,v,_){var T=(0,w.default)(o,_),L=(0,x.default)(v,T,!0),N=new Date(T.getTime()-L),B=new Date(0);return B.setFullYear(N.getUTCFullYear(),N.getUTCMonth(),N.getUTCDate()),B.setHours(N.getUTCHours(),N.getUTCMinutes(),N.getUTCSeconds(),N.getUTCMilliseconds()),B}o.exports=v.default},4494:function(o,v,_){"use strict";Object.defineProperty(v,"__esModule",{value:!0}),v.default=zonedTimeToUtc;var x=_interopRequireDefault(_(8930)),w=_interopRequireDefault(_(8803)),T=_interopRequireDefault(_(3310)),L=_interopRequireDefault(_(227)),N=_interopRequireDefault(_(1349));function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function zonedTimeToUtc(o,v,_){if("string"==typeof o&&!o.match(T.default)){var B=(0,x.default)(_);return B.timeZone=v,(0,w.default)(o,B)}var H=(0,w.default)(o,_),Y=(0,N.default)(H.getFullYear(),H.getMonth(),H.getDate(),H.getHours(),H.getMinutes(),H.getSeconds(),H.getMilliseconds()).getTime(),Z=(0,L.default)(v,new Date(Y));return new Date(Y+Z)}o.exports=v.default},553:function(o,v,_){"use strict";_.d(v,{a:function(){return m},b:function(){return n}});var x=Object.defineProperty,w=Object.getOwnPropertyDescriptor,m=(o,v,_,T)=>{for(var L,N=T>1?void 0:T?w(v,_):v,B=o.length-1;B>=0;B--)(L=o[B])&&(N=(T?L(v,_,N):L(N))||N);return T&&N&&x(v,_,N),N},n=(o,v,_)=>new Promise((x,w)=>{var f=o=>{try{i(_.next(o))}catch(o){w(o)}},g=o=>{try{i(_.throw(o))}catch(o){w(o)}},i=o=>o.done?x(o.value):Promise.resolve(o.value).then(f,g);i((_=_.apply(o,v)).next())})},5887:function(o,v,_){"use strict";_.d(v,{a:function(){return jr},b:function(){return $r},c:function(){return Ir},d:function(){return rt},e:function(){return Nr},f:function(){return Dr},g:function(){return zr},h:function(){return Lr},i:function(){return Mr},j:function(){return ei},k:function(){return ea}});var x=_(7391),w=Object.create,T=Object.defineProperty,L=Object.defineProperties,N=Object.getOwnPropertyDescriptor,B=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertyNames,Y=Object.getOwnPropertySymbols,Z=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,en=Reflect.get,cn=(o,v,_)=>v in o?T(o,v,{enumerable:!0,configurable:!0,writable:!0,value:_}):o[v]=_,jr=(o,v)=>{for(var _ in v||(v={}))X.call(v,_)&&cn(o,_,v[_]);if(Y)for(var _ of Y(v))et.call(v,_)&&cn(o,_,v[_]);return o},$r=(o,v)=>L(o,B(v)),Ir=(o,v)=>{var _={};for(var x in o)X.call(o,x)&&0>v.indexOf(x)&&(_[x]=o[x]);if(null!=o&&Y)for(var x of Y(o))0>v.indexOf(x)&&et.call(o,x)&&(_[x]=o[x]);return _},rt=(o,v)=>()=>(v||o((v={exports:{}}).exports,v),v.exports),Nr=(o,v)=>{for(var _ in v)T(o,_,{get:v[_],enumerable:!0})},Ar=(o,v,_,x)=>{if(v&&"object"==typeof v||"function"==typeof v)for(let w of H(v))X.call(o,w)||w===_||T(o,w,{get:()=>v[w],enumerable:!(x=N(v,w))||x.enumerable});return o},Dr=(o,v,_)=>(_=null!=o?w(Z(o)):{},Ar(!v&&o&&o.__esModule?_:T(_,"default",{value:o,enumerable:!0}),o)),zr=(o,v,_,x)=>{for(var w,L=x>1?void 0:x?N(v,_):v,B=o.length-1;B>=0;B--)(w=o[B])&&(L=(x?w(v,_,L):w(L))||L);return x&&L&&T(v,_,L),L},Lr=(o,v,_)=>en(Z(o),_,v),Mr=(o,v,_)=>new Promise((x,w)=>{var V=o=>{try{ee(_.next(o))}catch(o){w(o)}},W=o=>{try{ee(_.throw(o))}catch(o){w(o)}},ee=o=>o.done?x(o.value):Promise.resolve(o.value).then(V,W);ee((_=_.apply(o,v)).next())}),er=rt(o=>{var v=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),N=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Y=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),X=Symbol.iterator;function ye(o){return null===o||"object"!=typeof o?null:"function"==typeof(o=X&&o[X]||o["@@iterator"])?o:null}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},en=Object.assign,er={};function re(o,v,_){this.props=o,this.context=v,this.refs=er,this.updater=_||et}function De(){}function M(o,v,_){this.props=o,this.context=v,this.refs=er,this.updater=_||et}re.prototype.isReactComponent={},re.prototype.setState=function(o,v){if("object"!=typeof o&&"function"!=typeof o&&null!=o)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,v,"setState")},re.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")},De.prototype=re.prototype;var ei=M.prototype=new De;ei.constructor=M,en(ei,re.prototype),ei.isPureReactComponent=!0;var ea=Array.isArray,eo=Object.prototype.hasOwnProperty,el={current:null},eu={key:!0,ref:!0,__self:!0,__source:!0};function le(o,_,x){var w,T={},L=null,N=null;if(null!=_)for(w in void 0!==_.ref&&(N=_.ref),void 0!==_.key&&(L=""+_.key),_)eo.call(_,w)&&!eu.hasOwnProperty(w)&&(T[w]=_[w]);var B=arguments.length-2;if(1===B)T.children=x;else if(1<B){for(var H=Array(B),Y=0;Y<B;Y++)H[Y]=arguments[Y+2];T.children=H}if(o&&o.defaultProps)for(w in B=o.defaultProps)void 0===T[w]&&(T[w]=B[w]);return{$$typeof:v,type:o,key:L,ref:N,props:T,_owner:el.current}}function Oe(o,_){return{$$typeof:v,type:o.type,key:_,ref:o.ref,props:o.props,_owner:o._owner}}function oe(o){return"object"==typeof o&&null!==o&&o.$$typeof===v}function at(o){var v={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(o){return v[o]})}var ec=/\/+/g;function Ae(o,v){return"object"==typeof o&&null!==o&&null!=o.key?at(""+o.key):v.toString(36)}function ge(o,x,w,T,L){var N=typeof o;("undefined"===N||"boolean"===N)&&(o=null);var B=!1;if(null===o)B=!0;else switch(N){case"string":case"number":B=!0;break;case"object":switch(o.$$typeof){case v:case _:B=!0}}if(B)return L=L(B=o),o=""===T?"."+Ae(B,0):T,ea(L)?(w="",null!=o&&(w=o.replace(ec,"$&/")+"/"),ge(L,x,w,"",function(o){return o})):null!=L&&(oe(L)&&(L=Oe(L,w+(!L.key||B&&B.key===L.key?"":(""+L.key).replace(ec,"$&/")+"/")+o)),x.push(L)),1;if(B=0,T=""===T?".":T+":",ea(o))for(var H=0;H<o.length;H++){var Y=T+Ae(N=o[H],H);B+=ge(N,x,w,Y,L)}else if("function"==typeof(Y=ye(o)))for(o=Y.call(o),H=0;!(N=o.next()).done;)Y=T+Ae(N=N.value,H++),B+=ge(N,x,w,Y,L);else if("object"===N)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(x=String(o))?"object with keys {"+Object.keys(o).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return B}function ve(o,v,_){if(null==o)return o;var x=[],w=0;return ge(o,x,"","",function(o){return v.call(_,o,w++)}),x}function st(o){if(-1===o._status){var v=o._result;(v=v()).then(function(v){(0===o._status||-1===o._status)&&(o._status=1,o._result=v)},function(v){(0===o._status||-1===o._status)&&(o._status=2,o._result=v)}),-1===o._status&&(o._status=0,o._result=v)}if(1===o._status)return o._result.default;throw o._result}var ed={current:null},eh={transition:null};o.Children={map:ve,forEach:function(o,v,_){ve(o,function(){v.apply(this,arguments)},_)},count:function(o){var v=0;return ve(o,function(){v++}),v},toArray:function(o){return ve(o,function(o){return o})||[]},only:function(o){if(!oe(o))throw Error("React.Children.only expected to receive a single React element child.");return o}},o.Component=re,o.Fragment=x,o.Profiler=T,o.PureComponent=M,o.StrictMode=w,o.Suspense=H,o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:ed,ReactCurrentBatchConfig:eh,ReactCurrentOwner:el},o.cloneElement=function(o,_,x){if(null==o)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var w=en({},o.props),T=o.key,L=o.ref,N=o._owner;if(null!=_){if(void 0!==_.ref&&(L=_.ref,N=el.current),void 0!==_.key&&(T=""+_.key),o.type&&o.type.defaultProps)var B=o.type.defaultProps;for(H in _)eo.call(_,H)&&!eu.hasOwnProperty(H)&&(w[H]=void 0===_[H]&&void 0!==B?B[H]:_[H])}var H=arguments.length-2;if(1===H)w.children=x;else if(1<H){B=Array(H);for(var Y=0;Y<H;Y++)B[Y]=arguments[Y+2];w.children=B}return{$$typeof:v,type:o.type,key:T,ref:L,props:w,_owner:N}},o.createContext=function(o){return(o={$$typeof:N,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:L,_context:o},o.Consumer=o},o.createElement=le,o.createFactory=function(o){var v=le.bind(null,o);return v.type=o,v},o.createRef=function(){return{current:null}},o.forwardRef=function(o){return{$$typeof:B,render:o}},o.isValidElement=oe,o.lazy=function(o){return{$$typeof:Z,_payload:{_status:-1,_result:o},_init:st}},o.memo=function(o,v){return{$$typeof:Y,type:o,compare:void 0===v?null:v}},o.startTransition=function(o){var v=eh.transition;eh.transition={};try{o()}finally{eh.transition=v}},o.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},o.useCallback=function(o,v){return ed.current.useCallback(o,v)},o.useContext=function(o){return ed.current.useContext(o)},o.useDebugValue=function(){},o.useDeferredValue=function(o){return ed.current.useDeferredValue(o)},o.useEffect=function(o,v){return ed.current.useEffect(o,v)},o.useId=function(){return ed.current.useId()},o.useImperativeHandle=function(o,v,_){return ed.current.useImperativeHandle(o,v,_)},o.useInsertionEffect=function(o,v){return ed.current.useInsertionEffect(o,v)},o.useLayoutEffect=function(o,v){return ed.current.useLayoutEffect(o,v)},o.useMemo=function(o,v){return ed.current.useMemo(o,v)},o.useReducer=function(o,v,_){return ed.current.useReducer(o,v,_)},o.useRef=function(o){return ed.current.useRef(o)},o.useState=function(o){return ed.current.useState(o)},o.useSyncExternalStore=function(o,v,_){return ed.current.useSyncExternalStore(o,v,_)},o.useTransition=function(){return ed.current.useTransition()},o.version="18.2.0"}),ei=rt((o,v)=>{v.exports=er()}),ea=rt((o,v)=>{var w,T;w=o,T=function(o){var v,w=void 0!==x&&void 0!==x.env&&(x.env.REACT_APP_SC_ATTR||x.env.SC_ATTR)||"data-styled",T="active",L="data-styled-version",N="6.0.7",B=`/*!sc*/
`,H="undefined"!=typeof window&&"HTMLElement"in window,Y=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==x&&void 0!==x.env&&void 0!==x.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==x.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==x.env.REACT_APP_SC_DISABLE_SPEEDY&&x.env.REACT_APP_SC_DISABLE_SPEEDY:!(void 0!==x&&void 0!==x.env&&void 0!==x.env.SC_DISABLE_SPEEDY&&""!==x.env.SC_DISABLE_SPEEDY)||"false"!==x.env.SC_DISABLE_SPEEDY&&x.env.SC_DISABLE_SPEEDY),Z={},I=function(){return(I=Object.assign||function(o){for(var v,_=1,x=arguments.length;_<x;_++)for(var w in v=arguments[_])Object.prototype.hasOwnProperty.call(v,w)&&(o[w]=v[w]);return o}).apply(this,arguments)};function J(o,v,_){if(_||2==arguments.length)for(var x,w=0,T=v.length;w<T;w++)!x&&w in v||(x||(x=Array.prototype.slice.call(v,0,w)),x[w]=v[w]);return o.concat(x||Array.prototype.slice.call(v))}var X=Object.freeze([]),et=Object.freeze({});function me(o,v){Object.defineProperty(o,"toString",{value:v})}var en={1:`Cannot create styled-component for component: %s.

`,2:`Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`,3:`Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`,4:`The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`,5:`The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`,6:`Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`,7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:`ThemeProvider: Please make your "theme" prop an object.

`,9:"Missing document `<head>`\n\n",10:`Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`,11:`_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`,12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:`%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`,14:`ThemeProvider: "theme" prop is required.

`,15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:`Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`,17:`CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`,18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"};function De(){for(var o=[],v=0;v<arguments.length;v++)o[v]=arguments[v];for(var _=o[0],x=[],w=1,T=o.length;w<T;w+=1)x.push(o[w]);return x.forEach(function(o){_=_.replace(/%[a-z]/,o)}),_}function M(o){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];return Error(De.apply(void 0,J([en[o]],v,!1)).trim())}var er=function(){function e(o){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=o}return e.prototype.indexOfGroup=function(o){for(var v=0,_=0;_<o;_++)v+=this.groupSizes[_];return v},e.prototype.insertRules=function(o,v){if(o>=this.groupSizes.length){for(var _=this.groupSizes,x=_.length,w=x;o>=w;)if((w<<=1)<0)throw M(16,"".concat(o));this.groupSizes=new Uint32Array(w),this.groupSizes.set(_),this.length=w;for(var T=x;T<w;T++)this.groupSizes[T]=0}for(var L=this.indexOfGroup(o+1),T=0,N=v.length;T<N;T++)this.tag.insertRule(L,v[T])&&(this.groupSizes[o]++,L++)},e.prototype.clearGroup=function(o){if(o<this.length){var v=this.groupSizes[o],_=this.indexOfGroup(o),x=_+v;this.groupSizes[o]=0;for(var w=_;w<x;w++)this.tag.deleteRule(_)}},e.prototype.getGroup=function(o){var v="";if(o>=this.length||0===this.groupSizes[o])return v;for(var _=this.groupSizes[o],x=this.indexOfGroup(o),w=x+_,T=x;T<w;T++)v+="".concat(this.tag.getRule(T)).concat(B);return v},e}(),ei=new Map,ea=new Map,eo=1,oe=function(o){if(ei.has(o))return ei.get(o);for(;ea.has(eo);)eo++;var v=eo++;if((0|v)<0||v>1073741824)throw M(16,"".concat(v));return ei.set(o,v),ea.set(v,o),v},Le=function(o,v){ei.set(o,v),ea.set(v,o)},el="style[".concat(w,"][").concat(L,'="').concat(N,'"]'),eu=new RegExp("^".concat(w,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ve=function(o){for(var v=o.getTag(),_=v.length,x="",T=0;T<_;T++)!function(_){var T=ea.get(_);if(void 0!==T){var L=o.names.get(T),N=v.getGroup(_);if(void 0!==L&&0!==N.length){var H="".concat(w,".g").concat(_,'[id="').concat(T,'"]'),Y="";void 0!==L&&L.forEach(function(o){o.length>0&&(Y+="".concat(o,","))}),x+="".concat(N).concat(H,'{content:"').concat(Y,'"}').concat(B)}}}(T);return x},st=function(o,v,_){for(var x,w=_.split(","),T=0,L=w.length;T<L;T++)(x=w[T])&&o.registerName(v,x)},q=function(o,v){for(var _,x=(null!==(_=v.textContent)&&void 0!==_?_:"").split(B),w=[],T=0,L=x.length;T<L;T++){var N=x[T].trim();if(N){var H=N.match(eu);if(H){var Y=0|parseInt(H[1],10),Z=H[2];0!==Y&&(Le(Z,Y),st(o,Z,H[3]),o.getTag().insertRules(Y,w)),w.length=0}else w.push(N)}}},Se=function(o){for(var v=document.querySelectorAll(el),_=0,x=v.length;_<x;_++){var L=v[_];L&&L.getAttribute(w)!==T&&(q(o,L),L.parentNode&&L.parentNode.removeChild(L))}},a=function(o){var v=Array.from(o.querySelectorAll("style[".concat(w,"]")));return v[v.length-1]},u=function(o){var v=document.head,x=o||v,B=document.createElement("style"),H=a(x),Y=void 0!==H?H.nextSibling:null;B.setAttribute(w,T),B.setAttribute(L,N);var Z=_.nc;return Z&&B.setAttribute("nonce",Z),x.insertBefore(B,Y),B},b=function(o){if(o.sheet)return o.sheet;for(var v=document.styleSheets,_=0,x=v.length;_<x;_++){var w=v[_];if(w.ownerNode===o)return w}throw M(17)},P=function(o){var v=o.isServer,_=o.useCSSOMInjection,x=o.target;return v?new eh(x):_?new ec(x):new ed(x)},ec=function(){function e(o){this.element=u(o),this.element.appendChild(document.createTextNode("")),this.sheet=b(this.element),this.length=0}return e.prototype.insertRule=function(o,v){try{return this.sheet.insertRule(v,o),this.length++,!0}catch(o){return!1}},e.prototype.deleteRule=function(o){this.sheet.deleteRule(o),this.length--},e.prototype.getRule=function(o){var v=this.sheet.cssRules[o];return v&&v.cssText?v.cssText:""},e}(),ed=function(){function e(o){this.element=u(o),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(o,v){if(!(o<=this.length)||!(o>=0))return!1;var _=document.createTextNode(v),x=this.nodes[o];return this.element.insertBefore(_,x||null),this.length++,!0},e.prototype.deleteRule=function(o){this.element.removeChild(this.nodes[o]),this.length--},e.prototype.getRule=function(o){return o<this.length?this.nodes[o].textContent:""},e}(),eh=function(){function e(o){this.rules=[],this.length=0}return e.prototype.insertRule=function(o,v){return o<=this.length&&(this.rules.splice(o,0,v),this.length++,!0)},e.prototype.deleteRule=function(o){this.rules.splice(o,1),this.length--},e.prototype.getRule=function(o){return o<this.length?this.rules[o]:""},e}(),ep=H,ef={isServer:!H,useCSSOMInjection:!Y},eg=function(){function e(o,v,_){void 0===o&&(o=et),void 0===v&&(v={});var x=this;this.options=I(I({},ef),o),this.gs=v,this.names=new Map(_),this.server=!!o.isServer,!this.server&&H&&ep&&(ep=!1,Se(this)),me(this,function(){return ve(x)})}return e.registerId=function(o){return oe(o)},e.prototype.reconstructWithOptions=function(o,v){return void 0===v&&(v=!0),new e(I(I({},this.options),o),this.gs,v&&this.names||void 0)},e.prototype.allocateGSInstance=function(o){return this.gs[o]=(this.gs[o]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=new er(P(this.options)))},e.prototype.hasNameForId=function(o,v){return this.names.has(o)&&this.names.get(o).has(v)},e.prototype.registerName=function(o,v){if(oe(o),this.names.has(o))this.names.get(o).add(v);else{var _=new Set;_.add(v),this.names.set(o,_)}},e.prototype.insertRules=function(o,v,_){this.registerName(o,v),this.getTag().insertRules(oe(o),_)},e.prototype.clearNames=function(o){this.names.has(o)&&this.names.get(o).clear()},e.prototype.clearRules=function(o){this.getTag().clearGroup(oe(o)),this.clearNames(o)},e.prototype.clearTag=function(){this.tag=void 0},e}(),pn=function(o,v,_,x){var w=_?_.call(x,o,v):void 0;if(void 0!==w)return!!w;if(o===v)return!0;if("object"!=typeof o||!o||"object"!=typeof v||!v)return!1;var T=Object.keys(o),L=Object.keys(v);if(T.length!==L.length)return!1;for(var N=Object.prototype.hasOwnProperty.bind(v),B=0;B<T.length;B++){var H=T[B];if(!N(H))return!1;var Y=o[H],Z=v[H];if(!1===(w=_?_.call(x,Y,Z,H):void 0)||void 0===w&&Y!==Z)return!1}return!0},em="-ms-",ey="-moz-",ev="-webkit-",e_="comm",eb="rule",eS="decl",ex="@keyframes",ew=Math.abs,eC=String.fromCharCode,eT=Object.assign;function mn(o,v){return 45^F(o,0)?(((v<<2^F(o,0))<<2^F(o,1))<<2^F(o,2))<<2^F(o,3):0}function ne(o,v){return(o=v.exec(o))?o[0]:o}function m(o,v,_){return o.replace(v,_)}function Be(o,v){return o.indexOf(v)}function F(o,v){return 0|o.charCodeAt(v)}function be(o,v,_){return o.slice(v,_)}function Q(o){return o.length}function je(o,v){return v.push(o),o}function gn(o,v){return o.map(v).join("")}function Et(o,v){return o.filter(function(o){return!ne(o,v)})}var eM=1,eP=1,eI=0,eD=0,eE=0,eO="";function Ge(o,v,_,x,w,T,L,N){return{value:o,root:v,parent:_,type:x,props:w,children:T,line:eM,column:eP,length:L,return:"",siblings:N}}function ae(o,v){return eT(Ge("",null,null,"",null,null,0,o.siblings),o,{length:-o.length},v)}function Ce(o){for(;o.root;)o=ae(o.root,{children:[o]});je(o,o.siblings)}function vn(){return eE}function Sn(){return eE=eD>0?F(eO,--eD):0,eP--,10===eE&&(eP=1,eM--),eE}function K(){return eE=eD<eI?F(eO,eD++):0,eP++,10===eE&&(eP=1,eM++),eE}function fe(){return F(eO,eD)}function lt(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bn(o){return eM=eP=1,eI=Q(eO=o),eD=0,[]}function wn(o){return eO="",o}function ft(o){var v,_;return(v=eD-1,_=pt(91===o?o+2:40===o?o+1:o),be(eO,v,_)).trim()}function kn(o){for(;(eE=fe())&&eE<33;)K();return lt(o)>2||lt(eE)>3?"":" "}function Cn(o,v){for(var _;--v&&K()&&!(eE<48||eE>102||eE>57&&eE<65||eE>70&&eE<97););return _=eD+(v<6&&32==fe()&&32==K()),be(eO,o,_)}function pt(o){for(;K();)switch(eE){case o:return eD;case 34:case 39:34!==o&&39!==o&&pt(eE);break;case 40:41===o&&pt(o);break;case 92:K()}return eD}function xn(o,v){for(;K()&&o+eE!==57&&!(o+eE===84&&47===fe()););return"/*"+be(eO,v,eD-1)+"*"+eC(47===o?o:K())}function Pn(o){for(;!lt(fe());)K();return be(eO,o,eD)}function _n(o){return wn(We("",null,null,null,[""],o=bn(o),0,[0],o))}function We(o,v,_,x,w,T,L,N,B){for(var H=0,Y=0,Z=L,X=0,et=0,en=0,er=1,ei=1,ea=1,eo=0,el="",eu=w,ec=T,ed=x,eh=el;ei;)switch(en=eo,eo=K()){case 40:if(108!=en&&58==F(eh,Z-1)){-1!=Be(eh+=m(ft(eo),"&","&\f"),"&\f")&&(ea=-1);break}case 34:case 39:case 91:eh+=ft(eo);break;case 9:case 10:case 13:case 32:eh+=kn(en);break;case 92:eh+=Cn(eD-1,7);continue;case 47:switch(fe()){case 42:case 47:je(Rn(xn(K(),eD),v,_,B),B);break;default:eh+="/"}break;case 123*er:N[H++]=Q(eh)*ea;case 125*er:case 59:case 0:switch(eo){case 0:case 125:ei=0;case 59+Y:-1==ea&&(eh=m(eh,/\f/g,"")),et>0&&Q(eh)-Z&&je(et>32?$t(eh+";",x,_,Z-1,B):$t(m(eh," ","")+";",x,_,Z-2,B),B);break;case 59:eh+=";";default:if(je(ed=jt(eh,v,_,H,Y,w,N,el,eu=[],ec=[],Z,T),T),123===eo){if(0===Y)We(eh,v,ed,ed,eu,T,Z,N,ec);else switch(99===X&&110===F(eh,3)?100:X){case 100:case 108:case 109:case 115:We(o,ed,ed,x&&je(jt(o,ed,ed,0,0,w,N,el,w,eu=[],Z,ec),ec),w,ec,Z,N,x?eu:ec);break;default:We(eh,ed,ed,ed,[""],ec,0,N,ec)}}}H=Y=et=0,er=ea=1,el=eh="",Z=L;break;case 58:Z=1+Q(eh),et=en;default:if(er<1){if(123==eo)--er;else if(125==eo&&0==er++&&125==Sn())continue}switch(eh+=eC(eo),eo*er){case 38:ea=Y>0?1:(eh+="\f",-1);break;case 44:N[H++]=(Q(eh)-1)*ea,ea=1;break;case 64:45===fe()&&(eh+=ft(K())),X=fe(),Y=Z=Q(el=eh+=Pn(eD)),eo++;break;case 45:45===en&&2==Q(eh)&&(er=0)}}return T}function jt(o,v,_,x,w,T,L,N,B,H,Y,Z){for(var X=w-1,et=0===w?T:[""],en=et.length,er=0,ei=0,ea=0;er<x;++er)for(var eo=0,el=be(o,X+1,X=ew(ei=L[er])),eu=o;eo<en;++eo)(eu=(ei>0?et[eo]+" "+el:m(el,/&\f/g,et[eo])).trim())&&(B[ea++]=eu);return Ge(o,v,_,0===w?eb:N,B,H,Y,Z)}function Rn(o,v,_,x){return Ge(o,v,_,e_,eC(vn()),be(o,2,-2),0,x)}function $t(o,v,_,x,w){return Ge(o,v,_,eS,be(o,0,x),be(o,x+1,-1),x,w)}function It(o,v,_){switch(mn(o,v)){case 5103:return ev+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ev+o+o;case 4789:return ey+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return ev+o+ey+o+em+o+o;case 5936:switch(F(o,v+11)){case 114:return ev+o+em+m(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return ev+o+em+m(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return ev+o+em+m(o,/[svh]\w+-[tblr]{2}/,"lr")+o}case 6828:case 4268:case 2903:return ev+o+em+o+o;case 6165:return ev+o+em+"flex-"+o+o;case 5187:return ev+o+m(o,/(\w+).+(:[^]+)/,ev+"box-$1$2"+em+"flex-$1$2")+o;case 5443:return ev+o+em+"flex-item-"+m(o,/flex-|-self/g,"")+(ne(o,/flex-|baseline/)?"":em+"grid-row-"+m(o,/flex-|-self/g,""))+o;case 4675:return ev+o+em+"flex-line-pack"+m(o,/align-content|flex-|-self/g,"")+o;case 5548:return ev+o+em+m(o,"shrink","negative")+o;case 5292:return ev+o+em+m(o,"basis","preferred-size")+o;case 6060:return ev+"box-"+m(o,"-grow","")+ev+o+em+m(o,"grow","positive")+o;case 4554:return ev+m(o,/([^-])(transform)/g,"$1"+ev+"$2")+o;case 6187:return m(m(m(o,/(zoom-|grab)/,ev+"$1"),/(image-set)/,ev+"$1"),o,"")+o;case 5495:case 3959:return m(o,/(image-set\([^]*)/,ev+"$1$`$1");case 4968:return m(m(o,/(.+:)(flex-)?(.*)/,ev+"box-pack:$3"+em+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ev+o+o;case 4200:if(!ne(o,/flex-|baseline/))return em+"grid-column-align"+be(o,v)+o;break;case 2592:case 3360:return em+m(o,"template-","")+o;case 4384:case 3616:return _&&_.some(function(o,_){return v=_,ne(o.props,/grid-\w+-end/)})?~Be(o+(_=_[v].value),"span")?o:em+m(o,"-start","")+o+em+"grid-row-span:"+(~Be(_,"span")?ne(_,/\d+/):+ne(_,/\d+/)-+ne(o,/\d+/))+";":em+m(o,"-start","")+o;case 4896:case 4128:return _&&_.some(function(o){return ne(o.props,/grid-\w+-start/)})?o:em+m(m(o,"-end","-span"),"span ","")+o;case 4095:case 3583:case 4068:case 2532:return m(o,/(.+)-inline(.+)/,ev+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Q(o)-1-v>6)switch(F(o,v+1)){case 109:if(45!==F(o,v+4))break;case 102:return m(o,/(.+:)(.+)-([^]+)/,"$1"+ev+"$2-$3$1"+ey+(108==F(o,v+3)?"$3":"$2-$3"))+o;case 115:return~Be(o,"stretch")?It(m(o,"stretch","fill-available"),v,_)+o:o}break;case 5152:case 5920:return m(o,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(v,_,x,w,T,L,N){return em+_+":"+x+N+(w?em+_+"-span:"+(T?L:+L-+x)+N:"")+o});case 4949:if(121===F(o,v+6))return m(o,":",":"+ev)+o;break;case 6444:switch(F(o,45===F(o,14)?18:11)){case 120:return m(o,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ev+(45===F(o,14)?"inline-":"")+"box$3$1"+ev+"$2$3$1"+em+"$2box$3")+o;case 100:return m(o,":",":"+em)+o}break;case 5719:case 2647:case 2135:case 3927:case 2391:return m(o,"scroll-","scroll-snap-")+o}return o}function Ue(o,v){for(var _="",x=0;x<o.length;x++)_+=v(o[x],x,o,v)||"";return _}function On(o,v,_,x){switch(o.type){case"@layer":if(o.children.length)break;case"@import":case eS:return o.return=o.return||o.value;case e_:return"";case ex:return o.return=o.value+"{"+Ue(o.children,x)+"}";case eb:if(!Q(o.value=o.props.join(",")))return""}return Q(_=Ue(o.children,x))?o.return=o.value+"{"+_+"}":""}function An(o){var v=o.length;return function(_,x,w,T){for(var L="",N=0;N<v;N++)L+=o[N](_,x,w,T)||"";return L}}function En(o){return function(v){v.root||(v=v.return)&&o(v)}}function Tn(o,v,_,x){if(o.length>-1&&!o.return)switch(o.type){case eS:o.return=It(o.value,o.length,_);return;case ex:return Ue([ae(o,{value:m(o.value,"@","@"+ev)})],x);case eb:if(o.length)return gn(_=o.props,function(v){switch(ne(v,x=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ce(ae(o,{props:[m(v,/:(read-\w+)/,":"+ey+"$1")]})),Ce(ae(o,{props:[v]})),eT(o,{props:Et(_,x)});break;case"::placeholder":Ce(ae(o,{props:[m(v,/:(plac\w+)/,":"+ev+"input-$1")]})),Ce(ae(o,{props:[m(v,/:(plac\w+)/,":"+ey+"$1")]})),Ce(ae(o,{props:[m(v,/:(plac\w+)/,em+"input-$1")]})),Ce(ae(o,{props:[v]})),eT(o,{props:Et(_,x)})}return""})}}var pe=function(o,v){for(var _=v.length;_;)o=33*o^v.charCodeAt(--_);return o},Dt=function(o){return pe(5381,o)},eA=/&/g,ek=/^\s*\/\/.*$/gm;function zt(o,v){return o.map(function(o){return"rule"===o.type&&(o.value="".concat(v," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(v," ")),o.props=o.props.map(function(o){return"".concat(v," ").concat(o)})),Array.isArray(o.children)&&"@keyframes"!==o.type&&(o.children=zt(o.children,v)),o})}function Lt(o){var v,_,x,w=void 0===o?et:o,T=w.options,L=void 0===T?et:T,N=w.plugins,B=void 0===N?X:N,h=function(o,x,w){return w===_||w.startsWith(_)&&w.endsWith(_)&&w.replaceAll(_,"").length>0?".".concat(v):o},H=B.slice();H.push(function(o){o.type===eb&&o.value.includes("&")&&(o.props[0]=o.props[0].replace(eA,_).replace(x,h))}),L.prefix&&H.push(Tn),H.push(On);var C=function(o,w,T,N){void 0===w&&(w=""),void 0===T&&(T=""),void 0===N&&(N="&"),v=N,_=w,x=RegExp("\\".concat(_,"\\b"),"g");var B=o.replace(ek,""),Y=_n(T||w?"".concat(T," ").concat(w," { ").concat(B," }"):B);L.namespace&&(Y=zt(Y,L.namespace));var Z=[];return Ue(Y,An(H.concat(En(function(o){return Z.push(o)})))),Z};return C.hash=B.length?B.reduce(function(o,v){return v.name||M(15),pe(o,v.name)},5381).toString():"",C}var eL=new eg,eR=Lt(),eN=o.createContext({shouldForwardProp:void 0,styleSheet:eL,stylis:eR}),eF=eN.Consumer,eV=o.createContext(void 0);function Ve(){return o.useContext(eN)}function Bt(v){var _=o.useState(v.stylisPlugins),x=_[0],w=_[1],T=Ve().styleSheet,L=o.useMemo(function(){var o=T;return v.sheet?o=v.sheet:v.target&&(o=o.reconstructWithOptions({target:v.target},!1)),v.disableCSSOMInjection&&(o=o.reconstructWithOptions({useCSSOMInjection:!1})),o},[v.disableCSSOMInjection,v.sheet,v.target,T]),N=o.useMemo(function(){return Lt({options:{namespace:v.namespace,prefix:v.enableVendorPrefixes},plugins:x})},[v.enableVendorPrefixes,v.namespace,x]);return o.useEffect(function(){pn(x,v.stylisPlugins)||w(v.stylisPlugins)},[v.stylisPlugins]),o.createElement(eN.Provider,{value:{shouldForwardProp:v.shouldForwardProp,styleSheet:L,stylis:N}},o.createElement(eV.Provider,{value:N},v.children))}var eB=function(){function e(o,v){var _=this;this.inject=function(o,v){void 0===v&&(v=eR);var x=_.name+v.hash;o.hasNameForId(_.id,x)||o.insertRules(_.id,x,v(_.rules,x,"@keyframes"))},this.name=o,this.id="sc-keyframes-".concat(o),this.rules=v,me(this,function(){throw M(12,String(_.name))})}return e.prototype.getName=function(o){return void 0===o&&(o=eR),this.name+o.hash},e}(),ez={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function zn(o,v){return null==v||"boolean"==typeof v||""===v?"":"number"!=typeof v||0===v||o in ez||o.startsWith("--")?String(v).trim():"".concat(v,"px")}function Xe(o){return"string"==typeof o&&o||o.displayName||o.name||"Component"}function Ft(o){for(var v="",_=0;_<o.length;_++){var x=o[_];if(1===_&&"-"===x&&"-"===o[0])return o;x>="A"&&x<="Z"?v+="-"+x.toLowerCase():v+=x}return v.startsWith("ms-")?"-"+v:v}function de(o){return"function"==typeof o}function xe(o){return null!==o&&"object"==typeof o&&o.constructor.name===Object.name&&!("props"in o&&o.$$typeof)}function Mn(o){return de(o)&&!(o.prototype&&o.prototype.isReactComponent)}function Je(o){return"object"==typeof o&&"styledComponentId"in o}var Gt=function(o){return null==o||!1===o||""===o},qt=function(o){var v=[];for(var _ in o){var x=o[_];!o.hasOwnProperty(_)||Gt(x)||(Array.isArray(x)&&x.isCss||de(x)?v.push("".concat(Ft(_),":"),x,";"):xe(x)?v.push.apply(v,J(J(["".concat(_," {")],qt(x),!1),["}"],!1)):v.push("".concat(Ft(_),": ").concat(zn(_,x),";")))}return v};function se(o,v,_,x){if(Gt(o))return[];if(Je(o))return[".".concat(o.styledComponentId)];if(de(o)){if(!Mn(o)||!v)return[o];var w=o(v);return"object"!=typeof w||Array.isArray(w)||w instanceof eB||xe(w)||null===w||console.error("".concat(Xe(o)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),se(w,v,_,x)}return o instanceof eB?_?(o.inject(_,x),[o.getName(x)]):[o]:xe(o)?qt(o):Array.isArray(o)?Bn(o,function(o){return se(o,v,_,x)}):[o.toString()]}function Bn(o,v){return Array.prototype.concat.apply(X,o.map(v))}function Fn(o){for(var v=0;v<o.length;v+=1){var _=o[v];if(de(_)&&!Je(_))return!1}return!0}function he(o,v){return o&&v?"".concat(o," ").concat(v):o||v||""}function $e(o,v){if(0===o.length)return"";for(var _=o[0],x=1;x<o.length;x++)_+=v?v+o[x]:o[x];return _}var ej=function(){function e(o,v){this.rules=o,this.componentId=v,this.isStatic=Fn(o),eg.registerId(this.componentId+1)}return e.prototype.createStyles=function(o,v,_,x){var w=$e(se(this.rules,v,_,x)),T=x(w,""),L=this.componentId+o;_.insertRules(L,L,T)},e.prototype.removeStyles=function(o,v){v.clearRules(this.componentId+o)},e.prototype.renderStyles=function(o,v,_,x){o>2&&eg.registerId(this.componentId+o),this.removeStyles(o,_),this.createStyles(o,v,_,x)},e}(),eH=o.createContext(void 0),eG=eH.Consumer;function Hn(o,v){if(!o)throw M(14);if(de(o)){var _=o(v);if(null===_||Array.isArray(_)||"object"!=typeof _)throw M(7);return _}if(Array.isArray(o)||"object"!=typeof o)throw M(8);return v?I(I({},v),o):o}function Wn(){var v=o.useContext(eH);if(!v)throw M(18);return v}function Un(v){var _=o.useContext(eH),x=o.useMemo(function(){return Hn(v.theme,_)},[v.theme,_]);return v.children?o.createElement(eH.Provider,{value:x},v.children):null}var eU=/invalid hook call/i,eW=new Set,Wt=function(v,_){var x="The component ".concat(v).concat(_?' with the id of "'.concat(_,'"'):"",` has been created dynamically.
`)+`You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.`,w=console.error;try{var T=!0;console.error=function(o){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];eU.test(o)?(T=!1,eW.delete(x)):w.apply(void 0,J([o],v,!1))},o.useRef(),T&&!eW.has(x)&&(console.warn(x),eW.add(x))}catch(o){eU.test(o.message)&&eW.delete(x)}finally{console.error=w}};function yt(o,v,_){return void 0===_&&(_=et),o.theme!==_.theme&&o.theme||v||_.theme}var eY=/(a)(d)/gi,Ut=function(o){return String.fromCharCode(o+(o>25?39:97))};function mt(o){var v,_="";for(v=Math.abs(o);v>52;v=v/52|0)_=Ut(v%52)+_;return(Ut(v%52)+_).replace(eY,"$1-$2")}function gt(o){return mt(Dt(o)>>>0)}function Yt(o,v){for(var _=[o[0]],x=0,w=v.length;x<w;x+=1)_.push(v[x],o[x+1]);return _}var Vt=function(o){return Object.assign(o,{isCss:!0})};function Qe(o){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];return de(o)||xe(o)?Vt(se(Yt(X,J([o],v,!0)))):0===v.length&&1===o.length&&"string"==typeof o[0]?se(o):Vt(se(Yt(o,v)))}function Vn(v){for(var _=[],x=1;x<arguments.length;x++)_[x-1]=arguments[x];var w=Qe.apply(void 0,J([v],_,!1)),T="sc-global-".concat(gt(JSON.stringify(w))),L=new ej(w,T);Wt(T);var i=function(v){var _=Ve(),x=o.useContext(eH),N=o.useRef(_.styleSheet.allocateGSInstance(T)).current;return o.Children.count(v.children)&&console.warn("The global style component ".concat(T," was given child JSX. createGlobalStyle does not render children.")),w.some(function(o){return"string"==typeof o&&-1!==o.indexOf("@import")})&&console.warn("Please do not use @import CSS syntax in createGlobalStyle at this time, as the CSSOM APIs we use in production do not handle it well. Instead, we recommend using a library such as react-helmet to inject a typical <link> meta tag to the stylesheet, or simply embedding it manually in your index.html <head> section for a simpler app."),_.styleSheet.server&&l(N,v,_.styleSheet,x,_.stylis),o.useLayoutEffect(function(){if(!_.styleSheet.server)return l(N,v,_.styleSheet,x,_.stylis),function(){return L.removeStyles(N,_.styleSheet)}},[N,v,_.styleSheet,x,_.stylis]),null};function l(o,v,_,x,w){if(L.isStatic)L.renderStyles(o,Z,_,w);else{var T=I(I({},v),{theme:yt(v,x,i.defaultProps)});L.renderStyles(o,T,_,w)}}return o.memo(i)}function Xn(o){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];"undefined"!=typeof navigator&&"ReactNative"===navigator.product&&console.warn("`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.");var x=$e(Qe.apply(void 0,J([o],v,!1)));return new eB(gt(x),x)}var eK,eZ="function"==typeof Symbol&&Symbol.for,eX=eZ?Symbol.for("react.memo"):60115,e$=eZ?Symbol.for("react.forward_ref"):60112,eQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},e0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},e1=((eK={})[e$]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eK[eX]=e0,eK);function tr(o){return("type"in o&&o.type.$$typeof)===eX}function Zt(o){return tr(o)?e0:"$$typeof"in o?e1[o.$$typeof]:eQ}var e2=Object.defineProperty,e5=Object.getOwnPropertyNames,e3=Object.getOwnPropertySymbols,e4=Object.getOwnPropertyDescriptor,e7=Object.getPrototypeOf,e6=Object.prototype;function vt(o,v,_){if("string"!=typeof v){if(e6){var x=e7(v);x&&x!==e6&&vt(o,x,_)}var w=e5(v);e3&&(w=w.concat(e3(v)));for(var T=Zt(o),L=Zt(v),N=0;N<w.length;++N){var B=w[N];if(!(B in eJ)&&!(_&&_[B])&&!(L&&B in L)&&!(T&&B in T)){var H=e4(v,B);try{e2(o,B,H)}catch(o){}}}}return o}function sr(v){var _=o.forwardRef(function(_,x){var w=yt(_,o.useContext(eH),v.defaultProps);return void 0===w&&console.warn('[withTheme] You are not using a ThemeProvider nor passing a theme prop or a theme in defaultProps in component class "'.concat(Xe(v),'"')),o.createElement(v,I({},_,{theme:w,ref:x}))});return _.displayName="WithTheme(".concat(Xe(v),")"),vt(_,v)}var e9=function(){function e(){var v=this;this._emitSheetCSS=function(){var o=v.instance.toString(),x=_.nc,T=$e([x&&'nonce="'.concat(x,'"'),"".concat(w,'="true"'),"".concat(L,'="').concat(N,'"')].filter(Boolean)," ");return"<style ".concat(T,">").concat(o,"</style>")},this.getStyleTags=function(){if(v.sealed)throw M(2);return v._emitSheetCSS()},this.getStyleElement=function(){if(v.sealed)throw M(2);var x,T=((x={})[w]="",x[L]=N,x.dangerouslySetInnerHTML={__html:v.instance.toString()},x),B=_.nc;return B&&(T.nonce=B),[o.createElement("style",I({},T,{key:"sc-0-0"}))]},this.seal=function(){v.sealed=!0},this.instance=new eg({isServer:!0}),this.sealed=!1}return e.prototype.collectStyles=function(v){if(this.sealed)throw M(2);return o.createElement(Bt,{sheet:this.instance},v)},e.prototype.interleaveWithNodeStream=function(o){throw M(3)},e}();"undefined"!=typeof navigator&&"ReactNative"===navigator.product&&console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`);var e8="__sc-".concat(w,"__");"undefined"!=typeof window&&(window[e8]||(window[e8]=0),1===window[e8]&&console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`),window[e8]+=1);var te=Object.freeze({__proto__:null,ServerStyleSheet:e9,StyleSheetConsumer:eF,StyleSheetContext:eN,StyleSheetManager:Bt,ThemeConsumer:eG,ThemeContext:eH,ThemeProvider:Un,__PRIVATE__:{StyleSheet:eg,mainSheet:eL},createGlobalStyle:Vn,css:Qe,isStyledComponent:Je,keyframes:Xn,useTheme:Wn,version:N,withTheme:sr}),tt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tn=(v=Object.create(null),function(o){var _;return void 0===v[o]&&(v[o]=(_=o,tt.test(_)||111===_.charCodeAt(0)&&110===_.charCodeAt(1)&&91>_.charCodeAt(2))),v[o]}),pr=function(o,v){var _={},x=!1;return function(w){if(!x&&(_[w]=!0,Object.keys(_).length>=200)){var T=v?' with the id of "'.concat(v,'"'):"";console.warn("Over ".concat(200," classes were generated for component ").concat(o).concat(T,`.
`)+`Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`),x=!0,_={}}}},ti=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ta=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,to=/(^-|-$)/g;function rn(o){return o.replace(ta,"-").replace(to,"")}function bt(o){return"string"==typeof o&&o.charAt(0)===o.charAt(0).toLowerCase()}function yr(o){return bt(o)?"styled.".concat(o):"Styled(".concat(Xe(o),")")}function wt(o,v,_){if(void 0===_&&(_=!1),!_&&!xe(o)&&!Array.isArray(o))return v;if(Array.isArray(v))for(var x=0;x<v.length;x++)o[x]=wt(o[x],v[x]);else if(xe(v))for(var x in v)o[x]=wt(o[x],v[x]);return o}function mr(o){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];for(var x=0;x<v.length;x++)wt(o,v[x],!0);return o}var ts=Dt(N),tl=function(){function e(o,v,_){this.rules=o,this.staticRulesId="",this.isStatic=!1,this.componentId=v,this.baseHash=pe(ts,v),this.baseStyle=_,eg.registerId(v)}return e.prototype.generateAndInjectStyles=function(o,v,_){var x=this.baseStyle?this.baseStyle.generateAndInjectStyles(o,v,_):"";if(this.isStatic&&!_.hash){if(this.staticRulesId&&v.hasNameForId(this.componentId,this.staticRulesId))x=he(x,this.staticRulesId);else{var w=$e(se(this.rules,o,v,_)),T=mt(pe(this.baseHash,w)>>>0);if(!v.hasNameForId(this.componentId,T)){var L=_(w,".".concat(T),void 0,this.componentId);v.insertRules(this.componentId,T,L)}x=he(x,T),this.staticRulesId=T}}else{for(var N=pe(this.baseHash,_.hash),B="",H=0;H<this.rules.length;H++){var Y=this.rules[H];if("string"==typeof Y)B+=Y,N=pe(N,Y);else if(Y){var Z=$e(se(Y,o,v,_));N=pe(N,Z),B+=Z}}if(B){var X=mt(N>>>0);v.hasNameForId(this.componentId,X)||v.insertRules(this.componentId,X,_(B,".".concat(X),void 0,this.componentId)),x=he(x,X)}}return x},e}(),tu={};function Sr(o,v){var _="string"!=typeof o?"sc":rn(o);tu[_]=(tu[_]||0)+1;var x="".concat(_,"-").concat(gt(N+_+tu[_]));return v?"".concat(v,"-").concat(x):x}function br(v,_){var x=Ve(),w=v.generateAndInjectStyles(_,x.styleSheet,x.stylis);return o.useDebugValue(w),w}function wr(o,v,_){for(var x,w=I(I({},v),{className:void 0,theme:_}),T=0;T<o.length;T+=1){var L=de(x=o[T])?x(w):x;for(var N in L)w[N]="className"===N?he(w[N],L[N]):"style"===N?I(I({},w[N]),L[N]):L[N]}return v.className&&(w.className=he(w.className,v.className)),w}var tc=new Set;function kr(v,_,x){var w=v.attrs,T=v.componentStyle,L=v.defaultProps,N=v.foldedComponentIds,B=v.styledComponentId,H=v.target,Y=o.useContext(eH),Z=Ve(),X=v.shouldForwardProp||Z.shouldForwardProp;o.useDebugValue(B);var en=yt(_,Y,L)||et,er=wr(w,_,en),ei=er.as||H,ea={};for(var eo in er)void 0===er[eo]||"$"===eo[0]||"as"===eo||"theme"===eo||("forwardedAs"===eo?ea.as=er.forwardedAs:(!X||X(eo,ei))&&(ea[eo]=er[eo],!X&&!tn(eo)&&!tc.has(eo)&&ti.has(ei)&&(tc.add(eo),console.warn('styled-components: it looks like an unknown prop "'.concat(eo,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var el=br(T,er);v.warnTooManyClasses&&v.warnTooManyClasses(el);var eu=he(N,B);return el&&(eu+=" "+el),er.className&&(eu+=" "+er.className),ea[bt(ei)&&!ti.has(ei)?"class":"className"]=eu,ea.ref=x,o.createElement(ei,ea)}function Cr(v,_,x){var w=Je(v),T=!bt(v),L=_.attrs,N=void 0===L?X:L,B=_.componentId,H=void 0===B?Sr(_.displayName,_.parentComponentId):B,Y=_.displayName,Z=void 0===Y?yr(v):Y,et=_.displayName&&_.componentId?"".concat(rn(_.displayName),"-").concat(_.componentId):_.componentId||H,en=w&&v.attrs?v.attrs.concat(N).filter(Boolean):N,er=_.shouldForwardProp;if(w&&v.shouldForwardProp){var ei=v.shouldForwardProp;if(_.shouldForwardProp){var ea=_.shouldForwardProp;er=function(o,v){return ei(o,v)&&ea(o,v)}}else er=ei}var eo=new tl(x,et,w?v.componentStyle:void 0);function R(o,v){return kr(el,o,v)}R.displayName=Z;var el=o.forwardRef(R);return el.attrs=en,el.componentStyle=eo,el.shouldForwardProp=er,el.displayName=Z,el.foldedComponentIds=w?he(v.foldedComponentIds,v.styledComponentId):"",el.styledComponentId=et,el.target=w?v.target:v,Object.defineProperty(el,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(o){this._foldedDefaultProps=w?mr({},v.defaultProps,o):o}}),Wt(Z,et),el.warnTooManyClasses=pr(Z,et),me(el,function(){return".".concat(el.styledComponentId)}),T&&vt(el,v,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),el}function Ct(o,v,_){if(void 0===_&&(_=et),!v)throw M(1,v);var r=function(x){for(var w=[],T=1;T<arguments.length;T++)w[T-1]=arguments[T];return o(v,_,Qe.apply(void 0,J([x],w,!1)))};return r.attrs=function(x){return Ct(o,v,I(I({},_),{attrs:Array.prototype.concat(_.attrs,x).filter(Boolean)}))},r.withConfig=function(x){return Ct(o,v,I(I({},_),x))},r}var an=function(o){return Ct(Cr,o)};for(var td in ti.forEach(function(o){an[o]=an(o)}),te)an[td]=te[td];return an},"object"==typeof o&&void 0!==v?v.exports=T(ei()):"function"==typeof define&&define.amd?define(["react"],T):(w=w||self).styled=T(w.React)});/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/},3260:function(o,v,_){"use strict";_.d(v,{fS:function(){return tZ},ws:function(){return tN}});var x,w,T,L,N,B,H,Y,Z,X,et,en,er,ei,ea,eo,el,eu,ec,ed,eh,ep,ef,eg,em,ey,ev,e_,eb,eS,ex="object"==typeof global&&global&&global.Object===Object&&global,ew="object"==typeof self&&self&&self.Object===Object&&self,eC=ex||ew||Function("return this")(),eT=eC.Symbol,eM=Object.prototype,eP=eM.hasOwnProperty,eI=eM.toString,eD=eT?eT.toStringTag:void 0,j=function(o){var v=eP.call(o,eD),_=o[eD];try{o[eD]=void 0;var x=!0}catch(o){}var w=eI.call(o);return x&&(v?o[eD]=_:delete o[eD]),w},eE=Object.prototype.toString,eO=eT?eT.toStringTag:void 0,f=function(o){return null==o?void 0===o?"[object Undefined]":"[object Null]":eO&&eO in Object(o)?j(o):eE.call(o)},d=function(o){return null!=o&&"object"==typeof o},c=function(o){return"symbol"==typeof o||d(o)&&"[object Symbol]"==f(o)},D=function(o,v){for(var _=-1,x=null==o?0:o.length,w=Array(x);++_<x;)w[_]=v(o[_],_,o);return w},eA=Array.isArray,ek=1/0,eL=eT?eT.prototype:void 0,eR=eL?eL.toString:void 0;function U(o){if("string"==typeof o)return o;if(eA(o))return D(o,U)+"";if(c(o))return eR?eR.call(o):"";var v=o+"";return"0"==v&&1/o==-ek?"-0":v}var eN=U,k=function(o){var v=typeof o;return null!=o&&("object"==v||"function"==v)},G=function(o){if(!k(o))return!1;var v=f(o);return"[object Function]"==v||"[object GeneratorFunction]"==v||"[object AsyncFunction]"==v||"[object Proxy]"==v},eF=eC["__core-js_shared__"],eV=(L=/[^.]+$/.exec(eF&&eF.keys&&eF.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",eB=Function.prototype.toString,$=function(o){if(null!=o){try{return eB.call(o)}catch(o){}try{return o+""}catch(o){}}return""},ez=/^\[object .+?Constructor\]$/,ej=Object.prototype,eH=Function.prototype.toString,eG=ej.hasOwnProperty,eU=RegExp("^"+eH.call(eG).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=function(o){return!(!k(o)||eV&&eV in o)&&(G(o)?eU:ez).test($(o))},O=function(o,v){var _=null==o?void 0:o[v];return K(_)?_:void 0},eW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eY=/^\w*$/,V=function(o,v){if(eA(o))return!1;var _=typeof o;return!!("number"==_||"symbol"==_||"boolean"==_||null==o||c(o))||eY.test(o)||!eW.test(o)||null!=v&&o in Object(v)},eK=O(Object,"create"),eZ=Object.prototype.hasOwnProperty,eX=Object.prototype.hasOwnProperty;function g(o){var v=-1,_=null==o?0:o.length;for(this.clear();++v<_;){var x=o[v];this.set(x[0],x[1])}}g.prototype.clear=function(){this.__data__=eK?eK(null):{},this.size=0},g.prototype.delete=function(o){var v=this.has(o)&&delete this.__data__[o];return this.size-=v?1:0,v},g.prototype.get=function(o){var v=this.__data__;if(eK){var _=v[o];return"__lodash_hash_undefined__"===_?void 0:_}return eZ.call(v,o)?v[o]:void 0},g.prototype.has=function(o){var v=this.__data__;return eK?void 0!==v[o]:eX.call(v,o)},g.prototype.set=function(o,v){var _=this.__data__;return this.size+=this.has(o)?0:1,_[o]=eK&&void 0===v?"__lodash_hash_undefined__":v,this};var e$=g,l=function(o,v){for(var _,x=o.length;x--;)if((_=o[x][0])===v||_!=_&&v!=v)return x;return -1},eQ=Array.prototype.splice;function y(o){var v=-1,_=null==o?0:o.length;for(this.clear();++v<_;){var x=o[v];this.set(x[0],x[1])}}y.prototype.clear=function(){this.__data__=[],this.size=0},y.prototype.delete=function(o){var v=this.__data__,_=l(v,o);return!(_<0)&&(_==v.length-1?v.pop():eQ.call(v,_,1),--this.size,!0)},y.prototype.get=function(o){var v=this.__data__,_=l(v,o);return _<0?void 0:v[_][1]},y.prototype.has=function(o){return l(this.__data__,o)>-1},y.prototype.set=function(o,v){var _=this.__data__,x=l(_,o);return x<0?(++this.size,_.push([o,v])):_[x][1]=v,this};var eJ=y,e0=O(eC,"Map"),de=function(o){var v=typeof o;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==o:null===o},p=function(o,v){var _=o.__data__;return de(v)?_["string"==typeof v?"string":"hash"]:_.map};function b(o){var v=-1,_=null==o?0:o.length;for(this.clear();++v<_;){var x=o[v];this.set(x[0],x[1])}}b.prototype.clear=function(){this.size=0,this.__data__={hash:new e$,map:new(e0||eJ),string:new e$}},b.prototype.delete=function(o){var v=p(this,o).delete(o);return this.size-=v?1:0,v},b.prototype.get=function(o){return p(this,o).get(o)},b.prototype.has=function(o){return p(this,o).has(o)},b.prototype.set=function(o,v){var _=p(this,o),x=_.size;return _.set(o,v),this.size+=_.size==x?0:1,this};var e1=b;function E(o,v){if("function"!=typeof o||null!=v&&"function"!=typeof v)throw TypeError("Expected a function");var r=function(){var _=arguments,x=v?v.apply(this,_):_[0],w=r.cache;if(w.has(x))return w.get(x);var T=o.apply(this,_);return r.cache=w.set(x,T)||w,T};return r.cache=new(E.Cache||e1),r}E.Cache=e1;var e2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e5=/\\(\\)?/g,e3=(w=(x=E(function(o){var v=[];return 46===o.charCodeAt(0)&&v.push(""),o.replace(e2,function(o,_,x,w){v.push(x?w.replace(e5,"$1"):_||o)}),v},function(o){return 500===w.size&&w.clear(),o})).cache,x),m=function(o){return null==o?"":eN(o)},e4=1/0,be=function(o){if("string"==typeof o||c(o))return o;var v=o+"";return"0"==v&&1/o==-e4?"-0":v},_e=function(o,v){var _,x;_=v,x=o,v=eA(_)?_:V(_,x)?[_]:e3(m(_));for(var w=0,T=v.length;null!=o&&w<T;)o=o[be(v[w++])];return w&&w==T?o:void 0},Ir=function(o,v,_){var x=null==o?void 0:_e(o,v);return void 0===x?_:x},e7=(T={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g),e6=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,e9="\ud800-\udfff",e8="\\u2700-\\u27bf",te="a-z\\xdf-\\xf6\\xf8-\\xff",tt="A-Z\\xc0-\\xd6\\xd8-\\xde",tn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ti="[']",ta="["+tn+"]",to="["+te+"]",ts="[^"+e9+tn+"\\d+"+e8+te+tt+"]",tl="(?:\ud83c[\udde6-\uddff]){2}",tu="[\ud800-\udbff][\udc00-\udfff]",tc="["+tt+"]",td="(?:"+to+"|"+ts+")",th="(?:"+ti+"(?:d|ll|m|re|s|t|ve))?",tp="(?:"+ti+"(?:D|LL|M|RE|S|T|VE))?",tf="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",tg="[\\ufe0e\\ufe0f]?",tm="(?:\\u200d(?:"+["[^"+e9+"]",tl,tu].join("|")+")"+tg+tf+")*",ty="(?:"+["["+e8+"]",tl,tu].join("|")+")"+(tg+tf+tm),tv=RegExp([tc+"?"+to+"+"+th+"(?="+[ta,tc,"$"].join("|")+")","(?:"+tc+"|"+ts+")+"+tp+"(?="+[ta,tc+td,"$"].join("|")+")",tc+"?"+td+"+"+th,tc+"+"+tp,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",ty].join("|"),"g"),t_=(RegExp("[']","g"),function(o){return"string"==typeof o||!eA(o)&&d(o)&&"[object String]"==f(o)}),Oa=function(o){return"number"==typeof o||d(o)&&"[object Number]"==f(o)},tb=0,S=function(o){var v=++tb;return m(o)+v},Ke=(o,v,_)=>new Promise((x,w)=>{var s=o=>{try{I(_.next(o))}catch(o){w(o)}},C=o=>{try{I(_.throw(o))}catch(o){w(o)}},I=o=>o.done?x(o.value):Promise.resolve(o.value).then(s,C);I((_=_.apply(o,v)).next())}),tS=class{constructor(o){this._target=o}sendMsg(o){if(!this._target)throw Error("target window is not found");this._target.postMessage(o,"*")}listenMsg(o){this._eventHandler=o,"undefined"!=typeof window&&window.addEventListener("message",o)}destroy(){"undefined"!=typeof window&&window.removeEventListener("message",this._eventHandler)}},tx=class{constructor(o,v){"host"===o?this.channelManager=new tS(v):"client"===o&&(this.channelManager=new tS(null==window?void 0:window.parent))}static createInstance(o,v){return new tx(o,v)}sendMsg(o){var v;null==(v=this.channelManager)||v.sendMsg(o)}listenMsg(o){var v;null==(v=this.channelManager)||v.listenMsg(o)}destroy(){var o;null==(o=this.channelManager)||o.destroy()}},tw=class{constructor(o){if(this.hostOrigin=o,this.resultMap=new Map,this._msgChannel=null,this._eventMap=new Map,this._handshakeRetryTimes=0,this._handshakeStatus=0,this._prefixId="",this.allowedHostOrigin=["*"],this.hostOrigin=o,"undefined"==typeof window||window.parent===window){this._handshakeStatus=2;return}this._msgChannel=tx.createInstance("client"),this.listeningHostMsg(),this.startHandshake()}sendProactiveHandshakeMsg(){var o;null==(o=this._msgChannel)||o.sendMsg({id:S("handshake-"),type:"handshake",payload:{proactive:!0}})}_initHandshake(){this._handshakeRetryTimes=0,clearTimeout(this._handshakeTimeout),this._handshakeStatus=0,this._handshakePromise=new Promise((o,v)=>{this._handshakeResolve=o,setTimeout(()=>this.retryHandshake(v),2e3)})}startHandshake(){this._initHandshake(),this._handshakePromise.then(()=>{this._handshakeStatus=1}).catch(o=>{this._handshakeStatus=2,console.error("client handshake error : ",o)}),this.sendProactiveHandshakeMsg()}retryHandshake(o){0===this._handshakeStatus&&(this._handshakeRetryTimes<5?(this.sendProactiveHandshakeMsg(),this._handshakeRetryTimes++,this._handshakeTimeout=setTimeout(()=>this.retryHandshake(o),2e3+2**this._handshakeRetryTimes)):o("time out"))}updateInvokeId(){this._invokeId=S(`${this._prefixId}-invoke-`)}get allowedAnyOrigin(){return this.allowedHostOrigin.includes("*")}handleChannelMessage(o){let{origin:v,data:_}=o;if(!this.allowedHostOrigin.includes(v)&&!this.allowedAnyOrigin)return;let{type:x}=_;"callback"===x?this.handleHostCallback(_):"handshake"===x?this.handleHandshakeCallback(_):"event"===x&&this.handleEventCallback(_)}handleHostCallback(o){let{id:v,payload:_}=o,x=this.resultMap.get(v);x&&x(_.res)}handleHandshakeCallback(o){let{id:v,payload:_}=o;this._prefixId=null==_?void 0:_.prefixId,this._handshakeResolve(),this.sendMsg2Host({id:v,type:"handshake",payload:{proactive:!1,info:{isHandshakeSuccess:!0}}})}handleEventCallback(o){return Ke(this,null,function*(){yield this._handshakePromise;let{payload:v}=o,{eventName:_,params:x}=v;this._eventMap.get(_).forEach(o=>{o({data:x})})})}listeningHostMsg(){var o;null==(o=this._msgChannel)||o.listenMsg(this.handleChannelMessage.bind(this))}sendMsg2Host(o){var v;null==(v=this._msgChannel)||v.sendMsg(o)}invokeApi(o,v){return Ke(this,null,function*(){return yield this._handshakePromise,this._invokeId||this.updateInvokeId(),this.sendMsg2Host({type:"invoke",id:this._invokeId,payload:{key:o,params:v,prefixId:this._prefixId}}),new Promise(o=>{this.resultMap.set(this._invokeId,o),this.updateInvokeId()})})}subscribeEvent(o,v){var _;let x=null!=(_=this._eventMap.get(o))?_:[];x.push(v),this._eventMap.set(o,x)}unsubscribeEvent(o,v){var _;let x=null!=(_=this._eventMap.get(o))?_:[],w=x.indexOf(v);-1!==w&&x.splice(w,1)}},tC=((N=tC||{}).PENDING="pending",N.LOADING="loading",N.LOADED="loaded",N.ERROR="error",N),tT=((B=tT||{}).IFRAME_LOAD_TIME_OUT="iframe load time out",B.NOT_ALLOWED_URL="not allowed url",B.HANDSHAKE_TIME_OUT="handshake time out",B),tM=null,tP=_(422),tI=_(553),tD=class extends tP.f{getPersonalBaseToken(){return(0,tI.b)(this,null,function*(){throw new tP.c})}testReplitBridge(){return(0,tI.b)(this,null,function*(){throw new tP.c})}};(0,tI.a)([(0,tP.a)()],tD.prototype,"getPersonalBaseToken",1),(0,tI.a)([(0,tP.a)()],tD.prototype,"testReplitBridge",1);var tE=class extends tP.h{setHostContainerSize(o){throw new tP.c}closeHostContainer(){throw new tP.c}};(0,tI.a)([(0,tP.a)()],tE.prototype,"setHostContainerSize",1),(0,tI.a)([(0,tP.a)()],tE.prototype,"closeHostContainer",1);var tO=class extends tP.d{testReplitBase(){return(0,tI.b)(this,null,function*(){throw new tP.c})}};(0,tI.a)([(0,tP.a)()],tO.prototype,"testReplitBase",1);var tA=(tM||(tM=new tw),tM);(0,tP.b)(tA);var tk=new tO(tA).withContext([]),tL=new tD(tA).withContext([]),tR=new tE(tA).withContext([]);new tP.g().withContext([]).setClientVersion("0.3.3");var tN=new class{constructor(){this.base=tk,this.bridge=tL,this.ui=tR}};_(5887);var tF=Object.defineProperty,tV=Object.getOwnPropertySymbols,tB=Object.prototype.hasOwnProperty,tz=Object.prototype.propertyIsEnumerable,dist_y=(o,v,_)=>v in o?tF(o,v,{enumerable:!0,configurable:!0,writable:!0,value:_}):o[v]=_,dist_l=(o,v)=>{for(var _ in v||(v={}))tB.call(v,_)&&dist_y(o,_,v[_]);if(tV)for(var _ of tV(v))tz.call(v,_)&&dist_y(o,_,v[_]);return o},tj=((H=tj||{}).Small="small",H.Medium="medium",H.Large="large",H),tH=((Y=tH||{}).CALCULATING="calculating",Y.COMPLETED="completed",Y),tG=((Z=tG||{}).Text="text",Z.Url="url",Z.Mention="mention",Z),tU=((X=tU||{})[X.User=0]="User",X[X.Doc=1]="Doc",X[X.Folder=2]="Folder",X[X.Sheet=3]="Sheet",X[X.SheetDoc=4]="SheetDoc",X[X.Chat=5]="Chat",X[X.Bitable=8]="Bitable",X[X.Mindnote=11]="Mindnote",X[X.Box=12]="Box",X[X.Slide=15]="Slide",X[X.Wiki=16]="Wiki",X[X.Docx=22]="Docx",X[X.Slides=30]="Slides",X[X.Bitable_Ind=108]="Bitable_Ind",X),tW=((et=tW||{}).TableAdd="TableAdd",et.TableDelete="TableDelete",et.SelectionChange="SelectionChange",et.PermissionChange="PermissionChange",et.UploadStatusChange="UploadStatusChange",et),tY=((en=tY||{}).FieldAdd="FieldAdd",en.FieldDelete="FieldDelete",en.FieldModify="FieldModify",en.RecordAdd="RecordAdd",en.RecordModify="RecordModify",en.RecordDelete="RecordDelete",en),tK=((er=tK||{}).DataChange="DataChange",er.ThemeChange="ThemeChange",er),tZ=((ei=tZ||{})[ei.NotSupport=0]="NotSupport",ei[ei.Text=1]="Text",ei[ei.Number=2]="Number",ei[ei.SingleSelect=3]="SingleSelect",ei[ei.MultiSelect=4]="MultiSelect",ei[ei.DateTime=5]="DateTime",ei[ei.Checkbox=7]="Checkbox",ei[ei.User=11]="User",ei[ei.Phone=13]="Phone",ei[ei.Url=15]="Url",ei[ei.Attachment=17]="Attachment",ei[ei.SingleLink=18]="SingleLink",ei[ei.Lookup=19]="Lookup",ei[ei.Formula=20]="Formula",ei[ei.DuplexLink=21]="DuplexLink",ei[ei.Location=22]="Location",ei[ei.GroupChat=23]="GroupChat",ei[ei.Denied=403]="Denied",ei[ei.CreatedTime=1001]="CreatedTime",ei[ei.ModifiedTime=1002]="ModifiedTime",ei[ei.CreatedUser=1003]="CreatedUser",ei[ei.ModifiedUser=1004]="ModifiedUser",ei[ei.AutoNumber=1005]="AutoNumber",ei[ei.Barcode=99001]="Barcode",ei[ei.Progress=99002]="Progress",ei[ei.Currency=99003]="Currency",ei[ei.Rating=99004]="Rating",ei),tq=((ea=tq||{})[ea.NotSupport=0]="NotSupport",ea[ea.Grid=1]="Grid",ea[ea.Kanban=2]="Kanban",ea[ea.Form=3]="Form",ea[ea.Gallery=4]="Gallery",ea[ea.Gantt=5]="Gantt",ea[ea.Hierarchy=6]="Hierarchy",ea[ea.Calendar=7]="Calendar",ea[ea.WidgetView=100]="WidgetView",ea),tX=((eo=tX||{})[eo.Pending=1]="Pending",eo[eo.Inflight=2]="Inflight",eo[eo.Success=3]="Success",eo[eo.Error=4]="Error",eo[eo.Paused=5]="Paused",eo),t$=((el=t$||{}).ONLY_MOBILE="ONLY_MOBILE",el.NOT_LIMIT="NOT_LIMIT",el),tQ=((eu=tQ||{}).INTEGER="0",eu.DIGITAL_ROUNDED_1="0.0",eu.DIGITAL_ROUNDED_2="0.00",eu.DIGITAL_ROUNDED_3="0.000",eu.DIGITAL_ROUNDED_4="0.0000",eu.DIGITAL_THOUSANDS="1,000",eu.DIGITAL_THOUSANDS_DECIMALS="1,000.00",eu.PERCENTAGE_ROUNDED="0%",eu.PERCENTAGE="0.00%",eu),tJ=((ec=tJ||{}).CYN_ROUNDED="\xa5#,##0",ec.CYN="\xa5#,##0.00",ec.DOLLAR_ROUNDED="$#,##0",ec.DOLLAR="$#,##0.00",ec),t0=((ed=t0||{}).DATE_YMD_WITH_SLASH="yyyy/MM/dd",ed.DATE_TIME="yyyy/MM/dd HH:mm",ed.DATE_TIME_WITH_HYPHEN="yyyy-MM-dd HH:mm",ed.DATE_YMD_WITH_HYPHEN="yyyy-MM-dd",ed.DATE_MD_WITH_HYPHEN="MM-dd",ed.DATE_MMDD_WITH_SLASH="MM/dd/yyyy",ed.DATE_DDMM_WITH_SLASH="dd/MM/yyyy",ed),t1=((eh=t1||{}).CNY="CNY",eh.USD="USD",eh.EUR="EUR",eh.GBP="GBP",eh.AED="AED",eh.AUD="AUD",eh.BRL="BRL",eh.CAD="CAD",eh.CHF="CHF",eh.HKD="HKD",eh.INR="INR",eh.IDR="IDR",eh.JPY="JPY",eh.KRW="KRW",eh.MOP="MOP",eh.MXN="MXN",eh.MYR="MYR",eh.PHP="PHP",eh.PLN="PLN",eh.RUB="RUB",eh.SGD="SGD",eh.THB="THB",eh.TRY="TRY",eh.TWD="TWD",eh.VND="VND",eh),t2=((ep=t2||{}).STAR="star",ep.HEART="heart",ep.THUMBSUP="thumbsup",ep.FIRE="fire",ep.SMILE="smile",ep.LIGHTNING="lightning",ep.FLOWER="flower",ep.NUMBER="number",ep),t5=((ef=t5||{}).LIGHT="LIGHT",ef.DARK="DARK",ef),t3=((eg=t3||{})[eg.STATIC=0]="STATIC",eg[eg.DYNAMIC=1]="DYNAMIC",eg),t4=((em=t4||{}).Today="Today",em.Tomorrow="Tomorrow",em.Yesterday="Yesterday",em.TheLastWeek="TheLastWeek",em.TheNextWeek="TheNextWeek",em.TheLastMonth="TheLastMonth",em.TheNextMonth="TheNextMonth",em.CurrentWeek="CurrentWeek",em.LastWeek="LastWeek",em.CurrentMonth="CurrentMonth",em.LastMonth="LastMonth",em),t7=((ey=t7||{}).Is="is",ey.IsNot="isNot",ey.Contains="contains",ey.DoesNotContain="doesNotContain",ey.IsEmpty="isEmpty",ey.IsNotEmpty="isNotEmpty",ey.IsGreater="isGreater",ey.IsGreaterEqual="isGreaterEqual",ey.IsLess="isLess",ey.IsLessEqual="isLessEqual",ey),t6=((ev=t6||{}).And="and",ev.Or="or",ev),t9=((e_=t9||{}).Base="Base",e_.Table="Table",e_.Record="Record",e_.Field="Field",e_.Cell="Cell",e_),t8=((eb=t8||{}).Visible="visible",eb.Editable="editable",eb.Addable="addable",eb.Deletable="deletable",eb.Copyable="copyable",eb.Movable="movable",eb.Printable="printable",eb.Manageable="manageable",eb.Submittable="submittable",eb);function dist_ie(o){return!!k(o)&&t_(Ir(o,"id"))}function dist_ae(o){return!!eA(o)&&o.every(dist_ie)}function dist_ne(o){return!!k(o)&&t_(Ir(o,"address"))&&t_(Ir(o,"adname"))&&t_(Ir(o,"cityname"))&&t_(Ir(o,"fullAddress"))&&t_(Ir(o,"location"))&&t_(Ir(o,"name"))&&t_(Ir(o,"pname"))}function dist_L(o){var v;return!!k(o)&&t_(Ir(o,"name"))&&Oa(Ir(o,"size"))&&t_(Ir(o,"token"))&&t_(Ir(o,"type"))}function dist_oe(o){return!!eA(o)&&o.every(dist_L)}function dist_de(o){return Oa(o)}function dist_le(o){return!0===o||!1===o||d(o)&&"[object Boolean]"==f(o)}function dist_se(o){return t_(o)}function dist_be(o){return t_(o)||t_(null==o?void 0:o.value)}function dist_w(o){return Oa(o)}function dist_U(o){return!!k(o)&&t_(Ir(o,"id"))&&t_(Ir(o,"text"))}function dist_ce(o){return!!eA(o)&&o.every(dist_U)}function dist_ue(o){return null===o}((o,v)=>{for(var _ in v)tF(o,_,{get:v[_],enumerable:!0})})({},{isAttachment:()=>dist_L,isAttachments:()=>dist_oe,isAutoNumber:()=>dist_be,isCheckbox:()=>dist_le,isEmpty:()=>dist_ue,isGroupChat:()=>dist_pe,isLink:()=>dist_Ee,isLocation:()=>dist_ne,isMultiSelect:()=>dist_ce,isNumber:()=>dist_w,isPhone:()=>dist_se,isSegmentItem:()=>dist_S,isSegments:()=>dist_Te,isSingleSelect:()=>dist_U,isTimestamp:()=>dist_de,isUsers:()=>dist_ae});var nt=new Set(Object.values(tG));function dist_S(o){if(!k(o))return!1;let v=Ir(o,"type"),_=Ir(o,"text");return!!(t_(v)&&t_(_))&&nt.has(v)}function dist_Te(o){return!!eA(o)&&o.every(dist_S)}function dist_Ee(o){return!!k(o)&&eA(Ir(o,"recordIds"))&&t_(Ir(o,"tableId"))}function dist_pe(o){return!!eA(o)&&o.every(o=>!!k(o)&&Ir(o,"id")&&Ir(o,"name"))}var nn={Base:11,Table:12,Field:13,Record:14,View:15,Cell:16},nr={Action:89,ViewWidget:96,ItemWidget:97},ni={UnSupportedType:991,ParameterException:992,LowerLimitExceeded:993,UpperLimitExceeded:994,NameRepeated:995,NotSupported:996,PermissionDenied:997,NotFound:998,Unknown:999},na={HostNotRegistered:997,NotFound:998,Unknown:999},no=(nn.Base,dist_l({},ni),nn.Table,dist_l({NotLoaded:1,LastTableDeleteForbidden:2},ni),nn.Field,dist_l({NotMatch:1,LocationInfoException:20},ni),nn.Record,dist_l({SingleRecordOperationLimitExceeded:1},ni),nn.Cell,dist_l({},ni),nn.View,dist_l({LastViewDeleteForbidden:1,FilterInfoError:2},ni),nr.ItemWidget,dist_l({},na),nr.Action,dist_l({},na),nr.ViewWidget,dist_l({},na),(eS=no||{})[eS.TableNotLoadedError=10212001]="TableNotLoadedError",eS[eS.LastTableDeleteForbiddenError=10212002]="LastTableDeleteForbiddenError",eS[eS.TableParamExceptionError=10212992]="TableParamExceptionError",eS[eS.TableNameRepeatedError=10212995]="TableNameRepeatedError",eS[eS.TablePermissionDeniedError=10212997]="TablePermissionDeniedError",eS[eS.TableNotFoundError=10212998]="TableNotFoundError",eS[eS.TableUnknownError=10212999]="TableUnknownError",eS[eS.FieldTypeUnSupportedError=10213991]="FieldTypeUnSupportedError",eS[eS.FieldNameRepeatedError=10213995]="FieldNameRepeatedError",eS[eS.FieldPermissionDeniedError=10213997]="FieldPermissionDeniedError",eS[eS.FieldNotFoundError=10213998]="FieldNotFoundError",eS[eS.FieldUnknownError=10213999]="FieldUnknownError",eS[eS.SingleRecordOperationLimitExceeded=10214001]="SingleRecordOperationLimitExceeded",eS[eS.RecordPermissionDeniedError=10214997]="RecordPermissionDeniedError",eS[eS.RecordNotFoundError=10214998]="RecordNotFoundError",eS[eS.RecordUnknownError=10214999]="RecordUnknownError",eS[eS.LastViewDeleteForbiddenError=10215001]="LastViewDeleteForbiddenError",eS[eS.ViewTypeUnSupportedError=10215991]="ViewTypeUnSupportedError",eS[eS.ViewNameRepeatedError=10215995]="ViewNameRepeatedError",eS[eS.ViewPermissionDeniedError=10215997]="ViewPermissionDeniedError",eS[eS.ViewNotFoundError=10215998]="ViewNotFoundError",eS[eS.ViewUnknownError=10215999]="ViewUnknownError",eS[eS.CellPermissionDeniedError=10216997]="CellPermissionDeniedError",eS[eS.CellUnknownError=10216999]="CellUnknownError",eS)}}]);
//# sourceMappingURL=947.9101b50182406c90.js.map